function a0_0xd658(_0x25b5af,_0x1d8388){var _0x5206a4=a0_0x5206();return a0_0xd658=function(_0xd65899,_0x389fc6){_0xd65899=_0xd65899-0xd4;var _0x420543=_0x5206a4[_0xd65899];return _0x420543;},a0_0xd658(_0x25b5af,_0x1d8388);}function a0_0x5206(){var _0x2b03f1=['vertexShaderSource','windField','35RutHQE','clampToLatitudeRange','object','mouseUp','refreshTimer','createWindTextures','Sampler','BaseLayer','context','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','create','viewRectangleToLonLatRange','lat','nextTrailsDepth','createComputingPrimitives','UNSIGNED_BYTE','createElement','0px','setOptions','493092ZfCdUP','_maxAge','destroyParticlesTextures','100%','depthTest','ymin','max','getDirection','moveTo','_particlesNumber','update','particlesComputing','getColorTexture','_tomap','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','FLOAT','depthMask','ALWAYS','_removedHook','particlesRendering','arrayBufferView','bindEvent','outputTexture','628EEYqGn','primitives','defined','__proto__','canvasWidth','maxParticles','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','refreshParticles','setAttribute','TWO_PI','133370WzXxfo','mouseMove','canvasWind','PrimitiveType','35DuyRcj','8197168nNdgZD','pixelSize','toRadians','getWind','fadeOpacity','log','canvasWindy','_bilinearInterpolation','SCENE3D','PixelFormat','particlesWind','fromGeometry','screen','width','Cartesian2','east','getUVByPoint','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','PrimitiveCollection','unbindEvent','fixedHeight','addEventListener','441QeCDga','__esModule','currentParticlesPosition','latRange','PI_OVER_TWO','removeChild','mode','west','getPrototypeOf','rows','getContext','show','segments','fragmentShaderSource','udata','clientWidth','tlng','animateFrame','_createCanvas','createCommand','tlat','dropRate','layer','hidden','ComponentDatatype','randomBetween','sham','_showHook','removeEventListener','particlesNumber','zIndex','preExecute','pointerEvents','UNSIGNED_INT','style','defaultValue','clear','min','height','ellipsoid','getU','wheel','register','execute','globalCompositeOperation','mod','data','attributeLocations','camera','pointer-events','visible','fill','clearCommand','now','PI_OVER_THREE','push','_setOptionsHook','drawingBufferHeight','getUVByXY','shaderProgram','speedFactor','constructor','updatePosition','setGeometry','ShaderSource','fromDegrees','Cartesian3','colorTable','segmentsColor','sin','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','ComputeCommand','mars3d','apply','ClearCommand','Compute','north','lng','xmin','fromCache','exports','createParticlesTextures','resize','autoClear','Module','stroke','random','round','toGridXY','maxAge','keys','fillRect','_onMapWhellEvent','default','remove','randomizeParticles','globeLayer','_onMouseMoveEvent','computeViewRectangle','DrawCommand','EllipsoidalOccluder','applyUserInput','canvasResize','nextParticlesSpeed','isInExtent','Rectangle','CanvasWindLayer','RGBA','isDestroyed','frameTime','mouseDown','defineProperty','EventType','Pass','amd','array','currentTrailsDepth','age','lon','enumerable','clientHeight','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','length','Matrix4','absolute','Cesium','userInput','STATIC_DRAW','symbol','THREE_PI_OVER_TWO','visibility','string','bind','currentParticlesSpeed','_pointerEvents','left','getRandomLatLng','geometry','GeometryAttribute','globe','sqrt','particlesTextureSize','randomParticle','Appearance','LayerUtil','ceil','mars3d-cesium','mouse_move','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','key','forEach','_speedRate','createRawRenderState','Math','destroyObject','209RxQNqO','getSpeed','currentTrailsColor','segmentsDepth','523626escnlZ','_onMouseUpEvent','viewport','_map','lev','vertexArray','canvasHeight','windTextures','_drawLines','Framebuffer','10077LdNsuv','function','Draw','scene','updateDate','WindUtil','wgs84ToWindowCoordinates','commandToExecute','prototype','_calcUV','_onMap_preRenderEvent','particles','BufferUsage','cols','toDegrees','mars3dWind','particleSystem','ymax','drawingBufferWidth','PixelDatatype','#ffffff','ShaderProgram','container','undefined','south','options','69406RmYrrZ','_calcStep','GeometryAttributes','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','TextureMinificationFilter','createFramebuffer','globalAlpha','setData','fillStyle','hasOwnProperty','trails','call','all','off','source','DepthFunction','framebuffer','dimensions','valueOf','applyViewerParameters','once','floor','xmax','nextParticlesPosition','reverseY','setPrototypeOf','blending','toStringTag','createTexture','grid','wind','commandType','SceneMode','redraw','position','dropRateBump','viewerParameters','Geometry','VertexArray','createRenderingFramebuffers','appendChild','OPAQUE','depthTexture','rawRenderState','color','Color','_onMouseDownEvent','particlesTextures','createSegmentsGeometry','calc_speedRate','construct','windData','postProcessingSpeed','DISABLE_GL_POSITION_LOG_DEPTH','_mountedHook','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','getPixelSize','drawWind','RGB','globeBoundingSphere','lonRange','lineWidth','createRenderingPrimitives','postProcessingPosition','nextTrails','WindLayer','add','NEAREST','getUserInput','TRIANGLES','TextureMagnificationFilter','uniformMap','canvasContext','pow','4774528rhrTBM','class','_addedHook','canvas','preRender','getFullscreenQuad','BoundingSphere','positionWC','destination-in','currentTrails','lineTo','removeAll','vdata','mouse_down','canrefresh','clearFramebuffers','createRenderingTextures','updateViewerParameters','textures','framebuffers','getExtent','destroy','commandList','LUMINANCE','atan2','RenderState','particleHeight','addPrimitives','none','speedRate','getDefaultRenderState'];a0_0x5206=function(){return _0x2b03f1;};return a0_0x5206();}(function(_0x1708c7,_0x32d5f1){var _0x38cf5b=a0_0xd658,_0x1be666=_0x1708c7();while(!![]){try{var _0x2e12c6=parseInt(_0x38cf5b(0x19b))/0x1*(parseInt(_0x38cf5b(0xf8))/0x2)+parseInt(_0x38cf5b(0xde))/0x3*(-parseInt(_0x38cf5b(0x18d))/0x4)+-parseInt(_0x38cf5b(0x163))/0x5*(-parseInt(_0x38cf5b(0xd4))/0x6)+-parseInt(_0x38cf5b(0x19c))/0x7+parseInt(_0x38cf5b(0x142))/0x8+parseInt(_0x38cf5b(0x1b2))/0x9*(-parseInt(_0x38cf5b(0x197))/0xa)+-parseInt(_0x38cf5b(0x24d))/0xb*(-parseInt(_0x38cf5b(0x176))/0xc);if(_0x2e12c6===_0x32d5f1)break;else _0x1be666['push'](_0x1be666['shift']());}catch(_0x583aa3){_0x1be666['push'](_0x1be666['shift']());}}}(a0_0x5206,0xcfccb),!function(_0x389945,_0x2a8569){var _0x12632a=a0_0xd658;'object'==typeof exports&&_0x12632a(0x165)==typeof module?module['exports']=_0x2a8569(require(_0x12632a(0x244)),require(_0x12632a(0x1fa))):_0x12632a(0xdf)==typeof define&&define[_0x12632a(0x224)]?define('mars3dWind',[_0x12632a(0x244),_0x12632a(0x1fa)],_0x2a8569):_0x12632a(0x165)==typeof exports?exports[_0x12632a(0xed)]=_0x2a8569(require(_0x12632a(0x244)),require(_0x12632a(0x1fa))):_0x389945[_0x12632a(0xed)]=_0x2a8569(_0x389945[_0x12632a(0x22f)],_0x389945[_0x12632a(0x1fa)]);}(window,function(_0x34a455,_0x69f9ca){return function(_0x2a19e5){var _0x3ba04a={};function _0x280c99(_0x2ac5df){var _0x190f7f=a0_0xd658;if(_0x3ba04a[_0x2ac5df])return _0x3ba04a[_0x2ac5df]['exports'];var _0x437ebd=_0x3ba04a[_0x2ac5df]={'i':_0x2ac5df,'l':!0x1,'exports':{}};return _0x2a19e5[_0x2ac5df][_0x190f7f(0x103)](_0x437ebd[_0x190f7f(0x202)],_0x437ebd,_0x437ebd[_0x190f7f(0x202)],_0x280c99),_0x437ebd['l']=!0x0,_0x437ebd[_0x190f7f(0x202)];}return _0x280c99['m']=_0x2a19e5,_0x280c99['c']=_0x3ba04a,_0x280c99['d']=function(_0x372180,_0x3ae2e3,_0x4af43e){var _0x5636ed=a0_0xd658;_0x280c99['o'](_0x372180,_0x3ae2e3)||Object[_0x5636ed(0x221)](_0x372180,_0x3ae2e3,{'enumerable':!0x0,'get':_0x4af43e});},_0x280c99['r']=function(_0x2d8fd3){var _0x4c3e49=a0_0xd658;_0x4c3e49(0xf5)!=typeof Symbol&&Symbol[_0x4c3e49(0x113)]&&Object['defineProperty'](_0x2d8fd3,Symbol[_0x4c3e49(0x113)],{'value':_0x4c3e49(0x206)}),Object[_0x4c3e49(0x221)](_0x2d8fd3,_0x4c3e49(0x1b3),{'value':!0x0});},_0x280c99['t']=function(_0x153e43,_0x20c3d5){var _0x56f7f9=a0_0xd658;if(0x1&_0x20c3d5&&(_0x153e43=_0x280c99(_0x153e43)),0x8&_0x20c3d5)return _0x153e43;if(0x4&_0x20c3d5&&_0x56f7f9(0x165)==typeof _0x153e43&&_0x153e43&&_0x153e43[_0x56f7f9(0x1b3)])return _0x153e43;var _0x5acd46=Object[_0x56f7f9(0x16d)](null);if(_0x280c99['r'](_0x5acd46),Object[_0x56f7f9(0x221)](_0x5acd46,'default',{'enumerable':!0x0,'value':_0x153e43}),0x2&_0x20c3d5&&_0x56f7f9(0x235)!=typeof _0x153e43){for(var _0x343b21 in _0x153e43)_0x280c99['d'](_0x5acd46,_0x343b21,function(_0x484963){return _0x153e43[_0x484963];}[_0x56f7f9(0x236)](null,_0x343b21));}return _0x5acd46;},_0x280c99['n']=function(_0x5133c9){var _0x31538e=_0x5133c9&&_0x5133c9['__esModule']?function(){var _0x147bbc=a0_0xd658;return _0x5133c9[_0x147bbc(0x20f)];}:function(){return _0x5133c9;};return _0x280c99['d'](_0x31538e,'a',_0x31538e),_0x31538e;},_0x280c99['o']=function(_0x346852,_0x3242a3){var _0x317918=a0_0xd658;return Object[_0x317918(0xe6)][_0x317918(0x101)][_0x317918(0x103)](_0x346852,_0x3242a3);},_0x280c99['p']='',_0x280c99(_0x280c99['s']=0x14);}([function(_0x2954e7,_0x242d03){var _0x20d40d=a0_0xd658;_0x2954e7[_0x20d40d(0x202)]=_0x34a455;},function(_0x3accd7,_0x3cb75d){var _0x24e843=a0_0xd658;_0x3accd7[_0x24e843(0x202)]=_0x69f9ca;},function(_0x4723bf,_0x188dba){var _0x55d5a8=a0_0xd658;_0x4723bf['exports']=function(_0x18ebb8,_0x1198cc){var _0x4354cd=a0_0xd658;if(!(_0x18ebb8 instanceof _0x1198cc))throw new TypeError(_0x4354cd(0x1ad));},_0x4723bf['exports'][_0x55d5a8(0x20f)]=_0x4723bf[_0x55d5a8(0x202)],_0x4723bf['exports']['__esModule']=!0x0;},function(_0x333565,_0xe51826){var _0x194be9=a0_0xd658;function _0x32c997(_0x48d199,_0x5ed655){var _0x458dce=a0_0xd658;for(var _0x3427b3=0x0;_0x3427b3<_0x5ed655[_0x458dce(0x22c)];_0x3427b3++){var _0x2f0af7=_0x5ed655[_0x3427b3];_0x2f0af7['enumerable']=_0x2f0af7[_0x458dce(0x229)]||!0x1,_0x2f0af7['configurable']=!0x0,'value'in _0x2f0af7&&(_0x2f0af7['writable']=!0x0),Object[_0x458dce(0x221)](_0x48d199,_0x2f0af7[_0x458dce(0x247)],_0x2f0af7);}}_0x333565[_0x194be9(0x202)]=function(_0x7bf02b,_0x43fc8f,_0x23d609){var _0x223bca=_0x194be9;return _0x43fc8f&&_0x32c997(_0x7bf02b[_0x223bca(0xe6)],_0x43fc8f),_0x23d609&&_0x32c997(_0x7bf02b,_0x23d609),_0x7bf02b;},_0x333565[_0x194be9(0x202)][_0x194be9(0x20f)]=_0x333565[_0x194be9(0x202)],_0x333565[_0x194be9(0x202)][_0x194be9(0x1b3)]=!0x0;},function(_0x586a16,_0x5af509){var _0x44fc5b=a0_0xd658;function _0x2b5a70(_0x318b22){var _0x49903d=a0_0xd658;return _0x586a16['exports']=_0x2b5a70=Object[_0x49903d(0x111)]?Object[_0x49903d(0x1ba)]:function(_0x45af0e){var _0x3fb7a5=_0x49903d;return _0x45af0e[_0x3fb7a5(0x190)]||Object['getPrototypeOf'](_0x45af0e);},_0x586a16['exports'][_0x49903d(0x20f)]=_0x586a16[_0x49903d(0x202)],_0x586a16[_0x49903d(0x202)][_0x49903d(0x1b3)]=!0x0,_0x2b5a70(_0x318b22);}_0x586a16[_0x44fc5b(0x202)]=_0x2b5a70,_0x586a16[_0x44fc5b(0x202)]['default']=_0x586a16[_0x44fc5b(0x202)],_0x586a16[_0x44fc5b(0x202)][_0x44fc5b(0x1b3)]=!0x0;},function(_0xaac60b,_0x4a86bd,_0x41c01f){var _0x4ec98a=a0_0xd658,_0xd841a=_0x41c01f(0x11);_0xaac60b['exports']=function(_0x2ef87f,_0x54cec7){var _0x52acee=a0_0xd658;if(_0x52acee(0xdf)!=typeof _0x54cec7&&null!==_0x54cec7)throw new TypeError(_0x52acee(0x184));_0x2ef87f[_0x52acee(0xe6)]=Object[_0x52acee(0x16d)](_0x54cec7&&_0x54cec7[_0x52acee(0xe6)],{'constructor':{'value':_0x2ef87f,'writable':!0x0,'configurable':!0x0}}),_0x54cec7&&_0xd841a(_0x2ef87f,_0x54cec7);},_0xaac60b[_0x4ec98a(0x202)][_0x4ec98a(0x20f)]=_0xaac60b[_0x4ec98a(0x202)],_0xaac60b['exports'][_0x4ec98a(0x1b3)]=!0x0;},function(_0x1fd08a,_0x250c19,_0x2e1fcc){var _0x52df4a=a0_0xd658,_0x1f99f6=_0x2e1fcc(0x12)[_0x52df4a(0x20f)],_0x2795c9=_0x2e1fcc(0x13);_0x1fd08a['exports']=function(_0x32863a,_0x52eea9){var _0x307592=_0x52df4a;if(_0x52eea9&&(_0x307592(0x165)===_0x1f99f6(_0x52eea9)||'function'==typeof _0x52eea9))return _0x52eea9;if(void 0x0!==_0x52eea9)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');return _0x2795c9(_0x32863a);},_0x1fd08a[_0x52df4a(0x202)][_0x52df4a(0x20f)]=_0x1fd08a[_0x52df4a(0x202)],_0x1fd08a[_0x52df4a(0x202)][_0x52df4a(0x1b3)]=!0x0;},function(_0x2df9d0,_0x442117){var _0x541daa=a0_0xd658;_0x2df9d0[_0x541daa(0x202)]='attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}';},function(_0x324dea,_0x459017){var _0x5ebb65=a0_0xd658;_0x324dea[_0x5ebb65(0x202)]=_0x5ebb65(0x16c);},function(_0x1a1f40,_0x528226){var _0x535e5a=a0_0xd658;_0x1a1f40[_0x535e5a(0x202)]=_0x535e5a(0xfb);},function(_0x2f5846,_0x4482a8){var _0x5ba725=a0_0xd658;_0x2f5846[_0x5ba725(0x202)]=_0x5ba725(0x22b);},function(_0x37e8c4,_0x496ca9){var _0x1d4217=a0_0xd658;_0x37e8c4[_0x1d4217(0x202)]='uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}';},function(_0xaf80b9,_0x1c0e92){var _0x5be60d=a0_0xd658;_0xaf80b9['exports']=_0x5be60d(0x12f);},function(_0x4809f2,_0x10dac8){var _0x47fd2d=a0_0xd658;_0x4809f2[_0x47fd2d(0x202)]='uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}';},function(_0x2b3f9a,_0x38e888){var _0x572eb4=a0_0xd658;_0x2b3f9a[_0x572eb4(0x202)]=_0x572eb4(0x246);},function(_0x4fd8e1,_0x452cf4){var _0x31ee7f=a0_0xd658;_0x4fd8e1[_0x31ee7f(0x202)]='uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}';},function(_0x11c65d,_0x2e35be){_0x11c65d['exports']='uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}';},function(_0x16e625,_0xf95f36){var _0x49ce60=a0_0xd658;function _0x325e29(_0x52fe8b,_0x2496d6){var _0x44cef7=a0_0xd658;return _0x16e625[_0x44cef7(0x202)]=_0x325e29=Object[_0x44cef7(0x111)]||function(_0x2366cd,_0x511e1b){var _0x3dee56=_0x44cef7;return _0x2366cd[_0x3dee56(0x190)]=_0x511e1b,_0x2366cd;},_0x16e625[_0x44cef7(0x202)][_0x44cef7(0x20f)]=_0x16e625[_0x44cef7(0x202)],_0x16e625[_0x44cef7(0x202)]['__esModule']=!0x0,_0x325e29(_0x52fe8b,_0x2496d6);}_0x16e625[_0x49ce60(0x202)]=_0x325e29,_0x16e625['exports']['default']=_0x16e625['exports'],_0x16e625[_0x49ce60(0x202)][_0x49ce60(0x1b3)]=!0x0;},function(_0x510fd8,_0x5f0995){var _0x16d092=a0_0xd658;function _0x2dcfe4(_0x39ee9e){var _0x3bebec=a0_0xd658;return'function'==typeof Symbol&&_0x3bebec(0x232)==typeof Symbol['iterator']?(_0x510fd8[_0x3bebec(0x202)]=_0x2dcfe4=function(_0x4ea3fb){return typeof _0x4ea3fb;},_0x510fd8[_0x3bebec(0x202)][_0x3bebec(0x20f)]=_0x510fd8['exports'],_0x510fd8[_0x3bebec(0x202)][_0x3bebec(0x1b3)]=!0x0):(_0x510fd8[_0x3bebec(0x202)]=_0x2dcfe4=function(_0x2dcd03){var _0xcba007=_0x3bebec;return _0x2dcd03&&_0xcba007(0xdf)==typeof Symbol&&_0x2dcd03[_0xcba007(0x1ef)]===Symbol&&_0x2dcd03!==Symbol[_0xcba007(0xe6)]?_0xcba007(0x232):typeof _0x2dcd03;},_0x510fd8['exports'][_0x3bebec(0x20f)]=_0x510fd8['exports'],_0x510fd8['exports'][_0x3bebec(0x1b3)]=!0x0),_0x2dcfe4(_0x39ee9e);}_0x510fd8[_0x16d092(0x202)]=_0x2dcfe4,_0x510fd8['exports']['default']=_0x510fd8[_0x16d092(0x202)],_0x510fd8['exports']['__esModule']=!0x0;},function(_0x2a29b0,_0x4b919d){var _0x452b4f=a0_0xd658;_0x2a29b0['exports']=function(_0x365e09){var _0x144c7b=a0_0xd658;if(void 0x0===_0x365e09)throw new ReferenceError(_0x144c7b(0x193));return _0x365e09;},_0x2a29b0['exports'][_0x452b4f(0x20f)]=_0x2a29b0['exports'],_0x2a29b0[_0x452b4f(0x202)][_0x452b4f(0x1b3)]=!0x0;},function(_0x5bb39a,_0x2209b7,_0x29d2c5){'use strict';var _0x59a3fa=a0_0xd658;_0x29d2c5['r'](_0x2209b7),_0x29d2c5['d'](_0x2209b7,_0x59a3fa(0x139),function(){return _0x39fc57;}),_0x29d2c5['d'](_0x2209b7,_0x59a3fa(0x21c),function(){return _0x14222b;}),_0x29d2c5['d'](_0x2209b7,_0x59a3fa(0xe3),function(){return _0x328140;});var _0x328140={};_0x29d2c5['r'](_0x328140),_0x29d2c5['d'](_0x328140,_0x59a3fa(0x1da),function(){return _0x2c1fe1;}),_0x29d2c5['d'](_0x328140,'getV',function(){return _0x4f0ed8;}),_0x29d2c5['d'](_0x328140,_0x59a3fa(0x24e),function(){return _0x27a6c6;}),_0x29d2c5['d'](_0x328140,_0x59a3fa(0x17d),function(){return _0x46d6e6;});var _0x1dc308=_0x29d2c5(0x1),_0x165cde=_0x29d2c5(0x2),_0x891cf8=_0x29d2c5['n'](_0x165cde),_0x46c571=_0x29d2c5(0x3),_0x1851c2=_0x29d2c5['n'](_0x46c571),_0x25797d=_0x29d2c5(0x5),_0x306742=_0x29d2c5['n'](_0x25797d),_0x402e88=_0x29d2c5(0x6),_0x10b953=_0x29d2c5['n'](_0x402e88),_0x57a80f=_0x29d2c5(0x4),_0x1839e4=_0x29d2c5['n'](_0x57a80f),_0x5ea7fd=_0x29d2c5(0x0),_0x4a8cfb=function(){var _0x5e70df=_0x59a3fa;function _0x279fe7(_0x57e352){var _0x398dc2=a0_0xd658;_0x891cf8()(this,_0x279fe7),this[_0x398dc2(0x117)]=_0x57e352[_0x398dc2(0x117)],this['geometry']=_0x57e352[_0x398dc2(0x23b)],this[_0x398dc2(0x1e1)]=_0x57e352[_0x398dc2(0x1e1)],this['primitiveType']=_0x57e352['primitiveType'],this[_0x398dc2(0x13f)]=_0x57e352[_0x398dc2(0x13f)],this[_0x398dc2(0x161)]=_0x57e352['vertexShaderSource'],this[_0x398dc2(0x1bf)]=_0x57e352[_0x398dc2(0x1bf)],this[_0x398dc2(0x123)]=_0x57e352['rawRenderState'],this[_0x398dc2(0x108)]=_0x57e352[_0x398dc2(0x108)],this['outputTexture']=_0x57e352[_0x398dc2(0x18c)],this['autoClear']=_0x5ea7fd[_0x398dc2(0x1d5)](_0x57e352[_0x398dc2(0x205)],!0x1),this[_0x398dc2(0x1d1)]=_0x57e352[_0x398dc2(0x1d1)],this[_0x398dc2(0x1bd)]=!0x0,this[_0x398dc2(0xe5)]=void 0x0,this['clearCommand']=void 0x0,this[_0x398dc2(0x205)]&&(this[_0x398dc2(0x1e6)]=new _0x5ea7fd['ClearCommand']({'color':new _0x5ea7fd['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x398dc2(0x108)],'pass':_0x5ea7fd[_0x398dc2(0x223)][_0x398dc2(0x121)]}));}return _0x1851c2()(_0x279fe7,[{'key':_0x5e70df(0x1c5),'value':function(_0x3540af){var _0x10c85c=_0x5e70df;switch(this[_0x10c85c(0x117)]){case'Draw':var _0xd5be90=_0x5ea7fd[_0x10c85c(0x11e)]['fromGeometry']({'context':_0x3540af,'geometry':this[_0x10c85c(0x23b)],'attributeLocations':this['attributeLocations'],'bufferUsage':_0x5ea7fd[_0x10c85c(0xea)]['STATIC_DRAW']}),_0x4f9671=_0x5ea7fd[_0x10c85c(0xf3)][_0x10c85c(0x201)]({'context':_0x3540af,'attributeLocations':this[_0x10c85c(0x1e1)],'vertexShaderSource':this['vertexShaderSource'],'fragmentShaderSource':this[_0x10c85c(0x1bf)]}),_0x62ca2f=_0x5ea7fd[_0x10c85c(0x15b)][_0x10c85c(0x201)](this[_0x10c85c(0x123)]);return new _0x5ea7fd[(_0x10c85c(0x215))]({'owner':this,'vertexArray':_0xd5be90,'primitiveType':this['primitiveType'],'uniformMap':this[_0x10c85c(0x13f)],'modelMatrix':_0x5ea7fd[_0x10c85c(0x22d)]['IDENTITY'],'shaderProgram':_0x4f9671,'framebuffer':this[_0x10c85c(0x108)],'renderState':_0x62ca2f,'pass':_0x5ea7fd[_0x10c85c(0x223)][_0x10c85c(0x121)]});case _0x10c85c(0x1fd):return new _0x5ea7fd[(_0x10c85c(0x1f9))]({'owner':this,'fragmentShaderSource':this[_0x10c85c(0x1bf)],'uniformMap':this[_0x10c85c(0x13f)],'outputTexture':this[_0x10c85c(0x18c)],'persists':!0x0});}}},{'key':_0x5e70df(0x1f1),'value':function(_0x4c0701,_0x2747db){var _0x2261f9=_0x5e70df;this[_0x2261f9(0x23b)]=_0x2747db;var _0x3e5885=_0x5ea7fd['VertexArray'][_0x2261f9(0x1a7)]({'context':_0x4c0701,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':_0x5ea7fd[_0x2261f9(0xea)][_0x2261f9(0x231)]});this[_0x2261f9(0xe5)][_0x2261f9(0xd9)]=_0x3e5885;}},{'key':_0x5e70df(0x180),'value':function(_0x3e77ce){var _0x28f0f9=_0x5e70df;this['show']&&_0x3e77ce[_0x28f0f9(0x1b8)]==_0x5ea7fd[_0x28f0f9(0x118)][_0x28f0f9(0x1a4)]&&(_0x5ea7fd[_0x28f0f9(0x18f)](this['commandToExecute'])||(this[_0x28f0f9(0xe5)]=this[_0x28f0f9(0x1c5)](_0x3e77ce[_0x28f0f9(0x16b)])),_0x5ea7fd['defined'](this[_0x28f0f9(0x1d1)])&&this[_0x28f0f9(0x1d1)](),_0x5ea7fd[_0x28f0f9(0x18f)](this[_0x28f0f9(0x1e6)])&&_0x3e77ce[_0x28f0f9(0x158)][_0x28f0f9(0x1e9)](this[_0x28f0f9(0x1e6)]),_0x3e77ce[_0x28f0f9(0x158)][_0x28f0f9(0x1e9)](this[_0x28f0f9(0xe5)]));}},{'key':_0x5e70df(0x21e),'value':function(){return!0x1;}},{'key':_0x5e70df(0x157),'value':function(){var _0x3d5af6=_0x5e70df;return _0x5ea7fd[_0x3d5af6(0x18f)](this[_0x3d5af6(0xe5)])&&(this[_0x3d5af6(0xe5)][_0x3d5af6(0x1ed)]=this[_0x3d5af6(0xe5)]['shaderProgram']&&this[_0x3d5af6(0xe5)][_0x3d5af6(0x1ed)][_0x3d5af6(0x157)]()),_0x5ea7fd[_0x3d5af6(0x24c)](this);}}]),_0x279fe7;}(),_0x5e0178={'getFullscreenQuad':function(){var _0x3e61a9=_0x59a3fa;return new _0x5ea7fd[(_0x3e61a9(0x11d))]({'attributes':new _0x5ea7fd[(_0x3e61a9(0xfa))]({'position':new _0x5ea7fd[(_0x3e61a9(0x23c))]({'componentDatatype':_0x5ea7fd['ComponentDatatype'][_0x3e61a9(0x185)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x5ea7fd[(_0x3e61a9(0x23c))]({'componentDatatype':_0x5ea7fd[_0x3e61a9(0x1ca)][_0x3e61a9(0x185)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x569f59,_0x3d4f4c){var _0x3a54c5=_0x59a3fa;if(_0x5ea7fd[_0x3a54c5(0x18f)](_0x3d4f4c)){var _0x45ab70={};_0x45ab70[_0x3a54c5(0x18a)]=_0x3d4f4c,_0x569f59[_0x3a54c5(0x106)]=_0x45ab70;}return new _0x5ea7fd['Texture'](_0x569f59);},'createFramebuffer':function(_0x2c1e36,_0x1fb665,_0x5932b4){var _0x2adf12=_0x59a3fa;return new _0x5ea7fd[(_0x2adf12(0xdd))]({'context':_0x2c1e36,'colorTextures':[_0x1fb665],'depthTexture':_0x5932b4});},'createRawRenderState':function(_0x11a1e8){var _0x18b022=_0x59a3fa,_0x38466b={'viewport':_0x11a1e8[_0x18b022(0xd6)],'depthTest':_0x11a1e8[_0x18b022(0x17a)],'depthMask':_0x11a1e8[_0x18b022(0x186)],'blending':_0x11a1e8[_0x18b022(0x112)]};return _0x5ea7fd[_0x18b022(0x241)][_0x18b022(0x160)](!0x0,!0x1,_0x38466b);},'viewRectangleToLonLatRange':function(_0x4fe891){var _0x2004cf=_0x59a3fa,_0x3413e7,_0x346346,_0x3ebb67={},_0x31580d=_0x5ea7fd[_0x2004cf(0x24b)][_0x2004cf(0x1df)](_0x4fe891[_0x2004cf(0x1b9)],_0x5ea7fd['Math'][_0x2004cf(0x196)]),_0x68b671=_0x5ea7fd[_0x2004cf(0x24b)][_0x2004cf(0x1df)](_0x4fe891[_0x2004cf(0x1ab)],_0x5ea7fd[_0x2004cf(0x24b)]['TWO_PI']),_0x30451f=_0x4fe891[_0x2004cf(0x1a9)];_0x30451f>_0x5ea7fd[_0x2004cf(0x24b)][_0x2004cf(0x233)]?(_0x3413e7=0x0,_0x346346=_0x5ea7fd[_0x2004cf(0x24b)]['TWO_PI']):_0x68b671-_0x31580d<_0x30451f?(_0x3413e7=_0x31580d,_0x346346=_0x31580d+_0x30451f):(_0x3413e7=_0x31580d,_0x346346=_0x68b671),_0x3ebb67[_0x2004cf(0x228)]={'min':_0x5ea7fd['Math'][_0x2004cf(0xec)](_0x3413e7),'max':_0x5ea7fd['Math']['toDegrees'](_0x346346)};var _0x399048=_0x4fe891[_0x2004cf(0xf6)],_0xdd414f=_0x4fe891[_0x2004cf(0x1fe)],_0xaf59c9=_0x4fe891['height'],_0x3abf52=_0xaf59c9>_0x5ea7fd[_0x2004cf(0x24b)]['PI']/0xc?_0xaf59c9/0x2:0x0,_0x40c61b=_0x5ea7fd[_0x2004cf(0x24b)]['clampToLatitudeRange'](_0x399048-_0x3abf52),_0x2cede5=_0x5ea7fd['Math'][_0x2004cf(0x164)](_0xdd414f+_0x3abf52);return _0x40c61b<-_0x5ea7fd[_0x2004cf(0x24b)][_0x2004cf(0x1e8)]&&(_0x40c61b=-_0x5ea7fd[_0x2004cf(0x24b)][_0x2004cf(0x1b6)]),_0x2cede5>_0x5ea7fd['Math'][_0x2004cf(0x1e8)]&&(_0x2cede5=_0x5ea7fd[_0x2004cf(0x24b)][_0x2004cf(0x1b6)]),_0x3ebb67['lat']={'min':_0x5ea7fd[_0x2004cf(0x24b)][_0x2004cf(0xec)](_0x40c61b),'max':_0x5ea7fd[_0x2004cf(0x24b)][_0x2004cf(0xec)](_0x2cede5)},_0x3ebb67;}},_0x4fde49=_0x29d2c5(0x8),_0x5e324b=_0x29d2c5['n'](_0x4fde49),_0x5d2f29=_0x29d2c5(0x9),_0x2c9423=_0x29d2c5['n'](_0x5d2f29),_0x253906=_0x29d2c5(0x7),_0x5f0ae5=_0x29d2c5['n'](_0x253906),_0x606f45=_0x29d2c5(0xa),_0x4f8989=_0x29d2c5['n'](_0x606f45),_0x327c78=_0x29d2c5(0xb),_0x776e44=_0x29d2c5['n'](_0x327c78),_0x341719=function(){var _0x3e33c2=_0x59a3fa;function _0x3e8360(_0x4dac9a,_0x27099e,_0x2f1f09,_0x58ed05,_0x124528){var _0x536d5b=a0_0xd658;_0x891cf8()(this,_0x3e8360),this[_0x536d5b(0x152)](_0x4dac9a,_0x27099e),this[_0x536d5b(0x11f)](_0x4dac9a),this[_0x536d5b(0x136)](_0x4dac9a,_0x2f1f09,_0x58ed05,_0x124528);}return _0x1851c2()(_0x3e8360,[{'key':_0x3e33c2(0x152),'value':function(_0x3bfd51,_0xb55dd8){var _0x1c7b13=_0x3e33c2,_0x3bb997={'context':_0x3bfd51,'width':_0x3bfd51[_0x1c7b13(0xf0)],'height':_0x3bfd51['drawingBufferHeight'],'pixelFormat':_0x5ea7fd[_0x1c7b13(0x1a5)][_0x1c7b13(0x21d)],'pixelDatatype':_0x5ea7fd[_0x1c7b13(0xf1)][_0x1c7b13(0x172)]},_0x3cf1ca={'context':_0x3bfd51,'width':_0x3bfd51[_0x1c7b13(0xf0)],'height':_0x3bfd51[_0x1c7b13(0x1eb)],'pixelFormat':_0x5ea7fd[_0x1c7b13(0x1a5)]['DEPTH_COMPONENT'],'pixelDatatype':_0x5ea7fd['PixelDatatype'][_0x1c7b13(0x1d3)]},_0x36fed7={'context':_0x3bfd51,'width':_0xb55dd8[_0x1c7b13(0x1f5)]['colorNum'],'height':0x1,'pixelFormat':_0x5ea7fd[_0x1c7b13(0x1a5)][_0x1c7b13(0x132)],'pixelDatatype':_0x5ea7fd['PixelDatatype']['FLOAT'],'sampler':new _0x5ea7fd[(_0x1c7b13(0x169))]({'minificationFilter':_0x5ea7fd['TextureMinificationFilter']['LINEAR'],'magnificationFilter':_0x5ea7fd[_0x1c7b13(0x13e)]['LINEAR']})};this['textures']={'segmentsColor':_0x5e0178[_0x1c7b13(0x114)](_0x3bb997),'segmentsDepth':_0x5e0178['createTexture'](_0x3cf1ca),'currentTrailsColor':_0x5e0178[_0x1c7b13(0x114)](_0x3bb997),'currentTrailsDepth':_0x5e0178[_0x1c7b13(0x114)](_0x3cf1ca),'nextTrailsColor':_0x5e0178[_0x1c7b13(0x114)](_0x3bb997),'nextTrailsDepth':_0x5e0178[_0x1c7b13(0x114)](_0x3cf1ca),'colorTable':_0x5e0178[_0x1c7b13(0x114)](_0x36fed7,_0xb55dd8['colorTable']['array'])};}},{'key':_0x3e33c2(0x11f),'value':function(_0x5b9b9a){var _0x4ae21d=_0x3e33c2;this[_0x4ae21d(0x155)]={'segments':_0x5e0178[_0x4ae21d(0xfd)](_0x5b9b9a,this['textures'][_0x4ae21d(0x1f6)],this['textures'][_0x4ae21d(0x250)]),'currentTrails':_0x5e0178[_0x4ae21d(0xfd)](_0x5b9b9a,this[_0x4ae21d(0x154)][_0x4ae21d(0x24f)],this[_0x4ae21d(0x154)][_0x4ae21d(0x226)]),'nextTrails':_0x5e0178[_0x4ae21d(0xfd)](_0x5b9b9a,this[_0x4ae21d(0x154)]['nextTrailsColor'],this[_0x4ae21d(0x154)][_0x4ae21d(0x170)])};}},{'key':'createSegmentsGeometry','value':function(_0x152b2f){var _0x5931ef=_0x3e33c2;for(var _0x5613b6=[],_0x513c9b=0x0;_0x513c9b<_0x152b2f['particlesTextureSize'];_0x513c9b++)for(var _0x4bf61e=0x0;_0x4bf61e<_0x152b2f[_0x5931ef(0x23f)];_0x4bf61e++)for(var _0x32a054=0x0;_0x32a054<0x4;_0x32a054++)_0x5613b6[_0x5931ef(0x1e9)](_0x513c9b/_0x152b2f[_0x5931ef(0x23f)]),_0x5613b6['push'](_0x4bf61e/_0x152b2f['particlesTextureSize']);_0x5613b6=new Float32Array(_0x5613b6);for(var _0x1e317c=[],_0xbd6357=[-0x1,0x1],_0xd5bd66=[-0x1,0x1],_0x38070b=0x0;_0x38070b<_0x152b2f['maxParticles'];_0x38070b++)for(var _0x1c8057=0x0;_0x1c8057<0x2;_0x1c8057++)for(var _0x1c76ca=0x0;_0x1c76ca<0x2;_0x1c76ca++)_0x1e317c['push'](_0xbd6357[_0x1c8057]),_0x1e317c[_0x5931ef(0x1e9)](_0xd5bd66[_0x1c76ca]),_0x1e317c[_0x5931ef(0x1e9)](0x0);_0x1e317c=new Float32Array(_0x1e317c);for(var _0x11976d=0x6*_0x152b2f[_0x5931ef(0x192)],_0x510023=new Uint32Array(_0x11976d),_0x2a24cd=0x0,_0x7b098b=0x0,_0xab5e9d=0x0;_0x2a24cd<_0x152b2f[_0x5931ef(0x192)];_0x2a24cd++)_0x510023[_0x7b098b++]=_0xab5e9d+0x0,_0x510023[_0x7b098b++]=_0xab5e9d+0x1,_0x510023[_0x7b098b++]=_0xab5e9d+0x2,_0x510023[_0x7b098b++]=_0xab5e9d+0x2,_0x510023[_0x7b098b++]=_0xab5e9d+0x1,_0x510023[_0x7b098b++]=_0xab5e9d+0x3,_0xab5e9d+=0x4;return new _0x5ea7fd[(_0x5931ef(0x11d))]({'attributes':new _0x5ea7fd[(_0x5931ef(0xfa))]({'st':new _0x5ea7fd['GeometryAttribute']({'componentDatatype':_0x5ea7fd[_0x5931ef(0x1ca)][_0x5931ef(0x185)],'componentsPerAttribute':0x2,'values':_0x5613b6}),'normal':new _0x5ea7fd[(_0x5931ef(0x23c))]({'componentDatatype':_0x5ea7fd[_0x5931ef(0x1ca)][_0x5931ef(0x185)],'componentsPerAttribute':0x3,'values':_0x1e317c})}),'indices':_0x510023});}},{'key':_0x3e33c2(0x136),'value':function(_0x1ed44f,_0x117cca,_0x43d297,_0x1cb22c){var _0x433508=_0x3e33c2,_0x474898=this;this['primitives']={'segments':new _0x4a8cfb({'commandType':_0x433508(0xe0),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x433508(0x128)](_0x117cca),'primitiveType':_0x5ea7fd['PrimitiveType'][_0x433508(0x13d)],'uniformMap':{'currentParticlesPosition':function(){var _0xe1affd=_0x433508;return _0x1cb22c[_0xe1affd(0x127)][_0xe1affd(0x1b4)];},'postProcessingPosition':function(){var _0x28e041=_0x433508;return _0x1cb22c[_0x28e041(0x127)]['postProcessingPosition'];},'postProcessingSpeed':function(){var _0x39fbf=_0x433508;return _0x1cb22c[_0x39fbf(0x127)][_0x39fbf(0x12c)];},'colorTable':function(){var _0x4b0849=_0x433508;return _0x474898[_0x4b0849(0x154)]['colorTable'];},'aspect':function(){var _0x375e1e=_0x433508;return _0x1ed44f['drawingBufferWidth']/_0x1ed44f[_0x375e1e(0x1eb)];},'pixelSize':function(){var _0x530bda=_0x433508;return _0x43d297[_0x530bda(0x19d)];},'lineWidth':function(){var _0x10c086=_0x433508;return _0x117cca[_0x10c086(0x135)];},'particleHeight':function(){var _0x55355d=_0x433508;return _0x117cca[_0x55355d(0x15c)];}},'vertexShaderSource':new _0x5ea7fd[(_0x433508(0x1f2))]({'sources':[_0x5e324b['a']]}),'fragmentShaderSource':new _0x5ea7fd[(_0x433508(0x1f2))]({'sources':[_0x2c9423['a']]}),'rawRenderState':_0x5e0178[_0x433508(0x24a)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x433508(0x155)][_0x433508(0x1be)],'autoClear':!0x0}),'trails':new _0x4a8cfb({'commandType':_0x433508(0xe0),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x5e0178['getFullscreenQuad'](),'primitiveType':_0x5ea7fd[_0x433508(0x19a)][_0x433508(0x13d)],'uniformMap':{'segmentsColorTexture':function(){var _0x216a26=_0x433508;return _0x474898[_0x216a26(0x154)]['segmentsColor'];},'segmentsDepthTexture':function(){var _0x40817f=_0x433508;return _0x474898[_0x40817f(0x154)]['segmentsDepth'];},'currentTrailsColor':function(){var _0x451bf5=_0x433508;return _0x474898['framebuffers'][_0x451bf5(0x14b)]['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x5f2215=_0x433508;return _0x474898[_0x5f2215(0x155)][_0x5f2215(0x14b)][_0x5f2215(0x122)];},'fadeOpacity':function(){return _0x117cca['fadeOpacity'];}},'vertexShaderSource':new _0x5ea7fd[(_0x433508(0x1f2))]({'defines':[_0x433508(0x12d)],'sources':[_0x5f0ae5['a']]}),'fragmentShaderSource':new _0x5ea7fd['ShaderSource']({'defines':[_0x433508(0x1f8)],'sources':[_0x4f8989['a']]}),'rawRenderState':_0x5e0178['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x5ea7fd[_0x433508(0x107)][_0x433508(0x187)]},'depthMask':!0x0}),'framebuffer':this['framebuffers'][_0x433508(0x138)],'autoClear':!0x0,'preExecute':function(){var _0x211529=_0x433508,_0x5ae0fb;_0x5ae0fb=_0x474898[_0x211529(0x155)][_0x211529(0x14b)],_0x474898[_0x211529(0x155)]['currentTrails']=_0x474898[_0x211529(0x155)][_0x211529(0x138)],_0x474898['framebuffers'][_0x211529(0x138)]=_0x5ae0fb,_0x474898[_0x211529(0x18e)][_0x211529(0x102)][_0x211529(0xe5)]['framebuffer']=_0x474898['framebuffers']['nextTrails'],_0x474898[_0x211529(0x18e)][_0x211529(0x102)][_0x211529(0x1e6)][_0x211529(0x108)]=_0x474898['framebuffers'][_0x211529(0x138)];}}),'screen':new _0x4a8cfb({'commandType':'Draw','attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x5e0178[_0x433508(0x147)](),'primitiveType':_0x5ea7fd[_0x433508(0x19a)][_0x433508(0x13d)],'uniformMap':{'trailsColorTexture':function(){var _0xf340fc=_0x433508;return _0x474898['framebuffers'][_0xf340fc(0x138)][_0xf340fc(0x182)](0x0);},'trailsDepthTexture':function(){var _0x4bb722=_0x433508;return _0x474898[_0x4bb722(0x155)]['nextTrails'][_0x4bb722(0x122)];}},'vertexShaderSource':new _0x5ea7fd[(_0x433508(0x1f2))]({'defines':[_0x433508(0x12d)],'sources':[_0x5f0ae5['a']]}),'fragmentShaderSource':new _0x5ea7fd[(_0x433508(0x1f2))]({'defines':[_0x433508(0x1f8)],'sources':[_0x776e44['a']]}),'rawRenderState':_0x5e0178[_0x433508(0x24a)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x3e8360;}(),_0x220b2d=_0x29d2c5(0xc),_0x2fc6eb=_0x29d2c5['n'](_0x220b2d),_0xe130fa=_0x29d2c5(0xd),_0x1014ae=_0x29d2c5['n'](_0xe130fa),_0x5af93c=_0x29d2c5(0xe),_0x329509=_0x29d2c5['n'](_0x5af93c),_0x2ef623=_0x29d2c5(0xf),_0x190268=_0x29d2c5['n'](_0x2ef623),_0x7c007=_0x29d2c5(0x10),_0x2b480e=_0x29d2c5['n'](_0x7c007),_0x44f34f=function(){var _0x5dfea9=_0x59a3fa;function _0x19efaf(_0x22e7ac,_0x5a6e98,_0x2753bf,_0x4cb355){var _0x541cc1=a0_0xd658;_0x891cf8()(this,_0x19efaf),this['data']=_0x5a6e98,this['createWindTextures'](_0x22e7ac,_0x5a6e98),this['createParticlesTextures'](_0x22e7ac,_0x2753bf,_0x4cb355),this[_0x541cc1(0x171)](_0x5a6e98,_0x2753bf,_0x4cb355);}return _0x1851c2()(_0x19efaf,[{'key':_0x5dfea9(0x168),'value':function(_0x53a8bd,_0x104d33){var _0x16d3ff=_0x5dfea9,_0x8dcbb={'context':_0x53a8bd,'width':_0x104d33['dimensions'][_0x16d3ff(0x228)],'height':_0x104d33['dimensions'][_0x16d3ff(0x16f)]*_0x104d33[_0x16d3ff(0x109)]['lev'],'pixelFormat':_0x5ea7fd[_0x16d3ff(0x1a5)][_0x16d3ff(0x159)],'pixelDatatype':_0x5ea7fd[_0x16d3ff(0xf1)]['FLOAT'],'flipY':!0x1,'sampler':new _0x5ea7fd[(_0x16d3ff(0x169))]({'minificationFilter':_0x5ea7fd[_0x16d3ff(0xfc)][_0x16d3ff(0x13b)],'magnificationFilter':_0x5ea7fd[_0x16d3ff(0x13e)]['NEAREST']})};this['windTextures']={'U':_0x5e0178[_0x16d3ff(0x114)](_0x8dcbb,_0x104d33['U'][_0x16d3ff(0x225)]),'V':_0x5e0178[_0x16d3ff(0x114)](_0x8dcbb,_0x104d33['V'][_0x16d3ff(0x225)])};}},{'key':'createParticlesTextures','value':function(_0x2c2f2c,_0x5bfb88,_0x333a04){var _0x3e0852=_0x5dfea9,_0x42c7d7={'context':_0x2c2f2c,'width':_0x5bfb88['particlesTextureSize'],'height':_0x5bfb88['particlesTextureSize'],'pixelFormat':_0x5ea7fd['PixelFormat'][_0x3e0852(0x21d)],'pixelDatatype':_0x5ea7fd['PixelDatatype'][_0x3e0852(0x185)],'flipY':!0x1,'sampler':new _0x5ea7fd[(_0x3e0852(0x169))]({'minificationFilter':_0x5ea7fd[_0x3e0852(0xfc)]['NEAREST'],'magnificationFilter':_0x5ea7fd[_0x3e0852(0x13e)][_0x3e0852(0x13b)]})},_0x281641=this['randomizeParticles'](_0x5bfb88[_0x3e0852(0x192)],_0x333a04),_0x335a04=new Float32Array(0x4*_0x5bfb88[_0x3e0852(0x192)])[_0x3e0852(0x1e5)](0x0);this['particlesTextures']={'particlesWind':_0x5e0178[_0x3e0852(0x114)](_0x42c7d7),'currentParticlesPosition':_0x5e0178['createTexture'](_0x42c7d7,_0x281641),'nextParticlesPosition':_0x5e0178[_0x3e0852(0x114)](_0x42c7d7,_0x281641),'currentParticlesSpeed':_0x5e0178[_0x3e0852(0x114)](_0x42c7d7,_0x335a04),'nextParticlesSpeed':_0x5e0178['createTexture'](_0x42c7d7,_0x335a04),'postProcessingPosition':_0x5e0178[_0x3e0852(0x114)](_0x42c7d7,_0x281641),'postProcessingSpeed':_0x5e0178[_0x3e0852(0x114)](_0x42c7d7,_0x335a04)};}},{'key':_0x5dfea9(0x211),'value':function(_0x4e1e71,_0x4dd32d){var _0x4140cd=_0x5dfea9;for(var _0x23939f=new Float32Array(0x4*_0x4e1e71),_0x3a018b=0x0;_0x3a018b<_0x4e1e71;_0x3a018b++)_0x23939f[0x4*_0x3a018b]=_0x5ea7fd['Math']['randomBetween'](_0x4dd32d['lonRange']['x'],_0x4dd32d['lonRange']['y']),_0x23939f[0x4*_0x3a018b+0x1]=_0x5ea7fd['Math'][_0x4140cd(0x1cb)](_0x4dd32d[_0x4140cd(0x1b5)]['x'],_0x4dd32d[_0x4140cd(0x1b5)]['y']),_0x23939f[0x4*_0x3a018b+0x2]=_0x5ea7fd[_0x4140cd(0x24b)][_0x4140cd(0x1cb)](this[_0x4140cd(0x1e0)][_0x4140cd(0xd8)]['min'],this['data'][_0x4140cd(0xd8)]['max']),_0x23939f[0x4*_0x3a018b+0x3]=0x0;return _0x23939f;}},{'key':_0x5dfea9(0x178),'value':function(){var _0x4c9198=_0x5dfea9,_0x4e3b62=this;Object[_0x4c9198(0x20c)](this[_0x4c9198(0x127)])[_0x4c9198(0x248)](function(_0x588105){var _0x1b3c7d=_0x4c9198;_0x4e3b62['particlesTextures'][_0x588105][_0x1b3c7d(0x157)]();});}},{'key':_0x5dfea9(0x171),'value':function(_0x540a4a,_0x5f4177,_0x2e9f4e){var _0xcab0a8=_0x5dfea9,_0x13f474=new _0x5ea7fd['Cartesian3'](_0x540a4a[_0xcab0a8(0x109)][_0xcab0a8(0x228)],_0x540a4a[_0xcab0a8(0x109)][_0xcab0a8(0x16f)],_0x540a4a['dimensions'][_0xcab0a8(0xd8)]),_0x458be1=new _0x5ea7fd[(_0xcab0a8(0x1f4))](_0x540a4a[_0xcab0a8(0x228)][_0xcab0a8(0x1d7)],_0x540a4a[_0xcab0a8(0x16f)][_0xcab0a8(0x1d7)],_0x540a4a['lev']['min']),_0x378fa5=new _0x5ea7fd[(_0xcab0a8(0x1f4))](_0x540a4a['lon'][_0xcab0a8(0x17c)],_0x540a4a[_0xcab0a8(0x16f)][_0xcab0a8(0x17c)],_0x540a4a[_0xcab0a8(0xd8)][_0xcab0a8(0x17c)]),_0xcef98b=new _0x5ea7fd[(_0xcab0a8(0x1f4))]((_0x378fa5['x']-_0x458be1['x'])/(_0x13f474['x']-0x1),(_0x378fa5['y']-_0x458be1['y'])/(_0x13f474['y']-0x1),_0x13f474['z']>0x1?(_0x378fa5['z']-_0x458be1['z'])/(_0x13f474['z']-0x1):0x1),_0x296f67=new _0x5ea7fd[(_0xcab0a8(0x1aa))](_0x540a4a['U'][_0xcab0a8(0x1d7)],_0x540a4a['U']['max']),_0x3266e2=new _0x5ea7fd[(_0xcab0a8(0x1aa))](_0x540a4a['V'][_0xcab0a8(0x1d7)],_0x540a4a['V'][_0xcab0a8(0x17c)]),_0xb7defe=this;this[_0xcab0a8(0x18e)]={'getWind':new _0x4a8cfb({'commandType':_0xcab0a8(0x1fd),'uniformMap':{'U':function(){return _0xb7defe['windTextures']['U'];},'V':function(){return _0xb7defe['windTextures']['V'];},'currentParticlesPosition':function(){return _0xb7defe['particlesTextures']['currentParticlesPosition'];},'dimension':function(){return _0x13f474;},'minimum':function(){return _0x458be1;},'maximum':function(){return _0x378fa5;},'interval':function(){return _0xcef98b;}},'fragmentShaderSource':new _0x5ea7fd[(_0xcab0a8(0x1f2))]({'sources':[_0x2fc6eb['a']]}),'outputTexture':this['particlesTextures'][_0xcab0a8(0x1a6)],'preExecute':function(){var _0x3e4b51=_0xcab0a8;_0xb7defe[_0x3e4b51(0x18e)][_0x3e4b51(0x19f)][_0x3e4b51(0xe5)][_0x3e4b51(0x18c)]=_0xb7defe[_0x3e4b51(0x127)][_0x3e4b51(0x1a6)];}}),'updateSpeed':new _0x4a8cfb({'commandType':_0xcab0a8(0x1fd),'uniformMap':{'currentParticlesSpeed':function(){return _0xb7defe['particlesTextures']['currentParticlesSpeed'];},'particlesWind':function(){var _0x1ce980=_0xcab0a8;return _0xb7defe['particlesTextures'][_0x1ce980(0x1a6)];},'uSpeedRange':function(){return _0x296f67;},'vSpeedRange':function(){return _0x3266e2;},'pixelSize':function(){return _0x2e9f4e['pixelSize'];},'speedFactor':function(){return _0x5f4177['speedFactor'];}},'fragmentShaderSource':new _0x5ea7fd[(_0xcab0a8(0x1f2))]({'sources':[_0x1014ae['a']]}),'outputTexture':this[_0xcab0a8(0x127)][_0xcab0a8(0x219)],'preExecute':function(){var _0x490a0e=_0xcab0a8,_0x36ee50;_0x36ee50=_0xb7defe['particlesTextures'][_0x490a0e(0x237)],_0xb7defe[_0x490a0e(0x127)][_0x490a0e(0x237)]=_0xb7defe[_0x490a0e(0x127)][_0x490a0e(0x12c)],_0xb7defe['particlesTextures'][_0x490a0e(0x12c)]=_0x36ee50,_0xb7defe['primitives']['updateSpeed'][_0x490a0e(0xe5)][_0x490a0e(0x18c)]=_0xb7defe['particlesTextures'][_0x490a0e(0x219)];}}),'updatePosition':new _0x4a8cfb({'commandType':'Compute','uniformMap':{'currentParticlesPosition':function(){var _0x4a6cf5=_0xcab0a8;return _0xb7defe[_0x4a6cf5(0x127)][_0x4a6cf5(0x1b4)];},'currentParticlesSpeed':function(){var _0x19658c=_0xcab0a8;return _0xb7defe[_0x19658c(0x127)][_0x19658c(0x237)];}},'fragmentShaderSource':new _0x5ea7fd['ShaderSource']({'sources':[_0x329509['a']]}),'outputTexture':this[_0xcab0a8(0x127)][_0xcab0a8(0x10f)],'preExecute':function(){var _0x16594d=_0xcab0a8,_0x2ffecd;_0x2ffecd=_0xb7defe['particlesTextures'][_0x16594d(0x1b4)],_0xb7defe[_0x16594d(0x127)][_0x16594d(0x1b4)]=_0xb7defe['particlesTextures'][_0x16594d(0x137)],_0xb7defe[_0x16594d(0x127)][_0x16594d(0x137)]=_0x2ffecd,_0xb7defe[_0x16594d(0x18e)][_0x16594d(0x1f0)]['commandToExecute'][_0x16594d(0x18c)]=_0xb7defe['particlesTextures']['nextParticlesPosition'];}}),'postProcessingPosition':new _0x4a8cfb({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function(){var _0xb54bd0=_0xcab0a8;return _0xb7defe[_0xb54bd0(0x127)][_0xb54bd0(0x10f)];},'nextParticlesSpeed':function(){var _0x25db2f=_0xcab0a8;return _0xb7defe[_0x25db2f(0x127)][_0x25db2f(0x219)];},'lonRange':function(){var _0xb43750=_0xcab0a8;return _0x2e9f4e[_0xb43750(0x134)];},'latRange':function(){return _0x2e9f4e['latRange'];},'randomCoefficient':function(){var _0x5625c7=_0xcab0a8,_0x357350=Math[_0x5625c7(0x208)]();return _0x357350;},'dropRate':function(){var _0x264e78=_0xcab0a8;return _0x5f4177[_0x264e78(0x1c7)];},'dropRateBump':function(){return _0x5f4177['dropRateBump'];}},'fragmentShaderSource':new _0x5ea7fd[(_0xcab0a8(0x1f2))]({'sources':[_0x190268['a']]}),'outputTexture':this[_0xcab0a8(0x127)][_0xcab0a8(0x137)],'preExecute':function(){var _0x88820c=_0xcab0a8;_0xb7defe[_0x88820c(0x18e)]['postProcessingPosition'][_0x88820c(0xe5)][_0x88820c(0x18c)]=_0xb7defe['particlesTextures'][_0x88820c(0x137)];}}),'postProcessingSpeed':new _0x4a8cfb({'commandType':_0xcab0a8(0x1fd),'uniformMap':{'postProcessingPosition':function(){var _0x2e6224=_0xcab0a8;return _0xb7defe['particlesTextures'][_0x2e6224(0x137)];},'nextParticlesSpeed':function(){var _0x2f916b=_0xcab0a8;return _0xb7defe[_0x2f916b(0x127)][_0x2f916b(0x219)];}},'fragmentShaderSource':new _0x5ea7fd[(_0xcab0a8(0x1f2))]({'sources':[_0x2b480e['a']]}),'outputTexture':this[_0xcab0a8(0x127)][_0xcab0a8(0x12c)],'preExecute':function(){var _0x4a30e4=_0xcab0a8;_0xb7defe['primitives'][_0x4a30e4(0x12c)][_0x4a30e4(0xe5)][_0x4a30e4(0x18c)]=_0xb7defe[_0x4a30e4(0x127)]['postProcessingSpeed'];}})};}}]),_0x19efaf;}(),_0x1be17d=function(){var _0x31470e=_0x59a3fa;function _0x598ec5(_0x5bd68a,_0x2a3bda,_0xb90b80,_0x366cac){var _0x4d3d99=a0_0xd658;_0x891cf8()(this,_0x598ec5),this['context']=_0x5bd68a,this[_0x4d3d99(0x1e0)]=_0x2a3bda,this[_0x4d3d99(0x230)]=_0xb90b80,this[_0x4d3d99(0x11c)]=_0x366cac,this[_0x4d3d99(0x181)]=new _0x44f34f(this['context'],this['data'],this['userInput'],this[_0x4d3d99(0x11c)]),this['particlesRendering']=new _0x341719(this[_0x4d3d99(0x16b)],this[_0x4d3d99(0x1e0)],this[_0x4d3d99(0x230)],this[_0x4d3d99(0x11c)],this[_0x4d3d99(0x181)]);}return _0x1851c2()(_0x598ec5,[{'key':_0x31470e(0x218),'value':function(_0x14d9c1){var _0x37d6e3=_0x31470e,_0x51285f=this;this[_0x37d6e3(0x181)]['destroyParticlesTextures'](),Object[_0x37d6e3(0x20c)](this[_0x37d6e3(0x181)][_0x37d6e3(0xdb)])[_0x37d6e3(0x248)](function(_0x144c6e){var _0x19b41b=_0x37d6e3;_0x51285f[_0x19b41b(0x181)]['windTextures'][_0x144c6e][_0x19b41b(0x157)]();}),this[_0x37d6e3(0x189)][_0x37d6e3(0x154)]['colorTable'][_0x37d6e3(0x157)](),Object['keys'](this[_0x37d6e3(0x189)][_0x37d6e3(0x155)])[_0x37d6e3(0x248)](function(_0x4f8f4c){var _0x26caa8=_0x37d6e3;_0x51285f[_0x26caa8(0x189)]['framebuffers'][_0x4f8f4c]['destroy']();}),this[_0x37d6e3(0x16b)]=_0x14d9c1,this[_0x37d6e3(0x181)]=new _0x44f34f(this[_0x37d6e3(0x16b)],this[_0x37d6e3(0x1e0)],this[_0x37d6e3(0x230)],this[_0x37d6e3(0x11c)]),this[_0x37d6e3(0x189)]=new _0x341719(this[_0x37d6e3(0x16b)],this[_0x37d6e3(0x1e0)],this['userInput'],this[_0x37d6e3(0x11c)],this[_0x37d6e3(0x181)]);}},{'key':_0x31470e(0x151),'value':function(){var _0x17a435=_0x31470e,_0x5f0c10=this,_0x70de3e=new _0x5ea7fd[(_0x17a435(0x1fc))]({'color':new _0x5ea7fd[(_0x17a435(0x125))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x5ea7fd[_0x17a435(0x223)]['OPAQUE']});Object[_0x17a435(0x20c)](this[_0x17a435(0x189)][_0x17a435(0x155)])[_0x17a435(0x248)](function(_0x55c53e){var _0x572188=_0x17a435;_0x70de3e[_0x572188(0x108)]=_0x5f0c10['particlesRendering']['framebuffers'][_0x55c53e],_0x70de3e[_0x572188(0x1dd)](_0x5f0c10[_0x572188(0x16b)]);});}},{'key':_0x31470e(0x194),'value':function(_0xb38fb){var _0xff97d0=_0x31470e;if(this['clearFramebuffers'](),this['particlesComputing'][_0xff97d0(0x178)](),this[_0xff97d0(0x181)][_0xff97d0(0x203)](this['context'],this[_0xff97d0(0x230)],this[_0xff97d0(0x11c)]),_0xb38fb){var _0x3c32ea=this[_0xff97d0(0x189)][_0xff97d0(0x128)](this[_0xff97d0(0x230)]);this[_0xff97d0(0x189)][_0xff97d0(0x18e)]['segments']['geometry']=_0x3c32ea;var _0x2fc995=_0x5ea7fd[_0xff97d0(0x11e)][_0xff97d0(0x1a7)]({'context':this['context'],'geometry':_0x3c32ea,'attributeLocations':this['particlesRendering'][_0xff97d0(0x18e)][_0xff97d0(0x1be)]['attributeLocations'],'bufferUsage':_0x5ea7fd[_0xff97d0(0xea)][_0xff97d0(0x231)]});this[_0xff97d0(0x189)][_0xff97d0(0x18e)][_0xff97d0(0x1be)][_0xff97d0(0xe5)][_0xff97d0(0xd9)]=_0x2fc995;}}},{'key':_0x31470e(0x217),'value':function(_0x201824){var _0x4400a4=_0x31470e,_0x3b86da=this,_0x3dc5cf=!0x1;this[_0x4400a4(0x230)][_0x4400a4(0x192)]!=_0x201824['maxParticles']&&(_0x3dc5cf=!0x0),Object['keys'](_0x201824)[_0x4400a4(0x248)](function(_0xe0b45f){_0x3b86da['userInput'][_0xe0b45f]=_0x201824[_0xe0b45f];}),this['refreshParticles'](_0x3dc5cf);}},{'key':_0x31470e(0x10b),'value':function(_0x581e69){var _0x654675=_0x31470e,_0x345daf=this;Object[_0x654675(0x20c)](_0x581e69)[_0x654675(0x248)](function(_0x486806){var _0x48c97f=_0x654675;_0x345daf[_0x48c97f(0x11c)][_0x486806]=_0x581e69[_0x486806];}),this['refreshParticles'](!0x1);}}]),_0x598ec5;}();function _0x52fde2(_0x775032){var _0x5380f1=function(){var _0x18319a=a0_0xd658;if('undefined'==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect[_0x18319a(0x12a)][_0x18319a(0x1cc)])return!0x1;if(_0x18319a(0xdf)==typeof Proxy)return!0x0;try{return Boolean[_0x18319a(0xe6)][_0x18319a(0x10a)][_0x18319a(0x103)](Reflect[_0x18319a(0x12a)](Boolean,[],function(){})),!0x0;}catch(_0x524879){return!0x1;}}();return function(){var _0x2711e4=a0_0xd658,_0x42bd8d,_0x1df3c4=_0x1839e4()(_0x775032);if(_0x5380f1){var _0x52fd27=_0x1839e4()(this)[_0x2711e4(0x1ef)];_0x42bd8d=Reflect['construct'](_0x1df3c4,arguments,_0x52fd27);}else _0x42bd8d=_0x1df3c4[_0x2711e4(0x1fb)](this,arguments);return _0x10b953()(this,_0x42bd8d);};}var _0x3bd9b3=_0x1dc308[_0x59a3fa(0x1c8)][_0x59a3fa(0x16a)],_0x317209=0x1000,_0x3ebf9e=0x64,_0x7c97db=0.996,_0xe340e=0.003,_0x4a07fd=0.01,_0x491b7c=0.5,_0x115ea4=0x2,_0x39fc57=function(_0x588273){var _0x4a0011=_0x59a3fa;_0x306742()(_0x21eb24,_0x588273);var _0x59cf9b=_0x52fde2(_0x21eb24);function _0x21eb24(){var _0x1c1cd4=a0_0xd658,_0x80509d,_0x128350=arguments[_0x1c1cd4(0x22c)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x891cf8()(this,_0x21eb24),(_0x80509d=_0x59cf9b[_0x1c1cd4(0x103)](this,_0x128350))[_0x1c1cd4(0x192)]=_0x317209,_0x80509d[_0x1c1cd4(0x15c)]=_0x3ebf9e,_0x80509d[_0x1c1cd4(0x1a0)]=_0x7c97db,_0x80509d['dropRate']=_0xe340e,_0x80509d[_0x1c1cd4(0x11b)]=_0x4a07fd,_0x80509d['speedFactor']=_0x491b7c,_0x80509d['lineWidth']=_0x115ea4,_0x80509d[_0x1c1cd4(0x1ea)](_0x128350),_0x80509d;}return _0x1851c2()(_0x21eb24,[{'key':_0x4a0011(0x1c8),'get':function(){var _0x2e6c21=_0x4a0011;return this[_0x2e6c21(0x18e)];}},{'key':_0x4a0011(0x1ea),'value':function(_0x14c6e0){if(_0x14c6e0){for(var _0xae3aeb in _0x14c6e0)this[_0xae3aeb]=_0x14c6e0[_0xae3aeb];}}},{'key':_0x4a0011(0x12e),'value':function(){}},{'key':_0x4a0011(0x144),'value':function(){var _0x2a5066=_0x4a0011;this[_0x2a5066(0xe1)]=this[_0x2a5066(0xd7)][_0x2a5066(0xe1)],this[_0x2a5066(0x1e2)]=this[_0x2a5066(0xd7)][_0x2a5066(0x1e2)],this[_0x2a5066(0x18e)]=new _0x5ea7fd[(_0x2a5066(0x1ae))](),this['_map']['scene'][_0x2a5066(0x18e)][_0x2a5066(0x13a)](this[_0x2a5066(0x18e)]),this[_0x2a5066(0x11c)]={'lonRange':new _0x5ea7fd[(_0x2a5066(0x1aa))](),'latRange':new _0x5ea7fd[(_0x2a5066(0x1aa))](),'pixelSize':0x0},this[_0x2a5066(0x133)]=new _0x5ea7fd[(_0x2a5066(0x148))](_0x5ea7fd[_0x2a5066(0x1f4)]['ZERO'],6314355.63),this[_0x2a5066(0x153)](),window[_0x2a5066(0x1b1)]('resize',this[_0x2a5066(0x204)][_0x2a5066(0x236)](this),!0x1),this[_0x2a5066(0x14f)]=!0x1,this[_0x2a5066(0x245)]=!0x1,this[_0x2a5066(0xd7)]['on'](_0x1dc308[_0x2a5066(0x222)][_0x2a5066(0x1db)],this['_onMapWhellEvent'],this),this[_0x2a5066(0xd7)]['on'](_0x1dc308[_0x2a5066(0x222)]['mouseDown'],this[_0x2a5066(0x126)],this),this[_0x2a5066(0xd7)]['on'](_0x1dc308['EventType'][_0x2a5066(0x166)],this[_0x2a5066(0xd5)],this),this['_map']['on'](_0x1dc308['EventType']['mouseMove'],this[_0x2a5066(0x213)],this);}},{'key':_0x4a0011(0x188),'value':function(){var _0x3a29a6=_0x4a0011;window[_0x3a29a6(0x1ce)](_0x3a29a6(0x204),this[_0x3a29a6(0x204)]),this[_0x3a29a6(0xd7)][_0x3a29a6(0x105)](_0x1dc308[_0x3a29a6(0x222)]['preRender'],this[_0x3a29a6(0xe8)],this),this[_0x3a29a6(0xd7)][_0x3a29a6(0x105)](_0x1dc308[_0x3a29a6(0x222)]['wheel'],this['_onMapWhellEvent'],this),this[_0x3a29a6(0xd7)][_0x3a29a6(0x105)](_0x1dc308[_0x3a29a6(0x222)][_0x3a29a6(0x220)],this['_onMouseDownEvent'],this),this[_0x3a29a6(0xd7)][_0x3a29a6(0x105)](_0x1dc308[_0x3a29a6(0x222)]['mouseUp'],this[_0x3a29a6(0xd5)],this),this[_0x3a29a6(0xd7)][_0x3a29a6(0x105)](_0x1dc308[_0x3a29a6(0x222)]['mouseMove'],this['_onMouseMoveEvent'],this),this[_0x3a29a6(0x18e)][_0x3a29a6(0x14d)](),this[_0x3a29a6(0xd7)][_0x3a29a6(0xe1)]['primitives'][_0x3a29a6(0x210)](this['primitives']);}},{'key':_0x4a0011(0x204),'value':function(){var _0x2a8652=_0x4a0011;this[_0x2a8652(0x1bd)]&&this[_0x2a8652(0xee)]&&(this[_0x2a8652(0x18e)][_0x2a8652(0x1bd)]=!0x1,this[_0x2a8652(0x18e)][_0x2a8652(0x14d)](),this['_map'][_0x2a8652(0x10c)](_0x1dc308['EventType'][_0x2a8652(0x146)],this[_0x2a8652(0xe8)],this));}},{'key':_0x4a0011(0xe8),'value':function(_0x2ddf67){var _0x5b9fd2=_0x4a0011;this[_0x5b9fd2(0xee)]['canvasResize'](this[_0x5b9fd2(0xe1)][_0x5b9fd2(0x16b)]),this[_0x5b9fd2(0x15d)](),this[_0x5b9fd2(0x18e)][_0x5b9fd2(0x1bd)]=!0x0;}},{'key':_0x4a0011(0x20e),'value':function(_0xb77f4c){var _0x42994a=_0x4a0011,_0x97885e=this;clearTimeout(this['refreshTimer']),this[_0x42994a(0x1bd)]&&this[_0x42994a(0xee)]&&(this[_0x42994a(0x18e)][_0x42994a(0x1bd)]=!0x1,this['refreshTimer']=setTimeout(function(){var _0x590db8=_0x42994a;_0x97885e[_0x590db8(0x1bd)]&&_0x97885e[_0x590db8(0x119)]();},0xc8));}},{'key':_0x4a0011(0x126),'value':function(_0x37076f){var _0x5942a9=_0x4a0011;this[_0x5942a9(0x14f)]=!0x0;}},{'key':_0x4a0011(0x213),'value':function(_0x4aaf32){var _0x4251d3=_0x4a0011;this['show']&&this[_0x4251d3(0xee)]&&this['mouse_down']&&(this[_0x4251d3(0x18e)][_0x4251d3(0x1bd)]=!0x1,this[_0x4251d3(0x245)]=!0x0);}},{'key':_0x4a0011(0xd5),'value':function(_0xa64f33){var _0x5523b2=_0x4a0011;this['show']&&this['particleSystem']&&(this[_0x5523b2(0x14f)]&&this['mouse_move']&&this[_0x5523b2(0x119)](),this[_0x5523b2(0x18e)][_0x5523b2(0x1bd)]=!0x0,this[_0x5523b2(0x14f)]=!0x1,this[_0x5523b2(0x245)]=!0x1);}},{'key':_0x4a0011(0x119),'value':function(){var _0x357968=_0x4a0011;this[_0x357968(0xd7)]&&this[_0x357968(0x1bd)]&&(this[_0x357968(0x153)](),this[_0x357968(0xee)][_0x357968(0x10b)](this[_0x357968(0x11c)]),this[_0x357968(0x18e)]['show']=!0x0);}},{'key':_0x4a0011(0xff),'value':function(_0x2e1e01){var _0x2874bd=_0x4a0011;this['particleSystem']=new _0x1be17d(this[_0x2874bd(0xe1)]['context'],_0x2e1e01,this[_0x2874bd(0x13c)](),this[_0x2874bd(0x11c)]),this[_0x2874bd(0x15d)]();}},{'key':_0x4a0011(0x175),'value':function(_0x5ccae9){var _0x1b2666=_0x4a0011;if(_0x5ccae9){for(var _0x2b7726 in _0x5ccae9)this[_0x2b7726]=_0x5ccae9[_0x2b7726];}return this[_0x1b2666(0xee)]&&this['particleSystem']['applyUserInput'](this['getUserInput']()),this;}},{'key':_0x4a0011(0x13c),'value':function(){var _0x49f2d4=_0x4a0011,_0x34701a=Math[_0x49f2d4(0x243)](Math['sqrt'](this[_0x49f2d4(0x192)]));return this[_0x49f2d4(0x192)]=_0x34701a*_0x34701a,{'particlesTextureSize':_0x34701a,'maxParticles':this[_0x49f2d4(0x192)],'particleHeight':this[_0x49f2d4(0x15c)],'fadeOpacity':this['fadeOpacity'],'dropRate':this[_0x49f2d4(0x1c7)],'dropRateBump':this[_0x49f2d4(0x11b)],'speedFactor':this[_0x49f2d4(0x1ee)],'lineWidth':this[_0x49f2d4(0x135)],'globeLayer':this[_0x49f2d4(0x212)],'WMS_URL':this['WMS_URL']};}},{'key':_0x4a0011(0x15d),'value':function(){var _0x2c413f=_0x4a0011;this[_0x2c413f(0x18e)][_0x2c413f(0x13a)](this['particleSystem']['particlesComputing'][_0x2c413f(0x18e)][_0x2c413f(0x19f)]),this[_0x2c413f(0x18e)]['add'](this[_0x2c413f(0xee)][_0x2c413f(0x181)][_0x2c413f(0x18e)]['updateSpeed']),this[_0x2c413f(0x18e)][_0x2c413f(0x13a)](this[_0x2c413f(0xee)][_0x2c413f(0x181)][_0x2c413f(0x18e)]['updatePosition']),this[_0x2c413f(0x18e)][_0x2c413f(0x13a)](this[_0x2c413f(0xee)]['particlesComputing']['primitives'][_0x2c413f(0x137)]),this['primitives'][_0x2c413f(0x13a)](this[_0x2c413f(0xee)][_0x2c413f(0x181)][_0x2c413f(0x18e)][_0x2c413f(0x12c)]),this[_0x2c413f(0x18e)][_0x2c413f(0x13a)](this['particleSystem'][_0x2c413f(0x189)][_0x2c413f(0x18e)][_0x2c413f(0x1be)]),this[_0x2c413f(0x18e)]['add'](this['particleSystem'][_0x2c413f(0x189)][_0x2c413f(0x18e)][_0x2c413f(0x102)]),this[_0x2c413f(0x18e)][_0x2c413f(0x13a)](this[_0x2c413f(0xee)][_0x2c413f(0x189)][_0x2c413f(0x18e)][_0x2c413f(0x1a8)]);}},{'key':_0x4a0011(0x153),'value':function(){var _0x27bea2=_0x4a0011,_0x187b79=this[_0x27bea2(0x1e2)][_0x27bea2(0x214)](this['scene'][_0x27bea2(0x23d)][_0x27bea2(0x1d9)]);if(!_0x187b79){var _0x45affe=this[_0x27bea2(0xd7)][_0x27bea2(0x156)]();_0x187b79=_0x5ea7fd[_0x27bea2(0x21b)]['fromDegrees'](_0x45affe[_0x27bea2(0x200)],_0x45affe[_0x27bea2(0x17b)],_0x45affe[_0x27bea2(0x10e)],_0x45affe[_0x27bea2(0xef)]);}var _0x5323e7=_0x5e0178[_0x27bea2(0x16e)](_0x187b79);this[_0x27bea2(0x11c)][_0x27bea2(0x134)]['x']=_0x5323e7[_0x27bea2(0x228)][_0x27bea2(0x1d7)],this[_0x27bea2(0x11c)][_0x27bea2(0x134)]['y']=_0x5323e7[_0x27bea2(0x228)][_0x27bea2(0x17c)],this[_0x27bea2(0x11c)]['latRange']['x']=_0x5323e7['lat'][_0x27bea2(0x1d7)],this[_0x27bea2(0x11c)]['latRange']['y']=_0x5323e7['lat'][_0x27bea2(0x17c)];var _0xc2a258=this['camera'][_0x27bea2(0x130)](this[_0x27bea2(0x133)],this[_0x27bea2(0xe1)][_0x27bea2(0xf0)],this[_0x27bea2(0xe1)][_0x27bea2(0x1eb)]);_0xc2a258>0x0&&(this[_0x27bea2(0x11c)]['pixelSize']=_0xc2a258);}}]),_0x21eb24;}(_0x3bd9b3);_0x1dc308['LayerUtil'][_0x59a3fa(0x1dc)](_0x59a3fa(0x116),_0x39fc57),_0x1dc308[_0x59a3fa(0x1c8)][_0x59a3fa(0x139)]=_0x39fc57;var _0x26eed9=function _0x20f4da(){var _0x338635=_0x59a3fa;_0x891cf8()(this,_0x20f4da),this[_0x338635(0x1ff)]=null,this[_0x338635(0x16f)]=null,this['tlng']=null,this['tlat']=null,this[_0x338635(0x227)]=null;},_0x12aa42=function(){var _0x5f51c2=_0x59a3fa;function _0x36a1df(_0x5028dd,_0x3e501a){var _0x1443d1=a0_0xd658;_0x891cf8()(this,_0x36a1df),this[_0x1443d1(0x1bb)]=_0x5028dd[_0x1443d1(0x1bb)],this[_0x1443d1(0xeb)]=_0x5028dd[_0x1443d1(0xeb)],this['xmin']=_0x5028dd['xmin'],this[_0x1443d1(0x10e)]=_0x5028dd[_0x1443d1(0x10e)],this[_0x1443d1(0x17b)]=_0x5028dd[_0x1443d1(0x17b)],this[_0x1443d1(0xef)]=_0x5028dd[_0x1443d1(0xef)],this[_0x1443d1(0x115)]=[];var _0x3220e4=_0x5028dd[_0x1443d1(0x1c0)],_0x1f7ca4=_0x5028dd[_0x1443d1(0x14e)],_0x46acfe=!0x1;_0x3220e4[_0x1443d1(0x22c)]===this[_0x1443d1(0x1bb)]&&_0x3220e4[0x0][_0x1443d1(0x22c)]===this[_0x1443d1(0xeb)]&&(_0x46acfe=!0x0);for(var _0x38e248=0x0,_0x5f42e7=null,_0x1a8996=null,_0x15508c=0x0;_0x15508c<this['rows'];_0x15508c++){_0x5f42e7=[];for(var _0x26ea2f=0x0;_0x26ea2f<this['cols'];_0x26ea2f++,_0x38e248++)_0x1a8996=_0x46acfe?this[_0x1443d1(0xe7)](_0x3220e4[_0x15508c][_0x26ea2f],_0x1f7ca4[_0x15508c][_0x26ea2f]):this['_calcUV'](_0x3220e4[_0x38e248],_0x1f7ca4[_0x38e248]),_0x5f42e7['push'](_0x1a8996);this[_0x1443d1(0x115)][_0x1443d1(0x1e9)](_0x5f42e7);}_0x3e501a&&this['grid']['reverse']();}return _0x1851c2()(_0x36a1df,[{'key':_0x5f51c2(0x20a),'value':function(_0x1674ed,_0xeebc26){var _0x1cd2f1=_0x5f51c2;return{'x':(_0x1674ed-this[_0x1cd2f1(0x200)])/(this[_0x1cd2f1(0x10e)]-this[_0x1cd2f1(0x200)])*(this[_0x1cd2f1(0xeb)]-0x1),'y':(this[_0x1cd2f1(0xef)]-_0xeebc26)/(this[_0x1cd2f1(0xef)]-this['ymin'])*(this[_0x1cd2f1(0x1bb)]-0x1)};}},{'key':_0x5f51c2(0x1ec),'value':function(_0x7ed06,_0x1d6464){var _0x5f6254=_0x5f51c2;if(_0x7ed06<0x0||_0x7ed06>=this[_0x5f6254(0xeb)]||_0x1d6464>=this[_0x5f6254(0x1bb)])return[0x0,0x0,0x0];var _0x12caee,_0x3484ed,_0x3310eb=Math[_0x5f6254(0x10d)](_0x7ed06),_0x39501c=Math[_0x5f6254(0x10d)](_0x1d6464);if(_0x3310eb===_0x7ed06&&_0x39501c===_0x1d6464)return this[_0x5f6254(0x115)][_0x1d6464][_0x7ed06];_0x12caee=_0x3310eb+0x1,_0x3484ed=_0x39501c+0x1;var _0x55a719=this[_0x5f6254(0x1ec)](_0x3310eb,_0x39501c),_0x67c953=this[_0x5f6254(0x1ec)](_0x12caee,_0x39501c),_0x47d822=this[_0x5f6254(0x1ec)](_0x3310eb,_0x3484ed),_0x294f6c=this[_0x5f6254(0x1ec)](_0x12caee,_0x3484ed),_0x992d98=null;try{_0x992d98=this[_0x5f6254(0x1a3)](_0x7ed06-_0x3310eb,_0x1d6464-_0x39501c,_0x55a719,_0x67c953,_0x47d822,_0x294f6c);}catch(_0x42d156){console[_0x5f6254(0x1a1)](_0x7ed06,_0x1d6464);}return _0x992d98;}},{'key':_0x5f51c2(0x1a3),'value':function(_0x34faf8,_0x1b85ff,_0x488def,_0x22b549,_0x559655,_0x429294){var _0x55f7f6=_0x5f51c2,_0x3f0d80=0x1-_0x34faf8,_0x4114a1=0x1-_0x1b85ff,_0x2d9ec8=_0x3f0d80*_0x4114a1,_0x1950c2=_0x34faf8*_0x4114a1,_0x381896=_0x3f0d80*_0x1b85ff,_0x1d2cef=_0x34faf8*_0x1b85ff,_0x7c5117=_0x488def[0x0]*_0x2d9ec8+_0x22b549[0x0]*_0x1950c2+_0x559655[0x0]*_0x381896+_0x429294[0x0]*_0x1d2cef,_0x406c93=_0x488def[0x1]*_0x2d9ec8+_0x22b549[0x1]*_0x1950c2+_0x559655[0x1]*_0x381896+_0x429294[0x1]*_0x1d2cef;return this[_0x55f7f6(0xe7)](_0x7c5117,_0x406c93);}},{'key':'_calcUV','value':function(_0x48d8a9,_0x539700){var _0x542906=_0x5f51c2;return[+_0x48d8a9,+_0x539700,Math[_0x542906(0x23e)](_0x48d8a9*_0x48d8a9+_0x539700*_0x539700)];}},{'key':_0x5f51c2(0x1ac),'value':function(_0x196625,_0x380465){var _0x1a867d=_0x5f51c2;if(!this[_0x1a867d(0x21a)](_0x196625,_0x380465))return null;var _0x5c07ef=this[_0x1a867d(0x20a)](_0x196625,_0x380465);return this[_0x1a867d(0x1ec)](_0x5c07ef['x'],_0x5c07ef['y']);}},{'key':'isInExtent','value':function(_0x13e219,_0x48fcf8){var _0x107334=_0x5f51c2;return _0x13e219>=this[_0x107334(0x200)]&&_0x13e219<=this[_0x107334(0x10e)]&&_0x48fcf8>=this[_0x107334(0x17b)]&&_0x48fcf8<=this[_0x107334(0xef)];}},{'key':'getRandomLatLng','value':function(){var _0x246429=_0x5f51c2,_0x1c6305=_0x4ec9b2(this[_0x246429(0x200)],this[_0x246429(0x10e)]);return{'lat':_0x4ec9b2(this[_0x246429(0x17b)],this[_0x246429(0xef)]),'lng':_0x1c6305};}}]),_0x36a1df;}();function _0x4ec9b2(_0x599516,_0x1a539f){var _0x4e53e2=_0x59a3fa;return _0x599516+Math[_0x4e53e2(0x208)]()*(_0x1a539f-_0x599516);}function _0x46809c(_0x49fca8){var _0x2cc90a=function(){var _0x45662b=a0_0xd658;if(_0x45662b(0xf5)==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect['construct'][_0x45662b(0x1cc)])return!0x1;if(_0x45662b(0xdf)==typeof Proxy)return!0x0;try{return Boolean[_0x45662b(0xe6)]['valueOf']['call'](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x256f9a){return!0x1;}}();return function(){var _0x5606b2=a0_0xd658,_0x5efe30,_0x32f04e=_0x1839e4()(_0x49fca8);if(_0x2cc90a){var _0x28c222=_0x1839e4()(this)['constructor'];_0x5efe30=Reflect[_0x5606b2(0x12a)](_0x32f04e,arguments,_0x28c222);}else _0x5efe30=_0x32f04e[_0x5606b2(0x1fb)](this,arguments);return _0x10b953()(this,_0x5efe30);};}var _0x14222b=function(_0x59ce51){var _0x53f03e=_0x59a3fa;_0x306742()(_0x5105d7,_0x59ce51);var _0x3d810c=_0x46809c(_0x5105d7);function _0x5105d7(){var _0x4a8869=a0_0xd658,_0x58cae0,_0xea7b45=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x891cf8()(this,_0x5105d7),(_0x58cae0=_0x3d810c[_0x4a8869(0x103)](this,_0xea7b45))[_0x4a8869(0x1ea)](_0xea7b45),_0x58cae0['canvas']=null,_0x58cae0;}return _0x1851c2()(_0x5105d7,[{'key':_0x53f03e(0x1ea),'value':function(_0x4bbd90){var _0x48ee24=_0x53f03e;this['calc_speedRate']=[0x0,0x0],this[_0x48ee24(0xe9)]=[],this[_0x48ee24(0x15f)]=_0x4bbd90['speedRate']||0x32,this['_particlesNumber']=_0x4bbd90[_0x48ee24(0x1cf)]||0x4e20,this[_0x48ee24(0x177)]=_0x4bbd90[_0x48ee24(0x20b)]||0x78,this[_0x48ee24(0x21f)]=0x3e8/(_0x4bbd90['frameRate']||0xa),this[_0x48ee24(0x238)]=_0x5ea7fd[_0x48ee24(0x1d5)](this['options']['pointerEvents'],!0x1),this['color']=_0x4bbd90[_0x48ee24(0x124)]||_0x48ee24(0xf2),this[_0x48ee24(0x135)]=_0x4bbd90[_0x48ee24(0x135)]||0x1,this['fixedHeight']=_0x5ea7fd[_0x48ee24(0x1d5)](_0x4bbd90['fixedHeight'],0x0),this[_0x48ee24(0x110)]=_0x5ea7fd[_0x48ee24(0x1d5)](_0x4bbd90[_0x48ee24(0x110)],!0x1);}},{'key':_0x53f03e(0x1c8),'get':function(){var _0x3822b3=_0x53f03e;return this[_0x3822b3(0x145)];}},{'key':_0x53f03e(0x191),'get':function(){var _0x4845de=_0x53f03e;return this[_0x4845de(0xd7)][_0x4845de(0xe1)][_0x4845de(0x145)]['clientWidth'];}},{'key':_0x53f03e(0xda),'get':function(){var _0x5080ba=_0x53f03e;return this[_0x5080ba(0xd7)][_0x5080ba(0xe1)][_0x5080ba(0x145)][_0x5080ba(0x22a)];}},{'key':_0x53f03e(0x1d2),'get':function(){var _0x3ae419=_0x53f03e;return this[_0x3ae419(0x238)];},'set':function(_0x5be4ea){var _0x300984=_0x53f03e;this[_0x300984(0x238)]=_0x5be4ea,this[_0x300984(0x145)]&&(this['canvas'][_0x300984(0x1d4)][_0x300984(0x1e3)]=_0x5be4ea?_0x300984(0x104):_0x300984(0x15e));}},{'key':_0x53f03e(0x15f),'get':function(){return this['_speedRate'];},'set':function(_0x34d651){var _0x2ba8f5=_0x53f03e;this[_0x2ba8f5(0x249)]=0x64*(0x64-(_0x34d651>0x63?0x63:_0x34d651)),this[_0x2ba8f5(0xf9)]();}},{'key':'particlesNumber','get':function(){return this['_particlesNumber'];},'set':function(_0x2bcd16){var _0x46e485=_0x53f03e,_0x4bde2c=this;this[_0x46e485(0x17f)]=_0x2bcd16,clearTimeout(this[_0x46e485(0x150)]),this[_0x46e485(0x150)]=setTimeout(function(){var _0x411183=_0x46e485;_0x4bde2c[_0x411183(0x119)]();},0x1f4);}},{'key':_0x53f03e(0x20b),'get':function(){var _0x17b081=_0x53f03e;return this[_0x17b081(0x177)];},'set':function(_0x9855f3){var _0x47437a=_0x53f03e,_0x48a070=this;this[_0x47437a(0x177)]=_0x9855f3,clearTimeout(this[_0x47437a(0x150)]),this[_0x47437a(0x150)]=setTimeout(function(){var _0x48403f=_0x47437a;_0x48a070[_0x48403f(0x119)]();},0x1f4);}},{'key':_0x53f03e(0x1e0),'get':function(){var _0x58140f=_0x53f03e;return this[_0x58140f(0x12b)];},'set':function(_0x38e612){var _0x35d90b=_0x53f03e;this[_0x35d90b(0xe2)](_0x38e612);}},{'key':_0x53f03e(0x1cd),'value':function(_0x44d007){var _0x251caf=_0x53f03e;_0x44d007?this[_0x251caf(0x144)]():(this['windData']&&(this[_0x251caf(0xf7)]['data']=this[_0x251caf(0x12b)]),this[_0x251caf(0x188)]());}},{'key':_0x53f03e(0x12e),'value':function(){}},{'key':_0x53f03e(0x144),'value':function(){var _0x1663e2=_0x53f03e;this[_0x1663e2(0x145)]=this[_0x1663e2(0x1c4)](),this[_0x1663e2(0x140)]=this[_0x1663e2(0x145)][_0x1663e2(0x1bc)]('2d'),this['bindEvent'](),this[_0x1663e2(0xf7)][_0x1663e2(0x1e0)]&&this[_0x1663e2(0xe2)](this[_0x1663e2(0xf7)]['data']);}},{'key':_0x53f03e(0x188),'value':function(){var _0x2dd6bf=_0x53f03e;this[_0x2dd6bf(0x1d6)](),this[_0x2dd6bf(0x1af)](),this[_0x2dd6bf(0x145)]&&(this[_0x2dd6bf(0xd7)][_0x2dd6bf(0xf4)][_0x2dd6bf(0x1b7)](this[_0x2dd6bf(0x145)]),delete this[_0x2dd6bf(0x145)]);}},{'key':'_createCanvas','value':function(){var _0x4dcd44=_0x53f03e,_0x4aaa67=document[_0x4dcd44(0x173)]('canvas');_0x4aaa67['style'][_0x4dcd44(0x11a)]=_0x4dcd44(0x22e),_0x4aaa67[_0x4dcd44(0x1d4)]['top']='0px',_0x4aaa67[_0x4dcd44(0x1d4)][_0x4dcd44(0x239)]=_0x4dcd44(0x174),_0x4aaa67['style'][_0x4dcd44(0x1a9)]=_0x4dcd44(0x179),_0x4aaa67[_0x4dcd44(0x1d4)][_0x4dcd44(0x1d8)]=_0x4dcd44(0x179),_0x4aaa67['style'][_0x4dcd44(0x1d2)]=this[_0x4dcd44(0x238)]?'auto':_0x4dcd44(0x15e),_0x4aaa67[_0x4dcd44(0x1d4)][_0x4dcd44(0x1d0)]=0xa,_0x4aaa67[_0x4dcd44(0x195)]('id',_0x4dcd44(0x1a2)),_0x4aaa67[_0x4dcd44(0x195)](_0x4dcd44(0x143),_0x4dcd44(0x1a2)),this[_0x4dcd44(0xd7)]['container'][_0x4dcd44(0x120)](_0x4aaa67);var _0x107fa8=this[_0x4dcd44(0xd7)]['scene'];return _0x4aaa67[_0x4dcd44(0x1a9)]=_0x107fa8[_0x4dcd44(0x145)][_0x4dcd44(0x1c1)],_0x4aaa67[_0x4dcd44(0x1d8)]=_0x107fa8[_0x4dcd44(0x145)][_0x4dcd44(0x22a)],_0x4aaa67;}},{'key':_0x53f03e(0x204),'value':function(){var _0x46c24f=_0x53f03e;this[_0x46c24f(0x145)]&&(this[_0x46c24f(0x145)][_0x46c24f(0x1a9)]=this[_0x46c24f(0x191)],this[_0x46c24f(0x145)][_0x46c24f(0x1d8)]=this['canvasHeight']);}},{'key':_0x53f03e(0x18b),'value':function(){var _0x326e5c=_0x53f03e,_0x4a298a=this,_0x3d20aa=Date[_0x326e5c(0x1e7)]();!function _0x49605c(){var _0x2ad8ea=_0x326e5c;_0x4a298a[_0x2ad8ea(0x1c3)]=window['requestAnimationFrame'](_0x49605c);var _0x318179=Date[_0x2ad8ea(0x1e7)](),_0x3ce35d=_0x318179-_0x3d20aa;_0x3ce35d>_0x4a298a[_0x2ad8ea(0x21f)]&&(_0x3d20aa=_0x318179-_0x3ce35d%_0x4a298a[_0x2ad8ea(0x21f)],_0x4a298a[_0x2ad8ea(0x180)]());}(),window[_0x326e5c(0x1b1)](_0x326e5c(0x204),this[_0x326e5c(0x204)][_0x326e5c(0x236)](this),!0x1),this[_0x326e5c(0x14f)]=!0x1,this[_0x326e5c(0x245)]=!0x1,this[_0x326e5c(0xd7)]['on'](_0x1dc308['EventType'][_0x326e5c(0x1db)],this[_0x326e5c(0x20e)],this),this[_0x326e5c(0xd7)]['on'](_0x1dc308[_0x326e5c(0x222)][_0x326e5c(0x220)],this[_0x326e5c(0x126)],this),this[_0x326e5c(0xd7)]['on'](_0x1dc308[_0x326e5c(0x222)][_0x326e5c(0x166)],this[_0x326e5c(0xd5)],this),this[_0x326e5c(0xd7)]['on'](_0x1dc308[_0x326e5c(0x222)]['mouseMove'],this[_0x326e5c(0x213)],this);}},{'key':'unbindEvent','value':function(){var _0x1cbcb3=_0x53f03e;window['cancelAnimationFrame'](this[_0x1cbcb3(0x1c3)]),delete this[_0x1cbcb3(0x1c3)],window['removeEventListener'](_0x1cbcb3(0x204),this[_0x1cbcb3(0x204)]),this['_map'][_0x1cbcb3(0x105)](_0x1dc308[_0x1cbcb3(0x222)]['wheel'],this[_0x1cbcb3(0x20e)],this),this[_0x1cbcb3(0xd7)]['off'](_0x1dc308[_0x1cbcb3(0x222)][_0x1cbcb3(0x220)],this[_0x1cbcb3(0x126)],this),this[_0x1cbcb3(0xd7)][_0x1cbcb3(0x105)](_0x1dc308['EventType'][_0x1cbcb3(0x166)],this['_onMouseUpEvent'],this),this[_0x1cbcb3(0xd7)][_0x1cbcb3(0x105)](_0x1dc308['EventType'][_0x1cbcb3(0x198)],this[_0x1cbcb3(0x213)],this);}},{'key':_0x53f03e(0x20e),'value':function(_0x531a40){var _0x7ad01d=_0x53f03e,_0xe609e3=this;clearTimeout(this['refreshTimer']),this['show']&&this[_0x7ad01d(0x145)]&&(this[_0x7ad01d(0x145)][_0x7ad01d(0x1d4)][_0x7ad01d(0x234)]=_0x7ad01d(0x1c9),this[_0x7ad01d(0x167)]=setTimeout(function(){var _0x1bd5ae=_0x7ad01d;_0xe609e3[_0x1bd5ae(0x1bd)]&&(_0xe609e3[_0x1bd5ae(0x119)](),_0xe609e3[_0x1bd5ae(0x145)][_0x1bd5ae(0x1d4)]['visibility']='visible');},0xc8));}},{'key':_0x53f03e(0x126),'value':function(_0x4cd511){this['mouse_down']=!0x0;}},{'key':_0x53f03e(0x213),'value':function(_0x1ea626){var _0x47c701=_0x53f03e;this[_0x47c701(0x1bd)]&&this[_0x47c701(0x145)]&&this[_0x47c701(0x14f)]&&(this['canvas'][_0x47c701(0x1d4)][_0x47c701(0x234)]=_0x47c701(0x1c9),this[_0x47c701(0x245)]=!0x0);}},{'key':_0x53f03e(0xd5),'value':function(_0x1f7408){var _0x137645=_0x53f03e;this[_0x137645(0x1bd)]&&this[_0x137645(0x145)]&&(this[_0x137645(0x14f)]&&this[_0x137645(0x245)]&&this[_0x137645(0x119)](),this[_0x137645(0x145)][_0x137645(0x1d4)][_0x137645(0x234)]=_0x137645(0x1e4),this[_0x137645(0x14f)]=!0x1,this['mouse_move']=!0x1);}},{'key':_0x53f03e(0x119),'value':function(){var _0x4a9e70=_0x53f03e;this['show']&&this[_0x4a9e70(0x162)]&&(this[_0x4a9e70(0xe9)]=[],this[_0x4a9e70(0x131)]());}},{'key':'updateDate','value':function(_0x1f64ed){var _0x506fbe=_0x53f03e;this[_0x506fbe(0x1d6)](),this[_0x506fbe(0x12b)]=_0x1f64ed,this[_0x506fbe(0x162)]=new _0x12aa42(this[_0x506fbe(0x12b)],this['reverseY']),this[_0x506fbe(0x131)]();}},{'key':_0x53f03e(0x131),'value':function(){var _0x5d8a0a=_0x53f03e;this[_0x5d8a0a(0xf9)]();for(var _0x21a4c4=0x0;_0x21a4c4<this['particlesNumber'];_0x21a4c4++){var _0x27725b=this[_0x5d8a0a(0x240)](new _0x26eed9());this[_0x5d8a0a(0xe9)][_0x5d8a0a(0x1e9)](_0x27725b);}this[_0x5d8a0a(0x140)][_0x5d8a0a(0x100)]='rgba(0,\x200,\x200,\x200.97)',this[_0x5d8a0a(0x140)][_0x5d8a0a(0xfe)]=0.6,this[_0x5d8a0a(0x180)]();}},{'key':_0x53f03e(0xf9),'value':function(){var _0x340c34=_0x53f03e;this[_0x340c34(0x162)]&&(this[_0x340c34(0x129)]=[(this['windField']['xmax']-this['windField'][_0x340c34(0x200)])/this['speedRate'],(this[_0x340c34(0x162)][_0x340c34(0xef)]-this[_0x340c34(0x162)]['ymin'])/this['speedRate']]);}},{'key':_0x53f03e(0x180),'value':function(){var _0x3fa5bb=_0x53f03e,_0x25d37c=this;if(this[_0x3fa5bb(0x1bd)]&&!(this['particles'][_0x3fa5bb(0x22c)]<=0x0)){var _0x4b3eb9=null,_0x26b13a=null,_0x40e986=null;this[_0x3fa5bb(0xe9)][_0x3fa5bb(0x248)](function(_0x1333f0){var _0x14e2a7=_0x3fa5bb;if(_0x1333f0[_0x14e2a7(0x227)]<=0x0&&_0x25d37c[_0x14e2a7(0x240)](_0x1333f0),_0x1333f0[_0x14e2a7(0x227)]>0x0){var _0x3a18b5=_0x1333f0['tlng'],_0x56620c=_0x1333f0[_0x14e2a7(0x1c6)];(_0x40e986=_0x25d37c[_0x14e2a7(0x162)][_0x14e2a7(0x1ac)](_0x3a18b5,_0x56620c))?(_0x4b3eb9=_0x3a18b5+_0x25d37c[_0x14e2a7(0x129)][0x0]*_0x40e986[0x0],_0x26b13a=_0x56620c+_0x25d37c[_0x14e2a7(0x129)][0x1]*_0x40e986[0x1],_0x1333f0[_0x14e2a7(0x1ff)]=_0x3a18b5,_0x1333f0[_0x14e2a7(0x16f)]=_0x56620c,_0x1333f0[_0x14e2a7(0x1c2)]=_0x4b3eb9,_0x1333f0[_0x14e2a7(0x1c6)]=_0x26b13a,_0x1333f0[_0x14e2a7(0x227)]--):_0x1333f0[_0x14e2a7(0x227)]=0x0;}}),this['_drawLines']();}}},{'key':_0x53f03e(0x183),'value':function(_0x52c8e9,_0x1a258a,_0x3a3e08){var _0x27b718=_0x53f03e,_0x11b65b=_0x5ea7fd[_0x27b718(0x1f4)][_0x27b718(0x1f3)](_0x52c8e9,_0x1a258a,this[_0x27b718(0x1b0)]),_0x5b9bef=this[_0x27b718(0xd7)]['scene'];if(_0x5b9bef[_0x27b718(0x1b8)]===_0x5ea7fd[_0x27b718(0x118)][_0x27b718(0x1a4)]&&!new _0x5ea7fd[(_0x27b718(0x216))](_0x5b9bef['globe'][_0x27b718(0x1d9)],_0x5b9bef[_0x27b718(0x1e2)][_0x27b718(0x149)])['isPointVisible'](_0x11b65b))return _0x3a3e08[_0x27b718(0x227)]=0x0,null;var _0x48c30e=_0x5ea7fd['SceneTransforms'][_0x27b718(0xe4)](this['_map']['scene'],_0x11b65b);return _0x48c30e?[_0x48c30e['x'],_0x48c30e['y']]:null;}},{'key':_0x53f03e(0xdc),'value':function(){var _0x19a7f2=_0x53f03e,_0xc2e420=this,_0x385a45=this['particles'];this[_0x19a7f2(0x140)]['lineWidth']=_0xc2e420[_0x19a7f2(0x135)],this[_0x19a7f2(0x140)]['globalCompositeOperation']=_0x19a7f2(0x14a),this[_0x19a7f2(0x140)][_0x19a7f2(0x20d)](0x0,0x0,this[_0x19a7f2(0x191)],this['canvasHeight']),this[_0x19a7f2(0x140)][_0x19a7f2(0x1de)]='lighter',this[_0x19a7f2(0x140)]['globalAlpha']=0.9,this[_0x19a7f2(0x140)]['beginPath'](),this['canvasContext']['strokeStyle']=this[_0x19a7f2(0x124)];var _0x4a8808=this[_0x19a7f2(0xd7)][_0x19a7f2(0xe1)][_0x19a7f2(0x1b8)]!==_0x5ea7fd[_0x19a7f2(0x118)][_0x19a7f2(0x1a4)];_0x385a45[_0x19a7f2(0x248)](function(_0x1711d3){var _0x2a06bf=_0x19a7f2,_0x17af32=_0xc2e420[_0x2a06bf(0x183)](_0x1711d3['lng'],_0x1711d3['lat'],_0x1711d3),_0x3327f5=_0xc2e420[_0x2a06bf(0x183)](_0x1711d3[_0x2a06bf(0x1c2)],_0x1711d3[_0x2a06bf(0x1c6)],_0x1711d3);if(null!=_0x17af32&&null!=_0x3327f5){var _0x4979a0=Math['abs'](_0x17af32[0x0]-_0x3327f5[0x0]);_0x4a8808&&_0x4979a0>=_0xc2e420[_0x2a06bf(0x191)]||(_0xc2e420[_0x2a06bf(0x140)][_0x2a06bf(0x17e)](_0x17af32[0x0],_0x17af32[0x1]),_0xc2e420[_0x2a06bf(0x140)][_0x2a06bf(0x14c)](_0x3327f5[0x0],_0x3327f5[0x1]));}}),this['canvasContext'][_0x19a7f2(0x207)]();}},{'key':'randomParticle','value':function(_0x5ae979){var _0x2b6746=_0x53f03e;for(var _0x525f5e,_0x36aeb2,_0x5a28de=0x0;_0x5a28de<0x1e&&(_0x525f5e=this['windField'][_0x2b6746(0x23a)](),!((_0x36aeb2=this['windField'][_0x2b6746(0x1ac)](_0x525f5e['lng'],_0x525f5e['lat']))&&_0x36aeb2[0x2]>0x0));_0x5a28de++);if(!_0x36aeb2)return _0x5ae979;var _0x16b5ed=_0x525f5e['lng']+this[_0x2b6746(0x129)][0x0]*_0x36aeb2[0x0],_0x5dcf47=_0x525f5e[_0x2b6746(0x16f)]+this[_0x2b6746(0x129)][0x1]*_0x36aeb2[0x1];return _0x5ae979[_0x2b6746(0x1ff)]=_0x525f5e[_0x2b6746(0x1ff)],_0x5ae979[_0x2b6746(0x16f)]=_0x525f5e['lat'],_0x5ae979[_0x2b6746(0x1c2)]=_0x16b5ed,_0x5ae979[_0x2b6746(0x1c6)]=_0x5dcf47,_0x5ae979[_0x2b6746(0x227)]=Math[_0x2b6746(0x209)](Math['random']()*this[_0x2b6746(0x20b)]),_0x5ae979;}},{'key':_0x53f03e(0x1d6),'value':function(){var _0x18cd20=_0x53f03e;this[_0x18cd20(0xe9)]=[],delete this[_0x18cd20(0x162)],delete this[_0x18cd20(0x12b)];}}]),_0x5105d7;}(_0x1dc308[_0x59a3fa(0x1c8)][_0x59a3fa(0x16a)]);function _0x2c1fe1(_0x31efa4,_0x3f9c97){var _0x16b49f=_0x59a3fa;return _0x31efa4*Math['cos'](_0x5ea7fd[_0x16b49f(0x24b)]['toRadians'](_0x3f9c97));}function _0x4f0ed8(_0x419651,_0x36e139){var _0x577493=_0x59a3fa;return _0x419651*Math[_0x577493(0x1f7)](_0x5ea7fd[_0x577493(0x24b)][_0x577493(0x19e)](_0x36e139));}function _0x27a6c6(_0x52f41a,_0x4197db){var _0x24f6c0=_0x59a3fa;return Math[_0x24f6c0(0x23e)](Math['pow'](_0x52f41a,0x2)+Math[_0x24f6c0(0x141)](_0x4197db,0x2));}function _0x46d6e6(_0x377c84,_0x2e3a52){var _0x131c31=_0x59a3fa,_0x2afef2=_0x5ea7fd[_0x131c31(0x24b)][_0x131c31(0xec)](Math[_0x131c31(0x15a)](_0x2e3a52,_0x377c84));return _0x2afef2+=_0x2afef2<0x0?0x168:0x0;}_0x1dc308[_0x59a3fa(0x242)][_0x59a3fa(0x1dc)](_0x59a3fa(0x199),_0x14222b),_0x1dc308[_0x59a3fa(0x1c8)][_0x59a3fa(0x21c)]=_0x14222b,_0x1dc308[_0x59a3fa(0xe3)]=_0x328140;}]);}));