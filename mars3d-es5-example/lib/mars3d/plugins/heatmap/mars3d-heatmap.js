/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.7
 * 编译日期：2022-05-02 10:59:44
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x2ee934=_0x4688;(function(_0x41a34b,_0x76602){var _0x25ca45=_0x4688,_0x3f4eca=_0x41a34b();while(!![]){try{var _0xbe1abc=parseInt(_0x25ca45(0x128))/0x1*(-parseInt(_0x25ca45(0x110))/0x2)+-parseInt(_0x25ca45(0x12b))/0x3+parseInt(_0x25ca45(0xc1))/0x4*(-parseInt(_0x25ca45(0x10b))/0x5)+-parseInt(_0x25ca45(0x121))/0x6*(parseInt(_0x25ca45(0xf9))/0x7)+-parseInt(_0x25ca45(0x10f))/0x8+-parseInt(_0x25ca45(0xd7))/0x9*(-parseInt(_0x25ca45(0xc2))/0xa)+parseInt(_0x25ca45(0x116))/0xb;if(_0xbe1abc===_0x76602)break;else _0x3f4eca['push'](_0x3f4eca['shift']());}catch(_0x439000){_0x3f4eca['push'](_0x3f4eca['shift']());}}}(_0x1aaa,0x730fd));function _interopNamespace(_0x4ad77e){var _0x1502f3=_0x4688;if(_0x4ad77e&&_0x4ad77e[_0x1502f3(0xdd)])return _0x4ad77e;var _0x350826=Object[_0x1502f3(0x12a)](null);return _0x4ad77e&&Object[_0x1502f3(0x12f)](_0x4ad77e)['forEach'](function(_0x5bd990){var _0x591dce=_0x1502f3;if(_0x5bd990!==_0x591dce(0xee)){var _0x32c2c3=Object[_0x591dce(0x134)](_0x4ad77e,_0x5bd990);Object[_0x591dce(0x130)](_0x350826,_0x5bd990,_0x32c2c3[_0x591dce(0xe0)]?_0x32c2c3:{'enumerable':!![],'get':function(){return _0x4ad77e[_0x5bd990];}});}}),_0x350826[_0x1502f3(0xee)]=_0x4ad77e,_0x350826;}function _0x1aaa(){var _0x3b06a2=['x2fKzgvKsg9VAW','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','Ew1HEa','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','yM9KEq','CM91BMq','x21HCa','A2v5','CMvNAxn0zxi','y2XLyxi','ChvZAa','y3nZvgv4Da','C2v0uhjVDg90ExbLt2y','Bg9UBgf0mM1LCMnHDg9Y','mZe2ndrTzLDxz2y','x2XHC3rFAgvHDerHDge','Bgf5zxi','y29Uy2f0','x2DYyxbOAwm','zgvMyxvSDfzHBhvL','x19LC01VzhvSzq','CMvTB3zLq2HPBgq','yMX1zq','z2v0','uMvUzgvYu3rHDgu','z2v0uMvJDgfUz2XL','B3b0Aw9UCW','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','z3jLzw4','ChjVDg90ExbL','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','uKvqtefdrq','u3rLBMnPBez1BMn0Aw9U','z3jHCgHPyW','q29SB3i','vxrPBa','zgvMyxvSDa','qMfZzuXHEwvY','y29UC3rYDwn0','x2nYzwf0zufYy0DYyxbOAwm','CMfKAxvZ','x3bVC2L0Aw9UCW','CMvTB3zLtgf5zxi','y2XPzw50v2LKDgG','Ew1PBG','CMDIkde0mcWXndaSmtqWkq','ChG7','ntG1nJeZEeHoANjL','Bwf4q2fUDMfZu2L6zq','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','Dg9bCNjHEq','yxbWBhK','quXqsefFqKXftKq','Cg9PBNrZ','q2vZAxvT','tg5Ntgf0ug9PBNq','x2XHEwvY','BwLUq2fUDMfZu2L6zq','Bgf0','AxngB3jTyxq','r3jHCgHPy0XHEwvY','uMvJDgfUz2XLuhjPBwL0AxzL','BwvYy2f0B3iYBg9UBgf0','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','Bwf4','odm4ndmWEvnXtgDk','Bg5N','y29UDgfPBMvY','zgLMzKHLAwDODa','ntyXmdeXmMfZt3PfDq','mJuYmJC2uwjdtuvW','x21cB3vUzhnnyxG','Eg1PBG','BwvYz2u','zM9YrwfJAa','yMX1CG','mZCWnJq4mZbnDe9XC2e','zgL2','C3r5Bgu','y2XPzw50sgvPz2H0','ywrKug9ZAxrPB24','BwLU','CMDIkdiXnIWYmtySmJe2kq','C3bSAxroDw0','x3jLBw92zwriB29R','zNvUy3rPB24','x3nLDe9WDgLVBNniB29R','nJb3u09ntum','zNjVBurLz3jLzxm','x2HLyxq','z2v0uhjVDg90ExbLt2y','DMfSDwu','twf0zxjPywW','uMvJDgfUz2XL','ngryA01wsW','Dg9eyxrHvvjm','y3jLyxrL','mJu5ndi3mu9lrePjrq','Cg9ZAxrPB25Z','x3jLy3rHBMDSzq','AgvHDfn0EwXL','A2v5CW','zgvMAw5LuhjVCgvYDhK','x2nYzwf0zuDYyxbOAwm','zw51BwvYywjSzq','y2fSBa','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','DMfSDwvpzG','EwvSBg93','ChG7cIaGicaGicaGAgvPz2H0oG','CMDIkdi1nsWYntuSmJu1kq','CMvK','qMXLBMrPBMDtDgf0zq','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','zgvMAw5LuhjVCgvYDgLLCW','x19WCM90B19F','CMvJDgfUz2XL','BgvUz3rO','rg9TvxrPBa','tgf5zxjvDgLS','AgvPz2H0','AgvHDa','u3rLBMnPBe9WzxjHDgLVBG','y29VCMrPBMf0zxm','C2v0rgf0yq','z3jHzgLLBNrbCMm','quXxqvLt','s0vfua','y29UC3rYDwn0B3i','y29UzMLNDxjL','x3jLBMrLCMvY','ywrKr3jHCgHPyW','ywjZ','y2fUDMfZ','sgvHDeXHEwvY','mJbOC1LIB2q','mJqXmhvsvK50Da','zMX5vg8','C2HVDW','ug9PBNruCMfUCW','Aw1Hz2uVCg5N','Eg1HEa','x2XHC3rFBujVDw5KCW'];_0x1aaa=function(){return _0x3b06a2;};return _0x1aaa();}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x531aa2,_0x210b38){var _0x410fc9=_0x4688,_0x25de41=Object[_0x410fc9(0x12f)](_0x531aa2);if(Object['getOwnPropertySymbols']){var _0x46cc3a=Object[_0x410fc9(0xe8)](_0x531aa2);_0x210b38&&(_0x46cc3a=_0x46cc3a['filter'](function(_0x31eb0e){var _0x41d916=_0x410fc9;return Object[_0x41d916(0x134)](_0x531aa2,_0x31eb0e)[_0x41d916(0x132)];})),_0x25de41['push'][_0x410fc9(0xfd)](_0x25de41,_0x46cc3a);}return _0x25de41;}function _objectSpread2(_0x561b9f){var _0x5969ee=_0x4688;for(var _0x30dc90=0x1;_0x30dc90<arguments[_0x5969ee(0xaf)];_0x30dc90++){var _0x2846a0=null!=arguments[_0x30dc90]?arguments[_0x30dc90]:{};_0x30dc90%0x2?ownKeys(Object(_0x2846a0),!0x0)[_0x5969ee(0x114)](function(_0x217a25){_defineProperty(_0x561b9f,_0x217a25,_0x2846a0[_0x217a25]);}):Object[_0x5969ee(0xfb)]?Object[_0x5969ee(0x13c)](_0x561b9f,Object[_0x5969ee(0xfb)](_0x2846a0)):ownKeys(Object(_0x2846a0))[_0x5969ee(0x114)](function(_0x5bab64){var _0x155106=_0x5969ee;Object[_0x155106(0x130)](_0x561b9f,_0x5bab64,Object['getOwnPropertyDescriptor'](_0x2846a0,_0x5bab64));});}return _0x561b9f;}function _classCallCheck(_0x306f70,_0x33cddd){if(!(_0x306f70 instanceof _0x33cddd))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _defineProperties(_0x4e54ab,_0x4a197f){var _0x4d08d7=_0x4688;for(var _0x11ae29=0x0;_0x11ae29<_0x4a197f[_0x4d08d7(0xaf)];_0x11ae29++){var _0xb93cf0=_0x4a197f[_0x11ae29];_0xb93cf0[_0x4d08d7(0x132)]=_0xb93cf0[_0x4d08d7(0x132)]||![],_0xb93cf0['configurable']=!![];if(_0x4d08d7(0x125)in _0xb93cf0)_0xb93cf0['writable']=!![];Object[_0x4d08d7(0x130)](_0x4e54ab,_0xb93cf0[_0x4d08d7(0xd0)],_0xb93cf0);}}function _createClass(_0x9a6d7b,_0x350e57,_0x422d90){var _0x52e7ec=_0x4688;if(_0x350e57)_defineProperties(_0x9a6d7b[_0x52e7ec(0xe6)],_0x350e57);if(_0x422d90)_defineProperties(_0x9a6d7b,_0x422d90);return Object[_0x52e7ec(0x130)](_0x9a6d7b,_0x52e7ec(0xe6),{'writable':![]}),_0x9a6d7b;}function _defineProperty(_0x539938,_0x1e1b71,_0x8adf4a){var _0x4bedcd=_0x4688;return _0x1e1b71 in _0x539938?Object[_0x4bedcd(0x130)](_0x539938,_0x1e1b71,{'value':_0x8adf4a,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x539938[_0x1e1b71]=_0x8adf4a,_0x539938;}function _inherits(_0x590c36,_0x5c6cdc){var _0x3a69a5=_0x4688;if(typeof _0x5c6cdc!==_0x3a69a5(0x11f)&&_0x5c6cdc!==null)throw new TypeError(_0x3a69a5(0xe7));_0x590c36[_0x3a69a5(0xe6)]=Object['create'](_0x5c6cdc&&_0x5c6cdc[_0x3a69a5(0xe6)],{'constructor':{'value':_0x590c36,'writable':!![],'configurable':!![]}}),Object[_0x3a69a5(0x130)](_0x590c36,_0x3a69a5(0xe6),{'writable':![]});if(_0x5c6cdc)_setPrototypeOf(_0x590c36,_0x5c6cdc);}function _getPrototypeOf(_0x1fd80f){var _0xc6c4b8=_0x4688;return _getPrototypeOf=Object[_0xc6c4b8(0xd5)]?Object['getPrototypeOf']:function _0x90bae(_0x44c711){var _0x583a26=_0xc6c4b8;return _0x44c711[_0x583a26(0x13d)]||Object[_0x583a26(0x124)](_0x44c711);},_getPrototypeOf(_0x1fd80f);}function _setPrototypeOf(_0x37e54c,_0x1a12bd){return _setPrototypeOf=Object['setPrototypeOf']||function _0x1aa9ea(_0x2bd8c9,_0x40fef6){var _0x4cb453=_0x4688;return _0x2bd8c9[_0x4cb453(0x13d)]=_0x40fef6,_0x2bd8c9;},_setPrototypeOf(_0x37e54c,_0x1a12bd);}function _isNativeReflectConstruct(){var _0x48a33d=_0x4688;if(typeof Reflect==='undefined'||!Reflect['construct'])return![];if(Reflect[_0x48a33d(0xf0)]['sham'])return![];if(typeof Proxy===_0x48a33d(0x11f))return!![];try{return Boolean[_0x48a33d(0xe6)][_0x48a33d(0x135)][_0x48a33d(0x133)](Reflect[_0x48a33d(0xf0)](Boolean,[],function(){})),!![];}catch(_0x17825f){return![];}}function _assertThisInitialized(_0x2621e3){var _0x366464=_0x4688;if(_0x2621e3===void 0x0)throw new ReferenceError(_0x366464(0xe4));return _0x2621e3;}function _possibleConstructorReturn(_0x4ba1eb,_0x476838){var _0x3a9b2d=_0x4688;if(_0x476838&&(typeof _0x476838==='object'||typeof _0x476838===_0x3a9b2d(0x11f)))return _0x476838;else{if(_0x476838!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x4ba1eb);}function _createSuper(_0x26e44b){var _0x47ff5b=_isNativeReflectConstruct();return function _0x5392da(){var _0x5f190d=_0x4688,_0x31407f=_getPrototypeOf(_0x26e44b),_0x337f17;if(_0x47ff5b){var _0x3e00e7=_getPrototypeOf(this)[_0x5f190d(0xba)];_0x337f17=Reflect[_0x5f190d(0xf0)](_0x31407f,arguments,_0x3e00e7);}else _0x337f17=_0x31407f[_0x5f190d(0xfd)](this,arguments);return _possibleConstructorReturn(this,_0x337f17);};}var HeatMaterial=_0x2ee934(0x13b),Cesium=mars3d__namespace[_0x2ee934(0x100)],BaseLayer=mars3d__namespace[_0x2ee934(0xd9)][_0x2ee934(0xef)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x2ee934(0xdf),0.6:_0x2ee934(0xe5),0.8:_0x2ee934(0x136),0.9:_0x2ee934(0x139)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance']['VERTEX_FORMAT']},HeatLayer=function(_0x155666){var _0x2a5837=_0x2ee934;_inherits(_0x481d4d,_0x155666);var _0x1c5eed=_createSuper(_0x481d4d);function _0x481d4d(){var _0x361ca4=_0x4688,_0x5b7cae,_0x14c6ab=arguments[_0x361ca4(0xaf)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x481d4d),_0x5b7cae=_0x1c5eed[_0x361ca4(0x133)](this,_0x14c6ab),_0x5b7cae[_0x361ca4(0xe3)][_0x361ca4(0xfa)]=Cesium[_0x361ca4(0xdc)](_0x5b7cae[_0x361ca4(0xe3)]['maxCanvasSize'],document[_0x361ca4(0xcd)][_0x361ca4(0xf5)]),_0x5b7cae[_0x361ca4(0xe3)]['maxCanvasSize']=Math[_0x361ca4(0x11b)](_0x5b7cae[_0x361ca4(0xe3)][_0x361ca4(0xfa)],0x1388),_0x5b7cae['options'][_0x361ca4(0x103)]=Cesium['defaultValue'](_0x5b7cae[_0x361ca4(0xe3)][_0x361ca4(0x103)],document[_0x361ca4(0xcd)][_0x361ca4(0x119)]),_0x5b7cae['options']['minCanvasSize']=Math[_0x361ca4(0x10a)](_0x5b7cae[_0x361ca4(0xe3)][_0x361ca4(0x103)],0x2bc),_0x5b7cae['options'][_0x361ca4(0x12e)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x5b7cae[_0x361ca4(0xe3)][_0x361ca4(0x12e)]||{}),_0x5b7cae[_0x361ca4(0xe3)][_0x361ca4(0x118)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x5b7cae[_0x361ca4(0xe3)][_0x361ca4(0x118)]||{}),_0x5b7cae;}return _createClass(_0x481d4d,[{'key':_0x2a5837(0xd9),'get':function _0x373a5f(){var _0x51769a=_0x2a5837;return this[_0x51769a(0x102)];}},{'key':_0x2a5837(0x12e),'get':function _0x2996ca(){var _0x4f1848=_0x2a5837;return this[_0x4f1848(0xe3)][_0x4f1848(0x12e)];},'set':function _0x26fe2b(_0x3d8591){var _0x37f490=_0x2a5837;this['options'][_0x37f490(0x12e)]=mars3d__namespace[_0x37f490(0xed)][_0x37f490(0x113)](this[_0x37f490(0xe3)][_0x37f490(0x12e)],_0x3d8591),this[_0x37f490(0x123)]&&this[_0x37f490(0x123)][_0x37f490(0xbb)](this[_0x37f490(0xe3)][_0x37f490(0x12e)]);}},{'key':'style','get':function _0x4ad644(){var _0x346fac=_0x2a5837;return this[_0x346fac(0xe3)][_0x346fac(0x118)];},'set':function _0x548316(_0x3da082){var _0x115813=_0x2a5837;this[_0x115813(0xe3)][_0x115813(0x118)]=mars3d__namespace['Util'][_0x115813(0x113)](this[_0x115813(0xe3)][_0x115813(0x118)],_0x3da082);}},{'key':'positions','get':function _0xfbd164(){var _0x43ca54=_0x2a5837;return this[_0x43ca54(0xf3)];},'set':function _0x1e44b4(_0x4f3497){var _0x4d7608=_0x2a5837;this[_0x4d7608(0xf3)]=_0x4f3497,this[_0x4d7608(0xcc)]();}},{'key':_0x2a5837(0xb5),'get':function _0x121e71(){var _0x554cea=_0x2a5837,_0x50d2bc=[];return this[_0x554cea(0xff)]['forEach'](function(_0x196e52){var _0x1ac7bd=_0x554cea;_0x50d2bc[_0x1ac7bd(0xd3)](_0x196e52[_0x1ac7bd(0xfc)]());}),_0x50d2bc;}},{'key':_0x2a5837(0x13e),'get':function _0x52c089(){var _0x2fe63b=_0x2a5837;return this[_0x2fe63b(0x12d)];}},{'key':_0x2a5837(0x120),'value':function _0x2db4c7(_0x1ab753){var _0x5b6687=_0x2a5837;_0x1ab753[_0x5b6687(0x12c)]&&(this[_0x5b6687(0x12c)]=_0x1ab753[_0x5b6687(0x12c)]);}},{'key':'_mountedHook','value':function _0x3b8367(){var _0x3bcb1d=_0x2a5837;this[_0x3bcb1d(0x102)]=new mars3d__namespace[(_0x3bcb1d(0xd9))][(_0x3bcb1d(0x106))]({'noLayerManage':!![]}),this[_0x3bcb1d(0x102)]['_mars3d_private']=!![];}},{'key':_0x2a5837(0xc9),'value':function _0x579f31(){var _0x1b2365=_0x2a5837;this[_0x1b2365(0xcf)]['addLayer'](this[_0x1b2365(0x102)]),this[_0x1b2365(0xe3)]['positions']&&(this['positions']=this[_0x1b2365(0xe3)]['positions']),this[_0x1b2365(0xe3)][_0x1b2365(0xc3)]&&this['flyToByAnimationEnd']();}},{'key':_0x2a5837(0x11e),'value':function _0x20bac0(){var _0x457f4c=_0x2a5837;this[_0x457f4c(0x12e)]['container']&&(this[_0x457f4c(0xcf)]['container'][_0x457f4c(0xde)](this[_0x457f4c(0x12e)][_0x457f4c(0x10d)]),delete this[_0x457f4c(0x12e)]['container']),this['clear'](),this[_0x457f4c(0xcf)][_0x457f4c(0xf4)](this[_0x457f4c(0x102)]);}},{'key':_0x2a5837(0x11a),'value':function _0x4a0e9a(_0x2c6195){var _0x1eb25d=_0x2a5837;this[_0x1eb25d(0xf3)]=this[_0x1eb25d(0xf3)]||[],this[_0x1eb25d(0xf3)]['push'](_0x2c6195),this[_0x1eb25d(0xcc)]();}},{'key':'clear','value':function _0x570057(){var _0x4b64de=_0x2a5837;this[_0x4b64de(0xdb)]&&(this[_0x4b64de(0x102)]['removeGraphic'](this[_0x4b64de(0xdb)],!![]),delete this['_graphic']);}},{'key':_0x2a5837(0xcc),'value':function _0x3f1561(){var _0x4c3209=_0x2a5837;if(!this[_0x4c3209(0xc4)]||!this[_0x4c3209(0xcf)]||!this[_0x4c3209(0x12c)]||this[_0x4c3209(0x12c)][_0x4c3209(0xaf)]===0x0)return this;var _0x3623e7=this['_getHeatCanvasImg']();return this[_0x4c3209(0x118)]['arc']?this[_0x4c3209(0xf1)](_0x3623e7):this[_0x4c3209(0x131)](_0x3623e7),this;}},{'key':'_getHeatCanvasImg','value':function _0x4bf347(){var _0x2b1cf2=_0x2a5837,_0x8fc1ea,_0x1edc54,_0x531d42=this['_positions'],_0xfc6161=[],_0x1c02ec,_0x4779a5,_0x55ad12,_0x32a29d;_0x531d42[_0x2b1cf2(0x114)](function(_0x16d476){var _0x1c1bf8=_0x2b1cf2,_0x363184=mars3d__namespace[_0x1c1bf8(0x101)]['parse'](_0x16d476);if(!_0x363184)return;_0x363184[_0x1c1bf8(0x125)]=_0x16d476[_0x1c1bf8(0x125)]||0x1,_0x1c02ec===undefined?(_0x1c02ec=_0x363184[_0x1c1bf8(0x10c)],_0x4779a5=_0x363184[_0x1c1bf8(0x10c)],_0x55ad12=_0x363184[_0x1c1bf8(0x104)],_0x32a29d=_0x363184[_0x1c1bf8(0x104)]):(_0x1c02ec=Math['min'](_0x1c02ec,_0x363184[_0x1c1bf8(0x10c)]),_0x4779a5=Math[_0x1c1bf8(0x10a)](_0x4779a5,_0x363184[_0x1c1bf8(0x10c)]),_0x55ad12=Math[_0x1c1bf8(0x11b)](_0x55ad12,_0x363184[_0x1c1bf8(0x104)]),_0x32a29d=Math[_0x1c1bf8(0x10a)](_0x32a29d,_0x363184[_0x1c1bf8(0x104)])),_0xfc6161['push'](_0x363184);});var _0x463179=this[_0x2b1cf2(0x12e)][_0x2b1cf2(0xf2)]*1.5,_0x65370a={'xmin':_0x1c02ec,'xmax':_0x4779a5,'ymin':_0x55ad12,'ymax':_0x32a29d},_0x3dccd1=getMercatorBounds(_0x65370a),_0x48f49c=Math[_0x2b1cf2(0xbe)](_0x3dccd1[_0x2b1cf2(0xc7)]-_0x3dccd1[_0x2b1cf2(0x112)]),_0x1e2f13=Math[_0x2b1cf2(0xbe)](_0x3dccd1['ymax']-_0x3dccd1['ymin']),_0x12f0f8=Math[_0x2b1cf2(0x10a)](_0x48f49c,_0x1e2f13),_0x38da36=Math[_0x2b1cf2(0x11b)](_0x48f49c,_0x1e2f13);this[_0x2b1cf2(0x111)]=_0x12f0f8;var _0x3552bd=0x1;if(_0x12f0f8>this[_0x2b1cf2(0xe3)][_0x2b1cf2(0xfa)])_0x3552bd=_0x12f0f8/this[_0x2b1cf2(0xe3)]['maxCanvasSize'],_0x38da36/_0x3552bd<this[_0x2b1cf2(0xe3)][_0x2b1cf2(0x103)]&&(_0x3552bd=_0x38da36/this[_0x2b1cf2(0xe3)][_0x2b1cf2(0x103)]);else _0x38da36<this[_0x2b1cf2(0xe3)][_0x2b1cf2(0x103)]&&(_0x3552bd=_0x38da36/this[_0x2b1cf2(0xe3)][_0x2b1cf2(0x103)],_0x12f0f8/_0x3552bd>this[_0x2b1cf2(0xe3)][_0x2b1cf2(0xfa)]&&(_0x3552bd=_0x12f0f8/this[_0x2b1cf2(0xe3)][_0x2b1cf2(0xfa)]));var _0x3c1ca5=_0x48f49c/_0x3552bd+_0x463179*0x2,_0x32f068=_0x1e2f13/_0x3552bd+_0x463179*0x2,_0x2e3bef=_0x463179*_0x3552bd;_0x3dccd1[_0x2b1cf2(0x112)]-=_0x2e3bef,_0x3dccd1[_0x2b1cf2(0xf6)]-=_0x2e3bef,_0x3dccd1[_0x2b1cf2(0xc7)]+=_0x2e3bef,_0x3dccd1[_0x2b1cf2(0xcb)]+=_0x2e3bef,_0x65370a=geLatLngBounds(_0x3dccd1),this[_0x2b1cf2(0x12d)]=Cesium[_0x2b1cf2(0x127)][_0x2b1cf2(0x122)](_0x65370a[_0x2b1cf2(0x112)],_0x65370a[_0x2b1cf2(0xf6)],_0x65370a[_0x2b1cf2(0xc7)],_0x65370a[_0x2b1cf2(0xcb)]);var _0x463028=(_0x8fc1ea=_0xfc6161[0x0][_0x2b1cf2(0x125)])!==null&&_0x8fc1ea!==void 0x0?_0x8fc1ea:0x1,_0x2beeac=(_0x1edc54=_0xfc6161[0x0]['value'])!==null&&_0x1edc54!==void 0x0?_0x1edc54:0x0,_0x37a888=[];_0xfc6161[_0x2b1cf2(0x114)](function(_0x15cb8d){var _0x31a686=_0x2b1cf2,_0x76b546=mars3d__namespace[_0x31a686(0xc5)][_0x31a686(0xd6)]([_0x15cb8d[_0x31a686(0x10c)],_0x15cb8d[_0x31a686(0x104)]]),_0x3271ad=_0x15cb8d[_0x31a686(0x125)]||0x1,_0x34f53c=Math['round']((_0x76b546[0x0]-_0x3dccd1[_0x31a686(0x112)])/_0x3552bd),_0x46b64f=Math[_0x31a686(0xce)]((_0x3dccd1[_0x31a686(0xcb)]-_0x76b546[0x1])/_0x3552bd);_0x463028=Math[_0x31a686(0x10a)](_0x463028,_0x3271ad),_0x2beeac=Math[_0x31a686(0x11b)](_0x2beeac,_0x3271ad),_0x37a888['push']({'x':_0x34f53c,'y':_0x46b64f,'value':_0x3271ad});});var _0x148e0f={'min':_0x2beeac,'max':_0x463028,'data':_0x37a888};this[_0x2b1cf2(0xd8)]=_0x148e0f;(!this[_0x2b1cf2(0xc8)]||_0x3dccd1[_0x2b1cf2(0x112)]!==this[_0x2b1cf2(0xc8)]['xmin']||_0x3dccd1[_0x2b1cf2(0xf6)]!==this[_0x2b1cf2(0xc8)][_0x2b1cf2(0xf6)]||_0x3dccd1[_0x2b1cf2(0xc7)]!==this[_0x2b1cf2(0xc8)][_0x2b1cf2(0xc7)]||_0x3dccd1[_0x2b1cf2(0xcb)]!==this['_last_mBounds'][_0x2b1cf2(0xcb)])&&(this['_last_mBounds']=_0x3dccd1,!this[_0x2b1cf2(0x12e)][_0x2b1cf2(0x10d)]&&(this[_0x2b1cf2(0x12e)][_0x2b1cf2(0x10d)]=mars3d__namespace[_0x2b1cf2(0xb0)]['create'](_0x2b1cf2(0x117),'mars3d-heatmap',this[_0x2b1cf2(0xcf)][_0x2b1cf2(0x10d)])),this[_0x2b1cf2(0x12e)][_0x2b1cf2(0x10d)][_0x2b1cf2(0x118)][_0x2b1cf2(0xd4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:'[_0x2b1cf2(0xda)](_0x3c1ca5,_0x2b1cf2(0x137))[_0x2b1cf2(0xda)](_0x32f068,_0x2b1cf2(0xf8)),!this[_0x2b1cf2(0x123)]?this['_heat']=h337__namespace[_0x2b1cf2(0x12a)](this[_0x2b1cf2(0x12e)]):this[_0x2b1cf2(0x123)][_0x2b1cf2(0xbb)](this[_0x2b1cf2(0x12e)]));this['_heat'][_0x2b1cf2(0xb6)](_0x148e0f);var _0x215ede=this['_heat'][_0x2b1cf2(0xbc)][_0x2b1cf2(0xbf)][_0x2b1cf2(0x129)](_0x2b1cf2(0xc6));return this['heatStyle']['container']&&(this[_0x2b1cf2(0xcf)][_0x2b1cf2(0x10d)][_0x2b1cf2(0xde)](this[_0x2b1cf2(0x12e)][_0x2b1cf2(0x10d)]),delete this[_0x2b1cf2(0x12e)][_0x2b1cf2(0x10d)]),_0x215ede;}},{'key':_0x2a5837(0x131),'value':function _0x570b87(_0x2bb1e5){var _0x52fc01=_0x2a5837;this[_0x52fc01(0xd2)](),this[_0x52fc01(0xdb)]=new mars3d__namespace[(_0x52fc01(0xeb))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this[_0x52fc01(0xe3)]),{},{'rectangle':this[_0x52fc01(0x12d)],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'material':new Cesium[(_0x52fc01(0x126))]({'fabric':{'uniforms':{'image':_0x2bb1e5},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x52fc01(0x102)]['addGraphic'](this[_0x52fc01(0xdb)]);}},{'key':'_createArcGraphic','value':function _0x29cc4a(_0x5dc123){var _0x21133c=_0x2a5837;this[_0x21133c(0xd2)](),this[_0x21133c(0x123)]['configure'](_objectSpread2(_objectSpread2({},this[_0x21133c(0x12e)]),{},{'radius':this['heatStyle'][_0x21133c(0xf2)]*this[_0x21133c(0x118)]['arcRadiusScale'],'blur':this[_0x21133c(0x12e)][_0x21133c(0x115)]*this[_0x21133c(0x118)]['arcBlurScale'],'gradient':this['heatStyle'][_0x21133c(0xb7)]||{0.25:'rgb(0,0,0)',0.55:_0x21133c(0xf7),0.85:_0x21133c(0x11c),0x1:_0x21133c(0x138)}}));var _0x242956=this[_0x21133c(0x123)][_0x21133c(0xbc)][_0x21133c(0xbf)][_0x21133c(0x129)]('image/png'),_0x1d4522=Cesium[_0x21133c(0xe1)]['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x21133c(0xea)][_0x21133c(0xb8)],'frontOperation':{'fail':Cesium['StencilOperation'][_0x21133c(0xb9)],'zFail':Cesium[_0x21133c(0xb4)][_0x21133c(0xb9)],'zPass':Cesium[_0x21133c(0xb4)][_0x21133c(0xe9)]},'backFunction':Cesium[_0x21133c(0xea)]['ALWAYS'],'backOperation':{'fail':Cesium[_0x21133c(0xb4)][_0x21133c(0xb9)],'zFail':Cesium[_0x21133c(0xb4)][_0x21133c(0xb9)],'zPass':Cesium['StencilOperation'][_0x21133c(0xe9)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x21133c(0x13a)][_0x21133c(0xfe)]}),_0x57a35e=Math['floor'](Cesium[_0x21133c(0xdc)](this[_0x21133c(0x118)]['diffHeight'],this[_0x21133c(0x111)]*0.02))+0.1;this['style'][_0x21133c(0x10e)]&&delete this[_0x21133c(0x118)][_0x21133c(0x10e)];var _0x3d2e5d=Cesium[_0x21133c(0xdc)](this[_0x21133c(0x118)][_0x21133c(0x11d)],0x64),_0x33cd18=Math[_0x21133c(0x10a)](this['_rectangle'][_0x21133c(0xb2)],this['_rectangle']['width']);this[_0x21133c(0x118)]['granularity']=_0x33cd18/=_0x3d2e5d,this[_0x21133c(0xdb)]=new mars3d__namespace[(_0x21133c(0xeb))][(_0x21133c(0x107))](_objectSpread2(_objectSpread2({},this[_0x21133c(0xe3)]),{},{'rectangle':this[_0x21133c(0x12d)],'appearance':new Cesium[(_0x21133c(0xca))]({'aboveGround':!![],'renderState':_0x1d4522,'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x5dc123,'repeat':new Cesium['Cartesian2'](0x1,0x1),'color':new Cesium[(_0x21133c(0xec))](0x1,0x1,0x1,0.01),'bumpMap':_0x242956},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':'attribute\x20vec3\x20position3DHigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec3\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20batchId;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bumpMap_3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionMC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20v_positionEC;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_st;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20p\x20=\x20czm_computePosition();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionMC\x20=\x20position3DHigh\x20+\x20position3DLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_positionEC\x20=\x20(czm_modelViewRelativeToEye\x20*\x20p).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_st\x20=\x20st;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(bumpMap_3,\x20v_st);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20centerBump\x20=\x20distance(vec3(0.0),color.rgb);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20upDir\x20=\x20normalize(v_positionMC.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20disPos\x20=\x20upDir\x20*\x20centerBump\x20*\x20'['concat'](_0x57a35e,_0x21133c(0x109)),'flat':!![]})})),this[_0x21133c(0x102)][_0x21133c(0xbd)](this['_graphic']);}},{'key':_0x2a5837(0xe2),'value':function _0x2e3979(_0x1fcfa2){var _0x593a76=_0x2a5837;return _0x1fcfa2!==null&&_0x1fcfa2!==void 0x0&&_0x1fcfa2[_0x593a76(0x105)]&&this['_rectangle']?mars3d__namespace['PolyUtil']['formatRectangle'](this[_0x593a76(0x12d)]):this[_0x593a76(0x12d)];}}]),_0x481d4d;}(BaseLayer);mars3d__namespace[_0x2ee934(0xd9)][_0x2ee934(0xc0)]=HeatLayer,mars3d__namespace[_0x2ee934(0xb1)][_0x2ee934(0xd1)](_0x2ee934(0xb3),HeatLayer);function _0x4688(_0x144882,_0x1c35c5){var _0x1aaae6=_0x1aaa();return _0x4688=function(_0x468893,_0x350ecf){_0x468893=_0x468893-0xaf;var _0x5c7b75=_0x1aaae6[_0x468893];if(_0x4688['kvjNQc']===undefined){var _0x42fd7d=function(_0x4ad77e){var _0x350826='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5bd990='',_0x32c2c3='';for(var _0x531aa2=0x0,_0x210b38,_0x25de41,_0x46cc3a=0x0;_0x25de41=_0x4ad77e['charAt'](_0x46cc3a++);~_0x25de41&&(_0x210b38=_0x531aa2%0x4?_0x210b38*0x40+_0x25de41:_0x25de41,_0x531aa2++%0x4)?_0x5bd990+=String['fromCharCode'](0xff&_0x210b38>>(-0x2*_0x531aa2&0x6)):0x0){_0x25de41=_0x350826['indexOf'](_0x25de41);}for(var _0x31eb0e=0x0,_0x561b9f=_0x5bd990['length'];_0x31eb0e<_0x561b9f;_0x31eb0e++){_0x32c2c3+='%'+('00'+_0x5bd990['charCodeAt'](_0x31eb0e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x32c2c3);};_0x4688['eTvqKu']=_0x42fd7d,_0x144882=arguments,_0x4688['kvjNQc']=!![];}var _0x4f3f1a=_0x1aaae6[0x0],_0x459287=_0x468893+_0x4f3f1a,_0x5407b0=_0x144882[_0x459287];return!_0x5407b0?(_0x5c7b75=_0x4688['eTvqKu'](_0x5c7b75),_0x144882[_0x459287]=_0x5c7b75):_0x5c7b75=_0x5407b0,_0x5c7b75;},_0x4688(_0x144882,_0x1c35c5);}function getMercatorBounds(_0x5606b1){var _0x475078=_0x2ee934,_0x2f1d8e=mars3d__namespace[_0x475078(0xc5)][_0x475078(0xd6)]([_0x5606b1[_0x475078(0x112)],_0x5606b1[_0x475078(0xf6)]]),_0x43b134=mars3d__namespace[_0x475078(0xc5)][_0x475078(0xd6)]([_0x5606b1['xmax'],_0x5606b1[_0x475078(0xcb)]]);return{'xmin':_0x2f1d8e[0x0],'ymin':_0x2f1d8e[0x1],'xmax':_0x43b134[0x0],'ymax':_0x43b134[0x1]};}function geLatLngBounds(_0xf4ce15){var _0x2dce0b=_0x2ee934,_0x594a65=mars3d__namespace[_0x2dce0b(0xc5)][_0x2dce0b(0x108)]([_0xf4ce15[_0x2dce0b(0x112)],_0xf4ce15[_0x2dce0b(0xf6)]]),_0x2b8858=mars3d__namespace[_0x2dce0b(0xc5)][_0x2dce0b(0x108)]([_0xf4ce15[_0x2dce0b(0xc7)],_0xf4ce15[_0x2dce0b(0xcb)]]);return{'xmin':_0x594a65[0x0],'ymin':_0x594a65[0x1],'xmax':_0x2b8858[0x0],'ymax':_0x2b8858[0x1]};}exports[_0x2ee934(0xc0)]=HeatLayer,Object[_0x2ee934(0x130)](exports,_0x2ee934(0xdd),{'value':!![]});
}));
