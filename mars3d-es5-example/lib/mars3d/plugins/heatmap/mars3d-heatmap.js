/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.5
 * 编译日期：2022-04-18 16:16:52
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';function _0x485a(){var _0x59385d=['yxjJqMX1CLnJywXL','yxjJuMfKAxvZu2nHBgu','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','x3jLy3rHBMDSzq','EwvSBg93','q2vZAxvT','BwLUq2fUDMfZu2L6zq','zM9YrwfJAa','A2v5CW','nte2nJr0BMvwue0','mtC3mJu3mNLpDuPLrW','Eg1HEa','nJu1wu1HEMnm','mtqWnJaWBLvYEgzi','vxrPBa','ntaYmJa0mgjovgf1yq','BwLU','C2HHBq','C3r5Bgu','ywrKug9ZAxrPB24','y2XLyxi','x21HCNmZzf9WCML2yxrL','CMDIkdi1nsWYntuSmJu1kq','ntqYmte1nLH2DNDZrG','ChjVDg90ExbL','Bgf5zxi','qMfZzuXHEwvY','nJnoA016CvC','zMX5vg9cEufUAw1HDgLVBKvUza','nZG3nZL4DgjcwNm','quXxqvLt','Ew1PBG','BwvYz2u','ywrKtgf5zxi','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','BwfYCZnKlwHLyxrTyxa','yM9KEq','x2XHEwvY','x3nLDe9WDgLVBNniB29R','ywrKr3jHCgHPyW','x2DYyxbOAwm','zgL2','rg9TvxrPBa','x21VDw50zwriB29R','yMX1CG','CMvNAxn0zxi','z2v0uMvJDgfUz2XL','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','tg5Ntgf0ug9PBNq','Cg9ZAxrPB25Z','zNvUy3rPB24','CMvTB3zLtgf5zxi','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','zNjVBunHy2HL','CMvK','mtG0mtC2ovPtwePjBq','x19WCM90B19F','ChG7cIaGicaGicaGAgvPz2H0oG','z3jHCgHPyW','zgvMyxvSDfzHBhvL','CM91BMq','AgvHDfn0EwXL','y29UDgfPBMvY','y29UzMLNDxjHyMXL','Ew1HEa','Cg9PBNrZ','y3jLyxrL','CMvJDgfUz2XL','s0vfua','BwvYy2f0B3iYBg9UBgf0','CMDIkdaSmcWWkq','D2LKDgG','ChG7','CMvTB3zLr3jHCgHPyW','zNjVBurLz3jLzxm','y2fUDMfZ','twf0zxjPywW','x2XHC3rFAgvHDerHDge','z3jLzw4','zw51BwvYywjSzq','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','zgvMAw5LuhjVCgvYDgLLCW','BgvUz3rO','z3jHBNvSyxjPDhK','ug9PBNruCMfUCW','AgvPz2H0','quXqsefFqKXftKq','y2XPzw50sgvPz2H0','ChvZAa','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','y2XPzw50v2LKDgG','zgvMAw5LuhjVCgvYDhK','CgfYC2u','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','D3jPDgfIBgu','q29SB3i','Bwf4','uMvJDgfUz2XL','qMXLBMrPBMDtDgf0zq','CMfKAxvZ','x3jLBMrLCMvY','y29VCMrPBMf0zxm','zMLSDgvY','y29UzMLNDxjL','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','x21HCa','uKvqtefdrq','zgLMzKHLAwDODa','AgvHDa','x2XHC3rFBujVDw5KCW','x21cB3vUzhnnyxG','DMfSDwu','Dg9bCNjHEq','x2HLyxq','DMfSDwvpzG','Bwf4q2fUDMfZu2L6zq','vKvsvevyx0zpuK1bva','B2jQzwn0','q2fYDgvZAwfUmG','C3bSAxroDw0','ug9SEvv0AwW','uMvJDgfUz2XLuhjPBwL0AxzL','x2nYzwf0zufYy0DYyxbOAwm','x2DLDeHLyxrdyw52yxnjBwC','y3nZvgv4Da','CMDIkde0mcWXndaSmtqWkq','B3b0Aw9UCW','ywjZ','y2fSBa','mJDVzNLJBMy','x3jLBw92zwriB29R','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','Bg9UBgf0mM1LCMnHDg9Y','Aw1Hz2uVCg5N','y29UC3rYDwn0','u3rLBMnPBe9WzxjHDgLVBG','zM9YBwf0uMvJDgfUz2XL','z3jHzgLLBNrbCMm','zMXVB3i','yxjJ','zgvMyxvSDa','AxngB3jTyxq','y29Uy2f0','uMvUzgvYu3rHDgu','z2v0uhjVDg90ExbLt2y','cIaGicaGicaGBwfYz2LUoJa7cIaGicaGicaGD2LKDgG6','Bgf0','CMvTB3zLq2HPBgq','yxbWBhK','sgvHDeXHEwvY','Bg5N','Dg9eyxrHvvjm','x2fKzgvKsg9VAW','x2nYzwf0zuDYyxbOAwm','Dw5KzwzPBMvK','x3bVC2L0Aw9UCW','Eg1PBG','C2v0uhjVDg90ExbLt2y'];_0x485a=function(){return _0x59385d;};return _0x485a();}var _0x1ed591=_0x4560;(function(_0x54b3d,_0xf6992b){var _0xf20898=_0x4560,_0x237b3c=_0x54b3d();while(!![]){try{var _0x131500=-parseInt(_0xf20898(0x1fb))/0x1+-parseInt(_0xf20898(0x1e8))/0x2+-parseInt(_0xf20898(0x177))/0x3+-parseInt(_0xf20898(0x1e7))/0x4*(-parseInt(_0xf20898(0x1ea))/0x5)+-parseInt(_0xf20898(0x1f5))/0x6+parseInt(_0xf20898(0x1f9))/0x7*(parseInt(_0xf20898(0x1eb))/0x8)+parseInt(_0xf20898(0x1c1))/0x9*(parseInt(_0xf20898(0x1ed))/0xa);if(_0x131500===_0xf6992b)break;else _0x237b3c['push'](_0x237b3c['shift']());}catch(_0x5451b7){_0x237b3c['push'](_0x237b3c['shift']());}}}(_0x485a,0xd571d));function _interopNamespace(_0x58f785){var _0x1018bc=_0x4560;if(_0x58f785&&_0x58f785['__esModule'])return _0x58f785;var _0x10ced4=Object[_0x1018bc(0x182)](null);return _0x58f785&&Object[_0x1018bc(0x1e6)](_0x58f785)[_0x1018bc(0x1e5)](function(_0x208a59){var _0x4638ef=_0x1018bc;if(_0x208a59!==_0x4638ef(0x1cc)){var _0x321e1d=Object[_0x4638ef(0x190)](_0x58f785,_0x208a59);Object[_0x4638ef(0x19b)](_0x10ced4,_0x208a59,_0x321e1d['get']?_0x321e1d:{'enumerable':!![],'get':function(){return _0x58f785[_0x208a59];}});}}),_0x10ced4[_0x1018bc(0x1cc)]=_0x58f785,_0x10ced4;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x1c72f1,_0x3c157e){var _0x1d509d=_0x4560,_0x2ae4f2=Object['keys'](_0x1c72f1);if(Object[_0x1d509d(0x162)]){var _0x532425=Object['getOwnPropertySymbols'](_0x1c72f1);_0x3c157e&&(_0x532425=_0x532425[_0x1d509d(0x1a6)](function(_0x271f4e){var _0x4f54eb=_0x1d509d;return Object['getOwnPropertyDescriptor'](_0x1c72f1,_0x271f4e)[_0x4f54eb(0x18f)];})),_0x2ae4f2['push'][_0x1d509d(0x1d4)](_0x2ae4f2,_0x532425);}return _0x2ae4f2;}function _objectSpread2(_0x3c17cf){var _0x4fc035=_0x4560;for(var _0xe95b36=0x1;_0xe95b36<arguments[_0x4fc035(0x192)];_0xe95b36++){var _0x54dd5e=null!=arguments[_0xe95b36]?arguments[_0xe95b36]:{};_0xe95b36%0x2?ownKeys(Object(_0x54dd5e),!0x0)['forEach'](function(_0x214aa){_defineProperty(_0x3c17cf,_0x214aa,_0x54dd5e[_0x214aa]);}):Object[_0x4fc035(0x174)]?Object[_0x4fc035(0x191)](_0x3c17cf,Object[_0x4fc035(0x174)](_0x54dd5e)):ownKeys(Object(_0x54dd5e))[_0x4fc035(0x1e5)](function(_0x1c16ad){var _0x2bb94f=_0x4fc035;Object['defineProperty'](_0x3c17cf,_0x1c16ad,Object[_0x2bb94f(0x190)](_0x54dd5e,_0x1c16ad));});}return _0x3c17cf;}function _classCallCheck(_0x273b2c,_0x255c9e){if(!(_0x273b2c instanceof _0x255c9e))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}function _0x4560(_0x55a94c,_0x57b5aa){var _0x485a44=_0x485a();return _0x4560=function(_0x4560de,_0x3304b6){_0x4560de=_0x4560de-0x15f;var _0x16d48e=_0x485a44[_0x4560de];if(_0x4560['UKIYgz']===undefined){var _0x4cd0d7=function(_0x58f785){var _0x10ced4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x208a59='',_0x321e1d='';for(var _0x1c72f1=0x0,_0x3c157e,_0x2ae4f2,_0x532425=0x0;_0x2ae4f2=_0x58f785['charAt'](_0x532425++);~_0x2ae4f2&&(_0x3c157e=_0x1c72f1%0x4?_0x3c157e*0x40+_0x2ae4f2:_0x2ae4f2,_0x1c72f1++%0x4)?_0x208a59+=String['fromCharCode'](0xff&_0x3c157e>>(-0x2*_0x1c72f1&0x6)):0x0){_0x2ae4f2=_0x10ced4['indexOf'](_0x2ae4f2);}for(var _0x271f4e=0x0,_0x3c17cf=_0x208a59['length'];_0x271f4e<_0x3c17cf;_0x271f4e++){_0x321e1d+='%'+('00'+_0x208a59['charCodeAt'](_0x271f4e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x321e1d);};_0x4560['mgTjsb']=_0x4cd0d7,_0x55a94c=arguments,_0x4560['UKIYgz']=!![];}var _0x3c9310=_0x485a44[0x0],_0xad3709=_0x4560de+_0x3c9310,_0x5c4a79=_0x55a94c[_0xad3709];return!_0x5c4a79?(_0x16d48e=_0x4560['mgTjsb'](_0x16d48e),_0x55a94c[_0xad3709]=_0x16d48e):_0x16d48e=_0x5c4a79,_0x16d48e;},_0x4560(_0x55a94c,_0x57b5aa);}function _defineProperties(_0x38c781,_0x48a427){var _0x3566f7=_0x4560;for(var _0x57c94b=0x0;_0x57c94b<_0x48a427[_0x3566f7(0x192)];_0x57c94b++){var _0x5aa0ec=_0x48a427[_0x57c94b];_0x5aa0ec[_0x3566f7(0x18f)]=_0x5aa0ec[_0x3566f7(0x18f)]||![],_0x5aa0ec[_0x3566f7(0x17f)]=!![];if(_0x3566f7(0x1af)in _0x5aa0ec)_0x5aa0ec[_0x3566f7(0x19e)]=!![];Object[_0x3566f7(0x19b)](_0x38c781,_0x5aa0ec['key'],_0x5aa0ec);}}function _createClass(_0x19e395,_0x1108f2,_0x44b4ea){var _0x22b304=_0x4560;if(_0x1108f2)_defineProperties(_0x19e395[_0x22b304(0x1f6)],_0x1108f2);if(_0x44b4ea)_defineProperties(_0x19e395,_0x44b4ea);return Object['defineProperty'](_0x19e395,_0x22b304(0x1f6),{'writable':![]}),_0x19e395;}function _defineProperty(_0x134db9,_0x51ab0b,_0x620d38){var _0x49393b=_0x4560;return _0x51ab0b in _0x134db9?Object[_0x49393b(0x19b)](_0x134db9,_0x51ab0b,{'value':_0x620d38,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x134db9[_0x51ab0b]=_0x620d38,_0x134db9;}function _inherits(_0x1e8a0b,_0x2f5808){var _0x1e0971=_0x4560;if(typeof _0x2f5808!==_0x1e0971(0x172)&&_0x2f5808!==null)throw new TypeError(_0x1e0971(0x1a8));_0x1e8a0b['prototype']=Object[_0x1e0971(0x182)](_0x2f5808&&_0x2f5808['prototype'],{'constructor':{'value':_0x1e8a0b,'writable':!![],'configurable':!![]}}),Object[_0x1e0971(0x19b)](_0x1e8a0b,_0x1e0971(0x1f6),{'writable':![]});if(_0x2f5808)_setPrototypeOf(_0x1e8a0b,_0x2f5808);}function _getPrototypeOf(_0x15b8d4){var _0x29d079=_0x4560;return _getPrototypeOf=Object[_0x29d079(0x1dd)]?Object[_0x29d079(0x1d0)]:function _0x522b70(_0x5c7040){var _0x4be80e=_0x29d079;return _0x5c7040[_0x4be80e(0x178)]||Object[_0x4be80e(0x1d0)](_0x5c7040);},_getPrototypeOf(_0x15b8d4);}function _setPrototypeOf(_0x4b98b3,_0x56976d){var _0x57efd5=_0x4560;return _setPrototypeOf=Object[_0x57efd5(0x1dd)]||function _0x101b13(_0x3f2e1d,_0x5529a){var _0x543490=_0x57efd5;return _0x3f2e1d[_0x543490(0x178)]=_0x5529a,_0x3f2e1d;},_setPrototypeOf(_0x4b98b3,_0x56976d);}function _isNativeReflectConstruct(){var _0x1c3c9d=_0x4560;if(typeof Reflect===_0x1c3c9d(0x1da)||!Reflect[_0x1c3c9d(0x1c6)])return![];if(Reflect[_0x1c3c9d(0x1c6)][_0x1c3c9d(0x1ef)])return![];if(typeof Proxy===_0x1c3c9d(0x172))return!![];try{return Boolean[_0x1c3c9d(0x1f6)][_0x1c3c9d(0x1b2)][_0x1c3c9d(0x1c0)](Reflect[_0x1c3c9d(0x1c6)](Boolean,[],function(){})),!![];}catch(_0x38a514){return![];}}function _assertThisInitialized(_0x109342){if(_0x109342===void 0x0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x109342;}function _possibleConstructorReturn(_0x38df12,_0x6da333){var _0x353487=_0x4560;if(_0x6da333&&(typeof _0x6da333===_0x353487(0x1b5)||typeof _0x6da333===_0x353487(0x172)))return _0x6da333;else{if(_0x6da333!==void 0x0)throw new TypeError(_0x353487(0x1e0));}return _assertThisInitialized(_0x38df12);}function _createSuper(_0x4a3b3e){var _0x1d4af0=_isNativeReflectConstruct();return function _0xfac6f2(){var _0x5f1679=_0x4560,_0x56329a=_getPrototypeOf(_0x4a3b3e),_0x550454;if(_0x1d4af0){var _0x399540=_getPrototypeOf(this)['constructor'];_0x550454=Reflect[_0x5f1679(0x1c6)](_0x56329a,arguments,_0x399540);}else _0x550454=_0x56329a[_0x5f1679(0x1d4)](this,arguments);return _possibleConstructorReturn(this,_0x550454);};}var HeatMaterial='uniform\x20sampler2D\x20image;\x0aczm_material\x20czm_getMaterial(czm_materialInput\x20materialInput){\x0a\x20\x20czm_material\x20material\x20=\x20czm_getDefaultMaterial(materialInput);\x0a\x20\x20vec2\x20st\x20=\x20materialInput.st;\x0a\x20\x20vec4\x20colorImage\x20=\x20texture2D(image,st);\x0a\x20\x20if(colorImage.rgb\x20==\x20vec3(1.0)\x20||\x20colorImage.rgb\x20==\x20vec3(0.0)){\x0a\x20\x20\x20\x20discard;\x0a\x20\x20}\x0a\x20\x20material.diffuse\x20=\x20colorImage.rgb;\x0a\x20\x20material.alpha\x20=\x20colorImage.a;\x0a\x20\x20return\x20material;\x0a}\x0a',Cesium=mars3d__namespace[_0x1ed591(0x1e3)],BaseLayer=mars3d__namespace[_0x1ed591(0x1f7)][_0x1ed591(0x1f8)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:'blue',0.6:_0x1ed591(0x18e),0.8:_0x1ed591(0x1e2),0.9:_0x1ed591(0x176)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x1ed591(0x1c3)][_0x1ed591(0x1b4)]},HeatLayer=function(_0x154ef0){var _0x4dee4f=_0x1ed591;_inherits(_0x315aec,_0x154ef0);var _0x54c459=_createSuper(_0x315aec);function _0x315aec(){var _0x11f0a2=_0x4560,_0x30e464,_0x3360a6=arguments[_0x11f0a2(0x192)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x315aec),_0x30e464=_0x54c459[_0x11f0a2(0x1c0)](this,_0x3360a6),_0x30e464[_0x11f0a2(0x1be)][_0x11f0a2(0x1b3)]=Cesium[_0x11f0a2(0x17b)](_0x30e464[_0x11f0a2(0x1be)]['maxCanvasSize'],document['body'][_0x11f0a2(0x19a)]),_0x30e464[_0x11f0a2(0x1be)][_0x11f0a2(0x1b3)]=Math[_0x11f0a2(0x1ee)](_0x30e464[_0x11f0a2(0x1be)][_0x11f0a2(0x1b3)],0x1388),_0x30e464['options'][_0x11f0a2(0x1e4)]=Cesium[_0x11f0a2(0x17b)](_0x30e464[_0x11f0a2(0x1be)][_0x11f0a2(0x1e4)],document[_0x11f0a2(0x164)][_0x11f0a2(0x197)]),_0x30e464[_0x11f0a2(0x1be)][_0x11f0a2(0x1e4)]=Math[_0x11f0a2(0x1a0)](_0x30e464['options'][_0x11f0a2(0x1e4)],0x2bc),_0x30e464[_0x11f0a2(0x1be)][_0x11f0a2(0x17d)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x30e464[_0x11f0a2(0x1be)]['heatStyle']||{}),_0x30e464[_0x11f0a2(0x1be)][_0x11f0a2(0x1f0)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x30e464[_0x11f0a2(0x1be)]['style']||{}),_0x30e464;}return _createClass(_0x315aec,[{'key':_0x4dee4f(0x1f7),'get':function _0x7c6dc6(){var _0x7c1bbe=_0x4dee4f;return this[_0x7c1bbe(0x165)];}},{'key':_0x4dee4f(0x17d),'get':function _0x2f29a1(){var _0x3b7487=_0x4dee4f;return this[_0x3b7487(0x1be)]['heatStyle'];},'set':function _0x2fdea1(_0x2cec94){var _0xbd30a6=_0x4dee4f;this[_0xbd30a6(0x1be)][_0xbd30a6(0x17d)]=mars3d__namespace[_0xbd30a6(0x1ec)][_0xbd30a6(0x160)](this[_0xbd30a6(0x1be)][_0xbd30a6(0x17d)],_0x2cec94),this[_0xbd30a6(0x1b1)]&&this[_0xbd30a6(0x1b1)][_0xbd30a6(0x1a7)](this[_0xbd30a6(0x1be)]['heatStyle']);}},{'key':'style','get':function _0x3419d6(){var _0x21b35c=_0x4dee4f;return this[_0x21b35c(0x1be)][_0x21b35c(0x1f0)];},'set':function _0x576cc2(_0x5cc423){var _0x54f145=_0x4dee4f;this[_0x54f145(0x1be)][_0x54f145(0x1f0)]=mars3d__namespace[_0x54f145(0x1ec)][_0x54f145(0x160)](this[_0x54f145(0x1be)][_0x54f145(0x1f0)],_0x5cc423);}},{'key':_0x4dee4f(0x171),'get':function _0x5c2c73(){var _0x5cfdee=_0x4dee4f;return this[_0x5cfdee(0x1db)];},'set':function _0x4bf85f(_0x376be5){var _0x5b6c02=_0x4dee4f;this[_0x5b6c02(0x1db)]=_0x376be5,this[_0x5b6c02(0x19d)]();}},{'key':_0x4dee4f(0x1a5),'get':function _0x3c6af7(){var _0x526aa1=_0x4dee4f,_0x608e40=[];return this[_0x526aa1(0x181)]['forEach'](function(_0x1ca787){var _0x3f82a5=_0x526aa1;_0x608e40['push'](_0x1ca787[_0x3f82a5(0x1b0)]());}),_0x608e40;}},{'key':_0x4dee4f(0x183),'get':function _0x1f7db3(){var _0xb1b08b=_0x4dee4f;return this[_0xb1b08b(0x1e1)];}},{'key':_0x4dee4f(0x166),'value':function _0x23edc6(_0x432b1a){var _0x32f60d=_0x4dee4f;_0x432b1a[_0x32f60d(0x171)]&&(this[_0x32f60d(0x171)]=_0x432b1a[_0x32f60d(0x171)]);}},{'key':_0x4dee4f(0x16b),'value':function _0x47d9b7(){var _0x2fdf67=_0x4dee4f;this[_0x2fdf67(0x165)]=new mars3d__namespace[(_0x2fdf67(0x1f7))]['GraphicLayer']({'noLayerManage':!![]}),this[_0x2fdf67(0x165)][_0x2fdf67(0x1f3)]=!![];}},{'key':_0x4dee4f(0x1d8),'value':function _0x497474(){var _0x423983=_0x4dee4f;this[_0x423983(0x1a9)][_0x423983(0x161)](this[_0x423983(0x165)]),this[_0x423983(0x1be)][_0x423983(0x171)]&&(this[_0x423983(0x171)]=this['options']['positions']),this[_0x423983(0x1be)]['flyTo']&&this[_0x423983(0x1fa)]();}},{'key':_0x4dee4f(0x1c2),'value':function _0x45a199(){var _0x343968=_0x4dee4f;this[_0x343968(0x17d)][_0x343968(0x17e)]&&(this[_0x343968(0x1a9)][_0x343968(0x17e)][_0x343968(0x1d3)](this[_0x343968(0x17d)]['container']),delete this[_0x343968(0x17d)][_0x343968(0x17e)]),this['clear'](),this[_0x343968(0x1a9)][_0x343968(0x173)](this[_0x343968(0x165)]);}},{'key':_0x4dee4f(0x1f1),'value':function _0x895faf(_0x665a7c){var _0x285077=_0x4dee4f;this[_0x285077(0x1db)]=this['_positions']||[],this['_positions'][_0x285077(0x198)](_0x665a7c),this[_0x285077(0x19d)]();}},{'key':_0x4dee4f(0x1f2),'value':function _0x4b8732(){var _0x2acc51=_0x4dee4f;this[_0x2acc51(0x168)]&&(this[_0x2acc51(0x165)][_0x2acc51(0x189)](this['_graphic'],!![]),delete this['_graphic']);}},{'key':_0x4dee4f(0x19d),'value':function _0x257c3d(){var _0x2e9bb5=_0x4dee4f;if(!this['show']||!this['_map']||!this[_0x2e9bb5(0x171)]||this['positions'][_0x2e9bb5(0x192)]===0x0)return this;var _0x4cec92=this[_0x2e9bb5(0x1bb)]();return this[_0x2e9bb5(0x1f0)][_0x2e9bb5(0x1cb)]?this[_0x2e9bb5(0x1ba)](_0x4cec92):this[_0x2e9bb5(0x1d9)](_0x4cec92),this;}},{'key':'_getHeatCanvasImg','value':function _0x269a2f(){var _0x2b350a=_0x4dee4f,_0x54d90e,_0x306bcd,_0x3e4738=this[_0x2b350a(0x1db)],_0x42bcb3=[],_0x2d3fde,_0x482106,_0x9ef421,_0x428a61;_0x3e4738[_0x2b350a(0x1e5)](function(_0x435800){var _0x1a7463=_0x2b350a,_0x252a3a=mars3d__namespace[_0x1a7463(0x170)][_0x1a7463(0x19c)](_0x435800);if(!_0x252a3a)return;_0x252a3a['value']=_0x435800['value']||0x1,_0x2d3fde===undefined?(_0x2d3fde=_0x252a3a[_0x1a7463(0x1d6)],_0x482106=_0x252a3a[_0x1a7463(0x1d6)],_0x9ef421=_0x252a3a[_0x1a7463(0x1d2)],_0x428a61=_0x252a3a[_0x1a7463(0x1d2)]):(_0x2d3fde=Math['min'](_0x2d3fde,_0x252a3a[_0x1a7463(0x1d6)]),_0x482106=Math['max'](_0x482106,_0x252a3a[_0x1a7463(0x1d6)]),_0x9ef421=Math['min'](_0x9ef421,_0x252a3a[_0x1a7463(0x1d2)]),_0x428a61=Math['max'](_0x428a61,_0x252a3a[_0x1a7463(0x1d2)])),_0x42bcb3[_0x1a7463(0x198)](_0x252a3a);});var _0x23c2d6=this[_0x2b350a(0x17d)]['radius']*1.5,_0x41cb66={'xmin':_0x2d3fde,'xmax':_0x482106,'ymin':_0x9ef421,'ymax':_0x428a61},_0x425c9b=getMercatorBounds(_0x41cb66),_0x42c5f2=Math[_0x2b350a(0x1bf)](_0x425c9b[_0x2b350a(0x1e9)]-_0x425c9b['xmin']),_0x215dcf=Math[_0x2b350a(0x1bf)](_0x425c9b[_0x2b350a(0x180)]-_0x425c9b[_0x2b350a(0x15f)]),_0x4b5bed=Math[_0x2b350a(0x1a0)](_0x42c5f2,_0x215dcf),_0x24f183=Math[_0x2b350a(0x1ee)](_0x42c5f2,_0x215dcf);this[_0x2b350a(0x1ae)]=_0x4b5bed;var _0x4937dd=0x1;if(_0x4b5bed>this['options']['maxCanvasSize'])_0x4937dd=_0x4b5bed/this[_0x2b350a(0x1be)][_0x2b350a(0x1b3)],_0x24f183/_0x4937dd<this[_0x2b350a(0x1be)]['minCanvasSize']&&(_0x4937dd=_0x24f183/this[_0x2b350a(0x1be)][_0x2b350a(0x1e4)]);else _0x24f183<this[_0x2b350a(0x1be)][_0x2b350a(0x1e4)]&&(_0x4937dd=_0x24f183/this[_0x2b350a(0x1be)][_0x2b350a(0x1e4)],_0x4b5bed/_0x4937dd>this['options'][_0x2b350a(0x1b3)]&&(_0x4937dd=_0x4b5bed/this[_0x2b350a(0x1be)][_0x2b350a(0x1b3)]));var _0x20b1d5=_0x42c5f2/_0x4937dd+_0x23c2d6*0x2,_0x59ebbc=_0x215dcf/_0x4937dd+_0x23c2d6*0x2,_0x42b176=_0x23c2d6*_0x4937dd;_0x425c9b[_0x2b350a(0x1dc)]-=_0x42b176,_0x425c9b[_0x2b350a(0x15f)]-=_0x42b176,_0x425c9b[_0x2b350a(0x1e9)]+=_0x42b176,_0x425c9b[_0x2b350a(0x180)]+=_0x42b176,_0x41cb66=geLatLngBounds(_0x425c9b),this['_rectangle']=Cesium[_0x2b350a(0x1a1)][_0x2b350a(0x18a)](_0x41cb66[_0x2b350a(0x1dc)],_0x41cb66[_0x2b350a(0x15f)],_0x41cb66[_0x2b350a(0x1e9)],_0x41cb66[_0x2b350a(0x180)]);var _0x496232=(_0x54d90e=_0x42bcb3[0x0][_0x2b350a(0x1af)])!==null&&_0x54d90e!==void 0x0?_0x54d90e:0x1,_0x178937=(_0x306bcd=_0x42bcb3[0x0][_0x2b350a(0x1af)])!==null&&_0x306bcd!==void 0x0?_0x306bcd:0x0,_0x16455c=[];_0x42bcb3[_0x2b350a(0x1e5)](function(_0x3436e6){var _0x26be62=_0x2b350a,_0x3fb6ee=mars3d__namespace[_0x26be62(0x194)][_0x26be62(0x1c4)]([_0x3436e6['lng'],_0x3436e6[_0x26be62(0x1d2)]]),_0x287394=_0x3436e6['value']||0x1,_0x46078c=Math[_0x26be62(0x17c)]((_0x3fb6ee[0x0]-_0x425c9b[_0x26be62(0x1dc)])/_0x4937dd),_0x4b0cf9=Math[_0x26be62(0x17c)]((_0x425c9b[_0x26be62(0x180)]-_0x3fb6ee[0x1])/_0x4937dd);_0x496232=Math['max'](_0x496232,_0x287394),_0x178937=Math['min'](_0x178937,_0x287394),_0x16455c[_0x26be62(0x198)]({'x':_0x46078c,'y':_0x4b0cf9,'value':_0x287394});});var _0x2736ed={'min':_0x178937,'max':_0x496232,'data':_0x16455c};this[_0x2b350a(0x18d)]=_0x2736ed;(!this[_0x2b350a(0x1ad)]||_0x425c9b[_0x2b350a(0x1dc)]!==this[_0x2b350a(0x1ad)]['xmin']||_0x425c9b['ymin']!==this['_last_mBounds']['ymin']||_0x425c9b['xmax']!==this[_0x2b350a(0x1ad)][_0x2b350a(0x1e9)]||_0x425c9b[_0x2b350a(0x180)]!==this['_last_mBounds'][_0x2b350a(0x180)])&&(this[_0x2b350a(0x1ad)]=_0x425c9b,!this[_0x2b350a(0x17d)][_0x2b350a(0x17e)]&&(this['heatStyle'][_0x2b350a(0x17e)]=mars3d__namespace[_0x2b350a(0x16a)][_0x2b350a(0x182)](_0x2b350a(0x169),_0x2b350a(0x163),this[_0x2b350a(0x1a9)][_0x2b350a(0x17e)])),this[_0x2b350a(0x17d)]['container']['style'][_0x2b350a(0x1bc)]=_0x2b350a(0x1d1)[_0x2b350a(0x1ce)](_0x20b1d5,_0x2b350a(0x179))[_0x2b350a(0x1ce)](_0x59ebbc,_0x2b350a(0x188)),!this['_heat']?this['_heat']=h337__namespace[_0x2b350a(0x182)](this['heatStyle']):this['_heat'][_0x2b350a(0x1a7)](this[_0x2b350a(0x17d)]));this[_0x2b350a(0x1b1)]['setData'](_0x2736ed);var _0x455c26=this[_0x2b350a(0x1b1)][_0x2b350a(0x1a4)][_0x2b350a(0x18b)][_0x2b350a(0x1d7)](_0x2b350a(0x1c5));return this[_0x2b350a(0x17d)][_0x2b350a(0x17e)]&&(this[_0x2b350a(0x1a9)][_0x2b350a(0x17e)][_0x2b350a(0x1d3)](this['heatStyle'][_0x2b350a(0x17e)]),delete this[_0x2b350a(0x17d)]['container']),_0x455c26;}},{'key':_0x4dee4f(0x1d9),'value':function _0x3e0084(_0xb54988){var _0x376f1a=_0x4dee4f;this[_0x376f1a(0x1f2)](),this[_0x376f1a(0x168)]=new mars3d__namespace['graphic'][(_0x376f1a(0x1b9))](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x376f1a(0x1e1)],'appearance':new Cesium[(_0x376f1a(0x1c3))]({'material':new Cesium[(_0x376f1a(0x18c))]({'fabric':{'uniforms':{'image':_0xb54988},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x376f1a(0x165)][_0x376f1a(0x167)](this[_0x376f1a(0x168)]);}},{'key':'_createArcGraphic','value':function _0x174daa(_0x2bb360){var _0x619bda=_0x4dee4f;this[_0x619bda(0x1f2)](),this['_heat'][_0x619bda(0x1a7)](_objectSpread2(_objectSpread2({},this['heatStyle']),{},{'radius':this['heatStyle'][_0x619bda(0x1a3)]*this['style'][_0x619bda(0x1df)],'blur':this[_0x619bda(0x17d)][_0x619bda(0x16c)]*this['style'][_0x619bda(0x1de)],'gradient':this[_0x619bda(0x17d)][_0x619bda(0x1c9)]||{0.25:_0x619bda(0x186),0.55:_0x619bda(0x1bd),0.85:'rgb(216,216,216)',0x1:_0x619bda(0x1f4)}}));var _0x257c63=this[_0x619bda(0x1b1)]['_renderer']['canvas'][_0x619bda(0x1d7)]('image/png'),_0x2aed81=Cesium[_0x619bda(0x1cf)][_0x619bda(0x175)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction'][_0x619bda(0x1fc)],'frontOperation':{'fail':Cesium['StencilOperation']['KEEP'],'zFail':Cesium[_0x619bda(0x1c7)][_0x619bda(0x184)],'zPass':Cesium[_0x619bda(0x1c7)][_0x619bda(0x1aa)]},'backFunction':Cesium['StencilFunction'][_0x619bda(0x1fc)],'backOperation':{'fail':Cesium[_0x619bda(0x1c7)][_0x619bda(0x184)],'zFail':Cesium['StencilOperation'][_0x619bda(0x184)],'zPass':Cesium[_0x619bda(0x1c7)][_0x619bda(0x1aa)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x619bda(0x1a2)][_0x619bda(0x196)]}),_0x18a22b=Math[_0x619bda(0x1ca)](Cesium[_0x619bda(0x17b)](this[_0x619bda(0x1f0)][_0x619bda(0x1ab)],this[_0x619bda(0x1ae)]*0.02))+0.1;this['style']['diffHeight']&&delete this[_0x619bda(0x1f0)]['diffHeight'];var _0x1edfa2=Cesium['defaultValue'](this[_0x619bda(0x1f0)][_0x619bda(0x1b7)],0x64),_0x56f335=Math[_0x619bda(0x1a0)](this[_0x619bda(0x1e1)][_0x619bda(0x195)],this[_0x619bda(0x1e1)][_0x619bda(0x187)]);this[_0x619bda(0x1f0)][_0x619bda(0x193)]=_0x56f335/=_0x1edfa2,this[_0x619bda(0x168)]=new mars3d__namespace[(_0x619bda(0x17a))][(_0x619bda(0x1b9))](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x619bda(0x1e1)],'appearance':new Cesium[(_0x619bda(0x1c3))]({'aboveGround':!![],'renderState':_0x2aed81,'material':new Cesium[(_0x619bda(0x18c))]({'fabric':{'uniforms':{'image':_0x2bb360,'repeat':new Cesium[(_0x619bda(0x1b6))](0x1,0x1),'color':new Cesium[(_0x619bda(0x19f))](0x1,0x1,0x1,0.01),'bumpMap':_0x257c63},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x619bda(0x199)[_0x619bda(0x1ce)](_0x18a22b,_0x619bda(0x16f)),'flat':!![]})})),this[_0x619bda(0x165)]['addGraphic'](this[_0x619bda(0x168)]);}},{'key':_0x4dee4f(0x16e),'value':function _0x3c2ad7(_0x44e357){var _0x502918=_0x4dee4f;return _0x44e357!==null&&_0x44e357!==void 0x0&&_0x44e357[_0x502918(0x1cd)]&&this['_rectangle']?mars3d__namespace[_0x502918(0x1b8)][_0x502918(0x1c8)](this[_0x502918(0x1e1)]):this['_rectangle'];}}]),_0x315aec;}(BaseLayer);mars3d__namespace['layer'][_0x1ed591(0x1d5)]=HeatLayer,mars3d__namespace['LayerUtil'][_0x1ed591(0x16d)](_0x1ed591(0x1ac),HeatLayer);function getMercatorBounds(_0x4296bd){var _0x265bfc=_0x1ed591,_0x5ec12f=mars3d__namespace['PointTrans'][_0x265bfc(0x1c4)]([_0x4296bd[_0x265bfc(0x1dc)],_0x4296bd[_0x265bfc(0x15f)]]),_0xb00cf2=mars3d__namespace[_0x265bfc(0x194)][_0x265bfc(0x1c4)]([_0x4296bd[_0x265bfc(0x1e9)],_0x4296bd['ymax']]);return{'xmin':_0x5ec12f[0x0],'ymin':_0x5ec12f[0x1],'xmax':_0xb00cf2[0x0],'ymax':_0xb00cf2[0x1]};}function geLatLngBounds(_0x326f39){var _0x46da72=_0x1ed591,_0x5587ea=mars3d__namespace[_0x46da72(0x194)][_0x46da72(0x185)]([_0x326f39[_0x46da72(0x1dc)],_0x326f39[_0x46da72(0x15f)]]),_0x41617d=mars3d__namespace[_0x46da72(0x194)][_0x46da72(0x185)]([_0x326f39['xmax'],_0x326f39[_0x46da72(0x180)]]);return{'xmin':_0x5587ea[0x0],'ymin':_0x5587ea[0x1],'xmax':_0x41617d[0x0],'ymax':_0x41617d[0x1]};}exports[_0x1ed591(0x1d5)]=HeatLayer,Object[_0x1ed591(0x19b)](exports,'__esModule',{'value':!![]});
}));
