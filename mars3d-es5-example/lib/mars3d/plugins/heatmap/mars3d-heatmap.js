/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.4
 * 编译日期：2022-04-08 15:15:16
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x4b039b=_0x63d6;(function(_0x55fedd,_0x3df12a){var _0x406ab9=_0x63d6,_0x1df847=_0x55fedd();while(!![]){try{var _0x5ea2ab=-parseInt(_0x406ab9(0x116))/0x1*(-parseInt(_0x406ab9(0x110))/0x2)+-parseInt(_0x406ab9(0x120))/0x3+-parseInt(_0x406ab9(0x108))/0x4*(parseInt(_0x406ab9(0xca))/0x5)+parseInt(_0x406ab9(0xc8))/0x6*(-parseInt(_0x406ab9(0x124))/0x7)+-parseInt(_0x406ab9(0xa6))/0x8*(parseInt(_0x406ab9(0xd3))/0x9)+-parseInt(_0x406ab9(0x12d))/0xa+parseInt(_0x406ab9(0x100))/0xb*(parseInt(_0x406ab9(0x11e))/0xc);if(_0x5ea2ab===_0x3df12a)break;else _0x1df847['push'](_0x1df847['shift']());}catch(_0x5ba646){_0x1df847['push'](_0x1df847['shift']());}}}(_0x1d7e,0x97c1b));function _interopNamespace(_0x47df49){var _0x455c4f=_0x63d6;if(_0x47df49&&_0x47df49[_0x455c4f(0x12a)])return _0x47df49;var _0x49b514=Object[_0x455c4f(0xf6)](null);return _0x47df49&&Object[_0x455c4f(0xde)](_0x47df49)['forEach'](function(_0x6cbb48){var _0x2a72c6=_0x455c4f;if(_0x6cbb48!=='default'){var _0x137713=Object[_0x2a72c6(0xf0)](_0x47df49,_0x6cbb48);Object['defineProperty'](_0x49b514,_0x6cbb48,_0x137713[_0x2a72c6(0xb0)]?_0x137713:{'enumerable':!![],'get':function(){return _0x47df49[_0x6cbb48];}});}}),_0x49b514[_0x455c4f(0xb3)]=_0x47df49,_0x49b514;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x4b51e6,_0x211e0f){var _0x44b40e=_0x63d6,_0x15d068=Object['keys'](_0x4b51e6);if(Object[_0x44b40e(0xa8)]){var _0x5aeee1=Object[_0x44b40e(0xa8)](_0x4b51e6);_0x211e0f&&(_0x5aeee1=_0x5aeee1[_0x44b40e(0xe7)](function(_0x4937c8){return Object['getOwnPropertyDescriptor'](_0x4b51e6,_0x4937c8)['enumerable'];})),_0x15d068['push']['apply'](_0x15d068,_0x5aeee1);}return _0x15d068;}function _objectSpread2(_0x22f00f){var _0x57de60=_0x63d6;for(var _0x2a7643=0x1;_0x2a7643<arguments[_0x57de60(0xff)];_0x2a7643++){var _0x128be4=null!=arguments[_0x2a7643]?arguments[_0x2a7643]:{};_0x2a7643%0x2?ownKeys(Object(_0x128be4),!0x0)['forEach'](function(_0x6aabd6){_defineProperty(_0x22f00f,_0x6aabd6,_0x128be4[_0x6aabd6]);}):Object[_0x57de60(0x11d)]?Object['defineProperties'](_0x22f00f,Object['getOwnPropertyDescriptors'](_0x128be4)):ownKeys(Object(_0x128be4))['forEach'](function(_0x26d83c){var _0x20b253=_0x57de60;Object[_0x20b253(0xe2)](_0x22f00f,_0x26d83c,Object[_0x20b253(0xf0)](_0x128be4,_0x26d83c));});}return _0x22f00f;}function _classCallCheck(_0x2a8f58,_0x7b077f){var _0x10e053=_0x63d6;if(!(_0x2a8f58 instanceof _0x7b077f))throw new TypeError(_0x10e053(0xce));}function _defineProperties(_0x218b57,_0x498a4b){var _0x5683fb=_0x63d6;for(var _0x1f55a9=0x0;_0x1f55a9<_0x498a4b[_0x5683fb(0xff)];_0x1f55a9++){var _0x237b66=_0x498a4b[_0x1f55a9];_0x237b66[_0x5683fb(0x127)]=_0x237b66[_0x5683fb(0x127)]||![],_0x237b66[_0x5683fb(0x11a)]=!![];if('value'in _0x237b66)_0x237b66['writable']=!![];Object['defineProperty'](_0x218b57,_0x237b66[_0x5683fb(0xc9)],_0x237b66);}}function _createClass(_0x126cd2,_0x36b172,_0x43437b){var _0x33efa7=_0x63d6;if(_0x36b172)_defineProperties(_0x126cd2[_0x33efa7(0x129)],_0x36b172);if(_0x43437b)_defineProperties(_0x126cd2,_0x43437b);return Object[_0x33efa7(0xe2)](_0x126cd2,'prototype',{'writable':![]}),_0x126cd2;}function _0x1d7e(){var _0x118106=['x3nLDe9WDgLVBNniB29R','zgvMAw5LuhjVCgvYDhK','Bwf4','x3jLBMrLCMvY','Cg9ZAxrPB25Z','y29UDgfPBMvY','zMLSDgvY','q2vZAxvT','ug9PBNruCMfUCW','y2XPzw50sgvPz2H0','CMvJDgfUz2XL','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','tgf5zxjvDgLS','DMfSDwu','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','AgvPz2H0','Ew1HEa','y29Uy2f0','zMX5vg8','C2v0uhjVDg90ExbLt2y','y3jLyxrL','vKvsvevyx0zpuK1bva','zgvMyxvSDfzHBhvL','r3jHCgHPy0XHEwvY','Bgf0','quXqsefFqKXftKq','BwLUq2fUDMfZu2L6zq','zM9YrwfJAa','x19WCM90B19F','BgvUz3rO','mta4mtK0ou16v09uCq','sgvHDeXHEwvY','Cg9PBNrZ','x2nYzwf0zufYy0DYyxbOAwm','y2XLyxi','x2HLyxq','zMX5vg9cEufUAw1HDgLVBKvUza','z3jHzgLLBNrbCMm','mZG2ofnTt2rHsa','CMDIkdiXnIWYmtySmJe2kq','Dg9eyxrHvvjm','u3rLBMnPBez1BMn0Aw9U','C2HHBq','zMXVB3i','BwvYz2u','y2XPzw50v2LKDgG','mte0mdy0ohPyvhjXBW','ChG7cIaGicaGicaGAgvPz2H0oG','Aw1Hz2uVCg5N','z2v0uMvJDgfUz2XL','u3rLBMnPBe9WzxjHDgLVBG','zgLMzKHLAwDODa','mND0vg9QCa','Eg1HEa','qMfZzuXHEwvY','C2v0rgf0yq','y29UzMLNDxjHyMXL','q2fYDgvZAwfUmG','x21VDw50zwriB29R','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','ndGWrwjpter1','CMvNAxn0zxi','mZe4ntm4mMXzCu5Mzq','x2XHC3rFBujVDw5KCW','s0vfua','x21cB3vUzhnnyxG','mJHZEKv4qKW','CgfYC2u','Dw5KzwzPBMvK','zw51BwvYywjSzq','zNjVBunHy2HL','ChjVDg90ExbL','x19LC01VzhvSzq','y3nZvgv4Da','C3r5Bgu','ody2nZi1merYzeXlEG','CMDIkdaSmcWWkq','y29UC3rYDwn0','B3b0Aw9UCW','uMvJDgfUz2XLuhjPBwL0AxzL','yxjJqMX1CLnJywXL','z2v0uhjVDg90ExbLt2y','quXxqvLt','yMX1zq','Eg1PBG','Ew1PBG','CMvTB3zLq2HPBgq','Bg9UBgf0mM1LCMnHDg9Y','uKvqtefdrq','ndy0mZm2seLuy05o','x3bVC2L0Aw9UCW','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','zNvUy3rPB24','Bg5N','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','x21HCNmZzf9WCML2yxrL','C2HVDW','x2DLDeHLyxrdyw52yxnjBwC','z2v0','tg5Ntgf0ug9PBNq','x21HCa','zgvMyxvSDa','x3jLy3rHBMDSzq','C3bSAxroDw0','y2fUDMfZ','x2fKzgvKsg9VAW','CMfKAxvZ','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','BwvYy2f0B3iYBg9UBgf0','twf0zxjPywW','y29UzMLNDxjL','BwfYCZnKlwHLyxrTyxa','ywrKr3jHCgHPyW','Bgf5zxi','CM91BMq','q29SB3i','yM9KEq','ywjZ','yxbWBhK','B2jQzwn0','x2DYyxbOAwm','z3jLzw4','odq1mJK4CMjNturA','A2v5','nJi0mgXHyNDTrG','BwLU','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','x2XHEwvY','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','cIaGicaGicaGBwfYz2LUoJa7cIaGicaGicaGD2LKDgG6','x2nYzwf0zuDYyxbOAwm','Bwf4q2fUDMfZu2L6zq','Dg9bCNjHEq','mte3rwnuzxLN','ChvZAa','AgvHDfn0EwXL','y2fSBa','DMfSDwvpzG','uMvUzgvYu3rHDgu','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','vxrPBa','z3jHCgHPyW','ywrKtgf5zxi','ChG7','A2v5CW','x3jLBw92zwriB29R','EwvSBg93'];_0x1d7e=function(){return _0x118106;};return _0x1d7e();}function _defineProperty(_0x116bc2,_0x41d7a3,_0x25b396){var _0x4a51a1=_0x63d6;return _0x41d7a3 in _0x116bc2?Object[_0x4a51a1(0xe2)](_0x116bc2,_0x41d7a3,{'value':_0x25b396,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x116bc2[_0x41d7a3]=_0x25b396,_0x116bc2;}function _inherits(_0x12e0ef,_0x5beef3){var _0x15171e=_0x63d6;if(typeof _0x5beef3!==_0x15171e(0xa9)&&_0x5beef3!==null)throw new TypeError(_0x15171e(0xab));_0x12e0ef[_0x15171e(0x129)]=Object[_0x15171e(0xf6)](_0x5beef3&&_0x5beef3[_0x15171e(0x129)],{'constructor':{'value':_0x12e0ef,'writable':!![],'configurable':!![]}}),Object[_0x15171e(0xe2)](_0x12e0ef,_0x15171e(0x129),{'writable':![]});if(_0x5beef3)_setPrototypeOf(_0x12e0ef,_0x5beef3);}function _getPrototypeOf(_0x3e4e80){var _0x3b5a9b=_0x63d6;return _getPrototypeOf=Object['setPrototypeOf']?Object[_0x3b5a9b(0x133)]:function _0x33b57e(_0x1d800c){var _0x5c7f5b=_0x3b5a9b;return _0x1d800c[_0x5c7f5b(0xfe)]||Object['getPrototypeOf'](_0x1d800c);},_getPrototypeOf(_0x3e4e80);}function _0x63d6(_0x14e781,_0x3220a7){var _0x1d7ea3=_0x1d7e();return _0x63d6=function(_0x63d63f,_0x12eec6){_0x63d63f=_0x63d63f-0x9f;var _0x8adaea=_0x1d7ea3[_0x63d63f];if(_0x63d6['UQuKAh']===undefined){var _0x494852=function(_0x47df49){var _0x49b514='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x6cbb48='',_0x137713='';for(var _0x4b51e6=0x0,_0x211e0f,_0x15d068,_0x5aeee1=0x0;_0x15d068=_0x47df49['charAt'](_0x5aeee1++);~_0x15d068&&(_0x211e0f=_0x4b51e6%0x4?_0x211e0f*0x40+_0x15d068:_0x15d068,_0x4b51e6++%0x4)?_0x6cbb48+=String['fromCharCode'](0xff&_0x211e0f>>(-0x2*_0x4b51e6&0x6)):0x0){_0x15d068=_0x49b514['indexOf'](_0x15d068);}for(var _0x4937c8=0x0,_0x22f00f=_0x6cbb48['length'];_0x4937c8<_0x22f00f;_0x4937c8++){_0x137713+='%'+('00'+_0x6cbb48['charCodeAt'](_0x4937c8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x137713);};_0x63d6['nrqxIC']=_0x494852,_0x14e781=arguments,_0x63d6['UQuKAh']=!![];}var _0x29fdab=_0x1d7ea3[0x0],_0x5d30f2=_0x63d63f+_0x29fdab,_0x16b471=_0x14e781[_0x5d30f2];return!_0x16b471?(_0x8adaea=_0x63d6['nrqxIC'](_0x8adaea),_0x14e781[_0x5d30f2]=_0x8adaea):_0x8adaea=_0x16b471,_0x8adaea;},_0x63d6(_0x14e781,_0x3220a7);}function _setPrototypeOf(_0x5dae00,_0x415ed1){var _0x50fe4c=_0x63d6;return _setPrototypeOf=Object[_0x50fe4c(0xf5)]||function _0x2b61e0(_0x9776a3,_0x393bc1){var _0x3b0e39=_0x50fe4c;return _0x9776a3[_0x3b0e39(0xfe)]=_0x393bc1,_0x9776a3;},_setPrototypeOf(_0x5dae00,_0x415ed1);}function _isNativeReflectConstruct(){var _0x25b8c4=_0x63d6;if(typeof Reflect===_0x25b8c4(0x126)||!Reflect[_0x25b8c4(0x12f)])return![];if(Reflect['construct'][_0x25b8c4(0x10c)])return![];if(typeof Proxy===_0x25b8c4(0xa9))return!![];try{return Boolean['prototype'][_0x25b8c4(0xd7)]['call'](Reflect[_0x25b8c4(0x12f)](Boolean,[],function(){})),!![];}catch(_0x5f469b){return![];}}function _assertThisInitialized(_0x538ba9){var _0x2486dd=_0x63d6;if(_0x538ba9===void 0x0)throw new ReferenceError(_0x2486dd(0xef));return _0x538ba9;}function _possibleConstructorReturn(_0x4817bf,_0x17e942){var _0x39816c=_0x63d6;if(_0x17e942&&(typeof _0x17e942===_0x39816c(0xc5)||typeof _0x17e942===_0x39816c(0xa9)))return _0x17e942;else{if(_0x17e942!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x4817bf);}function _createSuper(_0x1bb30e){var _0x24de11=_isNativeReflectConstruct();return function _0x460315(){var _0x2430fe=_0x63d6,_0x1d411e=_getPrototypeOf(_0x1bb30e),_0x254a5f;if(_0x24de11){var _0x5ebd90=_getPrototypeOf(this)['constructor'];_0x254a5f=Reflect[_0x2430fe(0x12f)](_0x1d411e,arguments,_0x5ebd90);}else _0x254a5f=_0x1d411e[_0x2430fe(0xc4)](this,arguments);return _possibleConstructorReturn(this,_0x254a5f);};}var HeatMaterial=_0x4b039b(0xd9),Cesium=mars3d__namespace[_0x4b039b(0xe8)],BaseLayer=mars3d__namespace[_0x4b039b(0xbf)][_0x4b039b(0x118)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x4b039b(0xa0),0.6:_0x4b039b(0xc7),0.8:_0x4b039b(0xe0),0.9:'red'}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance'][_0x4b039b(0xf7)]},HeatLayer=function(_0x368eb1){var _0x482ef7=_0x4b039b;_inherits(_0x3965a0,_0x368eb1);var _0xeb1a0=_createSuper(_0x3965a0);function _0x3965a0(){var _0x3a0561=_0x63d6,_0x5429f3,_0xdde663=arguments[_0x3a0561(0xff)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x3965a0),_0x5429f3=_0xeb1a0[_0x3a0561(0xd6)](this,_0xdde663),_0x5429f3[_0x3a0561(0x130)][_0x3a0561(0xd1)]=Cesium[_0x3a0561(0xf8)](_0x5429f3[_0x3a0561(0x130)][_0x3a0561(0xd1)],document[_0x3a0561(0xc2)][_0x3a0561(0x10f)]),_0x5429f3['options']['maxCanvasSize']=Math[_0x3a0561(0xcb)](_0x5429f3[_0x3a0561(0x130)][_0x3a0561(0xd1)],0x1388),_0x5429f3['options'][_0x3a0561(0xfc)]=Cesium['defaultValue'](_0x5429f3[_0x3a0561(0x130)]['minCanvasSize'],document[_0x3a0561(0xc2)][_0x3a0561(0xea)]),_0x5429f3[_0x3a0561(0x130)][_0x3a0561(0xfc)]=Math[_0x3a0561(0xe3)](_0x5429f3[_0x3a0561(0x130)]['minCanvasSize'],0x2bc),_0x5429f3[_0x3a0561(0x130)][_0x3a0561(0xd5)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x5429f3[_0x3a0561(0x130)][_0x3a0561(0xd5)]||{}),_0x5429f3[_0x3a0561(0x130)]['style']=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x5429f3[_0x3a0561(0x130)][_0x3a0561(0x12c)]||{}),_0x5429f3;}return _createClass(_0x3965a0,[{'key':_0x482ef7(0xbf),'get':function _0x1a4464(){var _0x2e0378=_0x482ef7;return this[_0x2e0378(0xcd)];}},{'key':'heatStyle','get':function _0x4396aa(){var _0x312c65=_0x482ef7;return this[_0x312c65(0x130)]['heatStyle'];},'set':function _0x4a858c(_0x3d9ac4){var _0x4409ea=_0x482ef7;this[_0x4409ea(0x130)][_0x4409ea(0xd5)]=mars3d__namespace[_0x4409ea(0xda)][_0x4409ea(0x10e)](this[_0x4409ea(0x130)][_0x4409ea(0xd5)],_0x3d9ac4),this[_0x4409ea(0x105)]&&this['_heat'][_0x4409ea(0xbc)](this[_0x4409ea(0x130)][_0x4409ea(0xd5)]);}},{'key':_0x482ef7(0x12c),'get':function _0x183555(){var _0x4e78a5=_0x482ef7;return this['options'][_0x4e78a5(0x12c)];},'set':function _0x437783(_0x4028a2){var _0x38bfac=_0x482ef7;this[_0x38bfac(0x130)][_0x38bfac(0x12c)]=mars3d__namespace['Util'][_0x38bfac(0x10e)](this[_0x38bfac(0x130)]['style'],_0x4028a2);}},{'key':_0x482ef7(0xe5),'get':function _0x186077(){return this['_positions'];},'set':function _0x5f45fe(_0x264539){var _0x265970=_0x482ef7;this[_0x265970(0xa7)]=_0x264539,this[_0x265970(0xec)]();}},{'key':'coordinates','get':function _0x3ef25f(){var _0x540a5f=_0x482ef7,_0x25ab9c=[];return this[_0x540a5f(0x102)][_0x540a5f(0xfd)](function(_0x42db93){var _0x195e7a=_0x540a5f;_0x25ab9c['push'](_0x42db93[_0x195e7a(0xd2)]());}),_0x25ab9c;}},{'key':_0x482ef7(0xeb),'get':function _0x549c62(){var _0x1458dd=_0x482ef7;return this[_0x1458dd(0xb4)];}},{'key':_0x482ef7(0xe1),'value':function _0x502154(_0x1aa9ba){var _0x2a86d7=_0x482ef7;_0x1aa9ba[_0x2a86d7(0xe5)]&&(this[_0x2a86d7(0xe5)]=_0x1aa9ba['positions']);}},{'key':_0x482ef7(0x11c),'value':function _0x2bf767(){var _0x5e32b6=_0x482ef7;this[_0x5e32b6(0xcd)]=new mars3d__namespace['layer'][(_0x5e32b6(0xf9))]({'noLayerManage':!![]}),this[_0x5e32b6(0xcd)][_0x5e32b6(0xad)]=!![];}},{'key':_0x482ef7(0xb7),'value':function _0x4102ac(){var _0xbe3948=_0x482ef7;this['_map'][_0xbe3948(0xdc)](this[_0xbe3948(0xcd)]),this['options'][_0xbe3948(0xe5)]&&(this['positions']=this[_0xbe3948(0x130)][_0xbe3948(0xe5)]),this['options'][_0xbe3948(0xf4)]&&this[_0xbe3948(0x106)]();}},{'key':_0x482ef7(0xdf),'value':function _0x585f5e(){var _0x28873e=_0x482ef7;this[_0x28873e(0xd5)][_0x28873e(0xe6)]&&(this['_map'][_0x28873e(0xe6)][_0x28873e(0xa3)](this[_0x28873e(0xd5)]['container']),delete this['heatStyle'][_0x28873e(0xe6)]),this[_0x28873e(0x104)](),this[_0x28873e(0xb2)]['removeLayer'](this[_0x28873e(0xcd)]);}},{'key':'addPosition','value':function _0x3d2461(_0x45ca47){var _0xaa0af9=_0x482ef7;this[_0xaa0af9(0xa7)]=this[_0xaa0af9(0xa7)]||[],this[_0xaa0af9(0xa7)][_0xaa0af9(0xd4)](_0x45ca47),this['_updatePositionsHook']();}},{'key':'clear','value':function _0x2b93cd(){var _0x133312=_0x482ef7;this['_graphic']&&(this[_0x133312(0xcd)]['removeGraphic'](this[_0x133312(0xc6)],!![]),delete this['_graphic']);}},{'key':_0x482ef7(0xec),'value':function _0x5bd493(){var _0x34ef3c=_0x482ef7;if(!this[_0x34ef3c(0xae)]||!this['_map']||!this[_0x34ef3c(0xe5)]||this[_0x34ef3c(0xe5)][_0x34ef3c(0xff)]===0x0)return this;var _0x21b9ef=this['_getHeatCanvasImg']();return this[_0x34ef3c(0x12c)]['arc']?this[_0x34ef3c(0x103)](_0x21b9ef):this[_0x34ef3c(0xd0)](_0x21b9ef),this;}},{'key':_0x482ef7(0xaf),'value':function _0x282328(){var _0xc9990b=_0x482ef7,_0x1e2924,_0x46ba7c,_0x4a9428=this[_0xc9990b(0xa7)],_0x1184f8=[],_0x29f554,_0xedb0cf,_0x43bc8f,_0x54feea;_0x4a9428[_0xc9990b(0xfd)](function(_0x5d8666){var _0x68d2bb=_0xc9990b,_0x1c357a=mars3d__namespace[_0x68d2bb(0xb1)][_0x68d2bb(0x125)](_0x5d8666);if(!_0x1c357a)return;_0x1c357a['value']=_0x5d8666['value']||0x1,_0x29f554===undefined?(_0x29f554=_0x1c357a[_0x68d2bb(0xaa)],_0xedb0cf=_0x1c357a[_0x68d2bb(0xaa)],_0x43bc8f=_0x1c357a[_0x68d2bb(0xfa)],_0x54feea=_0x1c357a['lat']):(_0x29f554=Math['min'](_0x29f554,_0x1c357a[_0x68d2bb(0xaa)]),_0xedb0cf=Math[_0x68d2bb(0xe3)](_0xedb0cf,_0x1c357a[_0x68d2bb(0xaa)]),_0x43bc8f=Math['min'](_0x43bc8f,_0x1c357a[_0x68d2bb(0xfa)]),_0x54feea=Math[_0x68d2bb(0xe3)](_0x54feea,_0x1c357a[_0x68d2bb(0xfa)])),_0x1184f8['push'](_0x1c357a);});var _0x1067d1=this[_0xc9990b(0xd5)][_0xc9990b(0xb8)]*1.5,_0x2b03e0={'xmin':_0x29f554,'xmax':_0xedb0cf,'ymin':_0x43bc8f,'ymax':_0x54feea},_0xf6adad=getMercatorBounds(_0x2b03e0),_0x2ea492=Math[_0xc9990b(0xc3)](_0xf6adad['xmax']-_0xf6adad[_0xc9990b(0xa1)]),_0x4b561b=Math['abs'](_0xf6adad[_0xc9990b(0xf2)]-_0xf6adad[_0xc9990b(0xa2)]),_0x297634=Math[_0xc9990b(0xe3)](_0x2ea492,_0x4b561b),_0x593b6d=Math[_0xc9990b(0xcb)](_0x2ea492,_0x4b561b);this[_0xc9990b(0x123)]=_0x297634;var _0x4acc11=0x1;if(_0x297634>this[_0xc9990b(0x130)][_0xc9990b(0xd1)])_0x4acc11=_0x297634/this[_0xc9990b(0x130)][_0xc9990b(0xd1)],_0x593b6d/_0x4acc11<this[_0xc9990b(0x130)]['minCanvasSize']&&(_0x4acc11=_0x593b6d/this[_0xc9990b(0x130)][_0xc9990b(0xfc)]);else _0x593b6d<this['options'][_0xc9990b(0xfc)]&&(_0x4acc11=_0x593b6d/this[_0xc9990b(0x130)][_0xc9990b(0xfc)],_0x297634/_0x4acc11>this[_0xc9990b(0x130)][_0xc9990b(0xd1)]&&(_0x4acc11=_0x297634/this[_0xc9990b(0x130)][_0xc9990b(0xd1)]));var _0x5e2b69=_0x2ea492/_0x4acc11+_0x1067d1*0x2,_0x3fe44a=_0x4b561b/_0x4acc11+_0x1067d1*0x2,_0xd3a455=_0x1067d1*_0x4acc11;_0xf6adad[_0xc9990b(0xa1)]-=_0xd3a455,_0xf6adad[_0xc9990b(0xa2)]-=_0xd3a455,_0xf6adad['xmax']+=_0xd3a455,_0xf6adad[_0xc9990b(0xf2)]+=_0xd3a455,_0x2b03e0=geLatLngBounds(_0xf6adad),this[_0xc9990b(0xb4)]=Cesium['Rectangle']['fromDegrees'](_0x2b03e0[_0xc9990b(0xa1)],_0x2b03e0[_0xc9990b(0xa2)],_0x2b03e0['xmax'],_0x2b03e0[_0xc9990b(0xf2)]);var _0x5ea79b=(_0x1e2924=_0x1184f8[0x0][_0xc9990b(0xee)])!==null&&_0x1e2924!==void 0x0?_0x1e2924:0x1,_0x515c3f=(_0x46ba7c=_0x1184f8[0x0][_0xc9990b(0xee)])!==null&&_0x46ba7c!==void 0x0?_0x46ba7c:0x0,_0x1803b0=[];_0x1184f8['forEach'](function(_0x20d901){var _0x5a512d=_0xc9990b,_0x53ad31=mars3d__namespace[_0x5a512d(0xe9)][_0x5a512d(0xa4)]([_0x20d901[_0x5a512d(0xaa)],_0x20d901[_0x5a512d(0xfa)]]),_0x22c80e=_0x20d901[_0x5a512d(0xee)]||0x1,_0x249877=Math[_0x5a512d(0xc0)]((_0x53ad31[0x0]-_0xf6adad[_0x5a512d(0xa1)])/_0x4acc11),_0x35dbdc=Math[_0x5a512d(0xc0)]((_0xf6adad[_0x5a512d(0xf2)]-_0x53ad31[0x1])/_0x4acc11);_0x5ea79b=Math['max'](_0x5ea79b,_0x22c80e),_0x515c3f=Math[_0x5a512d(0xcb)](_0x515c3f,_0x22c80e),_0x1803b0[_0x5a512d(0xd4)]({'x':_0x249877,'y':_0x35dbdc,'value':_0x22c80e});});var _0x558796={'min':_0x515c3f,'max':_0x5ea79b,'data':_0x1803b0};this['_last_heatData']=_0x558796;(!this['_last_mBounds']||_0xf6adad['xmin']!==this[_0xc9990b(0x121)][_0xc9990b(0xa1)]||_0xf6adad[_0xc9990b(0xa2)]!==this[_0xc9990b(0x121)][_0xc9990b(0xa2)]||_0xf6adad['xmax']!==this[_0xc9990b(0x121)][_0xc9990b(0x117)]||_0xf6adad['ymax']!==this[_0xc9990b(0x121)][_0xc9990b(0xf2)])&&(this[_0xc9990b(0x121)]=_0xf6adad,!this[_0xc9990b(0xd5)][_0xc9990b(0xe6)]&&(this['heatStyle'][_0xc9990b(0xe6)]=mars3d__namespace['DomUtil'][_0xc9990b(0xf6)]('div',_0xc9990b(0xbd),this[_0xc9990b(0xb2)][_0xc9990b(0xe6)])),this['heatStyle'][_0xc9990b(0xe6)][_0xc9990b(0x12c)][_0xc9990b(0x12b)]=_0xc9990b(0xcf)['concat'](_0x5e2b69,_0xc9990b(0x111))[_0xc9990b(0xf3)](_0x3fe44a,_0xc9990b(0xdd)),!this[_0xc9990b(0x105)]?this[_0xc9990b(0x105)]=h337__namespace[_0xc9990b(0xf6)](this[_0xc9990b(0xd5)]):this[_0xc9990b(0x105)]['configure'](this[_0xc9990b(0xd5)]));this['_heat'][_0xc9990b(0x119)](_0x558796);var _0x5593cd=this[_0xc9990b(0x105)][_0xc9990b(0xe4)]['canvas'][_0xc9990b(0x10a)](_0xc9990b(0x112));return this['heatStyle'][_0xc9990b(0xe6)]&&(this['_map']['container'][_0xc9990b(0xa3)](this[_0xc9990b(0xd5)][_0xc9990b(0xe6)]),delete this[_0xc9990b(0xd5)][_0xc9990b(0xe6)]),_0x5593cd;}},{'key':_0x482ef7(0xd0),'value':function _0x3f7999(_0x55726e){var _0x4343bf=_0x482ef7;this[_0x4343bf(0x104)](),this[_0x4343bf(0xc6)]=new mars3d__namespace[(_0x4343bf(0xdb))][(_0x4343bf(0x131))](_objectSpread2(_objectSpread2({},this[_0x4343bf(0x130)]),{},{'rectangle':this[_0x4343bf(0xb4)],'appearance':new Cesium[(_0x4343bf(0xcc))]({'material':new Cesium[(_0x4343bf(0xbb))]({'fabric':{'uniforms':{'image':_0x55726e},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x4343bf(0xcd)][_0x4343bf(0xbe)](this[_0x4343bf(0xc6)]);}},{'key':'_createArcGraphic','value':function _0x46751f(_0x11740f){var _0x1e5c4f=_0x482ef7;this[_0x1e5c4f(0x104)](),this[_0x1e5c4f(0x105)][_0x1e5c4f(0xbc)](_objectSpread2(_objectSpread2({},this[_0x1e5c4f(0xd5)]),{},{'radius':this[_0x1e5c4f(0xd5)][_0x1e5c4f(0xb8)]*this['style']['arcRadiusScale'],'blur':this[_0x1e5c4f(0xd5)]['blur']*this['style'][_0x1e5c4f(0x132)],'gradient':this[_0x1e5c4f(0xd5)][_0x1e5c4f(0x107)]||{0.25:_0x1e5c4f(0x12e),0.55:'rgb(140,140,140)',0.85:_0x1e5c4f(0x109),0x1:'rgb(255,255,255)'}}));var _0x5accec=this[_0x1e5c4f(0x105)][_0x1e5c4f(0xe4)][_0x1e5c4f(0xb6)][_0x1e5c4f(0x10a)](_0x1e5c4f(0x112)),_0x1f0418=Cesium[_0x1e5c4f(0xd8)][_0x1e5c4f(0x128)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium['StencilFunction'][_0x1e5c4f(0x9f)],'frontOperation':{'fail':Cesium[_0x1e5c4f(0x114)][_0x1e5c4f(0x122)],'zFail':Cesium['StencilOperation'][_0x1e5c4f(0x122)],'zPass':Cesium[_0x1e5c4f(0x114)][_0x1e5c4f(0xa5)]},'backFunction':Cesium[_0x1e5c4f(0x10b)]['ALWAYS'],'backOperation':{'fail':Cesium[_0x1e5c4f(0x114)][_0x1e5c4f(0x122)],'zFail':Cesium[_0x1e5c4f(0x114)][_0x1e5c4f(0x122)],'zPass':Cesium[_0x1e5c4f(0x114)][_0x1e5c4f(0xa5)]},'reference':0x2,'mask':0x2},'blending':Cesium['BlendingState'][_0x1e5c4f(0xfb)]}),_0x3a1043=Math[_0x1e5c4f(0x10d)](Cesium['defaultValue'](this['style'][_0x1e5c4f(0x115)],this[_0x1e5c4f(0x123)]*0.02))+0.1;this[_0x1e5c4f(0x12c)]['diffHeight']&&delete this[_0x1e5c4f(0x12c)]['diffHeight'];var _0x4f1bd1=Cesium[_0x1e5c4f(0xf8)](this[_0x1e5c4f(0x12c)][_0x1e5c4f(0xb5)],0x64),_0x409eb5=Math[_0x1e5c4f(0xe3)](this[_0x1e5c4f(0xb4)][_0x1e5c4f(0xf1)],this[_0x1e5c4f(0xb4)]['width']);this[_0x1e5c4f(0x12c)]['granularity']=_0x409eb5/=_0x4f1bd1,this[_0x1e5c4f(0xc6)]=new mars3d__namespace['graphic'][(_0x1e5c4f(0x131))](_objectSpread2(_objectSpread2({},this[_0x1e5c4f(0x130)]),{},{'rectangle':this[_0x1e5c4f(0xb4)],'appearance':new Cesium[(_0x1e5c4f(0xcc))]({'aboveGround':!![],'renderState':_0x1f0418,'material':new Cesium[(_0x1e5c4f(0xbb))]({'fabric':{'uniforms':{'image':_0x11740f,'repeat':new Cesium[(_0x1e5c4f(0x11b))](0x1,0x1),'color':new Cesium[(_0x1e5c4f(0xc1))](0x1,0x1,0x1,0.01),'bumpMap':_0x5accec},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x1e5c4f(0xac)[_0x1e5c4f(0xf3)](_0x3a1043,_0x1e5c4f(0xb9)),'flat':!![]})})),this[_0x1e5c4f(0xcd)][_0x1e5c4f(0xbe)](this[_0x1e5c4f(0xc6)]);}},{'key':_0x482ef7(0x113),'value':function _0x395d5e(_0x320111){var _0x223276=_0x482ef7;return _0x320111!==null&&_0x320111!==void 0x0&&_0x320111['isFormat']&&this[_0x223276(0xb4)]?mars3d__namespace['PolyUtil']['formatRectangle'](this[_0x223276(0xb4)]):this['_rectangle'];}}]),_0x3965a0;}(BaseLayer);mars3d__namespace['layer'][_0x4b039b(0x101)]=HeatLayer,mars3d__namespace[_0x4b039b(0xed)][_0x4b039b(0x11f)]('heat',HeatLayer);function getMercatorBounds(_0x8fbb6d){var _0x25f253=_0x4b039b,_0x17a87f=mars3d__namespace[_0x25f253(0xe9)][_0x25f253(0xa4)]([_0x8fbb6d[_0x25f253(0xa1)],_0x8fbb6d['ymin']]),_0x2268ad=mars3d__namespace[_0x25f253(0xe9)]['lonlat2mercator']([_0x8fbb6d['xmax'],_0x8fbb6d[_0x25f253(0xf2)]]);return{'xmin':_0x17a87f[0x0],'ymin':_0x17a87f[0x1],'xmax':_0x2268ad[0x0],'ymax':_0x2268ad[0x1]};}function geLatLngBounds(_0x525b58){var _0x1247e5=_0x4b039b,_0x3663f8=mars3d__namespace[_0x1247e5(0xe9)][_0x1247e5(0xba)]([_0x525b58[_0x1247e5(0xa1)],_0x525b58[_0x1247e5(0xa2)]]),_0x5f58e3=mars3d__namespace[_0x1247e5(0xe9)][_0x1247e5(0xba)]([_0x525b58[_0x1247e5(0x117)],_0x525b58['ymax']]);return{'xmin':_0x3663f8[0x0],'ymin':_0x3663f8[0x1],'xmax':_0x5f58e3[0x0],'ymax':_0x5f58e3[0x1]};}exports[_0x4b039b(0x101)]=HeatLayer,Object[_0x4b039b(0xe2)](exports,_0x4b039b(0x12a),{'value':!![]});
}));
