/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 5);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

﻿/* COPYRIGHT 2012 SUPERMAP
 * 本程序只能在有效的授权许可下使用。
 * 未经许可，不得以任何手段擅自使用或传播。*/

/**
 * @requires SuperMap/BaseTypes.js
 */

/**
 * Namespace: SuperMap.Lang
 * 国际化的命名空间，包含多种语言和方法库来设置和获取当前的语言。
 */
var SuperMapAlgoPlot = window.SuperMapAlgoPlot = window.SuperMapAlgoPlot || {};

/***
 * @private
 * @type {{translate: SuperMap.PlotLang.translate}}
 */
SuperMapAlgoPlot.PlotLang = {
    /**
     * APIMethod: translate
     * 从当前语言字符串的字典查找key。
     *     getCode获取的值用来判断合适的字典。字典存储在 <SuperMap.Lang> 方法中。
     *
     * Parameters:
     * key - {String} 字典中i18n字符串值的关键字.
     * context - {Object} <SuperMap.String.format> 使用此参数。
     *
     * Returns:
     * {String} 国际化的字符串。
     */
    translate: function (key, context) {
        var dictionary = SuperMapAlgoPlot.PlotLang["zh-CN"];
        var message = dictionary && dictionary[key];
        if (!message) {
            // Message not found, fall back to message key
            message = key;
        }
        if (context) {
            message = SuperMapAlgoPlot.String.format(message, context);
        }
        return message;
    }

};


/**
 * @private
 * APIMethod: SuperMap.plotI18n
 *  <SuperMap.Lang.translate> 的别名.  当前语言字符串的字典查找key。
 *  getCode获取的值用来判断合适的字典。字典存储在 <SuperMap.Lang> 方法中。
 *
 * Parameters:
 * key - {String} 字典中i18n字符串值的关键字.
 * context - {Object} <SuperMap.String.format> 使用此参数。
 *
 * Returns:
 * {String} 国际化的字符串。
 */
SuperMapAlgoPlot.plotI18n = SuperMapAlgoPlot.PlotLang.translate;


/**
 * @private
 * */
SuperMapAlgoPlot.PlotLang["zh-CN"] = {
    //字体
    'SongTi': "宋体",
    //text
    'text': "文本",
    'textSizeLabel': "字体大小",
    'textSizeTitle': "字体大小",
    'textFaceNameLabel': "字体",
    'textFaceNameTitle': "字体",
    'textAlignLabel': "水平对齐方式",
    'textAlignTitle': "文本的水平对齐方式",
    'textVerticalAlignmentLabel': "垂直对齐方式",
    'textVerticalAlignmentTitle': "文本的垂直对齐方式",
    'textHaloRadiusLabel': "文本边框宽度",
    'textHaloRadiusTitle': "文本的外围边框的宽度",
    'textHaloColorLabel': "文本边框颜色",
    'textHaloColorTitle': "文本的外围边框的颜色",
    'textFillLabel': "文本颜色",
    'textFillTitle': "文本的颜色值",
    'textOpacityLabel': "透明度",
    'textOpacityTitle': "文本的透明度",
    'textDxLabel': "横向偏移",
    'textDxTitle': "文本的横向偏移值",
    'textDyLabel': "纵向偏移值",
    'textDyTitle': "文本的纵向偏移值",
    'textCompOpLabel': "叠加方式",
    'textCompOpTitle': "文本之间相互叠加里使用的覆盖或者是异或等运算方式",
    'expandingPointContent': "展",
    'volleyPointContent': "齐",
    'rendezvousPointContent': "会",
    'supplyPointContent': "补",
    //symbolAlgo
    //JB
    'symbolAlgo_17703': "加",
    'symbolAlgo_17704': "急",
    'symbolAlgo_21600': "冲",
    'symbolAlgo_28000_1': "危",
    'symbolAlgo_28000_2': "中",
    'symbolAlgo_28000_3': "轻",
    'symbolAlgo_315': "突击",
    'symbolAlgo_31304': "慑阻",
    'symbolAlgo_3010301': "调",
    'symbolAlgo_3010303': "出",
    'symbolAlgo_3010304': "协",

    //WJ
    'symbolAlgo_2121505': "火",
    'symbolAlgo_2121506': "墩",
    'symbolAlgo_2121507': "复",
    'symbolAlgo_2121601': "遥",
    'symbolAlgo_2121602': "障",
    'symbolAlgo_30010': "?",
    'symbolAlgo_3001101': "集",
    'symbolAlgo_3001102': "暴",
    'symbolAlgo_3001103': "骚",
    'symbolAlgo_3001104': "私",
    'symbolAlgo_3001105': "盗",
    'symbolAlgo_30020': "水",
    'symbolAlgo_3002001': "震",
    'symbolAlgo_3002004': "火",
    'symbolAlgo_30025': "滞",
    'symbolAlgo_5010301': "调",
    'symbolAlgo_5010303': "出",
    'symbolAlgo_5010304': "协",
    'symbolAlgo_5010401': "JZ",
    'symbolAlgo_5022001': "ZD0",
    'symbolAlgo_5034801': "催",
    "symbolAlgo_60203": "避",
    'symbolAlgo_60301': "爆",
    'symbolAlgo_6030101': "挖",
    'symbolAlgo_6030102': "浇",
    'symbolAlgo_6030103': "砌",
    'symbolAlgo_6030104': "装",
    'symbolAlgo_6030105': "石",
    'symbolAlgo_6030106': "沙",
    'symbolAlgo_6030107': "练",
    'symbolAlgo_60304': "隧",
    'symbolAlgo_3002501': "踏",
    'symbolAlgo_30026': "灾",
    'symbolAlgo_40104': "缉",
    'symbolAlgo_4030301': "标",
    'symbolAlgo_4030302': "劝",
    'symbolAlgo_4030303': "疏",
    'symbolAlgo_40304': "警",
    'symbolAlgo_4030401': "警",

    //basic symbol
    'polyLine': "折线",
    'parallelogram': "平行四边形",
    'circle': "圆",
    'ellipse': "椭圆",
    'annotation': "注记",
    'regularPolygon': "正多边形",
    'polygon': "多边形",
    'bezier': "贝塞尔曲线",
    'closedBesselCurve': "闭合贝塞尔曲线",
    'kidney': "集结地",
    'brace': "大括号",
    'trapezoid': "梯形",
    'rectangle': "矩形",
    'chord': "弓形",
    'sector': "扇形",
    'arc': "弧线",
    'parallel': "平行线",
    'annoframe': "注记指示框",
    'tooltipBoxM': "多角标注框",
    'runway': "跑道线",
    'curveEight': "八字形",
    'arrowLine': "箭头线",
    'pathText': "沿线注记",
    'concentricCircle': "同心圆",
    'combinedCircle': "组合圆",
    'freeCurve': "自由线",
    'nodeChain': "节点链",
    'lineMarking': "线型标注",
    'symbolTextBox': "标注框",

    'parallelFlatArrow': "平行平耳箭头",
    'multipleArrow': "多箭头",
    'trapezoidalFlatArrow': "梯形平耳箭头",
    'besselPointArrow': "贝塞尔尖耳箭头",
    'besselArrow': "普通贝塞尔箭头",
    'doubleArrow': "钳击箭头",
    'brokenSpaceTriangleArrow': "折线空三角箭头",
    'besselDovetailArrow': "贝塞尔燕尾箭头",
    'ordinaryLineArrow': "普通折线箭头",
    'besselPointedEarsTailArrow': "贝塞尔尖耳燕尾箭头",
    'besselTipArrow': "贝塞尔尖耳单点箭头",
    'besselArrowNoGraph': "普通贝塞尔箭头(不随图)",
    'brokenSpaceTriangleArrowNoGraph': "折线空三角箭头(不随图)",
    'besselPointedEarsTailArrowNoGraph': "贝塞尔尖耳燕尾箭头(不随图)",
    'ordinaryLineArrowNoGraph': "普通折线箭头(不随图)",
    'combianationArrow': "组合箭头",
    'symbolAlgo_311': '进攻方向',
    'symbolAlgo_317': '钳击',

    //new obj
    'airDeployment': "空军兵力部署",
    'airRoute': "空军航线",
    'arcRegion': "扇形区域",
    'flagGroup': "多旗",
    'lineRelation': "对象间连线",
    'polygonRegion': "多边形区域管理",
    'navyRoute': "海军航线",
    'missileRoute': "导弹航线",
    'navyDeployment': "海军兵力部署",
    'satelliteTimeWindows': "卫星时间窗",
    'satellite': "卫星",
    'symbolText': "对象标注",
    'symbolText1': "对象标注(带指示线)",
    'interferenceBeam': "干扰波束",
    'groupObject': "组合对象",

    //routeNodeTypeName
    'RENDEZVOUS': "会合点",
    'EXPANDING': "展开点",
    'VOLLEY': "齐射点",
    'STANDBY': "待机点",
    'SUPPLY': "补给点",
    'TAKEOFF': "起飞点",
    'INITIAL': "初始点",
    'VISUALINITAL': "可视初始点",
    'LANCH': "发射点",
    'TURNING': "转弯点",
    'AIMING': "瞄准点",
    'COMMONROUTE': "普通航路点",
    'WEAPONLAUNCH': "武器发射点",
    'TARGET': "目标点",
    'ATTACK': "攻击点",
    'SUPPRESS': "压制点",
    'EIGHTSPIRAL': "八字盘旋点",
    'HAPPYVALLEY': "跑马圈点",

    'LITERATESIGN': "标牌文字",

    'undoStackOverflow': '撤销的栈溢出',

    //Mapviewer
    'noContent': '无内容',
    'lableTitle': '_标签图层',
    "Distance": '距离',
    "Area": '面积:',
    "SpaceDistance": '空间距离',
    "VerticalHeight": '垂直高度',
    "LevelDistance": '水平距离',
	
	"SYMBOL_MODEL": '模型',
	"SYMBOL_POINT": '点图元',

};



/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {!function(){var t={3172:function(t,e,o){"use strict";var n=o(5277);function r(t){var e=[1/0,1/0,-1/0,-1/0];return n.coordEach(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}r.default=r,e.Z=r},2790:function(t,e,o){var n,r,i;function l(t){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";function t(t,e,o){var n=t[e];t[e]=t[o],t[o]=n}function e(t,e){return t<e?-1:t>e?1:0}return function(o,n,r,i,l){!function e(o,n,r,i,l){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),p=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*p*(a-p)/a)*(s-a/2<0?-1:1),f=Math.max(r,Math.floor(n-s*p/a+c)),h=Math.min(i,Math.floor(n+(a-s)*p/a+c));e(o,n,f,h,l)}var g=o[n],P=r,y=i;for(t(o,r,n),l(o[i],g)>0&&t(o,r,i);P<y;){for(t(o,P,y),P++,y--;l(o[P],g)<0;)P++;for(;l(o[y],g)>0;)y--}0===l(o[r],g)?t(o,r,y):t(o,++y,i),y<=n&&(r=y+1),n<=y&&(i=y-1)}}(o,n,r||0,i||o.length-1,l||e)}},"object"===l(e)?t.exports=i():void 0===(r="function"==typeof(n=i)?n.call(e,o,e,t):n)||(t.exports=r)},4889:function(t,e,o){"use strict";t.exports=r,t.exports.default=r;var n=o(2790);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function i(t,e,o){if(!o)return e.indexOf(t);for(var n=0;n<e.length;n++)if(o(t,e[n]))return n;return-1}function l(t,e){a(t,0,t.children.length,e,t)}function a(t,e,o,n,r){r||(r=P(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var i,l=e;l<o;l++)i=t.children[l],s(r,t.leaf?n(i):i);return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function p(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function P(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,e,o,r,i){for(var l,a=[e,o];a.length;)(o=a.pop())-(e=a.pop())<=r||(l=e+Math.ceil((o-e)/r/2)*r,n(t,l,e,o,i),a.push(e,l,l,o))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,o=[],n=this.toBBox;if(!g(t,e))return o;for(var r,i,l,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)l=e.children[r],g(t,a=e.leaf?n(l):l)&&(e.leaf?o.push(l):h(t,a)?this._all(l,o):s.push(l));e=s.pop()}return o},collides:function(t){var e=this.data,o=this.toBBox;if(!g(t,e))return!1;for(var n,r,i,l,a=[];e;){for(n=0,r=e.children.length;n<r;n++)if(i=e.children[n],g(t,l=e.leaf?o(i):i)){if(e.leaf||h(t,l))return!0;a.push(i)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,o=t.length;e<o;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=P([]),this},remove:function(t,e){if(!t)return this;for(var o,n,r,l,a=this.data,s=this.toBBox(t),u=[],p=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],o=p.pop(),l=!0),a.leaf&&-1!==(r=i(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;l||a.leaf||!h(a,s)?n?(o++,a=n.children[o],l=!1):a=null:(u.push(a),p.push(o),o=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var o=[];t;)t.leaf?e.push.apply(e,t.children):o.push.apply(o,t.children),t=o.pop();return e},_build:function(t,e,o,n){var r,i=o-e+1,a=this._maxEntries;if(i<=a)return l(r=P(t.slice(e,o+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,n-1))),(r=P([])).leaf=!1,r.height=n;var s,u,p,c,f=Math.ceil(i/a),h=f*Math.ceil(Math.sqrt(a));for(y(t,e,o,h,this.compareMinX),s=e;s<=o;s+=h)for(y(t,s,p=Math.min(s+h-1,o),f,this.compareMinY),u=s;u<=p;u+=f)c=Math.min(u+f-1,p),r.children.push(this._build(t,u,c,n-1));return l(r,this.toBBox),r},_chooseSubtree:function(t,e,o,n){for(var r,i,l,a,s,u,p,f,h,g;n.push(e),!e.leaf&&n.length-1!==o;){for(p=f=1/0,r=0,i=e.children.length;r<i;r++)s=c(l=e.children[r]),h=t,g=l,(u=(Math.max(g.maxX,h.maxX)-Math.min(g.minX,h.minX))*(Math.max(g.maxY,h.maxY)-Math.min(g.minY,h.minY))-s)<f?(f=u,p=s<p?s:p,a=l):u===f&&s<p&&(p=s,a=l);e=a||e.children[0]}return e},_insert:function(t,e,o){var n=this.toBBox,r=o?t:n(t),i=[],l=this._chooseSubtree(r,this.data,e,i);for(l.children.push(t),s(l,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var o=t[e],n=o.children.length,r=this._minEntries;this._chooseSplitAxis(o,r,n);var i=this._chooseSplitIndex(o,r,n),a=P(o.children.splice(i,o.children.length-i));a.height=o.height,a.leaf=o.leaf,l(o,this.toBBox),l(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(o,a)},_splitRoot:function(t,e){this.data=P([t,e]),this.data.height=t.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,o){var n,r,i,l,s,u,p,f,h,g,P,y,S,d;for(u=p=1/0,n=e;n<=o-e;n++)r=a(t,0,n,this.toBBox),i=a(t,n,o,this.toBBox),h=r,g=i,void 0,void 0,void 0,void 0,P=Math.max(h.minX,g.minX),y=Math.max(h.minY,g.minY),S=Math.min(h.maxX,g.maxX),d=Math.min(h.maxY,g.maxY),l=Math.max(0,S-P)*Math.max(0,d-y),s=c(r)+c(i),l<u?(u=l,f=n,p=s<p?s:p):l===u&&s<p&&(p=s,f=n);return f},_chooseSplitAxis:function(t,e,o){var n=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:p;this._allDistMargin(t,e,o,n)<this._allDistMargin(t,e,o,r)&&t.children.sort(n)},_allDistMargin:function(t,e,o,n){t.children.sort(n);var r,i,l=this.toBBox,u=a(t,0,e,l),p=a(t,o-e,o,l),c=f(u)+f(p);for(r=e;r<o-e;r++)i=t.children[r],s(u,t.leaf?l(i):i),c+=f(u);for(r=o-e-1;r>=e;r--)i=t.children[r],s(p,t.leaf?l(i):i),c+=f(p);return c},_adjustParentBBoxes:function(t,e,o){for(var n=o;n>=0;n--)s(e[n],t)},_condense:function(t){for(var e,o=t.length-1;o>=0;o--)0===t[o].children.length?o>0?(e=t[o-1].children).splice(e.indexOf(t[o]),1):this.clear():l(t[o],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},2264:function(t,e){"use strict";function o(t){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e,o){void 0===o&&(o={});var n={type:"Feature"};return(0===o.id||o.id)&&(n.id=o.id),o.bbox&&(n.bbox=o.bbox),n.properties=e||{},n.geometry=t,n}function r(t,e,o){if(void 0===o&&(o={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!g(t[0])||!g(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,o)}function i(t,e,o){void 0===o&&(o={});for(var r=0,i=t;r<i.length;r++){var l=i[r];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<l[l.length-1].length;a++)if(l[l.length-1][a]!==l[0][a])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,o)}function l(t,e,o){if(void 0===o&&(o={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,o)}function a(t,e){void 0===e&&(e={});var o={type:"FeatureCollection"};return e.id&&(o.id=e.id),e.bbox&&(o.bbox=e.bbox),o.features=t,o}function s(t,e,o){return void 0===o&&(o={}),n({type:"MultiLineString",coordinates:t},e,o)}function u(t,e,o){return void 0===o&&(o={}),n({type:"MultiPoint",coordinates:t},e,o)}function p(t,e,o){return void 0===o&&(o={}),n({type:"MultiPolygon",coordinates:t},e,o)}function c(t,o){void 0===o&&(o="kilometers");var n=e.factors[o];if(!n)throw new Error(o+" units is invalid");return t*n}function f(t,o){void 0===o&&(o="kilometers");var n=e.factors[o];if(!n)throw new Error(o+" units is invalid");return t/n}function h(t){return 180*(t%(2*Math.PI))/Math.PI}function g(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,o){switch(void 0===o&&(o={}),t){case"Point":return r(e).geometry;case"LineString":return l(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return s(e).geometry;case"MultiPolygon":return p(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,o){return void 0===o&&(o={}),a(t.map(function(t){return r(t,e)}),o)},e.polygon=i,e.polygons=function(t,e,o){return void 0===o&&(o={}),a(t.map(function(t){return i(t,e)}),o)},e.lineString=l,e.lineStrings=function(t,e,o){return void 0===o&&(o={}),a(t.map(function(t){return l(t,e)}),o)},e.featureCollection=a,e.multiLineString=s,e.multiPoint=u,e.multiPolygon=p,e.geometryCollection=function(t,e,o){return void 0===o&&(o={}),n({type:"GeometryCollection",geometries:t},e,o)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var o=Math.pow(10,e||0);return Math.round(t*o)/o},e.radiansToLength=c,e.lengthToRadians=f,e.lengthToDegrees=function(t,e){return h(f(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=h,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,o){if(void 0===e&&(e="kilometers"),void 0===o&&(o="kilometers"),!(t>=0))throw new Error("length must be a positive number");return c(f(t,e),o)},e.convertArea=function(t,o,n){if(void 0===o&&(o="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var r=e.areaFactors[o];if(!r)throw new Error("invalid original units");var i=e.areaFactors[n];if(!i)throw new Error("invalid final units");return t/r*i},e.isNumber=g,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!g(t))throw new Error("bbox must only contain numbers")})},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(o(t)))throw new Error("id must be a number or a string")}},5277:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(2264);function r(t,e,o){if(null!==t)for(var n,i,l,a,s,u,p,c,f=0,h=0,g=t.type,P="FeatureCollection"===g,y="Feature"===g,S=P?t.features.length:1,d=0;d<S;d++){s=(c=!!(p=P?t.features[d].geometry:y?t.geometry:t)&&"GeometryCollection"===p.type)?p.geometries.length:1;for(var b=0;b<s;b++){var m=0,v=0;if(null!==(a=c?p.geometries[b]:p)){u=a.coordinates;var M=a.type;switch(f=!o||"Polygon"!==M&&"MultiPolygon"!==M?0:1,M){case null:break;case"Point":if(!1===e(u,h,d,m,v))return!1;h++,m++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===e(u[n],h,d,m,v))return!1;h++,"MultiPoint"===M&&m++}"LineString"===M&&m++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(i=0;i<u[n].length-f;i++){if(!1===e(u[n][i],h,d,m,v))return!1;h++}"MultiLineString"===M&&m++,"Polygon"===M&&v++}"Polygon"===M&&m++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(v=0,i=0;i<u[n].length;i++){for(l=0;l<u[n][i].length-f;l++){if(!1===e(u[n][i][l],h,d,m,v))return!1;h++}v++}m++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===r(a.geometries[n],e,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e){var o;switch(t.type){case"FeatureCollection":for(o=0;o<t.features.length&&!1!==e(t.features[o].properties,o);o++);break;case"Feature":e(t.properties,0)}}function l(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var o=0;o<t.features.length&&!1!==e(t.features[o],o);o++);}function a(t,e){var o,n,r,i,l,a,s,u,p,c,f=0,h="FeatureCollection"===t.type,g="Feature"===t.type,P=h?t.features.length:1;for(o=0;o<P;o++){for(a=h?t.features[o].geometry:g?t.geometry:t,u=h?t.features[o].properties:g?t.properties:{},p=h?t.features[o].bbox:g?t.bbox:void 0,c=h?t.features[o].id:g?t.id:void 0,l=(s=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<l;r++)if(null!==(i=s?a.geometries[r]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,f,u,p,c))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===e(i.geometries[n],f,u,p,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,u,p,c))return!1;f++}}function s(t,e){a(t,function(t,o,r,i,l){var a,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==e(n.feature(t,r,{bbox:i,id:l}),o,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var u=0;u<t.coordinates.length;u++){var p={type:a,coordinates:t.coordinates[u]};if(!1===e(n.feature(p,r),o,u))return!1}})}function u(t,e){s(t,function(t,o,i){var l=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var s,u=0,p=0,c=0;return!1!==r(t,function(r,a,f,h,g){if(void 0===s||o>u||h>p||g>c)return s=r,u=o,p=h,c=g,void(l=0);var P=n.lineString([s,r],t.properties);if(!1===e(P,o,i,g,l))return!1;l++,s=r})&&void 0}}})}function p(t,e){if(!t)throw new Error("geojson is required");s(t,function(t,o,r){if(null!==t.geometry){var i=t.geometry.type,l=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,o,r,0,0))return!1;break;case"Polygon":for(var a=0;a<l.length;a++)if(!1===e(n.lineString(l[a],t.properties),o,r,a))return!1}}})}e.coordAll=function(t){var e=[];return r(t,function(t){e.push(t)}),e},e.coordEach=r,e.coordReduce=function(t,e,o,n){var i=o;return r(t,function(t,n,r,l,a){i=0===n&&void 0===o?t:e(i,t,n,r,l,a)},n),i},e.featureEach=l,e.featureReduce=function(t,e,o){var n=o;return l(t,function(t,r){n=0===r&&void 0===o?t:e(n,t,r)}),n},e.findPoint=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var o,r=e.featureIndex||0,i=e.multiFeatureIndex||0,l=e.geometryIndex||0,a=e.coordIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),s=s||t.features[r].properties,o=t.features[r].geometry;break;case"Feature":s=s||t.properties,o=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=t;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var u=o.coordinates;switch(o.type){case"Point":return n.point(u,s,e);case"MultiPoint":return i<0&&(i=u.length+i),n.point(u[i],s,e);case"LineString":return a<0&&(a=u.length+a),n.point(u[a],s,e);case"Polygon":return l<0&&(l=u.length+l),a<0&&(a=u[l].length+a),n.point(u[l][a],s,e);case"MultiLineString":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),n.point(u[i][a],s,e);case"MultiPolygon":return i<0&&(i=u.length+i),l<0&&(l=u[i].length+l),a<0&&(a=u[i][l].length-a),n.point(u[i][l][a],s,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var o,r=e.featureIndex||0,i=e.multiFeatureIndex||0,l=e.geometryIndex||0,a=e.segmentIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),s=s||t.features[r].properties,o=t.features[r].geometry;break;case"Feature":s=s||t.properties,o=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=t;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var u=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),n.lineString([u[a],u[a+1]],s,e);case"Polygon":return l<0&&(l=u.length+l),a<0&&(a=u[l].length+a-1),n.lineString([u[l][a],u[l][a+1]],s,e);case"MultiLineString":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a-1),n.lineString([u[i][a],u[i][a+1]],s,e);case"MultiPolygon":return i<0&&(i=u.length+i),l<0&&(l=u[i].length+l),a<0&&(a=u[i][l].length-a-1),n.lineString([u[i][l][a],u[i][l][a+1]],s,e)}throw new Error("geojson is invalid")},e.flattenEach=s,e.flattenReduce=function(t,e,o){var n=o;return s(t,function(t,r,i){n=0===r&&0===i&&void 0===o?t:e(n,t,r,i)}),n},e.geomEach=a,e.geomReduce=function(t,e,o){var n=o;return a(t,function(t,r,i,l,a){n=0===r&&void 0===o?t:e(n,t,r,i,l,a)}),n},e.lineEach=p,e.lineReduce=function(t,e,o){var n=o;return p(t,function(t,r,i,l){n=0===r&&void 0===o?t:e(n,t,r,i,l)}),n},e.propEach=i,e.propReduce=function(t,e,o){var n=o;return i(t,function(t,r){n=0===r&&void 0===o?t:e(n,t,r)}),n},e.segmentEach=u,e.segmentReduce=function(t,e,o){var n=o,r=!1;return u(t,function(t,i,l,a,s){n=!1===r&&void 0===o?t:e(n,t,i,l,a,s),r=!0}),n}},5619:function(t,e,o){var n,r,i;function l(t){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";function t(t,e,o){var n=t[e];t[e]=t[o],t[o]=n}function e(t,e){return t<e?-1:t>e?1:0}return function(o,n,r,i,l){!function e(o,n,r,i,l){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),p=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*p*(a-p)/a)*(s-a/2<0?-1:1),f=Math.max(r,Math.floor(n-s*p/a+c)),h=Math.min(i,Math.floor(n+(a-s)*p/a+c));e(o,n,f,h,l)}var g=o[n],P=r,y=i;for(t(o,r,n),l(o[i],g)>0&&t(o,r,i);P<y;){for(t(o,P,y),P++,y--;l(o[P],g)<0;)P++;for(;l(o[y],g)>0;)y--}0===l(o[r],g)?t(o,r,y):t(o,++y,i),y<=n&&(r=y+1),n<=y&&(i=y-1)}}(o,n,r||0,i||o.length-1,l||e)}},"object"===l(e)?t.exports=i():void 0===(r="function"==typeof(n=i)?n.call(e,o,e,t):n)||(t.exports=r)},1925:function(t,e,o){"use strict";t.exports=r,t.exports.default=r;var n=o(5619);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function i(t,e,o){if(!o)return e.indexOf(t);for(var n=0;n<e.length;n++)if(o(t,e[n]))return n;return-1}function l(t,e){a(t,0,t.children.length,e,t)}function a(t,e,o,n,r){r||(r=P(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var i,l=e;l<o;l++)i=t.children[l],s(r,t.leaf?n(i):i);return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function p(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function P(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,e,o,r,i){for(var l,a=[e,o];a.length;)(o=a.pop())-(e=a.pop())<=r||(l=e+Math.ceil((o-e)/r/2)*r,n(t,l,e,o,i),a.push(e,l,l,o))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,o=[],n=this.toBBox;if(!g(t,e))return o;for(var r,i,l,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)l=e.children[r],g(t,a=e.leaf?n(l):l)&&(e.leaf?o.push(l):h(t,a)?this._all(l,o):s.push(l));e=s.pop()}return o},collides:function(t){var e=this.data,o=this.toBBox;if(!g(t,e))return!1;for(var n,r,i,l,a=[];e;){for(n=0,r=e.children.length;n<r;n++)if(i=e.children[n],g(t,l=e.leaf?o(i):i)){if(e.leaf||h(t,l))return!0;a.push(i)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,o=t.length;e<o;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=P([]),this},remove:function(t,e){if(!t)return this;for(var o,n,r,l,a=this.data,s=this.toBBox(t),u=[],p=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],o=p.pop(),l=!0),a.leaf&&-1!==(r=i(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;l||a.leaf||!h(a,s)?n?(o++,a=n.children[o],l=!1):a=null:(u.push(a),p.push(o),o=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var o=[];t;)t.leaf?e.push.apply(e,t.children):o.push.apply(o,t.children),t=o.pop();return e},_build:function(t,e,o,n){var r,i=o-e+1,a=this._maxEntries;if(i<=a)return l(r=P(t.slice(e,o+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,n-1))),(r=P([])).leaf=!1,r.height=n;var s,u,p,c,f=Math.ceil(i/a),h=f*Math.ceil(Math.sqrt(a));for(y(t,e,o,h,this.compareMinX),s=e;s<=o;s+=h)for(y(t,s,p=Math.min(s+h-1,o),f,this.compareMinY),u=s;u<=p;u+=f)c=Math.min(u+f-1,p),r.children.push(this._build(t,u,c,n-1));return l(r,this.toBBox),r},_chooseSubtree:function(t,e,o,n){for(var r,i,l,a,s,u,p,f,h,g;n.push(e),!e.leaf&&n.length-1!==o;){for(p=f=1/0,r=0,i=e.children.length;r<i;r++)s=c(l=e.children[r]),h=t,g=l,(u=(Math.max(g.maxX,h.maxX)-Math.min(g.minX,h.minX))*(Math.max(g.maxY,h.maxY)-Math.min(g.minY,h.minY))-s)<f?(f=u,p=s<p?s:p,a=l):u===f&&s<p&&(p=s,a=l);e=a||e.children[0]}return e},_insert:function(t,e,o){var n=this.toBBox,r=o?t:n(t),i=[],l=this._chooseSubtree(r,this.data,e,i);for(l.children.push(t),s(l,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},_split:function(t,e){var o=t[e],n=o.children.length,r=this._minEntries;this._chooseSplitAxis(o,r,n);var i=this._chooseSplitIndex(o,r,n),a=P(o.children.splice(i,o.children.length-i));a.height=o.height,a.leaf=o.leaf,l(o,this.toBBox),l(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(o,a)},_splitRoot:function(t,e){this.data=P([t,e]),this.data.height=t.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,o){var n,r,i,l,s,u,p,f,h,g,P,y,S,d;for(u=p=1/0,n=e;n<=o-e;n++)r=a(t,0,n,this.toBBox),i=a(t,n,o,this.toBBox),h=r,g=i,void 0,void 0,void 0,void 0,P=Math.max(h.minX,g.minX),y=Math.max(h.minY,g.minY),S=Math.min(h.maxX,g.maxX),d=Math.min(h.maxY,g.maxY),l=Math.max(0,S-P)*Math.max(0,d-y),s=c(r)+c(i),l<u?(u=l,f=n,p=s<p?s:p):l===u&&s<p&&(p=s,f=n);return f},_chooseSplitAxis:function(t,e,o){var n=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:p;this._allDistMargin(t,e,o,n)<this._allDistMargin(t,e,o,r)&&t.children.sort(n)},_allDistMargin:function(t,e,o,n){t.children.sort(n);var r,i,l=this.toBBox,u=a(t,0,e,l),p=a(t,o-e,o,l),c=f(u)+f(p);for(r=e;r<o-e;r++)i=t.children[r],s(u,t.leaf?l(i):i),c+=f(u);for(r=o-e-1;r>=e;r--)i=t.children[r],s(p,t.leaf?l(i):i),c+=f(p);return c},_adjustParentBBoxes:function(t,e,o){for(var n=o;n>=0;n--)s(e[n],t)},_condense:function(t){for(var e,o=t.length-1;o>=0;o--)0===t[o].children.length?o>0?(e=t[o-1].children).splice(e.indexOf(t[o]),1):this.clear():l(t[o],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},8780:function(t,e,o){"use strict";var n=o(6893),r=o(3862),i=r(n("String.prototype.indexOf"));t.exports=function(t,e){var o=n(t,!!e);return"function"==typeof o&&i(t,".prototype.")>-1?r(o):o}},3862:function(t,e,o){"use strict";var n=o(5246),r=o(6893),i=r("%Function.prototype.apply%"),l=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||n.call(l,i),s=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),p=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=a(n,l,arguments);s&&u&&(s(e,"length").configurable&&u(e,"length",{value:1+p(0,t.length-(arguments.length-1))}));return e};var c=function(){return a(n,i,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c},7523:function(t,e,o){"use strict";var n=o(2180),r=o(2798),i=o(1516),l=o(5081).orient2d;function a(t,e,o){e=Math.max(0,void 0===e?2:e),o=o||0;var r=function(t){for(var e=t[0],o=t[0],n=t[0],r=t[0],l=0;l<t.length;l++){var a=t[l];a[0]<e[0]&&(e=a),a[0]>n[0]&&(n=a),a[1]<o[1]&&(o=a),a[1]>r[1]&&(r=a)}var s=[e,o,n,r],u=s.slice();for(l=0;l<t.length;l++)i(t[l],s)||u.push(t[l]);return function(t){t.sort(b);for(var e=[],o=0;o<t.length;o++){for(;e.length>=2&&h(e[e.length-2],e[e.length-1],t[o])<=0;)e.pop();e.push(t[o])}for(var n=[],r=t.length-1;r>=0;r--){for(;n.length>=2&&h(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}return n.pop(),e.pop(),e.concat(n)}(u)}(t),l=new n(16);l.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},l.compareMinX=function(t,e){return t[0]-e[0]},l.compareMinY=function(t,e){return t[1]-e[1]},l.load(t);for(var a,u=[],p=0;p<r.length;p++){var c=r[p];l.remove(c),a=P(c,a),u.push(a)}var f=new n(16);for(p=0;p<u.length;p++)f.insert(g(u[p]));for(var S=e*e,d=o*o;u.length;){var m=u.shift(),v=m.p,M=m.next.p,A=y(v,M);if(!(A<d)){var O=A/S;(c=s(l,m.prev.p,v,M,m.next.next.p,O,f))&&Math.min(y(c,v),y(c,M))<=O&&(u.push(m),u.push(P(c,m)),l.remove(c),f.remove(m),f.insert(g(m)),f.insert(g(m.next)))}}m=a;var _=[];do{_.push(m.p),m=m.next}while(m!==a);return _.push(m.p),_}function s(t,e,o,n,i,l,a){for(var s=new r([],u),c=t.data;c;){for(var h=0;h<c.children.length;h++){var g=c.children[h],P=c.leaf?S(g,o,n):p(o,n,g);P>l||s.push({node:g,dist:P})}for(;s.length&&!s.peek().node.children;){var y=s.pop(),d=y.node,b=S(d,e,o),m=S(d,n,i);if(y.dist<b&&y.dist<m&&f(o,d,a)&&f(n,d,a))return d}(c=s.pop())&&(c=c.node)}return null}function u(t,e){return t.dist-e.dist}function p(t,e,o){if(c(t,o)||c(e,o))return 0;var n=d(t[0],t[1],e[0],e[1],o.minX,o.minY,o.maxX,o.minY);if(0===n)return 0;var r=d(t[0],t[1],e[0],e[1],o.minX,o.minY,o.minX,o.maxY);if(0===r)return 0;var i=d(t[0],t[1],e[0],e[1],o.maxX,o.minY,o.maxX,o.maxY);if(0===i)return 0;var l=d(t[0],t[1],e[0],e[1],o.minX,o.maxY,o.maxX,o.maxY);return 0===l?0:Math.min(n,r,i,l)}function c(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function f(t,e,o){for(var n,r,i,l,a=Math.min(t[0],e[0]),s=Math.min(t[1],e[1]),u=Math.max(t[0],e[0]),p=Math.max(t[1],e[1]),c=o.search({minX:a,minY:s,maxX:u,maxY:p}),f=0;f<c.length;f++)if(n=c[f].p,r=c[f].next.p,i=t,n!==(l=e)&&r!==i&&h(n,r,i)>0!=h(n,r,l)>0&&h(i,l,n)>0!=h(i,l,r)>0)return!1;return!0}function h(t,e,o){return l(t[0],t[1],e[0],e[1],o[0],o[1])}function g(t){var e=t.p,o=t.next.p;return t.minX=Math.min(e[0],o[0]),t.minY=Math.min(e[1],o[1]),t.maxX=Math.max(e[0],o[0]),t.maxY=Math.max(e[1],o[1]),t}function P(t,e){var o={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(o.next=e.next,o.prev=e,e.next.prev=o,e.next=o):(o.prev=o,o.next=o),o}function y(t,e){var o=t[0]-e[0],n=t[1]-e[1];return o*o+n*n}function S(t,e,o){var n=e[0],r=e[1],i=o[0]-n,l=o[1]-r;if(0!==i||0!==l){var a=((t[0]-n)*i+(t[1]-r)*l)/(i*i+l*l);a>1?(n=o[0],r=o[1]):a>0&&(n+=i*a,r+=l*a)}return(i=t[0]-n)*i+(l=t[1]-r)*l}function d(t,e,o,n,r,i,l,a){var s,u,p,c,f=o-t,h=n-e,g=l-r,P=a-i,y=t-r,S=e-i,d=f*f+h*h,b=f*g+h*P,m=g*g+P*P,v=f*y+h*S,M=g*y+P*S,A=d*m-b*b,O=A,_=A;0===A?(u=0,O=1,c=M,_=m):(c=d*M-b*v,(u=b*M-m*v)<0?(u=0,c=M,_=m):u>O&&(u=O,c=M+b,_=m)),c<0?(c=0,-v<0?u=0:-v>d?u=O:(u=-v,O=d)):c>_&&(c=_,-v+b<0?u=0:-v+b>d?u=O:(u=-v+b,O=d)),s=0===u?0:u/O;var L=(1-(p=0===c?0:c/_))*r+p*l-((1-s)*t+s*o),w=(1-p)*i+p*a-((1-s)*e+s*n);return L*L+w*w}function b(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}r.default&&(r=r.default),t.exports=a,t.exports.default=a},6483:function(t,e,o){function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=o(3818),i=o(2755),l=o(4710),a=o(2975),s=o(7207),u=o(5052),p=Date.prototype.getTime;function c(t,e,o){var g=o||{};return!(g.strict?!l(t,e):t!==e)||(!t||!e||"object"!==n(t)&&"object"!==n(e)?g.strict?l(t,e):t==e:function(t,e,o){var l,g;if(n(t)!==n(e))return!1;if(f(t)||f(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t)!==i(e))return!1;var P=a(t),y=a(e);if(P!==y)return!1;if(P||y)return t.source===e.source&&s(t)===s(e);if(u(t)&&u(e))return p.call(t)===p.call(e);var S=h(t),d=h(e);if(S!==d)return!1;if(S||d){if(t.length!==e.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==e[l])return!1;return!0}if(n(t)!==n(e))return!1;try{var b=r(t),m=r(e)}catch(t){return!1}if(b.length!==m.length)return!1;for(b.sort(),m.sort(),l=b.length-1;l>=0;l--)if(b[l]!=m[l])return!1;for(l=b.length-1;l>=0;l--)if(g=b[l],!c(t[g],e[g],o))return!1;return!0}(t,e,g))}function f(t){return null===t||void 0===t}function h(t){return!(!t||"object"!==n(t)||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}t.exports=c},7921:function(t,e,o){"use strict";function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=o(3818),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),l=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=o(2579)(),p=s&&u,c=function(t,e,o,n){var r;e in t&&("function"!=typeof(r=n)||"[object Function]"!==l.call(r)||!n())||(p?s(t,e,{configurable:!0,enumerable:!1,value:o,writable:!0}):t[e]=o)},f=function(t,e){var o=arguments.length>2?arguments[2]:{},n=r(e);i&&(n=a.call(n,Object.getOwnPropertySymbols(e)));for(var l=0;l<n.length;l+=1)c(t,n[l],e[n[l]],o[n[l]])};f.supportsDescriptors=!!p,t.exports=f},6258:function(t){function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,o,n){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,o,n)}o.prototype.run=function(t,e,o,n){this._init(t,e,o,n);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);if(i.length<this.minPts)this.noise.push(r);else{var l=this.clusters.length;this.clusters.push([]),this._addToCluster(r,l),this._expandCluster(l,i)}}return this.clusters},o.prototype._init=function(t,o,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+e(t)+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}o&&(this.epsilon=o),n&&(this.minPts=n),r&&(this.distance=r)},o.prototype._expandCluster=function(t,e){for(var o=0;o<e.length;o++){var n=e[o];if(1!==this._visited[n]){this._visited[n]=1;var r=this._regionQuery(n);r.length>=this.minPts&&(e=this._mergeArrays(e,r))}1!==this._assigned[n]&&this._addToCluster(n,t)}},o.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},o.prototype._regionQuery=function(t){for(var e=[],o=0;o<this._datasetLength;o++){this.distance(this.dataset[t],this.dataset[o])<this.epsilon&&e.push(o)}return e},o.prototype._mergeArrays=function(t,e){for(var o=e.length,n=0;n<o;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}return t},o.prototype._euclideanDistance=function(t,e){for(var o=0,n=Math.min(t.length,e.length);n--;)o+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(o)},t.exports&&(t.exports=o)},9074:function(t){function e(t,e,o){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,o)}e.prototype.init=function(t,e,o){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==o&&(this.distance=o)},e.prototype.run=function(t,e){this.init(t,e);for(var o=this.dataset.length,n=0;n<this.k;n++)this.centroids[n]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var i=0;i<this.k;i++){for(var l=new Array(p),a=0,s=0;s<p;s++)l[s]=0;for(var u=0;u<o;u++){var p=this.dataset[u].length;if(i===this.assignments[u]){for(s=0;s<p;s++)l[s]+=this.dataset[u][s];a++}}if(a>0){for(s=0;s<p;s++)l[s]/=a;this.centroids[i]=l}else this.centroids[i]=this.randomCentroid(),r=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,o=this.dataset.length-1;do{e=Math.round(Math.random()*o),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,o=this.dataset.length,n=0;n<o;n++)(t=this.argmin(this.dataset[n],this.centroids,this.distance))!=this.assignments[n]&&(this.assignments[n]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),o=0;o<this.assignments.length;o++)void 0===e[t=this.assignments[o]]&&(e[t]=[]),e[t].push(o);return e},e.prototype.argmin=function(t,e,o){for(var n,r=Number.MAX_VALUE,i=0,l=e.length,a=0;a<l;a++)(n=o(t,e[a]))<r&&(r=n,i=a);return i},e.prototype.distance=function(t,e){for(var o=0,n=Math.min(t.length,e.length);n--;){var r=t[n]-e[n];o+=r*r}return Math.sqrt(o)},t.exports&&(t.exports=e)},4364:function(t,e,o){function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if(t.exports)var r=o(1173);function i(t,e,o,n){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,o,n)}i.prototype.run=function(t,e,o,n){this._init(t,e,o,n);for(var i=0,l=this.dataset.length;i<l;i++)if(1!==this._processed[i]){this._processed[i]=1,this.clusters.push([i]);var a=this.clusters.length-1;this._orderedList.push(i);var s=new r(null,null,"asc"),u=this._regionQuery(i);void 0!==this._distanceToCore(i)&&(this._updateQueue(i,u,s),this._expandCluster(a,s))}return this.clusters},i.prototype.getReachabilityPlot=function(){for(var t=[],e=0,o=this._orderedList.length;e<o;e++){var n=this._orderedList[e],r=this._reachability[n];t.push([n,r])}return t},i.prototype._init=function(t,e,o,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+n(t)+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),o&&(this.minPts=o),r&&(this.distance=r)},i.prototype._updateQueue=function(t,e,o){var n=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===n._processed[e]){var r=n.distance(n.dataset[t],n.dataset[e]),i=Math.max(n._coreDistance,r);void 0===n._reachability[e]?(n._reachability[e]=i,o.insert(e,i)):i<n._reachability[e]&&(n._reachability[e]=i,o.remove(e),o.insert(e,i))}})},i.prototype._expandCluster=function(t,e){for(var o=e.getElements(),n=0,r=o.length;n<r;n++){var i=o[n];if(void 0===this._processed[i]){var l=this._regionQuery(i);this._processed[i]=1,this.clusters[t].push(i),this._orderedList.push(i),void 0!==this._distanceToCore(i)&&(this._updateQueue(i,l,e),this._expandCluster(t,e))}}},i.prototype._distanceToCore=function(t){for(var e=this.epsilon,o=0;o<e;o++){if(this._regionQuery(t,o).length>=this.minPts)return o}},i.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var o=[],n=0,r=this.dataset.length;n<r;n++)this.distance(this.dataset[t],this.dataset[n])<e&&o.push(n);return o},i.prototype._euclideanDistance=function(t,e){for(var o=0,n=Math.min(t.length,e.length);n--;)o+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(o)},t.exports&&(t.exports=i)},1173:function(t){function e(t,e,o){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,o)}e.prototype.insert=function(t,e){for(var o=this._queue.length,n=o;n--;){var r=this._priorities[n];"desc"===this._sorting?e>r&&(o=n):e<r&&(o=n)}this._insertAt(t,e,o)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,o=this._queue.length;e<o;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,o){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var n=0;n<t.length;n++)this.insert(t[n],e[n])}o&&(this._sorting=o)},e.prototype._insertAt=function(t,e,o){this._queue.length===o?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(o,0,t),this._priorities.splice(o,0,e))},t.exports&&(t.exports=e)},8328:function(t,e,o){t.exports&&(t.exports={DBSCAN:o(6258),KMEANS:o(9074),OPTICS:o(4364),PriorityQueue:o(1173)})},8027:function(t){"use strict";function e(t,e,n){n=n||2;var i,l,a,s,c,f,g,P=e&&e.length,y=P?e[0]*n:t.length,S=o(t,0,y,n,!0),d=[];if(!S||S.next===S.prev)return d;if(P&&(S=function(t,e,n,r){var i,l,a,s,c,f=[];for(i=0,l=e.length;i<l;i++)a=e[i]*r,s=i<l-1?e[i+1]*r:t.length,(c=o(t,a,s,r,!1))===c.next&&(c.steiner=!0),f.push(h(c));for(f.sort(u),i=0;i<f.length;i++)n=p(f[i],n);return n}(t,e,S,n)),t.length>80*n){i=a=t[0],l=s=t[1];for(var b=n;b<y;b+=n)c=t[b],f=t[b+1],c<i&&(i=c),f<l&&(l=f),c>a&&(a=c),f>s&&(s=f);g=0!==(g=Math.max(a-i,s-l))?32767/g:0}return r(S,d,n,i,l,g,0),d}function o(t,e,o,n,r){var i,l;if(r===L(t,e,o,n)>0)for(i=e;i<o;i+=n)l=A(i,t[i],t[i+1],l);else for(i=o-n;i>=e;i-=n)l=A(i,t[i],t[i+1],l);return l&&S(l,l.next)&&(O(l),l=l.next),l}function n(t,e){if(!t)return t;e||(e=t);var o,n=t;do{if(o=!1,n.steiner||!S(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(O(n),(n=e=n.prev)===n.next)break;o=!0}}while(o||n!==e);return e}function r(t,e,o,u,p,c,h){if(t){!h&&c&&function(t,e,o,n){var r=t;do{0===r.z&&(r.z=f(r.x,r.y,e,o,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,o,n,r,i,l,a,s,u=1;do{for(o=t,t=null,i=null,l=0;o;){for(l++,n=o,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(s=u;a>0||s>0&&n;)0!==a&&(0===s||!n||o.z<=n.z)?(r=o,o=o.nextZ,a--):(r=n,n=n.nextZ,s--),i?i.nextZ=r:t=r,r.prevZ=i,i=r;o=n}i.nextZ=null,u*=2}while(l>1)}(r)}(t,u,p,c);for(var g,P,y=t;t.prev!==t.next;)if(g=t.prev,P=t.next,c?l(t,u,p,c):i(t))e.push(g.i/o|0),e.push(t.i/o|0),e.push(P.i/o|0),O(t),t=P.next,y=P.next;else if((t=P)===y){h?1===h?r(t=a(n(t),e,o),e,o,u,p,c,2):2===h&&s(t,e,o,u,p,c):r(n(t),e,o,u,p,c,1);break}}}function i(t){var e=t.prev,o=t,n=t.next;if(y(e,o,n)>=0)return!1;for(var r=e.x,i=o.x,l=n.x,a=e.y,s=o.y,u=n.y,p=r<i?r<l?r:l:i<l?i:l,c=a<s?a<u?a:u:s<u?s:u,f=r>i?r>l?r:l:i>l?i:l,h=a>s?a>u?a:u:s>u?s:u,P=n.next;P!==e;){if(P.x>=p&&P.x<=f&&P.y>=c&&P.y<=h&&g(r,a,i,s,l,u,P.x,P.y)&&y(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function l(t,e,o,n){var r=t.prev,i=t,l=t.next;if(y(r,i,l)>=0)return!1;for(var a=r.x,s=i.x,u=l.x,p=r.y,c=i.y,h=l.y,P=a<s?a<u?a:u:s<u?s:u,S=p<c?p<h?p:h:c<h?c:h,d=a>s?a>u?a:u:s>u?s:u,b=p>c?p>h?p:h:c>h?c:h,m=f(P,S,e,o,n),v=f(d,b,e,o,n),M=t.prevZ,A=t.nextZ;M&&M.z>=m&&A&&A.z<=v;){if(M.x>=P&&M.x<=d&&M.y>=S&&M.y<=b&&M!==r&&M!==l&&g(a,p,s,c,u,h,M.x,M.y)&&y(M.prev,M,M.next)>=0)return!1;if(M=M.prevZ,A.x>=P&&A.x<=d&&A.y>=S&&A.y<=b&&A!==r&&A!==l&&g(a,p,s,c,u,h,A.x,A.y)&&y(A.prev,A,A.next)>=0)return!1;A=A.nextZ}for(;M&&M.z>=m;){if(M.x>=P&&M.x<=d&&M.y>=S&&M.y<=b&&M!==r&&M!==l&&g(a,p,s,c,u,h,M.x,M.y)&&y(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;A&&A.z<=v;){if(A.x>=P&&A.x<=d&&A.y>=S&&A.y<=b&&A!==r&&A!==l&&g(a,p,s,c,u,h,A.x,A.y)&&y(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function a(t,e,o){var r=t;do{var i=r.prev,l=r.next.next;!S(i,l)&&d(i,r,r.next,l)&&v(i,l)&&v(l,i)&&(e.push(i.i/o|0),e.push(r.i/o|0),e.push(l.i/o|0),O(r),O(r.next),r=t=l),r=r.next}while(r!==t);return n(r)}function s(t,e,o,i,l,a){var s=t;do{for(var u=s.next.next;u!==s.prev;){if(s.i!==u.i&&P(s,u)){var p=M(s,u);return s=n(s,s.next),p=n(p,p.next),r(s,e,o,i,l,a,0),void r(p,e,o,i,l,a,0)}u=u.next}s=s.next}while(s!==t)}function u(t,e){return t.x-e.x}function p(t,e){var o=function(t,e){var o,n=e,r=t.x,i=t.y,l=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>l&&(l=a,o=n.x<n.next.x?n:n.next,a===r))return o}n=n.next}while(n!==e);if(!o)return null;var s,u=o,p=o.x,f=o.y,h=1/0;n=o;do{r>=n.x&&n.x>=p&&r!==n.x&&g(i<f?r:l,i,p,f,i<f?l:r,i,n.x,n.y)&&(s=Math.abs(i-n.y)/(r-n.x),v(n,t)&&(s<h||s===h&&(n.x>o.x||n.x===o.x&&c(o,n)))&&(o=n,h=s)),n=n.next}while(n!==u);return o}(t,e);if(!o)return e;var r=M(o,t);return n(r,r.next),n(o,o.next)}function c(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function f(t,e,o,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-o)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function h(t){var e=t,o=t;do{(e.x<o.x||e.x===o.x&&e.y<o.y)&&(o=e),e=e.next}while(e!==t);return o}function g(t,e,o,n,r,i,l,a){return(r-l)*(e-a)>=(t-l)*(i-a)&&(t-l)*(n-a)>=(o-l)*(e-a)&&(o-l)*(i-a)>=(r-l)*(n-a)}function P(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var o=t;do{if(o.i!==t.i&&o.next.i!==t.i&&o.i!==e.i&&o.next.i!==e.i&&d(o,o.next,t,e))return!0;o=o.next}while(o!==t);return!1}(t,e)&&(v(t,e)&&v(e,t)&&function(t,e){var o=t,n=!1,r=(t.x+e.x)/2,i=(t.y+e.y)/2;do{o.y>i!=o.next.y>i&&o.next.y!==o.y&&r<(o.next.x-o.x)*(i-o.y)/(o.next.y-o.y)+o.x&&(n=!n),o=o.next}while(o!==t);return n}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||S(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,o){return(e.y-t.y)*(o.x-e.x)-(e.x-t.x)*(o.y-e.y)}function S(t,e){return t.x===e.x&&t.y===e.y}function d(t,e,o,n){var r=m(y(t,e,o)),i=m(y(t,e,n)),l=m(y(o,n,t)),a=m(y(o,n,e));return r!==i&&l!==a||(!(0!==r||!b(t,o,e))||(!(0!==i||!b(t,n,e))||(!(0!==l||!b(o,t,n))||!(0!==a||!b(o,e,n)))))}function b(t,e,o){return e.x<=Math.max(t.x,o.x)&&e.x>=Math.min(t.x,o.x)&&e.y<=Math.max(t.y,o.y)&&e.y>=Math.min(t.y,o.y)}function m(t){return t>0?1:t<0?-1:0}function v(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function M(t,e){var o=new _(t.i,t.x,t.y),n=new _(e.i,e.x,e.y),r=t.next,i=e.prev;return t.next=e,e.prev=t,o.next=r,r.prev=o,n.next=o,o.prev=n,i.next=n,n.prev=i,n}function A(t,e,o,n){var r=new _(t,e,o);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function _(t,e,o){this.i=t,this.x=e,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(t,e,o,n){for(var r=0,i=e,l=o-n;i<o;i+=n)r+=(t[l]-t[i])*(t[i+1]+t[l+1]),l=i;return r}t.exports=e,t.exports.default=e,e.deviation=function(t,e,o,n){var r=e&&e.length,i=r?e[0]*o:t.length,l=Math.abs(L(t,0,i,o));if(r)for(var a=0,s=e.length;a<s;a++){var u=e[a]*o,p=a<s-1?e[a+1]*o:t.length;l-=Math.abs(L(t,u,p,o))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*o,h=n[a+1]*o,g=n[a+2]*o;c+=Math.abs((t[f]-t[g])*(t[h+1]-t[f+1])-(t[f]-t[h])*(t[g+1]-t[f+1]))}return 0===l&&0===c?0:Math.abs((c-l)/l)},e.flatten=function(t){for(var e=t[0][0].length,o={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var i=0;i<t[r].length;i++)for(var l=0;l<e;l++)o.vertices.push(t[r][i][l]);r>0&&(n+=t[r-1].length,o.holes.push(n))}return o}},5929:function(t){"use strict";var e=Array.prototype.slice,o=Object.prototype.toString;t.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==o.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r,i=e.call(arguments,1),l=Math.max(0,n.length-i.length),a=[],s=0;s<l;s++)a.push("$"+s);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof r){var o=n.apply(this,i.concat(e.call(arguments)));return Object(o)===o?o:this}return n.apply(t,i.concat(e.call(arguments)))}),n.prototype){var u=function(){};u.prototype=n.prototype,r.prototype=new u,u.prototype=null}return r}},5246:function(t,e,o){"use strict";var n=o(5929);t.exports=Function.prototype.bind||n},659:function(t){"use strict";var e=function(){return"string"==typeof function(){}.name},o=Object.getOwnPropertyDescriptor;if(o)try{o([],"length")}catch(t){o=null}e.functionsHaveConfigurableNames=function(){if(!e()||!o)return!1;var t=o(function(){},"name");return!!t&&!!t.configurable};var n=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof n&&""!==function(){}.bind().name},t.exports=e},1577:function(t,e,o){var n=o(6483),r=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:a};function i(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function l(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function a(t,e){return n(t,e,{strict:!0})}r.prototype.compare=function(t,e){if(t.type!==e.type||!l(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var o=this,n=i(t),r=i(e);return n.every(function(t){return this.some(function(e){return o.compare(t,e)})},r)}}return!1},r.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(t[o].toFixed(this.precision)!==e[o].toFixed(this.precision))return!1;return!0},r.prototype.compareLine=function(t,e,o,n){if(!l(t,e))return!1;var r=this.pseudoNode?t:this.removePseudo(t),i=this.pseudoNode?e:this.removePseudo(e);if(!n||this.compareCoord(r[0],i[0])||(i=this.fixStartIndex(i,r))){var a=this.compareCoord(r[o],i[o]);return this.direction||a?this.comparePath(r,i):!!this.compareCoord(r[o],i[i.length-(1+o)])&&this.comparePath(r.slice().reverse(),i)}},r.prototype.fixStartIndex=function(t,e){for(var o,n=-1,r=0;r<t.length;r++)if(this.compareCoord(t[r],e[0])){n=r;break}return n>=0&&(o=[].concat(t.slice(n,t.length),t.slice(1,n+1))),o},r.prototype.comparePath=function(t,e){var o=this;return t.every(function(t,e){return o.compareCoord(t,this[e])},e)},r.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var o=t.coordinates.slice(1,t.coordinates.length),n=e.coordinates.slice(1,e.coordinates.length),r=this;return o.every(function(t){return this.some(function(e){return r.compareLine(t,e,1,!0)})},n)}return!1},r.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},r.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},r.prototype.removePseudo=function(t){return t},t.exports=r},5075:function(t,e,o){var n=o(2180),r=o(2264),i=o(5277),l=o(3172).Z,a=i.featureEach,s=(i.coordEach,r.polygon,r.featureCollection);function u(t){var e=new n(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:l(t),n.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:l(t),e.push(t)}):a(t,function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:l(t),e.push(t)}),n.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:l(t),n.prototype.remove.call(this,t,e)},e.clear=function(){return n.prototype.clear.call(this)},e.search=function(t){var e=n.prototype.search.call(this,this.toBBox(t));return s(e)},e.collides=function(t){return n.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=n.prototype.all.call(this);return s(t)},e.toJSON=function(){return n.prototype.toJSON.call(this)},e.fromJSON=function(t){return n.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=l(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=l(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=u,t.exports.default=u},6893:function(t,e,o){"use strict";function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=SyntaxError,i=Function,l=TypeError,a=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}var u=function(){throw new l},p=s?function(){try{return arguments.callee,u}catch(t){try{return s(arguments,"callee").get}catch(t){return u}}}():u,c=o(5990)(),f=Object.getPrototypeOf||function(t){return t.__proto__},h={},g="undefined"==typeof Uint8Array?void 0:f(Uint8Array),P={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":c?f([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?f(f([][Symbol.iterator]())):void 0,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?f((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?f((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?f(""[Symbol.iterator]()):void 0,"%Symbol%":c?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":p,"%TypedArray%":g,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=o(5246),d=o(7751),b=S.call(Function.call,Array.prototype.concat),m=S.call(Function.apply,Array.prototype.splice),v=S.call(Function.call,String.prototype.replace),M=S.call(Function.call,String.prototype.slice),A=S.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_=/\\(\\)?/g,L=function(t,e){var o,n=t;if(d(y,n)&&(n="%"+(o=y[n])[0]+"%"),d(P,n)){var i=P[n];if(i===h&&(i=function t(e){var o;if("%AsyncFunction%"===e)o=a("async function () {}");else if("%GeneratorFunction%"===e)o=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)o=a("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(o=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var r=t("%AsyncGenerator%");r&&(o=f(r.prototype))}return P[e]=o,o}(n)),void 0===i&&!e)throw new l("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new r("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new l('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/g,t))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=function(t){var e=M(t,0,1),o=M(t,-1);if("%"===e&&"%"!==o)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===o&&"%"!==e)throw new r("invalid intrinsic syntax, expected opening `%`");var n=[];return v(t,O,function(t,e,o,r){n[n.length]=o?v(r,_,"$1"):e||t}),n}(t),n=o.length>0?o[0]:"",i=L("%"+n+"%",e),a=i.name,u=i.value,p=!1,c=i.alias;c&&(n=c[0],m(o,b([0,1],c)));for(var f=1,h=!0;f<o.length;f+=1){var g=o[f],y=M(g,0,1),S=M(g,-1);if(('"'===y||"'"===y||"`"===y||'"'===S||"'"===S||"`"===S)&&y!==S)throw new r("property names with quotes must have matching quotes");if("constructor"!==g&&h||(p=!0),d(P,a="%"+(n+="."+g)+"%"))u=P[a];else if(null!=u){if(!(g in u)){if(!e)throw new l("base intrinsic for "+t+" exists, but the property is not available.");return}if(s&&f+1>=o.length){var w=s(u,g);u=(h=!!w)&&"get"in w&&!("originalValue"in w.get)?w.get:u[g]}else h=d(u,g),u=u[g];h&&!p&&(P[a]=u)}}return u}},2579:function(t,e,o){"use strict";var n=o(6893)("%Object.defineProperty%",!0),r=function(){if(n)try{return n({},"a",{value:1}),!0}catch(t){return!1}return!1};r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=r},5990:function(t,e,o){"use strict";function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="undefined"!=typeof Symbol&&Symbol,i=o(3031);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"===n(r("foo"))&&("symbol"===n(Symbol("bar"))&&i())))}},3031:function(t){"use strict";function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===e(Symbol.iterator))return!0;var t={},o=Symbol("test"),n=Object(o);if("string"==typeof o)return!1;if("[object Symbol]"!==Object.prototype.toString.call(o))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(o in t[o]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==o)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,o))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,o);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},5994:function(t,e,o){"use strict";var n=o(3031);t.exports=function(){return n()&&!!Symbol.toStringTag}},7751:function(t,e,o){"use strict";var n=o(5246);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2755:function(t,e,o){"use strict";function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=o(5994)(),i=o(8780)("Object.prototype.toString"),l=function(t){return!(r&&t&&"object"===n(t)&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},a=function(t){return!!l(t)||null!==t&&"object"===n(t)&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},s=function(){return l(arguments)}();l.isLegacyArguments=a,t.exports=s?l:a},5052:function(t,e,o){"use strict";function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=Date.prototype.getDay,i=Object.prototype.toString,l=o(5994)();t.exports=function(t){return"object"===n(t)&&null!==t&&(l?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===i.call(t))}},2975:function(t,e,o){"use strict";function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,i,l,a,s=o(8780),u=o(5994)();if(u){r=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),l={};var p=function(){throw l};a={toString:p,valueOf:p},"symbol"===n(Symbol.toPrimitive)&&(a[Symbol.toPrimitive]=p)}var c=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!==n(t))return!1;var e=f(t,"lastIndex");if(!(e&&r(e,"value")))return!1;try{i(t,a)}catch(t){return t===l}}:function(t){return!(!t||"object"!==n(t)&&"function"!=typeof t)&&"[object RegExp]"===c(t)}},5535:function(t){"use strict";var e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},o=0;o<10;o++)e["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,r){for(var i,l,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var u in i=Object(arguments[s]))o.call(i,u)&&(a[u]=i[u]);if(e){l=e(i);for(var p=0;p<l.length;p++)n.call(i,l[p])&&(a[l[p]]=i[l[p]])}}return a}},2507:function(t){"use strict";var e=function(t){return t!=t};t.exports=function(t,o){return 0===t&&0===o?1/t==1/o:t===o||!(!e(t)||!e(o))}},4710:function(t,e,o){"use strict";var n=o(7921),r=o(3862),i=o(2507),l=o(9292),a=o(9228),s=r(l(),Object);n(s,{getPolyfill:l,implementation:i,shim:a}),t.exports=s},9292:function(t,e,o){"use strict";var n=o(2507);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},9228:function(t,e,o){"use strict";var n=o(9292),r=o(7921);t.exports=function(){var t=n();return r(Object,{is:t},{is:function(){return Object.is!==t}}),t}},6164:function(t,e,o){"use strict";function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,l=Object.prototype.toString,a=o(5184),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),p=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===n(window[t]))try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"===n(t),o="[object Function]"===l.call(t),r=a(t),s=e&&"[object String]"===l.call(t),h=[];if(!e&&!o&&!r)throw new TypeError("Object.keys called on a non-object");var P=p&&o;if(s&&t.length>0&&!i.call(t,0))for(var y=0;y<t.length;++y)h.push(String(y));if(r&&t.length>0)for(var S=0;S<t.length;++S)h.push(String(S));else for(var d in t)P&&"prototype"===d||!i.call(t,d)||h.push(String(d));if(u)for(var b=function(t){if("undefined"==typeof window||!g)return f(t);try{return f(t)}catch(t){return!1}}(t),m=0;m<c.length;++m)b&&"constructor"===c[m]||!i.call(t,c[m])||h.push(c[m]);return h}}t.exports=r},3818:function(t,e,o){"use strict";var n=Array.prototype.slice,r=o(5184),i=Object.keys,l=i?function(t){return i(t)}:o(6164),a=Object.keys;l.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return r(t)?a(n.call(t)):a(t)}):Object.keys=l;return Object.keys||l},t.exports=l},5184:function(t){"use strict";function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=Object.prototype.toString;t.exports=function(t){var n=o.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"===e(t)&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===o.call(t.callee)),r}},7417:function(t){t.exports=function(t,e,o,n){var r=t[0],i=t[1],l=!1;void 0===o&&(o=0),void 0===n&&(n=e.length);for(var a=(n-o)/2,s=0,u=a-1;s<a;u=s++){var p=e[o+2*s+0],c=e[o+2*s+1],f=e[o+2*u+0],h=e[o+2*u+1];c>i!=h>i&&r<(f-p)*(i-c)/(h-c)+p&&(l=!l)}return l}},1516:function(t,e,o){var n=o(7417),r=o(2555);t.exports=function(t,e,o,i){return e.length>0&&Array.isArray(e[0])?r(t,e,o,i):n(t,e,o,i)},t.exports.nested=r,t.exports.flat=n},2555:function(t){t.exports=function(t,e,o,n){var r=t[0],i=t[1],l=!1;void 0===o&&(o=0),void 0===n&&(n=e.length);for(var a=n-o,s=0,u=a-1;s<a;u=s++){var p=e[s+o][0],c=e[s+o][1],f=e[u+o][0],h=e[u+o][1];c>i!=h>i&&r<(f-p)*(i-c)/(h-c)+p&&(l=!l)}return l}},2180:function(t,e,o){"use strict";function n(t,e,o,n,l){!function t(e,o,n,i,l){for(;i>n;){if(i-n>600){var a=i-n+1,s=o-n+1,u=Math.log(a),p=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*p*(a-p)/a)*(s-a/2<0?-1:1),f=Math.max(n,Math.floor(o-s*p/a+c)),h=Math.min(i,Math.floor(o+(a-s)*p/a+c));t(e,o,f,h,l)}var g=e[o],P=n,y=i;for(r(e,n,o),l(e[i],g)>0&&r(e,n,i);P<y;){for(r(e,P,y),P++,y--;l(e[P],g)<0;)P++;for(;l(e[y],g)>0;)y--}0===l(e[n],g)?r(e,n,y):r(e,++y,i),y<=o&&(n=y+1),o<=y&&(i=y-1)}}(t,e,o||0,n||t.length-1,l||i)}function r(t,e,o){var n=t[e];t[e]=t[o],t[o]=n}function i(t,e){return t<e?-1:t>e?1:0}function l(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o.r(e),o.d(e,{default:function(){return u}});var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}var e,o,n;return e=t,(o=[{key:"all",value:function(){return this._all(this.data,[])}},{key:"search",value:function(t){var e=this.data,o=[];if(!b(t,e))return o;for(var n=this.toBBox,r=[];e;){for(var i=0;i<e.children.length;i++){var l=e.children[i],a=e.leaf?n(l):l;b(t,a)&&(e.leaf?o.push(l):d(t,a)?this._all(l,o):r.push(l))}e=r.pop()}return o}},{key:"collides",value:function(t){var e=this.data;if(!b(t,e))return!1;for(var o=[];e;){for(var n=0;n<e.children.length;n++){var r=e.children[n],i=e.leaf?this.toBBox(r):r;if(b(t,i)){if(e.leaf||d(t,i))return!0;o.push(r)}}e=o.pop()}return!1}},{key:"load",value:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var o=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===o.height)this._splitRoot(this.data,o);else{if(this.data.height<o.height){var n=this.data;this.data=o,o=n}this._insert(o,this.data.height-o.height-1,!0)}else this.data=o;return this}},{key:"insert",value:function(t){return t&&this._insert(t,this.data.height-1),this}},{key:"clear",value:function(){return this.data=m([]),this}},{key:"remove",value:function(t,e){if(!t)return this;for(var o,n,r,i=this.data,l=this.toBBox(t),a=[],s=[];i||a.length;){if(i||(i=a.pop(),n=a[a.length-1],o=s.pop(),r=!0),i.leaf){var u=p(t,i.children,e);if(-1!==u)return i.children.splice(u,1),a.push(i),this._condense(a),this}r||i.leaf||!d(i,l)?n?(o++,i=n.children[o],r=!1):i=null:(a.push(i),s.push(o),o=0,n=i,i=i.children[0])}return this}},{key:"toBBox",value:function(t){return t}},{key:"compareMinX",value:function(t,e){return t.minX-e.minX}},{key:"compareMinY",value:function(t,e){return t.minY-e.minY}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(t){return this.data=t,this}},{key:"_all",value:function(t,e){for(var o=[];t;)t.leaf?e.push.apply(e,l(t.children)):o.push.apply(o,l(t.children)),t=o.pop();return e}},{key:"_build",value:function(t,e,o,n){var r,i=o-e+1,l=this._maxEntries;if(i<=l)return c(r=m(t.slice(e,o+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(i)/Math.log(l)),l=Math.ceil(i/Math.pow(l,n-1))),(r=m([])).leaf=!1,r.height=n;var a=Math.ceil(i/l),s=a*Math.ceil(Math.sqrt(l));v(t,e,o,s,this.compareMinX);for(var u=e;u<=o;u+=s){var p=Math.min(u+s-1,o);v(t,u,p,a,this.compareMinY);for(var f=u;f<=p;f+=a){var h=Math.min(f+a-1,p);r.children.push(this._build(t,f,h,n-1))}}return c(r,this.toBBox),r}},{key:"_chooseSubtree",value:function(t,e,o,n){for(;n.push(e),!e.leaf&&n.length-1!==o;){for(var r=1/0,i=1/0,l=void 0,a=0;a<e.children.length;a++){var s=e.children[a],u=y(s),p=(c=t,f=s,(Math.max(f.maxX,c.maxX)-Math.min(f.minX,c.minX))*(Math.max(f.maxY,c.maxY)-Math.min(f.minY,c.minY))-u);p<i?(i=p,r=u<r?u:r,l=s):p===i&&u<r&&(r=u,l=s)}e=l||e.children[0]}var c,f;return e}},{key:"_insert",value:function(t,e,o){var n=o?t:this.toBBox(t),r=[],i=this._chooseSubtree(n,this.data,e,r);for(i.children.push(t),h(i,n);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(n,r,e)}},{key:"_split",value:function(t,e){var o=t[e],n=o.children.length,r=this._minEntries;this._chooseSplitAxis(o,r,n);var i=this._chooseSplitIndex(o,r,n),l=m(o.children.splice(i,o.children.length-i));l.height=o.height,l.leaf=o.leaf,c(o,this.toBBox),c(l,this.toBBox),e?t[e-1].children.push(l):this._splitRoot(o,l)}},{key:"_splitRoot",value:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,c(this.data,this.toBBox)}},{key:"_chooseSplitIndex",value:function(t,e,o){for(var n,r,i,l,a,s,u,p=1/0,c=1/0,h=e;h<=o-e;h++){var g=f(t,0,h,this.toBBox),P=f(t,h,o,this.toBBox),S=(r=g,i=P,void 0,void 0,void 0,void 0,l=Math.max(r.minX,i.minX),a=Math.max(r.minY,i.minY),s=Math.min(r.maxX,i.maxX),u=Math.min(r.maxY,i.maxY),Math.max(0,s-l)*Math.max(0,u-a)),d=y(g)+y(P);S<p?(p=S,n=h,c=d<c?d:c):S===p&&d<c&&(c=d,n=h)}return n||o-e}},{key:"_chooseSplitAxis",value:function(t,e,o){var n=t.leaf?this.compareMinX:g,r=t.leaf?this.compareMinY:P;this._allDistMargin(t,e,o,n)<this._allDistMargin(t,e,o,r)&&t.children.sort(n)}},{key:"_allDistMargin",value:function(t,e,o,n){t.children.sort(n);for(var r=this.toBBox,i=f(t,0,e,r),l=f(t,o-e,o,r),a=S(i)+S(l),s=e;s<o-e;s++){var u=t.children[s];h(i,t.leaf?r(u):u),a+=S(i)}for(var p=o-e-1;p>=e;p--){var c=t.children[p];h(l,t.leaf?r(c):c),a+=S(l)}return a}},{key:"_adjustParentBBoxes",value:function(t,e,o){for(var n=o;n>=0;n--)h(e[n],t)}},{key:"_condense",value:function(t){for(var e,o=t.length-1;o>=0;o--)0===t[o].children.length?o>0?(e=t[o-1].children).splice(e.indexOf(t[o]),1):this.clear():c(t[o],this.toBBox)}}])&&s(e.prototype,o),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t,e,o){if(!o)return e.indexOf(t);for(var n=0;n<e.length;n++)if(o(t,e[n]))return n;return-1}function c(t,e){f(t,0,t.children.length,e,t)}function f(t,e,o,n,r){r||(r=m(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var i=e;i<o;i++){var l=t.children[i];h(r,t.leaf?n(l):l)}return r}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function g(t,e){return t.minX-e.minX}function P(t,e){return t.minY-e.minY}function y(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function S(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function b(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,o,r,i){for(var l=[e,o];l.length;)if(!((o=l.pop())-(e=l.pop())<=r)){var a=e+Math.ceil((o-e)/r/2)*r;n(t,a,e,o,i),l.push(e,a,a,o)}}},2095:function(t,e,o){"use strict";var n=o(659).functionsHaveConfigurableNames(),r=Object,i=TypeError;t.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},n&&Object.defineProperty&&Object.defineProperty(t.exports,"name",{value:"get flags"})},7207:function(t,e,o){"use strict";var n=o(7921),r=o(3862),i=o(2095),l=o(9266),a=o(5521),s=r(l());n(s,{getPolyfill:l,implementation:i,shim:a}),t.exports=s},9266:function(t,e,o){"use strict";var n=o(2095),r=o(7921).supportsDescriptors,i=Object.getOwnPropertyDescriptor;t.exports=function(){if(r&&"gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",o={};if(Object.defineProperty(o,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(o,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return n}},5521:function(t,e,o){"use strict";var n=o(7921).supportsDescriptors,r=o(9266),i=Object.getOwnPropertyDescriptor,l=Object.defineProperty,a=TypeError,s=Object.getPrototypeOf,u=/a/;t.exports=function(){if(!n||!s)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=r(),e=s(u),o=i(e,"flags");return o&&o.get===t||l(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},5081:function(t,e){var o,n,r,i;function l(t){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(t){"use strict";var e=134217729;function o(t,e,o,n,r){var i,l,a,s,u=e[0],p=n[0],c=0,f=0;p>u==p>-u?(i=u,u=e[++c]):(i=p,p=n[++f]);var h=0;if(c<t&&f<o)for(p>u==p>-u?(a=i-((l=u+i)-u),u=e[++c]):(a=i-((l=p+i)-p),p=n[++f]),i=l,0!==a&&(r[h++]=a);c<t&&f<o;)p>u==p>-u?(a=i-((l=i+u)-(s=l-i))+(u-s),u=e[++c]):(a=i-((l=i+p)-(s=l-i))+(p-s),p=n[++f]),i=l,0!==a&&(r[h++]=a);for(;c<t;)a=i-((l=i+u)-(s=l-i))+(u-s),u=e[++c],i=l,0!==a&&(r[h++]=a);for(;f<o;)a=i-((l=i+p)-(s=l-i))+(p-s),p=n[++f],i=l,0!==a&&(r[h++]=a);return 0===i&&0!==h||(r[h++]=i),h}function n(t){return new Float64Array(t)}var r=n(4),i=n(8),l=n(12),a=n(16),s=n(4);t.orient2d=function(t,n,u,p,c,f){var h=(n-f)*(u-c),g=(t-c)*(p-f),P=h-g;if(0===h||0===g||h>0!=g>0)return P;var y=Math.abs(h+g);return Math.abs(P)>=3.3306690738754716e-16*y?P:-function(t,n,u,p,c,f,h){var g,P,y,S,d,b,m,v,M,A,O,_,L,w,x,U,E,T,V=t-c,R=u-c,I=n-f,C=p-f;d=(x=(v=V-(m=(b=e*V)-(b-V)))*(A=C-(M=(b=e*C)-(b-C)))-((w=V*C)-m*M-v*M-m*A))-(O=x-(E=(v=I-(m=(b=e*I)-(b-I)))*(A=R-(M=(b=e*R)-(b-R)))-((U=I*R)-m*M-v*M-m*A))),r[0]=x-(O+d)+(d-E),d=(L=w-((_=w+O)-(d=_-w))+(O-d))-(O=L-U),r[1]=L-(O+d)+(d-U),d=(T=_+O)-_,r[2]=_-(T-d)+(O-d),r[3]=T;var j=function(t,e){for(var o=e[0],n=1;n<4;n++)o+=e[n];return o}(0,r),N=2.2204460492503146e-16*h;if(j>=N||-j>=N)return j;if(g=t-(V+(d=t-V))+(d-c),y=u-(R+(d=u-R))+(d-c),P=n-(I+(d=n-I))+(d-f),S=p-(C+(d=p-C))+(d-f),0===g&&0===P&&0===y&&0===S)return j;if(N=1.1093356479670487e-31*h+3.3306690738754706e-16*Math.abs(j),(j+=V*S+C*g-(I*y+R*P))>=N||-j>=N)return j;d=(x=(v=g-(m=(b=e*g)-(b-g)))*(A=C-(M=(b=e*C)-(b-C)))-((w=g*C)-m*M-v*M-m*A))-(O=x-(E=(v=P-(m=(b=e*P)-(b-P)))*(A=R-(M=(b=e*R)-(b-R)))-((U=P*R)-m*M-v*M-m*A))),s[0]=x-(O+d)+(d-E),d=(L=w-((_=w+O)-(d=_-w))+(O-d))-(O=L-U),s[1]=L-(O+d)+(d-U),d=(T=_+O)-_,s[2]=_-(T-d)+(O-d),s[3]=T;var D=o(4,r,4,s,i);d=(x=(v=V-(m=(b=e*V)-(b-V)))*(A=S-(M=(b=e*S)-(b-S)))-((w=V*S)-m*M-v*M-m*A))-(O=x-(E=(v=I-(m=(b=e*I)-(b-I)))*(A=y-(M=(b=e*y)-(b-y)))-((U=I*y)-m*M-v*M-m*A))),s[0]=x-(O+d)+(d-E),d=(L=w-((_=w+O)-(d=_-w))+(O-d))-(O=L-U),s[1]=L-(O+d)+(d-U),d=(T=_+O)-_,s[2]=_-(T-d)+(O-d),s[3]=T;var B=o(D,i,4,s,l);d=(x=(v=g-(m=(b=e*g)-(b-g)))*(A=S-(M=(b=e*S)-(b-S)))-((w=g*S)-m*M-v*M-m*A))-(O=x-(E=(v=P-(m=(b=e*P)-(b-P)))*(A=y-(M=(b=e*y)-(b-y)))-((U=P*y)-m*M-v*M-m*A))),s[0]=x-(O+d)+(d-E),d=(L=w-((_=w+O)-(d=_-w))+(O-d))-(O=L-U),s[1]=L-(O+d)+(d-U),d=(T=_+O)-_,s[2]=_-(T-d)+(O-d),s[3]=T;var Y=o(B,l,4,s,a);return a[Y-1]}(t,n,u,p,c,f,y)},t.orient2dfast=function(t,e,o,n,r,i){return(e-i)*(o-r)-(t-r)*(n-i)},Object.defineProperty(t,"__esModule",{value:!0})},"object"==l(e)?i(e):(n=[e],void 0===(r="function"==typeof(o=i)?o.apply(e,n):o)||(t.exports=r))},4113:function(t){"use strict";t.exports={eudist:function(t,e,o){for(var n=t.length,r=0,i=0;i<n;i++){var l=(t[i]||0)-(e[i]||0);r+=l*l}return o?Math.sqrt(r):r},mandist:function(t,e,o){for(var n=t.length,r=0,i=0;i<n;i++)r+=Math.abs((t[i]||0)-(e[i]||0));return o?Math.sqrt(r):r},dist:function(t,e,o){var n=Math.abs(t-e);return o?n:n*n}}},7090:function(t,e,o){"use strict";var n=o(4113),r=n.eudist,i=n.dist;t.exports={kmrand:function(t,e){for(var o={},n=[],r=e<<2,i=t.length,l=t[0].length>0;n.length<e&&r-- >0;){var a=t[Math.floor(Math.random()*i)],s=l?a.join("_"):""+a;o[s]||(o[s]=!0,n.push(a))}if(n.length<e)throw new Error("Error initializating clusters");return n},kmpp:function(t,e){var o=t[0].length?r:i,n=[],l=t.length,a=t[0].length>0,s=t[Math.floor(Math.random()*l)];a&&s.join("_");for(n.push(s);n.length<e;){for(var u=[],p=n.length,c=0,f=[],h=0;h<l;h++){for(var g=1/0,P=0;P<p;P++){var y=o(t[h],n[P]);y<=g&&(g=y)}u[h]=g}for(var S=0;S<l;S++)c+=u[S];for(var d=0;d<l;d++)f[d]={i:d,v:t[d],pr:u[d]/c,cs:0};f.sort(function(t,e){return t.pr-e.pr}),f[0].cs=f[0].pr;for(var b=1;b<l;b++)f[b].cs=f[b-1].cs+f[b].pr;for(var m=Math.random(),v=0;v<l-1&&f[v++].cs<m;);n.push(f[v-1].v)}return n}}},9917:function(t,e,o){"use strict";var n=o(4113),r=o(7090),i=n.eudist,l=(n.mandist,n.dist,r.kmrand),a=r.kmpp,s=1e4;function u(t,e,o){o=o||[];for(var n=0;n<t;n++)o[n]=e;return o}t.exports=function(t,e,o,n){var r=[],p=[],c=[],f=[],h=!1,g=n||s,P=t.length,y=t[0].length,S=y>0,d=[];if(o)r="kmrand"==o?l(t,e):"kmpp"==o?a(t,e):o;else for(var b={};r.length<e;){var m=Math.floor(Math.random()*P);b[m]||(b[m]=!0,r.push(t[m]))}do{u(e,0,d);for(var v=0;v<P;v++){for(var M=1/0,A=0,O=0;O<e;O++)(f=S?i(t[v],r[O]):Math.abs(t[v]-r[O]))<=M&&(M=f,A=O);c[v]=A,d[A]++}for(var _=[],L=(p=[],0);L<e;L++)_[L]=S?u(y,0,_[L]):0,p[L]=r[L];if(S){for(var w=0;w<e;w++)r[w]=[];for(var x=0;x<P;x++)for(var U=_[c[x]],E=t[x],T=0;T<y;T++)U[T]+=E[T];h=!0;for(var V=0;V<e;V++){for(var R=r[V],I=_[V],C=p[V],j=d[V],N=0;N<y;N++)R[N]=I[N]/j||0;if(h)for(var D=0;D<y;D++)if(C[D]!=R[D]){h=!1;break}}}else{for(var B=0;B<P;B++)_[c[B]]+=t[B];for(var Y=0;Y<e;Y++)r[Y]=_[Y]/d[Y]||0;h=!0;for(var k=0;k<e;k++)if(p[k]!=r[k]){h=!1;break}}h=h||--g<=0}while(!h);return{it:s-g,k:e,idxs:c,centroids:r}}},2798:function(t,e,o){"use strict";function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o.r(e),o.d(e,{default:function(){return r}});var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.length=this.data.length,this.compare=o,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}var e,o,r;return e=t,(o=[{key:"push",value:function(t){this.data.push(t),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(t){for(var e=this.data,o=this.compare,n=e[t];t>0;){var r=t-1>>1,i=e[r];if(o(n,i)>=0)break;e[t]=i,t=r}e[t]=n}},{key:"_down",value:function(t){for(var e=this.data,o=this.compare,n=this.length>>1,r=e[t];t<n;){var i=1+(t<<1),l=e[i],a=i+1;if(a<this.length&&o(e[a],l)<0&&(i=a,l=e[a]),o(l,r)>=0)break;e[t]=l,t=i}e[t]=r}}])&&n(e.prototype,o),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function i(t,e){return t<e?-1:t>e?1:0}}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";function t(e){"@babel/helpers - typeof";return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function r(e){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=i(e);if(o){var l=i(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return function(e,o){if(o&&("object"===t(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,n)}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)}(s,SuperMapAlgoPlot.AlgoSymbol);var o,i,l,a=r(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),0===(e=a.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return o=s,(i=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.03));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0];this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var n=this.scaleValues[1]*e,r=o*e,i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,r);if(-1!==i.index){for(var l=i.pt,a=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[l,new SuperMapAlgoPlot.Point(l.x+n,l.y)]),s=[],u=0;u<t.length;u++){if(u==t.length-1){s.push(t[u]);break}s.push(t[u]);var p;p=this.getLineAddCircleIntersectPts(t[u],t[u+1],a);for(var c=0;c<p.length;c++)s.push(p[c])}for(var f=[],h=0;h<s.length;h++){if(h==s.length-1){0!=f.length&&(f.push(s[h]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f));break}this.isLineInCircle(s[h],s[h+1],l,n)?0!=f.length&&(f.push(s[h]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),f=[]):f.push(s[h])}this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[l,new SuperMapAlgoPlot.Point(l.x+n,l.y)]),this.scalePoints=[];var g=l;g.isScalePoint=!0,g.tag=0,this.scalePoints.push(g);var P=new SuperMapAlgoPlot.Point(l.x+n,l.y);P.isScalePoint=!0,P.tag=1,this.scalePoints.push(P),this.finish()}}}},{key:"isLineInCircle",value:function(t,e,o,n){var r=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return n>SuperMapAlgoPlot.PlottingUtil.distance(r,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var n=o.slice();n[0].x===n[n.length-1].x&&n[0].y===n[n.length-1].y||n.push(n[0]);for(var r,i=[],l=0;l<n.length-1;l++){var a=n[l],s=n[l+1],u=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,a,s);u.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,a,s)&&i.push(u.intersectPoint)}for(var p=0;p<i.length-1;p++)SuperMapAlgoPlot.PlottingUtil.isSamePt(i[p],i[p+1])&&(i.splice(p,1),p--);if(t.x>e.x)for(var c=0;c<i.length&&c!=i.length-1;c++)i[c].x<i[c+1].x&&(r=i[c],i[c]=i[c+1],i[c+1]=r);else if(t.x<e.x)for(var f=0;f<i.length&&f!=i.length-1;f++)i[f].x>i[f+1].x&&(r=i[f],i[f]=i[f+1],i[f+1]=r);else if(t.y>e.y)for(var h=0;h<i.length&&h!=i.length-1;h++)i[h].y<i[h+1].y&&(r=i[h],i[h]=i[h+1],i[h+1]=r);else if(t.y<e.y)for(var g=0;g<i.length&&g!=i.length-1;g++)i[g].y>i[g+1].y&&(r=i[g],i[g]=i[g+1],i[g+1]=r);return i}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){for(var r=0,i=-1,l=null,a=0;a<o.length-1;a++){var s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.projectPoint,o[a],o[a+1])){var u=SuperMapAlgoPlot.PlottingUtil.distance(s.projectPoint,e);0==r?(r=u,i=a,l=s.projectPoint):u<r&&(r=u,i=a,l=s.projectPoint)}}if(-1==i)return;for(var p=0,c=0;c<i;c++)p+=SuperMapAlgoPlot.PlottingUtil.distance(o[c],o[c+1]);var f=(p+=SuperMapAlgoPlot.PlottingUtil.distance(l,o[i]))/n;f>1&&(f=1),this.scaleValues[0]=f}if(1===t){var h=this.scaleValues[0]*n,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,h);if(-1===g.index)return;var P=SuperMapAlgoPlot.PlottingUtil.distance(g.pt,e)/n;P>.4&&(P=.4),this.scaleValues[1]=P}}}}])&&e(o.prototype,i),l&&e(o,l),Object.defineProperty(o,"prototype",{writable:!1}),s}();function a(t){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=c(t);if(e){var r=c(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12500=l;var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=p(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.03),e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();this.scaleValues[0]=e,this.scaleValues[1]=.3*e,this.scaleValues[3]=.5*e}var o=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=this.scaleValues[3],l=this.getCurvePts(t,o,n),a=l.pt,s=l.scalePt;if(0!==a.length){for(var u=0,p=0;p<a.length-1;p++)u+=SuperMapAlgoPlot.PlottingUtil.distance(a[p],a[p+1]);var c=u*r,f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(a,c);if(-1!==f.index){for(var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*i,g=[],P=0;P<360;P+=12)g.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(f.pt,h,h,P));g.push(g[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);for(var y=[],S=[],d=0;d<a.length;d++)SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(g,a[d])?S.length>1&&(y.push(S),S=[]):S.push(a[d]);S.length>1&&y.push(S),S=[];for(var b=0;b<y.length;b++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y[b]);var m=new SuperMapAlgoPlot.Point(a[0].x,a[0].y);m.isScalePoint=!0,m.tag=0,this.scalePoints.push(m);var v=new SuperMapAlgoPlot.Point(s.x,s.y);v.isScalePoint=!0,v.tag=1,this.scalePoints.push(v);var M=new SuperMapAlgoPlot.Point(f.pt.x,f.pt.y);M.isScalePoint=!0,M.tag=2,this.scalePoints.push(M);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(f.pt.x,f.pt.y),h,h,0),O=new SuperMapAlgoPlot.Point(A.x,A.y);O.isScalePoint=!0,O.tag=3,this.scalePoints.push(O),this.finish()}else this.finish()}else this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(null!=e&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(4>this.scaleValues.length)return;var n,r,i,l,a,s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),u=(SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),new SuperMapAlgoPlot.Point(e.x,e.y));if(0===t){var p=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),c=SuperMapAlgoPlot.PlottingUtil.distance(p,u);r=2*c/s,this.scaleValues[1]=r}else if(1===t)p=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),n=(c=SuperMapAlgoPlot.PlottingUtil.distance(p,u))/s,this.scaleValues[0]=n;else if(2==t){var f=-1,h=0;a=new SuperMapAlgoPlot.Point(0,0),n=this.scaleValues[0],r=this.scaleValues[1];(A=this.getCurvePts(o,n,r)).scalePt;for(var g=A.pt,P=0;P<g.length-1;P++){var y=g[P],S=g[P+1],d=SuperMapAlgoPlot.PlottingUtil.projectPoint(u,y,S);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(d,y,S)){var b=SuperMapAlgoPlot.PlottingUtil.distance(u,d);-1==f?(f=P,a=d,h=b):h>b&&(f=P,a=d,h=b)}}if(-1==f||f>g.length-1)return;l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g);for(var m=[],v=0;v<f;v++)m.push(g[v]);m.push(a);var M=SuperMapAlgoPlot.PlottingUtil.polylineDistance(m);if(M<0||M>l)return;i=M/l,this.scaleValues[2]=i}else if(3===t){n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];(A=this.getCurvePts(o,n,r)).scalePt,g=A.pt;var A,O=(l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g))*i;if(-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,O)).index)return;var _=SuperMapAlgoPlot.PlottingUtil.distance(a.pt,e)/s;_>.4&&(_=.4),this.scaleValues[3]=_}}}},{key:"getCurvePts",value:function(t,e,o){for(var n,r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),l=i*e,a=i*o/2,s=[],u=[],p=r[0],c=!1,f=r[0],h=1;h<r.length;h++){var g=r[h],P=SuperMapAlgoPlot.PlottingUtil.distance(p,g);if(!(P<l&&h!==r.length-1)){for(var y,S=parseInt(P/l),d=0;d<S;d++){y=SuperMapAlgoPlot.PlottingUtil.linePnt(p,g,l),c||(n=y,c=!0);var b=this.GetCosPts2D(p,y,l,a);s=u.length>1&&0===d?this.ClearCurvePts2D(f,p,g,u,b,s):s.concat(b),u=(u=[]).concat(b),f=p,p=y}h===r.length-1&&(y=r[r.length-1],b=this.GetCosPts2D(p,y,l,a),s=u.length>1&&b.length>1?this.ClearCurvePts2D(f,p,g,u,b,s):s.concat(b))}}return{pt:s,scalePt:n}}},{key:"GetCosPts2D",value:function(t,e,o,n){for(var r=[],i=SuperMapAlgoPlot.PlottingUtil.distance(t,e),l=o/30,a=0;a<i;a+=l){var s=a*(2*Math.PI/o),u=n*Math.cos(s),p=new SuperMapAlgoPlot.Point(a,u),c=SuperMapAlgoPlot.PlottingUtil.dirAngle(t,e)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,p,c);r.push(f)}return r}},{key:"ClearCurvePts2D",value:function(t,e,o,n,r,i){for(var l=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,t)*SuperMapAlgoPlot.PlottingUtil.RTOD-l;a<=0;)a+=360;var s=a/2,u=o;u=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,s*SuperMapAlgoPlot.PlottingUtil.DTOR,u);for(var p=SuperMapAlgoPlot.PlottingUtil.linePnt(e,u,1),c=0,f=0;f<n.length;f++)if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,p,n[f])){c=f;break}if(0!=c)for(var h=0;h<n.length-c;h++)i.slice(h,i.length-1);for(var g=0;g<r.length;g++)SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,p,r[g])&&i.push(r[g]);return i}}])&&s(e.prototype,o),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function h(t){"@babel/helpers - typeof";return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P(t,e){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=S(t);if(e){var r=S(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12501=f;var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol12500);var e,o,n,r=y(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(0===this.scaleValues.length)this.scaleValues.push(.5),this.scaleValues.push(.03);else if(1===this.scaleValues.length)this.scaleValues.push(.03);else if(2===this.scaleValues.length)this.scaleValues[0];else this.scaleValues.push(.5),this.scaleValues.push(.03);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0];if(!this.isEdit){var n=this.getSubSymbolScaleValue();this.scaleValues[1]=.5*n}for(var r=this.scaleValues[1]*e,i=o*e,l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i-r).pt,a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i+r).pt,s=new SuperMapAlgoPlot.Point((l.x+a.x)/2,(l.y+a.y)/2),u=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[s,new SuperMapAlgoPlot.Point(s.x+r,s.y)]),p=[],c=0;c<t.length;c++){if(c==t.length-1){p.push(t[c]);break}p.push(t[c]);var f;f=this.getLineAddCircleIntersectPts(t[c],t[c+1],u);for(var h=0;h<f.length;h++)p.push(f[h])}for(var g=[],P=0;P<p.length;P++){if(P==p.length-1){0!=g.length&&(g.push(p[P]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g));break}this.isLineInCircle(p[P],p[P+1],s,r)?0!=g.length&&(g.push(p[P]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),g=[]):g.push(p[P])}this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[s,new SuperMapAlgoPlot.Point(s.x+r,s.y)]);var y=[];y.push(l);var S=SuperMapAlgoPlot.PlottingUtil.linePnt(l,a,1.5*r);y.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var d=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,b=[],m=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,.5*r,.5*r,d+170),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,.5*r,.5*r,d+190),M=SuperMapAlgoPlot.PlottingUtil.linePnt(l,a,1.2*r);b.push(m),b.push(S),b.push(v),b.push(M);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0}),this.addScalePoint(s,0);var A=SuperMapAlgoPlot.PlottingUtil.linePnt(s,M,r),O=SuperMapAlgoPlot.PlottingUtil.rotateAngle(s,-30,A);this.addScalePoint(O,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(null!=e&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=this.scaleValues[0],r=(this.scaleValues[1],SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)),i=n*r;SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,i).pt;if(0==t){for(var l=0,a=-1,s=null,u=0;u<o.length-1;u++){var p;(p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[u],o[u+1])).isOnline&&(0===l||SuperMapAlgoPlot.PlottingUtil.distance(p.projectPoint,e)<l)&&(s=p,a=u,l=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint))}if(-1==a)return;var c=[];for(u=0;u<a+1;u++)c.push(o[u]);c.push(new SuperMapAlgoPlot.Point(s.projectPoint.x,s.projectPoint.y));var f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c)/r,h=this.scaleValues[1];f<h&&(f=h),f>1-h&&(f=1-h),this.scaleValues[0]=f}if(1==t){var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[0],o),P=SuperMapAlgoPlot.PlottingUtil.distance(g.pts,e)/r;P>=.3&&(P=.3),this.scaleValues[0]<P/2||this.scaleValues[0]>1-P/2?(this.scaleValues[0]<P/2?this.scaleValues[0]=P/2:this.scaleValues[0]=1-P/2,this.scaleValues[1]=P/2):this.scaleValues[1]=P/2}}}},{key:"isLineInCircle",value:function(t,e,o,n){var r=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return n>SuperMapAlgoPlot.PlottingUtil.distance(r,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var n=o.slice();n[0].x===n[n.length-1].x&&n[0].y===n[n.length-1].y||n.push(n[0]);for(var r=[],i=0;i<n.length-1;i++){var l=n[i],a=n[i+1],s=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,l,a);s.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,l,a)&&r.push(s.intersectPoint)}for(var u=0;u<r.length-1;u++)SuperMapAlgoPlot.PlottingUtil.isSamePt(r[u],r[u+1])&&(r.splice(u,1),u--);if(t.x>e.x){for(var p=0;p<r.length&&p!=r.length-1;p++)if(r[p].x<r[p+1].x){var c=r[p];r[p]=r[p+1],r[p+1]=c}}else if(t.x<e.x){for(var f=0;f<r.length&&f!=r.length-1;f++)if(r[f].x>r[f+1].x){c=r[f];r[f]=r[f+1],r[f+1]=c}}else if(t.y>e.y){for(var h=0;h<r.length&&h!=r.length-1;h++)if(r[h].y<r[h+1].y){c=r[h];r[h]=r[h+1],r[h+1]=c}}else if(t.y<e.y)for(var g=0;g<r.length&&g!=r.length-1;g++)if(r[g].y>r[g+1].y){c=r[g];r[g]=r[g+1],r[g+1]=c}return r}}])&&g(e.prototype,o),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function b(t){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=A(t);if(e){var r=A(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12502=d;var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=M(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e;if(2===t.length)e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);else if(3===t.length){var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r);if(0>=i)return;this.scaleValues=[];var l=SuperMapAlgoPlot.PlottingUtil.distance(o,n)/i;this.scaleValues.push(l);var a=180*SuperMapAlgoPlot.PlottingUtil.radian(o,n)/Math.PI;a>90?a-=90:a=270+a,this.scaleValues.push(a*(Math.PI/180));var s=180*SuperMapAlgoPlot.PlottingUtil.radian(o,r)/Math.PI;s>90?s-=90:s=270+s,this.scaleValues.push(s*(Math.PI/180)),e=this.scaleValues[0]*i;var u=this.scaleValues[1]*(180/Math.PI)+90,p=this.scaleValues[2]*(180/Math.PI)+90;u<p&&(u+=360);for(var c,f=[],h=u;h>=p;h-=4)c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,h),f.push(c);h!=p&&(c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,p),f.push(c)),this.controlPoints[2]=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f)}this.finish()}}}])&&m(e.prototype,o),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function _(t){"@babel/helpers - typeof";return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function w(t,e){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=U(t);if(e){var r=U(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol13700=O;var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=x(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var r=this.getSubSymbolScaleValue(n);(r>.3||r<=0)&&(r=.3),this.scaleValues[2]=r,this.scaleValues[0]=.5*this.scaleValues[2]}for(var i=this.scaleValues[0]*n,l=this.scaleValues[1],a=this.scaleValues[2]*n,s=.5*i,u=o-2*a-2*s,p=a,c=0;c<2;c++){var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(p,e);if(-1!==f.index){var h=p+s,g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,e);if(-1!==g.index){var P=[],y=[];if(P.push(f.pts),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[f.index].x,f.pts.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[f.index].y,f.pts.y)&&f.index+1<e.length){var S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[f.index+1],f.pts);0===l?P.push(new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y)):P.push(new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y))}else{S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[f.index],f.pts);0===l?P.push(new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y)):P.push(new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y))}y.push(g.pts);var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[g.index],g.pts);if(0===l?y.push(new SuperMapAlgoPlot.Point(d.pntLeft.x,d.pntLeft.y)):y.push(new SuperMapAlgoPlot.Point(d.pntRight.x,d.pntRight.y)),0===c){this.scalePoints=[];var b=new SuperMapAlgoPlot.Point(P[1].x,P[1].y);b.isScalePoint=!0,b.tag=0,this.scalePoints.push(b),(b=new SuperMapAlgoPlot.Point(P[0].x,P[0].y)).isScalePoint=!0,b.tag=1,this.scalePoints.push(b)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),p+=u+s}}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[2],n);if(!i.bfind)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)/r,a=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n[i.index],i.pts,e);this.scaleValues[1]=a?1:0,this.scaleValues[0]=l}else if(1===t){for(var s=0,u=-1,p=null,c=0;c<n.length-1;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[c],n[c+1]);if(f.isOnline){var h=SuperMapAlgoPlot.PlottingUtil.distance(f.projectPoint,e);0==s?(s=h,u=c,p=e):h<s&&(s=h,u=c,p=e)}}if((h=SuperMapAlgoPlot.PlottingUtil.distance(e,n[0]))<s&&(s=h,u=0,p=n[0]),(h=SuperMapAlgoPlot.PlottingUtil.distance(e,n[n.length-1]))<s&&(s=h,u=n.length-1,p=n[n.length-1]),-1==u)return void(this.scaleValues[2]=0);for(var g=0,P=0;P<u;P++)g+=SuperMapAlgoPlot.PlottingUtil.distance(n[P],n[P+1]);var y=(g+=SuperMapAlgoPlot.PlottingUtil.distance(p,n[u]))/r;y>.7&&(y=.7),this.scaleValues[2]=y}}}}])&&L(e.prototype,o),n&&L(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function T(t){"@babel/helpers - typeof";return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function R(t,e){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=C(t);if(e){var r=C(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15200=E;var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=I(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish()}}}])&&V(e.prototype,o),n&&V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function N(t){"@babel/helpers - typeof";return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function B(t,e){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=k(t);if(e){var r=k(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15201=j;var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Y(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1732),e.scaleValues.push(.1732),e.scaleValues.push(1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=this.scaleValues[0]*n,i=this.scaleValues[1]*n,l=this.scaleValues[2],a=null;if(1===l){var s=SuperMapAlgoPlot.PlottingUtil.linePnt(o,e,n+r);a=new SuperMapAlgoPlot.Point(s.x,s.y)}else s=SuperMapAlgoPlot.PlottingUtil.linePnt(o,e,n-r),a=new SuperMapAlgoPlot.Point(s.x,s.y);var u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,t[0],a),p=u.pntRight,c=u.pntLeft,f=[];f.push(p),f.push(t[0]),f.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var h=[],g=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(1===l){var P=new SuperMapAlgoPlot.Point(2*g.x-c.x,2*g.y-c.y);h.push(P),h.push(t[1]);var y=new SuperMapAlgoPlot.Point(2*g.x-p.x,2*g.y-p.y);h.push(y)}else P=new SuperMapAlgoPlot.Point(2*g.x-p.x,2*g.y-p.y),h.push(P),h.push(t[1]),y=new SuperMapAlgoPlot.Point(2*g.x-c.x,2*g.y-c.y),h.push(y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.finish()}}}])&&D(e.prototype,o),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function z(t){"@babel/helpers - typeof";return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function q(t,e){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=W(t);if(e){var r=W(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15202=F;var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=X(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.04),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=n*r,l=this.scaleValues[2]*r,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var s=[],u=[],p=0,c=[],f=0;f<o.length;f++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].x,o[f].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].y,o[f].y)&&(c.length>0&&(c.push(o[f]),u.push(c),c=[]),p++),c.push(o[f]);for(var h=0;h<u.length;h++){var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u[h]),P=parseInt(g/l);0==P&&(P=1);var y=g/P;0==h&&y;for(var S=0;S<=g;S+=y){var d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[h],S);if(!(d.index<0)&&(s.push(d.pt),!((d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[h],S+.5*y)).index<0))){var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,u[h][d.index+1],d.pt);a?s.push(b.pntLeft):s.push(b.pntRight)}}u.length-1===h&&s.push(u[h][u[h].length-1])}this.scalePoints=[];var m=new SuperMapAlgoPlot.Point(s[1].x,s[1].y);m.isScalePoint=!0,m.tag=0,this.scalePoints.push(m),(m=new SuperMapAlgoPlot.Point(s[2].x,s[2].y)).isScalePoint=!0,m.tag=0,this.scalePoints.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var v=s.length,M=0,A=0;A<v-1;++A){var O=new SuperMapAlgoPlot.Point(s[A].x,s[A].y),_=new SuperMapAlgoPlot.Point(s[A+1].x,s[A+1].y);M=.3*SuperMapAlgoPlot.PlottingUtil.distance(O,_);var L=[],w=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,s[A],s[A+1]),x=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*M,s[A],w);L.push(x.pntLeft),L.push(x.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,n[1],n[0]),l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i.pntRight,i.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(l.projectPoint,o[0]);this.scaleValues[0]=a/r;var s=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n[0],n[1],e);this.scaleValues[1]=s?0:1}else{for(var u,p=-1,c=0,f=n.length-1;c<f;c++){var h=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(e,n[c],n[c+1]),g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[c],n[c+1]);if(h){u=e,p=c;break}if(g.isOnline){u=g.projectPoint,p=c;break}}if(-1===p)return void(this.scaleValues[2]=.05);var P=[];(P=P.concat(n.slice(0,p+1))).push(u);var y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P)/r;if(y>=1)return;this.scaleValues[2]=y}}}}])&&G(e.prototype,o),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function K(t){"@babel/helpers - typeof";return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Z(t,e){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=$(t);if(e){var r=$(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15800=H;var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,n,r=Q(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.04),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=n*r,l=this.scaleValues[2]*r,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var s=[],u=[],p=0,c=[],f=0;f<o.length;f++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].x,o[f].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].y,o[f].y)&&(c.length>0&&(c.push(o[f]),u.push(c),c=[]),p++),c.push(o[f]);for(var h=l,g=0;g<u.length;g++){var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u[g]),y=parseInt(P/l);0==y&&(y=1);var S=P/y;0==g&&(h=S);for(var d=0;d<=P;d+=S){var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d);if(!(b.index<0)&&(s.push(b.pt),!((b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d+.5*S)).index<0))){var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,u[g][b.index+1],b.pt);a?s.push(m.pntLeft):s.push(m.pntRight)}}u.length-1===g&&s.push(u[g][u[g].length-1])}this.scalePoints=[];var v=new SuperMapAlgoPlot.Point(s[1].x,s[1].y);v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,h);this.addScalePoint(m.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var M=s.length,A=0,O=0;O<M-1;++O){var _=new SuperMapAlgoPlot.Point(s[O].x,s[O].y),L=new SuperMapAlgoPlot.Point(s[O+1].x,s[O+1].y);A=.3*SuperMapAlgoPlot.PlottingUtil.distance(_,L);var w=[],x=[],U=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.35,s[O],s[O+1]),E=new SuperMapAlgoPlot.Point((s[O].x+s[O+1].x)/2,(s[O].y+s[O+1].y)/2),T=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*A,s[O],U);w.push(T.pntLeft),w.push(T.pntRight),x.push(new SuperMapAlgoPlot.Point(2*E.x-T.pntLeft.x,2*E.y-T.pntLeft.y)),x.push(new SuperMapAlgoPlot.Point(2*E.x-T.pntRight.x,2*E.y-T.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x)}this.finish()}}}}])&&J(e.prototype,o),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function et(t){"@babel/helpers - typeof";return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nt(t,e){return(nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=it(t);if(e){var r=it(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15801=tt;var lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,n,r=rt(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=n*r,l=this.scaleValues[2]*r,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var s=[],u=[],p=0,c=[],f=0;f<o.length;f++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].x,o[f].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].y,o[f].y)&&(c.length>0&&(c.push(o[f]),u.push(c),c=[]),p++),c.push(o[f]);for(var h=l,g=0;g<u.length;g++){var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u[g]),y=parseInt(P/l);0==y&&(y=1);var S=P/y;0==g&&(h=S);for(var d=0;d<=P;d+=S){var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d);if(!(b.index<0)&&(s.push(b.pt),!((b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d+.5*S)).index<0))){var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,u[g][b.index+1],b.pt);a?s.push(m.pntLeft):s.push(m.pntRight)}}u.length-1===g&&s.push(u[g][u[g].length-1])}this.scalePoints=[];var v=new SuperMapAlgoPlot.Point(s[1].x,s[1].y);v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,h);this.addScalePoint(m.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var M=s.length,A=0,O=0;O<M-1;++O){var _=new SuperMapAlgoPlot.Point(s[O].x,s[O].y),L=new SuperMapAlgoPlot.Point(s[O+1].x,s[O+1].y);A=.3*SuperMapAlgoPlot.PlottingUtil.distance(_,L);var w=[],x=[],U=[],E=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.35,s[O],s[O+1]),T=new SuperMapAlgoPlot.Point((s[O].x+s[O+1].x)/2,(s[O].y+s[O+1].y)/2),V=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*A,s[O],T);x.push(V.pntLeft,V.pntRight);var R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*A,s[O],E);w.push(R.pntLeft,R.pntRight),U.push(new SuperMapAlgoPlot.Point(2*T.x-R.pntLeft.x,2*T.y-R.pntLeft.y)),U.push(new SuperMapAlgoPlot.Point(2*T.x-R.pntRight.x,2*T.y-R.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U)}this.finish()}}}}])&&ot(e.prototype,o),n&&ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function at(t){"@babel/helpers - typeof";return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ut(t,e){return(ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ct(t);if(e){var r=ct(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15802=lt;var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,n,r=pt(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=n*r,l=this.scaleValues[2]*r,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var s=[],u=[],p=0,c=[],f=0;f<o.length;f++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].x,o[f].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].y,o[f].y)&&(c.length>0&&(c.push(o[f]),u.push(c),c=[]),p++),c.push(o[f]);for(var h=l,g=0;g<u.length;g++){var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u[g]),y=parseInt(P/l);0==y&&(y=1);var S=P/y;0==g&&(h=S);for(var d=0;d<=P;d+=S){var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d);if(!(b.index<0)&&(s.push(b.pt),!((b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d+.5*S)).index<0))){var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,u[g][b.index+1],b.pt);a?s.push(m.pntLeft):s.push(m.pntRight)}}u.length-1===g&&s.push(u[g][u[g].length-1])}this.scalePoints=[];var v=new SuperMapAlgoPlot.Point(s[1].x,s[1].y);v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,h);this.addScalePoint(m.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var M=s.length,A=0,O=0;O<M-1;++O){var _=new SuperMapAlgoPlot.Point(s[O].x,s[O].y),L=new SuperMapAlgoPlot.Point(s[O+1].x,s[O+1].y);A=.3*SuperMapAlgoPlot.PlottingUtil.distance(_,L);var w=[],x=[];if(O!==M-2){var U=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*A,s[O],s[O+1]);w.push(U.pntLeft),w.push(U.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w)}if(0!==O){var E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*A,s[O+1],s[O]);x.push(E.pntLeft),x.push(E.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x)}}this.finish()}}}}])&&st(e.prototype,o),n&&st(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ht(t){"@babel/helpers - typeof";return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pt(t,e){return(Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=St(t);if(e){var r=St(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15803=ft;var dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,n,r=yt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).scaleValues.length>0&&(e.scaleValues.push(.029615),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=n*r,l=this.scaleValues[2]*r,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var s=[],u=[],p=0,c=[],f=0;f<o.length;f++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].x,o[f].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].y,o[f].y)&&(c.length>0&&(c.push(o[f]),u.push(c),c=[]),p++),c.push(o[f]);for(var h=l,g=0;g<u.length;g++){var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u[g]),y=parseInt(P/l);0==y&&(y=1);var S=P/y;0==g&&(h=S);for(var d=0;d<=P;d+=S){var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d);if(!(b.index<0)&&(s.push(b.pt),!((b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d+.5*S)).index<0))){var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,u[g][b.index+1],b.pt);a?s.push(m.pntLeft):s.push(m.pntRight)}}u.length-1===g&&s.push(u[g][u[g].length-1])}this.scalePoints=[];var v=new SuperMapAlgoPlot.Point(s[1].x,s[1].y);v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,h);this.addScalePoint(m.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var M=s.length,A=0,O=0;O<M-1;++O){var _=new SuperMapAlgoPlot.Point(s[O].x,s[O].y),L=new SuperMapAlgoPlot.Point(s[O+1].x,s[O+1].y);A=.25*SuperMapAlgoPlot.PlottingUtil.distance(_,L);c=[];var w=new SuperMapAlgoPlot.Point(.5*(_.x+L.x),.5*(_.y+L.y)),x=SuperMapAlgoPlot.PlottingUtil.dirAngle(_,L)*SuperMapAlgoPlot.PlottingUtil.RTOD,U=SuperMapAlgoPlot.PlottingUtil.circlePoint(w,A,A,x+90),E=1.5*A,T=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,E,E,x+260),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,E,E,x+280);c.push(T),c.push(U),c.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}this.finish()}}}}])&&gt(e.prototype,o),n&&gt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function bt(t){"@babel/helpers - typeof";return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vt(t,e){return(vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=At(t);if(e){var r=At(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15804=dt;var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,n,r=Mt(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=n*r,l=this.scaleValues[2]*r,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var s=[],u=[],p=0,c=[],f=0;f<o.length;f++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].x,o[f].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[p].y,o[f].y)&&(c.length>0&&(c.push(o[f]),u.push(c),c=[]),p++),c.push(o[f]);for(var h=l,g=0;g<u.length;g++){var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u[g]),y=parseInt(P/l);0==y&&(y=1);var S=P/y;0==g&&(h=S);for(var d=0;d<=P;d+=S){var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d);if(!(b.index<0)&&(s.push(b.pt),!((b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u[g],d+.5*S)).index<0))){var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,u[g][b.index+1],b.pt);a?s.push(m.pntLeft):s.push(m.pntRight)}}u.length-1===g&&s.push(u[g][u[g].length-1])}this.scalePoints=[];var v=new SuperMapAlgoPlot.Point(s[1].x,s[1].y);v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,h);this.addScalePoint(m.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var M=s.length,A=0,O=45*SuperMapAlgoPlot.PlottingUtil.DTOR,_=45*SuperMapAlgoPlot.PlottingUtil.DTOR,L=0;L<M-1;L+=2){c=[];var w=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.3,s[L],s[L+1]);c.push(w);var x=new SuperMapAlgoPlot.Point(s[L].x,s[L].y),U=new SuperMapAlgoPlot.Point(s[L+1].x,s[L+1].y);A=SuperMapAlgoPlot.PlottingUtil.distance(x,U);var E=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.6,s[L],s[L+1]),T=new SuperMapAlgoPlot.Point(E.x,E.y);T=SuperMapAlgoPlot.PlottingUtil.rotateAngle(w,O,E),c.push(T);var V=.15*A;E=SuperMapAlgoPlot.PlottingUtil.linePnt(c[1],c[0],V);var R=new SuperMapAlgoPlot.Point(E.x,E.y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(T,_,R),c.push(R);var I=new SuperMapAlgoPlot.Point(c[1].x-c[0].x+c[2].x,c[1].y-c[0].y+c[2].y);c.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}this.finish()}}}}])&&mt(e.prototype,o),n&&mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function _t(t){"@babel/helpers - typeof";return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wt(t,e){return(wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ut(t);if(e){var r=Ut(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15805=Ot;var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=xt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.06),e.scaleValues.push(1),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(t.length>=this.minEditPts){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=1.6*this.getSubSymbolScaleValue(),this.scaleValues[2]=this.getSubSymbolScaleValue()}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=n*r,l=.6*i,a=this.scaleValues[2]*r,s=!1;s=0===this.scaleValues[1];var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===u)return;for(var p=[],c=0;c<=u;c+=a){var f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c);if(!(f.index<0)&&(p.push(f.pt),!((f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.65*a)).index<0))){var h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*l,o[f.index+1],f.pt);s?p.push(h.pntLeft):p.push(h.pntRight),(f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.8*a)).index<0||(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*i,o[f.index+1],f.pt),s?p.push(h.pntLeft):p.push(h.pntRight),(f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.5*a)).index<0||(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,o[f.index+1],f.pt),s?p.push(h.pntLeft):p.push(h.pntRight),(f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.2*a)).index<0||(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*i,o[f.index+1],f.pt),s?p.push(h.pntLeft):p.push(h.pntRight),(f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.35*a)).index<0||(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*l,o[f.index+1],f.pt),s?p.push(h.pntLeft):p.push(h.pntRight),(f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+a)).index<0||(p.push(f.pt),c>=u&&p.push(o[o.length-1]))))))}}this.scalePoints=[];var g=new SuperMapAlgoPlot.Point(p[3].x,p[3].y);g.isScalePoint=!0,g.tag=0,this.scalePoints.push(g);var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,a);-1!=P.index&&this.addScalePoint(P.pt);var y=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(p);SuperMapAlgoPlot.PlottingUtil.clearSamePts(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,n[1],n[0]),l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i.pntRight,i.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(l.projectPoint,o[0]);this.scaleValues[0]=a/r;var s=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n[0],n[1],e);this.scaleValues[1]=s?0:1}else{for(var u,p=-1,c=0,f=n.length-1;c<f;c++){var h=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(e,n[c],n[c+1]),g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[c],n[c+1]);if(h){u=e,p=c;break}if(g.isOnline){u=g.projectPoint,p=c;break}}if(-1===p)return void(this.scaleValues[2]=.05);var P=[];(P=P.concat(n.slice(0,p+1))).push(u);var y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P)/r;if(y>=1)return;this.scaleValues[2]=y}}}}])&&Lt(e.prototype,o),n&&Lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Tt(t){"@babel/helpers - typeof";return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rt(t,e){return(Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ct(t);if(e){var r=Ct(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15806=Et;var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=It(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(1),e.scaleValues.push(.05)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,n=0;n<t.length-1;n++)o+=SuperMapAlgoPlot.PlottingUtil.distance(t[n],t[n+1]);var r=o*this.scaleValues[0],i=o*this.scaleValues[2],l=!1;l=0===this.scaleValues[0];for(var a=0,s=0;s<e.length-1;s++)a+=SuperMapAlgoPlot.PlottingUtil.distance(e[s],e[s+1]);if(0!==a){for(var u=0;u<=a;u+=i){var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,u);if(-1!==p.index){var c=[],f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[p.index+1],p.pt);l?c.push(f.pntRight):c.push(f.pntLeft);var h=u+i,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,h);if(-1!==g.index){var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[g.index+1],g.pt);l?c.push(P.pntLeft):c.push(P.pntRight),Math.abs(u)<1e-6&&(this.addScalePoint(c[0],0),this.addScalePoint(g.pt,1)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}}}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,n[1],n[0]),l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i.pntRight,i.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(l.projectPoint,o[0]);this.scaleValues[0]=a/r;var s=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n[0],n[1],e);this.scaleValues[1]=s?1:0}else{for(var u,p=-1,c=0,f=n.length-1;c<f;c++){var h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[c],n[c+1]);if(h.isOnline){u=h.projectPoint,p=c;break}}if(-1===p)return;for(var g=[],P=0,y=p;P<=y;P++)g.push(n[P]);g.push(u);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g);this.scaleValues[2]=S/r}}}}])&&Vt(e.prototype,o),n&&Vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Nt(t){"@babel/helpers - typeof";return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bt(t,e){return(Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=kt(t);if(e){var r=kt(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15900=jt;var Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Yt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(1),e.scaleValues.push(.05),e.scaleValues.push(.02),e.scaleValues.push(.005),e.scaleValues.push(.1),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(6!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(1),this.scaleValues.push(.05),this.scaleValues.push(.02),this.scaleValues.push(.005),this.scaleValues.push(.1),this.scaleValues.push(.1)),!this.isEdit){var e=this.getSubSymbolScaleValue();this.scaleValues[2]=.4*e,this.scaleValues[3]=.1*e,this.scaleValues[4]=2*e}var o=t[0],n=t[1],r=SuperMapAlgoPlot.PlottingUtil.distance(o,n),i=r*this.scaleValues[1],l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*i,!0),a=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*i,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var s=[];s=this.scaleValues[0]<0?s.concat(a):s.concat(l);for(var u=0,p=0;p<s.length-1;p++)u+=SuperMapAlgoPlot.PlottingUtil.distance(s[p],s[p+1]);for(var c=u*this.scaleValues[2],f=u*this.scaleValues[3],h=u*this.scaleValues[4],g=0,P=this.scaleValues[5]*r,y=0;y<=u;y+=h){g=y+P;var S=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(s,g);if(-1!==S.index){var d,b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,s[S.index],S.pt);d=this.scaleValues[0]>0?new SuperMapAlgoPlot.Point(b.pntLeft.x,b.pntLeft.y):new SuperMapAlgoPlot.Point(b.pntRight.x,b.pntRight.y);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(f,d,S.pt),v=[];if(v.push(m.pntRight),v.push(d),v.push(m.pntLeft),0===y){var M=new SuperMapAlgoPlot.Point(d.x,d.y);M.isScalePoint=!0,M.tag=0,this.scalePoints.push(M)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,v,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0})}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),n=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e);this.scaleValues[0]=n?-1:1}}}])&&Dt(e.prototype,o),n&&Dt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function zt(t){"@babel/helpers - typeof";return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qt(t,e){return(qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Wt(t);if(e){var r=Wt(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16000=Ft;var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Xt(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],n=.05*SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);for(var l=0,a=0;a<r.length-1;a++)l+=SuperMapAlgoPlot.PlottingUtil.distance(r[a],r[a+1]);for(var s,u,p,c,f,h,g=l*this.getSubSymbolScaleValue()*.5,P=6*g,y={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},S=g;S<=l-g/2;S+=P)-1!==(s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,S)).index&&(u=180*SuperMapAlgoPlot.PlottingUtil.radian(r[s.index],r[s.index+1])/Math.PI,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,g,g,u+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,.25*g,.25*g,u),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,.25*g,.25*g,u+180),(h=[]).push(p),h.push(c),h.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,y));for(var d=g;d<=l-g/2;d+=P)-1!==(s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,d)).index&&(u=180*SuperMapAlgoPlot.PlottingUtil.radian(i[s.index],i[s.index+1])/Math.PI,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,g,g,u+270),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,.25*g,.25*g,u),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,.25*g,.25*g,u+180),(h=[]).push(p),h.push(c),h.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,y));this.finish()}}}])&&Gt(e.prototype,o),n&&Gt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Kt(t){"@babel/helpers - typeof";return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zt(t,e){return(Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=$t(t);if(e){var r=$t(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16001=Ht;var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Qt(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){if(this.init(),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts)this.calAssistantLine();else{var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);t.push(t[0]);for(var o=!0,n=e.x,r=e.x+.8,i={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1};o;){o=!1;for(var l,a,s,u,p,c,f=[],h=[],g=new SuperMapAlgoPlot.Point(n,e.y),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,10,10,45),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,10,10,135),S=0;S<t.length-1;S++)(s=SuperMapAlgoPlot.PlottingUtil.intersectLines(g,P,t[S],t[S+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,t[S],t[S+1])&&f.push(s.intersectPoint),(u=SuperMapAlgoPlot.PlottingUtil.intersectLines(g,y,t[S],t[S+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,t[S],t[S+1])&&h.push(u.intersectPoint);if(1<f.length){p=[],p=this.sortPts2D(f);for(var d=0;d<p.length-1;d++)l=new SuperMapAlgoPlot.Point((p[d].x+p[d+1].x)/2,(p[d].y+p[d+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,l)&&((a=[]).push(p[d]),a.push(p[d+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,i,!0))}if(1<h.length){c=[],c=this.sortPts2D(h);for(var b=0;b<c.length-1;b++)l=new SuperMapAlgoPlot.Point((c[b].x+c[b+1].x)/2,(c[b].y+c[b+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,l)&&((a=[]).push(c[b]),a.push(c[b+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,i,!0))}(f.length>0||h.length>0)&&(o=!0),f=[],h=[];for(var m=new SuperMapAlgoPlot.Point(r,e.y),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,10,10,45),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,10,10,135),A=0;A<t.length-1;A++)(s=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,v,t[A],t[A+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,t[A],t[A+1])&&f.push(s.intersectPoint),(u=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,M,t[A],t[A+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,t[A],t[A+1])&&h.push(u.intersectPoint);if(1<f.length){p=[],p=this.sortPts2D(f);for(var O=0;O<p.length-1;O++)l=new SuperMapAlgoPlot.Point((p[O].x+p[O+1].x)/2,(p[O].y+p[O+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,l)&&((a=[]).push(p[O]),a.push(p[O+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,i,!0))}if(1<h.length){c=[],c=this.sortPts2D(h);for(var _=0;_<c.length-1;_++)l=new SuperMapAlgoPlot.Point((c[_].x+c[_+1].x)/2,(c[_].y+c[_+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,l)&&((a=[]).push(c[_]),a.push(c[_+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,i,!0))}(f.length>0||h.length>0)&&(o=!0),n-=.8,r+=.8}this.finish()}}}},{key:"sortPts2D",value:function(t){for(var e,o=0;o<t.length;o++)for(var n=0;n<t.length-1-o;n++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)?t[n].y>t[n+1].y&&(e=t[n],t[n]=t[n+1],t[n+1]=tempPt11):t[n].x>t[n+1].x&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t}}])&&Jt(e.prototype,o),n&&Jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ee(t){"@babel/helpers - typeof";return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oe(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ne(t,e){return(ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ie(t);if(e){var r=ie(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16100=te;var le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ne(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=re(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=this.getSubSymbolScaleValue();this.isEdit||(this.scaleValues[0]=.5*n);var r=this.scaleValues[0]*e,i=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*r,!0),l=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*r,!1);i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);for(var a=e*this.scaleValues[1],s=.5*r,u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),p=s,c=0;p<u;p+=a,c++){var f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,p);if(-1!==f.index){var h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,o[f.index+1],f.pt),g=[];g.push(h.pntLeft),g.push(h.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),0===c?this.addScalePoint(h.pntRight,0):1===c&&this.addScalePoint(f.pt,1)}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);var i,l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),0==t){i=.5*(n*this.scaleValues[0]);var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,i);if(-1===a.index)return;var s=SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=s/n}else if(1===t){i=.5*(n*this.scaleValues[0]);var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,i);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,l);if(-1==p.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(u.pt,l[u.index+1]),f=u.index+1;f<p.index;f++)c+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(l[p.index],p.pt),this.scaleValues[1]=c/n}}}}])&&oe(e.prototype,o),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ae(t){"@babel/helpers - typeof";return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ue(t,e){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ce(t);if(e){var r=ce(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16200=le;var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=pe(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(.01)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues.push(.02),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(.01)):3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!1);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);for(var l=e*this.scaleValues[1],a=e*this.scaleValues[3],s=0,u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),p=a,c=0;p<=u-a;p+=l,c++){s=p+a;var f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,s);if(-1!==f.index){var h=new SuperMapAlgoPlot.Point(f.pt.x,f.pt.y+.5*n),g=[];g.push(f.pt),g.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,g)}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);var i,l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),0==t){i=n*this.scaleValues[3];var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,i);if(-1===a.index)return;var s=2*SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=s/n}else if(1===t){i=n*this.scaleValues[3];var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,i);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,l);if(-1==p.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(u.pt,l[u.index+1]),f=u.index+1;f<p.index;f++)c+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(l[p.index],p.pt),this.scaleValues[1]=c/n,this.scaleValues[1]>.9&&(this.scaleValues[1]=.9)}}}}])&&se(e.prototype,o),n&&se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function he(t){"@babel/helpers - typeof";return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ge(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pe(t,e){return(Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Se(t);if(e){var r=Se(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===he(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16201=fe;var de=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ye(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n,r,i=this.scaleValues[0]*e;n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,i,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,i,!1);var l=new SuperMapAlgoPlot.Point(n[0].x,n[0].y);l.isScalePoint=!0,l.tag=0,this.scalePoints.push(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var a=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),s=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),u=180*SuperMapAlgoPlot.PlottingUtil.radian(a,s)/Math.PI,p=new SuperMapAlgoPlot.Point(.3*e,0),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,p,u),f=new SuperMapAlgoPlot.Point(0,.4*i),h=new SuperMapAlgoPlot.Point(0,.2*i),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,f,u),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,h,u),y=[];y.push(g),y.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,y);var S=new SuperMapAlgoPlot.Point(0,.2*i),d=new SuperMapAlgoPlot.Point(0,-.4*i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,S,u),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,d,u);(y=[]).push(b),y.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var v=new SuperMapAlgoPlot.Point(.2*i,-.2*i),M=new SuperMapAlgoPlot.Point(-.2*i,-.6*i),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,v,u),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,M,u);(y=[]).push(A),y.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var _=new SuperMapAlgoPlot.Point(-.2*i,-.2*i),L=new SuperMapAlgoPlot.Point(.2*i,-.6*i),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,_,u),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,L,u);(y=[]).push(w),y.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var U=new SuperMapAlgoPlot.Point(.7*e,0),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,U,u),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,f,u),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,h,u);(y=[]).push(T),y.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,y);var R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,S,u),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,d,u);(y=[]).push(R),y.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,v,u),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,M,u);(y=[]).push(C),y.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,_,u),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,L,u);(y=[]).push(N),y.push(D),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);if(0==t){var i=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n;this.scaleValues[0]=i}}}}])&&ge(e.prototype,o),n&&ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function be(t){"@babel/helpers - typeof";return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ve(t,e){return(ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ae(t);if(e){var r=Ae(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16202=de;var Oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ve(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Me(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o),this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());for(var n=this.scaleValues[0]*e,r=this.scaleValues[1]*e,i=.01*e,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),a=0,s={surroundLineFlag:!1,fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},u=i,p=0;u<=l;u+=r,p++){a=u+i;var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,a);if(-1===c.index)return;for(var f=SuperMapAlgoPlot.PlottingUtil.radian(c.pt,o[c.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,h=this.getSubSymbolPts(n),g=[],P=0,y=h.length;P<y;P++)g.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c.pt,h[P],f));if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,s),0===p){var S=new SuperMapAlgoPlot.Point((g[0].x+g[1].x)/2,(g[0].y+g[1].y)/2);this.addScalePoint(S,0)}else 1===p&&this.addScalePoint(c.pt,1);this.finish()}}}},{key:"getSubSymbolPts",value:function(t){var e=.5*t,o=[];return o.push(new SuperMapAlgoPlot.Point(.5*e,2*e)),o.push(new SuperMapAlgoPlot.Point(.5*-e,2*e)),o.push(new SuperMapAlgoPlot.Point(.5*-e,-2*e)),o.push(new SuperMapAlgoPlot.Point(.5*e,-2*e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r);var i=.01*n;if(0===t){var l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,i);if(-1===l.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,l.pt);this.scaleValues[0]=a/n}else if(1===t){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,i);if(-1===s.index)return;var u=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,r);if(-1===u.index)return;for(var p=0,c=s.index+1;c<u.index;c++)p+=SuperMapAlgoPlot.PlottingUtil.distance(r[c],r[c+1]);p+=SuperMapAlgoPlot.PlottingUtil.distance(r[u.index],u.pt),p-=i,this.scaleValues[1]=p/n,p>n-n*this.scaleValues[0]-i&&(this.scaleValues[1]=(n-n*this.scaleValues[0]-i)/n)}}}}])&&me(e.prototype,o),n&&me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function _e(t){"@babel/helpers - typeof";return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Le(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function we(t,e){return(we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ue(t);if(e){var r=Ue(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16203=Oe;var Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&we(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=xe(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e}return e=i,(o=[{key:"calculateParts",value:function(){if(this.init(),this.controlPoints.length>=this.minEditPts){var t,e=[];if(2===this.controlPoints.length){for(var o=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]),n=this.scaleValues[0]*o,r=SuperMapAlgoPlot.PlottingUtil.parallel(this.controlPoints,n/2),i=SuperMapAlgoPlot.PlottingUtil.parallel(this.controlPoints,-n/2),l=180*SuperMapAlgoPlot.PlottingUtil.radian(this.controlPoints[0],this.controlPoints[1])/Math.PI,a=[],s=l+90;s<=l+270;s+=10)t=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],n/2,n/2,s),a.push(t);for(var u=[],p=l-90;p<=l+90;p+=10)t=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[1],n/2,n/2,p),u.push(t);e=(e=(e=(e=e.concat(a)).concat(i)).concat(u)).concat(r)}else this.controlPoints.length<=3?e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,this.controlPoints):this.controlPoints.length>3&&!0===this.polylineConnectLocationPoint?e=this.controlPoints:(this.controlPoints.push(this.controlPoints[0]),e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(this.controlPoints));e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var c=e[0].x,f=e[0].x,h=e[0].y,g=e[0].y;for(s=0;s<e.length;s++)c>e[s].x&&(c=e[s].x),f<e[s].x&&(f=e[s].x),h>e[s].y&&(h=e[s].y),g<e[s].y&&(g=e[s].y);for(var P=new SuperMapAlgoPlot.Point((f+c)/2,(g+h)/2),y=(f-c)/5,S={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1},d=!0,b=P.x,m=P.x;d;){d=!1;for(var v,M,A,O=[],_=[],L=new SuperMapAlgoPlot.Point(b,P.y),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,10,10,45),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,10,10,135),U=0;U<e.length-1;U++)(M=SuperMapAlgoPlot.PlottingUtil.intersectLines(L,w,e[U],e[U+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(M.intersectPoint,e[U],e[U+1])&&O.push(M.intersectPoint),(A=SuperMapAlgoPlot.PlottingUtil.intersectLines(L,x,e[U],e[U+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(A.intersectPoint,e[U],e[U+1])&&_.push(A.intersectPoint);if(1<O.length){O=this.sortPts2D(O);for(var E=0;E<O.length-1;E++)if(t=new SuperMapAlgoPlot.Point((O[E].x+O[E+1].x)/2,(O[E].y+O[E+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,t)){var T=[];T.push(O[E]),T.push(O[E+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,S,!0)}}if(1<_.length){_=this.sortPts2D(_);for(var V=0;V<_.length-1;V++)t=new SuperMapAlgoPlot.Point((_[V].x+_[V+1].x)/2,(_[V].y+_[V+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,t)&&((v=[]).push(_[V]),v.push(_[V+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,S,!0))}(O.length>0||_.length>0)&&(d=!0),O=[],_=[];for(var R=new SuperMapAlgoPlot.Point(m,P.y),I=SuperMapAlgoPlot.PlottingUtil.circlePoint(R,5,5,45),C=SuperMapAlgoPlot.PlottingUtil.circlePoint(R,5,5,135),j=0;j<e.length-1;j++)(M=SuperMapAlgoPlot.PlottingUtil.intersectLines(R,I,e[j],e[j+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(M.intersectPoint,e[j],e[j+1])&&O.push(M.intersectPoint),(A=SuperMapAlgoPlot.PlottingUtil.intersectLines(R,C,e[j],e[j+1])).isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(A.intersectPoint,e[j],e[j+1])&&_.push(A.intersectPoint);if(1<O.length){O=this.sortPts2D(O);for(var N=0;N<O.length-1;N+=2)t=new SuperMapAlgoPlot.Point((O[N].x+O[N+1].x)/2,(O[N].y+O[N+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,t)&&((v=[]).push(O[N]),v.push(O[N+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,S,!0))}if(1<_.length){_=this.sortPts2D(_);for(var D=0;D<_.length-1;D++)t=new SuperMapAlgoPlot.Point((_[D].x+_[D+1].x)/2,(_[D].y+_[D+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,t)&&((v=[]).push(_[D]),v.push(_[D+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,S,!0))}(O.length>0||_.length>0)&&(d=!0),b-=y,m+=y}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e,o=0;o<t.length;o++)for(var n=0;n<t.length-1-o;n++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)?t[n].y>t[n+1].y&&(e=t[n],t[n]=t[n+1],t[n+1]=e):t[n].x>t[n+1].x&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t}}])&&Le(e.prototype,o),n&&Le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Te(t){"@babel/helpers - typeof";return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Re(t,e){return(Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ce(t);if(e){var r=Ce(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16500=Ee;var je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Re(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ie(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=this.scaleValues[0]*e,r=this.scaleValues[1]*e,i=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),a=180*SuperMapAlgoPlot.PlottingUtil.radian(i,l)/Math.PI,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,a+90),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,r,r,a+90),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,n,n,a+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,r,r,a+90),f=[];f.push(u),f.push(s),f.push(p),f.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(f)),(f=[]).push(u),f.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(f)),(f=[]).push(c),f.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(f));var h=new SuperMapAlgoPlot.Point(s.x,s.y);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h);var g=new SuperMapAlgoPlot.Point(u.x,u.y);g.isScalePoint=!0,g.tag=1,this.scalePoints.push(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(this.isEdit=!0,!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);if(0==t){var i=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n;if(i<this.scaleValues[1])return;this.scaleValues[0]=i}else if(1==t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n;if(this.scaleValues[0]<l)return;this.scaleValues[1]=l}}}}])&&Ve(e.prototype,o),n&&Ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ne(t){"@babel/helpers - typeof";return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Be(t,e){return(Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ke(t);if(e){var r=ke(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ke(t){return(ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16700=je;var Fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Be(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ye(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n,r,i=this.scaleValues[0]*e,l=t[0],a=t[1],s=180*SuperMapAlgoPlot.PlottingUtil.radian(l,a)/Math.PI;n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,i,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,i,!1);var u=.15*e,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(n[0],u,u,s+165),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(r[0],u,u,s-165),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(n[n.length-1],u,u,s+15),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(r[r.length-1],u,u,s-15),g=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[n.length-1],3*e/11),P=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[n.length-1],4*e/11),y=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[n.length-1],7*e/11),S=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[n.length-1],8*e/11),d=[];d.push(p),d.push(n[0]),d.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d),(d=[]).push(P),d.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d),(d=[]).push(S),d.push(n[n.length-1]),d.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var b=SuperMapAlgoPlot.PlottingUtil.linePnt(r[0],r[r.length-1],3*e/11),m=SuperMapAlgoPlot.PlottingUtil.linePnt(r[0],r[r.length-1],4*e/11),v=SuperMapAlgoPlot.PlottingUtil.linePnt(r[0],r[r.length-1],7*e/11),M=SuperMapAlgoPlot.PlottingUtil.linePnt(r[0],r[r.length-1],8*e/11),A=[];if(A.push(c),A.push(r[0]),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),(A=[]).push(m),A.push(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),(A=[]).push(M),A.push(r[r.length-1]),A.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),90<s&&s<270){var O=l;l=a,a=O,s=180*SuperMapAlgoPlot.PlottingUtil.radian(l,a)/Math.PI}var _=new SuperMapAlgoPlot.Point(.25*e,i+.2*e),L=new SuperMapAlgoPlot.Point(.35*e,i+.2*e+.1*e),w=new SuperMapAlgoPlot.Point(.35*e,i+.2*e-.1*e),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,_,s),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,L,s),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,w,s),T=[];T.push(new SuperMapAlgoPlot.Point(U.x,U.y)),T.push(new SuperMapAlgoPlot.Point(x.x,x.y)),T.push(new SuperMapAlgoPlot.Point(E.x,E.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var V=new SuperMapAlgoPlot.Point(.35*e,i+.2*e),R=new SuperMapAlgoPlot.Point(.4*e,i+.2*e+.05*e),I=new SuperMapAlgoPlot.Point(.4*e,i+.2*e-.05*e),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,V,s),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,R,s),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,I,s);(T=[]).push(new SuperMapAlgoPlot.Point(j.x,j.y)),T.push(new SuperMapAlgoPlot.Point(C.x,C.y)),T.push(new SuperMapAlgoPlot.Point(N.x,N.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var D=new SuperMapAlgoPlot.Point(.7*e,i+.2*e),B=new SuperMapAlgoPlot.Point(.8*e,i+.2*e+.1*e),Y=new SuperMapAlgoPlot.Point(.8*e,i+.2*e-.1*e),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,D,s),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,B,s),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,Y,s);(T=[]).push(new SuperMapAlgoPlot.Point(F.x,F.y)),T.push(new SuperMapAlgoPlot.Point(k.x,k.y)),T.push(new SuperMapAlgoPlot.Point(z.x,z.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var G=new SuperMapAlgoPlot.Point(.8*e,i+.2*e),q=new SuperMapAlgoPlot.Point(.85*e,i+.2*e+.05*e),X=new SuperMapAlgoPlot.Point(.85*e,i+.2*e-.05*e),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,G,s),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,q,s),K=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,X,s);(T=[]).push(new SuperMapAlgoPlot.Point(H.x,H.y)),T.push(new SuperMapAlgoPlot.Point(W.x,W.y)),T.push(new SuperMapAlgoPlot.Point(K.x,K.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);if(0==t){var i=o[0],l=o[1],a=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,i,l),s=SuperMapAlgoPlot.PlottingUtil.distance(e,a);this.scaleValues[0]=s/n}}}}])&&De(e.prototype,o),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ze(t){"@babel/helpers - typeof";return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qe(t,e){return(qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=We(t);if(e){var r=We(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16900=Fe;var He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qe(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Xe(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=e[0].x,r=e[0].x,i=e[0].y,l=e[0].y,a=[],s=0;s<e.length;s++)n>e[s].x&&(n=e[s].x),r<e[s].x&&(r=e[s].x),i>e[s].y&&(i=e[s].y),l<e[s].y&&(l=e[s].y),a.push(e[s]);for(var u=(r-n)/5,p=.2*u,c=[],f=0;f<360;f+=18){var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),p,p,f);c.push(h)}for(var g=0,P=n;P<r;P+=u)for(var y=i;y<l;y+=u){var S,d=new SuperMapAlgoPlot.Point(P,y);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(a,d))0===g?(g=0,this.subSymbols.length>0&&(S=.015*o,this.computeSubSymbol(this.subSymbols[0],d,S,0)),g++):(g=0,this.subSymbols.length>0&&(S=.022*o,this.computeSubSymbol(this.subSymbols[1],d,S,0)))}this.finish()}}}}])&&Ge(e.prototype,o),n&&Ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ke(t){"@babel/helpers - typeof";return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ze(t,e){return(Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=$e(t);if(e){var r=$e(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17400=He;var to=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Qe(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,l=[],a=0;a<e.length;a++)o>e[a].x&&(o=e[a].x),n<e[a].x&&(n=e[a].x),r>e[a].y&&(r=e[a].y),i<e[a].y&&(i=e[a].y),l.push(e[a]);for(var s=(n-o)/5,u=.15*s,p=[],c=0;c<360;c+=18){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),u,u,c);p.push(f)}for(var h=0,g=o;g<n;g+=s)for(var P=r;P<i;P+=s){var y=new SuperMapAlgoPlot.Point(g,P);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(l,y))if(0===h){h++;for(var S=[],d=0;d<p.length;d++){var b=new SuperMapAlgoPlot.Point(y.x+p[d].x,y.y+p[d].y);S.push(b)}S.push(S[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{fillColorLimit:!0,fillColor:"#ffff00",surroundLineFlag:!1,fillLimit:!0,fillOpacity:1,lineTypeLimit:!0});var m=[];m.push(S[10]),m.push(new SuperMapAlgoPlot.Point(S[10].x-.5*u,S[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m);var v=[];v.push(S[0]),v.push(new SuperMapAlgoPlot.Point(S[0].x+.5*u,S[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}else 1===h?(h++,null!=this.subSymbols[0]&&this.computeSubSymbol(this.subSymbols[0],y,2*u,0)):(h=0,null!=this.subSymbols[1]&&this.computeSubSymbol(this.subSymbols[1],y,3*u,0))}this.finish()}}}])&&Je(e.prototype,o),n&&Je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function eo(t){"@babel/helpers - typeof";return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oo(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function no(t,e){return(no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=io(t);if(e){var r=io(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function io(t){return(io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17401=to;var lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&no(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ro(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,l=0;l<e.length;l++)o>e[l].x&&(o=e[l].x),n<e[l].x&&(n=e[l].x),r>e[l].y&&(r=e[l].y),i<e[l].y&&(i=e[l].y);var a={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},s=new SuperMapAlgoPlot.Point((n+o)/2,(i+r)/2),u=n-o,p=i-r,c=.1*u,f=.1*p,h=new SuperMapAlgoPlot.Point(s.x,s.y+f),g=new SuperMapAlgoPlot.Point(s.x-c,s.y-f),P=new SuperMapAlgoPlot.Point(s.x+c,s.y-f);c=.03*u,f=.03*p;var y=new SuperMapAlgoPlot.Point(h.x,h.y+f),S=new SuperMapAlgoPlot.Point(h.x-c,h.y-f),d=new SuperMapAlgoPlot.Point(h.x+c,h.y-f),b=[];b.push(new SuperMapAlgoPlot.Point(y.x,y.y)),b.push(new SuperMapAlgoPlot.Point(S.x,S.y)),b.push(new SuperMapAlgoPlot.Point(d.x,d.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,a);var m=new SuperMapAlgoPlot.Point(g.x,g.y+f),v=new SuperMapAlgoPlot.Point(g.x-c,g.y-f),M=new SuperMapAlgoPlot.Point(g.x+c,g.y-f),A=[];A.push(new SuperMapAlgoPlot.Point(m.x,m.y)),A.push(new SuperMapAlgoPlot.Point(v.x,v.y)),A.push(new SuperMapAlgoPlot.Point(M.x,M.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,a);var O=new SuperMapAlgoPlot.Point(P.x,P.y+f),_=new SuperMapAlgoPlot.Point(P.x-c,P.y-f),L=new SuperMapAlgoPlot.Point(P.x+c,P.y-f),w=[];w.push(new SuperMapAlgoPlot.Point(O.x,O.y)),w.push(new SuperMapAlgoPlot.Point(_.x,_.y)),w.push(new SuperMapAlgoPlot.Point(L.x,L.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,w,a),this.finish()}}}}])&&oo(e.prototype,o),n&&oo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ao(t){"@babel/helpers - typeof";return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function so(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uo(t,e){return(uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=co(t);if(e){var r=co(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ao(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function co(t){return(co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17500=lo;var fo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=po(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,l=0;l<e.length;l++)o>e[l].x&&(o=e[l].x),n<e[l].x&&(n=e[l].x),r>e[l].y&&(r=e[l].y),i<e[l].y&&(i=e[l].y);var a=new SuperMapAlgoPlot.Point((n+o)/2,(i+r)/2),s=.33*(n-o),u=.1*(i-r),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,s,s,0),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,s,s,180),f=[];f.push(new SuperMapAlgoPlot.Point(p.x,p.y)),f.push(new SuperMapAlgoPlot.Point(c.x,c.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var h=new SuperMapAlgoPlot.Point(a.x-3*s/7,a.y+u),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,u,u,60),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,u,u,120);(f=[]).push(new SuperMapAlgoPlot.Point(g.x,g.y)),f.push(new SuperMapAlgoPlot.Point(h.x,h.y)),f.push(new SuperMapAlgoPlot.Point(P.x,P.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var y=new SuperMapAlgoPlot.Point(a.x+3*s/7,a.y+u),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,u,u,60),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,u,u,120);(f=[]).push(new SuperMapAlgoPlot.Point(S.x,S.y)),f.push(new SuperMapAlgoPlot.Point(y.x,y.y)),f.push(new SuperMapAlgoPlot.Point(d.x,d.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.finish()}}}}])&&so(e.prototype,o),n&&so(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ho(t){"@babel/helpers - typeof";return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function go(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Po(t,e){return(Po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=So(t);if(e){var r=So(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function So(t){return(So=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17501=fo;var bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Po(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=yo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n,r,i={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},l=this.scaleValues[0]*e;n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!1);var a=new SuperMapAlgoPlot.Point(n[0].x,n[0].y);a.isScalePoint=!0,a.tag=0,this.scalePoints.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var s=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),u=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),p=180*SuperMapAlgoPlot.PlottingUtil.radian(s,u)/Math.PI,c=new SuperMapAlgoPlot.Point(.3*e,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,c,p),h=new SuperMapAlgoPlot.Point(0,.7*l),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,h,p),P=[];P.push(new SuperMapAlgoPlot.Point(f.x,f.y)),P.push(new SuperMapAlgoPlot.Point(g.x,g.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,P,i);var y=new SuperMapAlgoPlot.Point(.7*l,.7*l),S=new SuperMapAlgoPlot.Point(-.7*l,.7*l),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,y,p),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,S,p);(P=[]).push(new SuperMapAlgoPlot.Point(d.x,d.y)),P.push(new SuperMapAlgoPlot.Point(b.x,b.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var m=new SuperMapAlgoPlot.Point(.7*e,0),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,m,p),M=new SuperMapAlgoPlot.Point(.7*l,.7*l),A=new SuperMapAlgoPlot.Point(.7*l,-.7*l),O=new SuperMapAlgoPlot.Point(-.7*l,-.7*l),_=new SuperMapAlgoPlot.Point(-.7*l,.7*l),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,M,p),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,A,p),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,O,p),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,_,p);(P=[]).push(new SuperMapAlgoPlot.Point(L.x,L.y)),P.push(new SuperMapAlgoPlot.Point(w.x,w.y)),P.push(new SuperMapAlgoPlot.Point(x.x,x.y)),P.push(new SuperMapAlgoPlot.Point(U.x,U.y)),P.push(new SuperMapAlgoPlot.Point(L.x,L.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var E=new SuperMapAlgoPlot.Point(.3*l,.3*l),T=new SuperMapAlgoPlot.Point(.3*l,-.3*l),V=new SuperMapAlgoPlot.Point(-.3*l,-.3*l),R=new SuperMapAlgoPlot.Point(-.3*l,.3*l),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,E,p),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,T,p),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,V,p),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(v,R,p);(P=[]).push(new SuperMapAlgoPlot.Point(I.x,I.y)),P.push(new SuperMapAlgoPlot.Point(C.x,C.y)),P.push(new SuperMapAlgoPlot.Point(j.x,j.y)),P.push(new SuperMapAlgoPlot.Point(N.x,N.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,P,i),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);if(0==t){var i=o[0],l=o[1],a=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,i,l),s=SuperMapAlgoPlot.PlottingUtil.distance(e,a);this.scaleValues[0]=s/n}}}}])&&go(e.prototype,o),n&&go(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mo(t){"@babel/helpers - typeof";return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vo(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mo(t,e){return(Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ao(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Oo(t);if(e){var r=Oo(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Oo(t){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17600=bo;var _o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ao(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&this.scaleValues.push(.02),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,o,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(n,o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);for(var l={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},a=this.getDashLinePts(i,5*o),s=0;s<a.length;s++){var u=a[s];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,l)}this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>n)return o;for(var r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=2*parseInt(n/(1.5*e)),l=0;l<i;l++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,e);if(-1!==a.index){if(0==l%2){for(var s=[],u=0;u<a.index+1;u++)s.push(r[u].clone());s.push(a.pt),o.push(s)}var p=[];p.push(a.pt);for(var c=a.index+1;c<r.length;c++)p.push(r[c]);r=(r=[]).concat(p)}}return r.length>0&&o.push(r),o}}])&&vo(e.prototype,o),n&&vo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Lo(t){"@babel/helpers - typeof";return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wo(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xo(t,e){return(xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Uo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Eo(t);if(e){var r=Eo(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Lo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Eo(t){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17700=_o;var To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Uo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).subText="加",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.isEdit||(this.scaleValues=[]);var n=[];if(this.scalePoints=[],t.length<3)n.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),n.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y));else{var r=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=r.scaleValues;for(var i=0;i<r.scalePoints.length;i++)this.addScalePoint(r.scalePoints[i]);n=r.beizerPoints}if(!(n.length<2)){var l=e/2;if(-1!==SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,l).index){var a,s;if(a=2==t.length?0:t.length-1,this.isEdit)s=this.scaleValues[4*a]*e,isNaN(s)&&(s=Math.abs(this.scaleValues[4*a-1]*e));else{var u=.5*this.getSubSymbolScaleValue();s=u*e,this.scaleValues.push(u)}var p=l-s,c=l+s,f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,p);if(-1!==f.index){var h=f.pt;this.addScalePoint(new SuperMapAlgoPlot.Point(h.x,h.y));var g=[];if(0==f.index)g.push(n[0]);else for(var P=0;P<f.index;P++)g.push(n[P]);g.push(h);var y=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,c);if(-1!==y.index){var S=y.pt,d=[];d.push(S);for(var b=y.index+1;b<n.length;b++)d.push(n[b]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var m=g[g.length-1],v=d[0],M=180*SuperMapAlgoPlot.PlottingUtil.radian(m,v)/Math.PI,A=SuperMapAlgoPlot.PlottingUtil.distance(m,v),O=new SuperMapAlgoPlot.Point((m.x+v.x)/2,(m.y+v.y)/2),_=this.subText;this.addText(_,O,A,M),this.finish()}}}}}}},{key:"computeBeizer",value:function(t,e){var o,n,r,i=[];if(this.scalePoints=[],this.isEdit){(r=[]).push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),r.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),o=this.scaleValues[0],n=this.scaleValues[1];var l=t[0].x+e*o,a=t[0].y+e*n;r.push(new SuperMapAlgoPlot.Point(l,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(l,a));for(var s=1;s<t.length-1;s++)r.push(new SuperMapAlgoPlot.Point(t[s].x,t[s].y)),o=this.scaleValues[4*s-2],n=this.scaleValues[4*s-1],l=t[s].x+e*o,a=t[s].y+e*n,r.push(new SuperMapAlgoPlot.Point(l,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(l,a)),o=this.scaleValues[4*s],n=this.scaleValues[4*s+1],l=t[s].x+e*o,a=t[s].y+e*n,r.push(new SuperMapAlgoPlot.Point(l,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(l,a));var u=t.length-1;r.push(new SuperMapAlgoPlot.Point(t[u].x,t[u].y)),o=this.scaleValues[4*u-2],n=this.scaleValues[4*u-1],l=t[u].x+e*o,a=t[u].y+e*n,r.push(new SuperMapAlgoPlot.Point(l,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(l,a)),r.push(new SuperMapAlgoPlot.Point(t[u].x,t[u].y)),i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(r)}else{if(this.scaleValues=[],r=[],(r=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t)).length<3)return i;var p=r[2].x-r[0].x,c=r[2].y-r[0].y;o=p/e,n=c/e,this.scaleValues.push(o),this.scaleValues.push(n),this.addScalePoint(new SuperMapAlgoPlot.Point(r[2].x,r[2].y));for(var f=1;f<t.length-1;f++){o=(p=r[3*f+1].x-r[3*f].x)/e,n=(c=r[3*f+1].y-r[3*f].y)/e,this.scaleValues.push(o),this.scaleValues.push(n),this.addScalePoint(new SuperMapAlgoPlot.Point(r[3*f+1].x,r[3*f+1].y));var h=(r[3*f+2].x-r[3*f].x)/e,g=(r[3*f+2].y-r[3*f].y)/e;this.scaleValues.push(h),this.scaleValues.push(g),this.addScalePoint(new SuperMapAlgoPlot.Point(r[3*f+2].x,r[3*f+2].y))}o=(p=r[3*(t.length-1)+1].x-r[3*(t.length-1)].x)/e,n=(c=r[3*(t.length-1)+1].y-r[3*(t.length-1)].y)/e,this.scaleValues.push(o),this.scaleValues.push(n),this.addScalePoint(new SuperMapAlgoPlot.Point(r[3*(t.length-1)+1].x,r[3*(t.length-1)+1].y)),i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(r)}return i}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),t<0||t>2*o.length-2)return;for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);if(2*(o.length-1)==t||2==o.length){var i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,l/2);if(-1===a.index)return;var s=SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt)/n;s>.4&&(s=.4),this.isEdit=!0,2==o.length?this.scaleValues[0]=s:this.scaleValues[2*t]=s}else{var u=-1;u=t%2==0?t/2:(t+1)/2,this.isEdit=!0;var p=(e.x-o[u].x)/n,c=(e.y-o[u].y)/n;this.scaleValues[2*t]=p,this.scaleValues[2*t+1]=c}}}}])&&wo(e.prototype,o),n&&wo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Vo(t){"@babel/helpers - typeof";return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Io(t,e){return(Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Co(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jo(t);if(e){var r=jo(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jo(t){return(jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17703=To;var No=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Io(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol17703);var e,o,n,r=Co(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).subText="急",e}return e=i,o&&Ro(e.prototype,o),n&&Ro(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Do(t){"@babel/helpers - typeof";return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bo(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yo(t,e){return(Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ko(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Fo(t);if(e){var r=Fo(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Do(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Fo(t){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17704=No;var zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ko(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),n=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),n=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var r=SuperMapAlgoPlot.PlottingUtil.distance(e,o),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*r,.78*r,n+180),l=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*r,1.26*r,n+180),a=[];a.push(i.clone()),a.push(l.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*r,.1*r,n+180),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*r,.58*r,n+180);(a=[]).push(s.clone()),a.push(u.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*r,.1*r,n),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*r,.58*r,n);(a=[]).push(p.clone()),a.push(c.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*r,.78*r,n),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*r,1.26*r,n);(a=[]).push(f.clone()),a.push(h.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),this.finish()}}}])&&Bo(e.prototype,o),n&&Bo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Go(t){"@babel/helpers - typeof";return(Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qo(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xo(t,e){return(Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ho(t);if(e){var r=Ho(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Go(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ho(t){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17800=zo;var Ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol17800);var e,o,n,r=Wo(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),n=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),n=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var r=SuperMapAlgoPlot.PlottingUtil.distance(e,o),i=[],l=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*r,.1*r,0);i.push(t[0].clone()),i.push(l.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,i);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*r,.78*r,n+180),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*r,1.26*r,n+180);(i=[]).push(a.clone()),i.push(s.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*r,.15*r,n+180),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*r,.58*r,n+180);(i=[]).push(u.clone()),i.push(p.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*r,.15*r,n),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*r,.58*r,n);(i=[]).push(c.clone()),i.push(f.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*r,.78*r,n),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*r,1.26*r,n);(i=[]).push(h.clone()),i.push(g.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.finish()}}}])&&qo(e.prototype,o),n&&qo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Jo(t){"@babel/helpers - typeof";return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zo(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qo(t,e){return(Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tn(t);if(e){var r=tn(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Jo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tn(t){return(tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17801=Ko;var en=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol17800);var e,o,n,r=$o(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),n=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),n=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var r=SuperMapAlgoPlot.PlottingUtil.distance(e,o),i=[],l=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*r,.15*r,n),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.08*r,.08*r,n+90),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*r,.15*r,n+180),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.08*r,.08*r,n+270);i.push(l.clone()),i.push(a.clone()),i.push(s.clone()),i.push(u.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*r,.78*r,n+180),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*r,1.26*r,n+180);(i=[]).push(p.clone()),i.push(c.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*r,.15*r,n+180),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*r,.58*r,n+180);(i=[]).push(f.clone()),i.push(h.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*r,.15*r,n),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*r,.58*r,n);(i=[]).push(g.clone()),i.push(P.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*r,.78*r,n),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*r,1.26*r,n);(i=[]).push(y.clone()),i.push(S.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.finish()}}}])&&Zo(e.prototype,o),n&&Zo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function on(t){"@babel/helpers - typeof";return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rn(t,e){return(rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=an(t);if(e){var r=an(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===on(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function an(t){return(an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17802=en;var sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ln(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.2)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.2)),2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=2==t.length?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],l=new SuperMapAlgoPlot.Point(e.x+o*n,e.y+o*r),a=o*i,s=new SuperMapAlgoPlot.Point(-.5*a,.25*a),u=new SuperMapAlgoPlot.Point(-.4*a,.125*a),p=new SuperMapAlgoPlot.Point(.4*a,.125*a),c=new SuperMapAlgoPlot.Point(.5*a,.25*a),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,s,0),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,u,0),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,p,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,c,0),y=[];y.push(f.clone()),y.push(h.clone()),y.push(g.clone()),y.push(P.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var S=new SuperMapAlgoPlot.Point(-.5*a,-.25*a),d=new SuperMapAlgoPlot.Point(-.4*a,-.125*a),b=new SuperMapAlgoPlot.Point(.4*a,-.125*a),m=new SuperMapAlgoPlot.Point(.5*a,-.25*a),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,S,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,d,0),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,b,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,m,0);(y=[]).push(v.clone()),y.push(M.clone()),y.push(A.clone()),y.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.scalePoints=[];var _=new SuperMapAlgoPlot.Point(l.x+.1*a,l.y);_.isScalePoint=!0,_.tag=0,this.scalePoints.push(_);var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,.25*a,.25*a,90);L.isScalePoint=!0,L.tag=1,this.scalePoints.push(L),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,n,r,i,l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l))[0].clone(),s=0;if(0==(s=2==l.length?2*SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[1]):SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[1])+SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[2])))return;if(0==t)i=(r=this.scaleValues[2])*s,o=(e.x-.1*i-a.x)/s,this.scaleValues[0]=o,n=(e.y-a.y)/s,this.scaleValues[1]=n;else if(1==t){o=this.scaleValues[0],n=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(a.x+s*o,a.y+s*n);r=4*(i=SuperMapAlgoPlot.PlottingUtil.distance(u,e))/s,this.scaleValues[2]=r}}}}])&&nn(e.prototype,o),n&&nn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function un(t){"@babel/helpers - typeof";return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cn(t,e){return(cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=hn(t);if(e){var r=hn(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17803=sn;var gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=fn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1)),t.length==this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=t.length==this.minEditPts?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],l=new SuperMapAlgoPlot.Point(e.x+o*n,e.y+o*r),a=o*i,s=3*a,u=new SuperMapAlgoPlot.Point(-.5*s,.5*a),p=new SuperMapAlgoPlot.Point(.5*s,.5*a),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,u,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,p,0),h=[];h.push(c.clone()),h.push(f.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var g=new SuperMapAlgoPlot.Point(-.5*s,-.5*a),P=new SuperMapAlgoPlot.Point(.5*s,-.5*a),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,g,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,P,0);(h=[]).push(y.clone()),h.push(S.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var d=new SuperMapAlgoPlot.Point(-.1*s,.5*a),b=new SuperMapAlgoPlot.Point(-.15*s,-.5*a),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,d,0),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,b,0);(h=[]).push(m.clone()),h.push(v.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var M=new SuperMapAlgoPlot.Point(.15*s,.5*a),A=new SuperMapAlgoPlot.Point(.1*s,-.5*a),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,M,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,A,0);(h=[]).push(O.clone()),h.push(_.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.scalePoints=[];var L=new SuperMapAlgoPlot.Point(l.x,l.y);L.isScalePoint=!0,L.tag=0,this.scalePoints.push(L);var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,.5*a,.5*a,90);w.isScalePoint=!0,w.tag=1,this.scalePoints.push(w),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,n,r,i,l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l))[0].clone(),s=0;if(0==(s=2==l.length?2*SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[1]):SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[1])+SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[2])))return;if(0==t)i=(r=this.scaleValues[2])*s,o=(e.x-.1*i-a.x)/s,this.scaleValues[0]=o,n=(e.y-a.y)/s,this.scaleValues[1]=n;else if(1==t){o=this.scaleValues[0],n=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(a.x+s*o,a.y+s*n);r=2*(i=SuperMapAlgoPlot.PlottingUtil.distance(u,e))/s,this.scaleValues[2]=r}}}}])&&pn(e.prototype,o),n&&pn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pn(t){"@babel/helpers - typeof";return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yn(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sn(t,e){return(Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=bn(t);if(e){var r=bn(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17804=gn;var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol17804);var e,o,n,r=dn(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1)),t.length==this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=t.length==this.minEditPts?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],l=new SuperMapAlgoPlot.Point(e.x+o*n,e.y+o*r),a=3*(o*i),s=new SuperMapAlgoPlot.Point(-.5*a,.3*a),u=new SuperMapAlgoPlot.Point(-.5*a,-.3*a),p=new SuperMapAlgoPlot.Point(.5*a,-.3*a),c=new SuperMapAlgoPlot.Point(.5*a,.3*a),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,s,0),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,u,0),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,p,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,c,0),y=[];y.push(f.clone()),y.push(h.clone()),y.push(g.clone()),y.push(P.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,y);var S=new SuperMapAlgoPlot.Point(-.3*a,.3*a),d=new SuperMapAlgoPlot.Point(-.3*a,.5*a),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,S,0),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,d,0);(y=[]).push(b.clone()),y.push(m.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var v=new SuperMapAlgoPlot.Point(-.3*a,-.3*a),M=new SuperMapAlgoPlot.Point(-.3*a,-.5*a),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,v,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,M,0);(y=[]).push(A.clone()),y.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var _=new SuperMapAlgoPlot.Point(.3*a,.3*a),L=new SuperMapAlgoPlot.Point(.3*a,.5*a),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,_,0),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,L,0);(y=[]).push(w.clone()),y.push(x.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var U=new SuperMapAlgoPlot.Point(.3*a,-.3*a),E=new SuperMapAlgoPlot.Point(.3*a,-.5*a),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,U,0),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,E,0);(y=[]).push(T.clone()),y.push(V.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.scalePoints=[];var R=new SuperMapAlgoPlot.Point(l.x+.1*a,l.y);R.isScalePoint=!0,R.tag=0,this.scalePoints.push(R);var I=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,.5*a,.5*a,90);I.isScalePoint=!0,I.tag=1,this.scalePoints.push(I),this.finish()}}}}])&&yn(e.prototype,o),n&&yn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function vn(t){"@babel/helpers - typeof";return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function An(t,e){return(An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function On(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=_n(t);if(e){var r=_n(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _n(t){return(_n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17805=mn;var Ln=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&An(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol17804);var e,o,n,r=On(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var e,o,n,r,i,l=this.scaleValues[0],a=this.scaleValues[1],s=this.scaleValues[2],u=0,p=0;if(t.length==this.minEditPts){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);var c=SuperMapAlgoPlot.PlottingUtil.distance(o,n);u=2*c,e=new SuperMapAlgoPlot.Point(o.x+u*l,o.y+u*a);var f=2*c*s/.28/2;p=f,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,f,f,0),(i=[]).push(e.clone()),i.push(r.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,i)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),u=SuperMapAlgoPlot.PlottingUtil.distance(o,n)+SuperMapAlgoPlot.PlottingUtil.distance(o,r),e=new SuperMapAlgoPlot.Point(o.x+u*l,o.y+u*a);var h=u*s/.21/2,g=u*s/.38/2;p=h;var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,h,h,0),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,90);(i=[]).push(e.clone()),i.push(P.clone()),i.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,i)}this.scalePoints=[];var S=new SuperMapAlgoPlot.Point(e.x+.1*u,e.y);S.isScalePoint=!0,S.tag=0,this.scalePoints.push(S);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,p,p,90);d.isScalePoint=!0,d.tag=1,this.scalePoints.push(d),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,n,r,i,l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l))[0].clone(),s=0;if(0==(s=2==l.length?2*SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[1]):SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[1])+SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[2])))return;if(0==t)i=(r=this.scaleValues[2])*s,o=(e.x-.1*s-a.x)/s,this.scaleValues[0]=o,n=(e.y-a.y)/s,this.scaleValues[1]=n;else if(1==t){o=this.scaleValues[0],n=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(a.x+s*o,a.y+s*n);i=SuperMapAlgoPlot.PlottingUtil.distance(u,e),r=.1,r=2===l.length?.56*i/s:.42*i/s,this.scaleValues[2]=r}}}}])&&Mn(e.prototype,o),n&&Mn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function wn(t){"@babel/helpers - typeof";return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Un(t,e){return(Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function En(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Tn(t);if(e){var r=Tn(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17806=Ln;var Vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Un(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=En(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.1),e.scaleValues.push(.01)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[1]=.1*e}this.components.length=0,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var o=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=n*o,i=n*this.scaleValues[1];r<2*i&&(i=.5*r);for(var l={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},a=0,s=r;s<n-i;s+=r){var u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,t);if(u.bfind){var p=u.pts,c=[];c.push(p);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,i,i,90);if(c.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,l),0===a){var h=new SuperMapAlgoPlot.Point(p.x,p.y);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h)}a++}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(2>(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length)return;for(var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=-1,l=0,a=0;a<o.length-1;a++){var s=[];s.push(o[a]),s.push(o[a+1]);var u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(u.isOnline){var p=SuperMapAlgoPlot.PlottingUtil.distance(e,u.projectPoint);-1==i?(i=a,n=u.projectPoint,l=p):l>p&&(i=a,n=u.projectPoint,l=p)}}if(-1==i||i>o.length-1)return;var c=0;for(a=0;a<i;a++){var f=o[a],h=o[a+1];c+=SuperMapAlgoPlot.PlottingUtil.distance(f,h)}var g=o[i];if((c+=SuperMapAlgoPlot.PlottingUtil.distance(g,n))<0||c>r)return;var P=c/r;this.scaleValues[0]=P}}}])&&xn(e.prototype,o),n&&xn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Rn(t){"@babel/helpers - typeof";return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cn(t,e){return(Cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Nn(t);if(e){var r=Nn(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol20300=Vn;var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=jn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length!==this.minEditPts&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(0)),this.components.length=0,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,this.controlPoints);var e,o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),r=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI,l=new SuperMapAlgoPlot.Point((n.x+r.x)/2,(n.y+r.y)/2),a=this.scaleValues[0]*o;e=0==this.scaleValues[1]?SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,i+90):SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,i+270);var s={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[l,e]);var u=.02*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1]),p=new SuperMapAlgoPlot.Point((n.x+l.x)/2,(n.y+l.y)/2),c=[p,new SuperMapAlgoPlot.Point(p.x,p.y+u)];this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,s,!0);var f=new SuperMapAlgoPlot.Point((r.x+l.x)/2,(r.y+l.y)/2);c=[f,new SuperMapAlgoPlot.Point(f.x,f.y+u)],this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,s,!0);var h=new SuperMapAlgoPlot.Point(e.x,e.y);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),r=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r);if(0===i)return;var l=new SuperMapAlgoPlot.Point((n.x+r.x)/2,(n.y+r.y)/2);if(0===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,l)/i;this.scaleValues[0]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n,r,e)?this.scaleValues[1]=1:this.scaleValues[1]=0}}}}])&&In(e.prototype,o),n&&In(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Bn(t){"@babel/helpers - typeof";return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yn(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kn(t,e){return(kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=zn(t);if(e){var r=zn(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Bn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol20301=Dn;var Gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Fn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(this.controlPoints<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.02));[].push(e[e.length-1]),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=o*this.scaleValues[0],r=t[t.length-1],i=SuperMapAlgoPlot.PlottingUtil.distance(r,e[e.length-1]);i<1.5*n;)e.pop(),i=SuperMapAlgoPlot.PlottingUtil.distance(r,e[e.length-1]);e.push(r);for(var l=this.mergeDashLine(this.dashLines,[]),a=this.computeDashLine(l,e),s=0;s<a.length;s++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a[s]);if(0==a.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[0]);else for(var u=0;u<a.length;u++)a.length-1==u&&(a[u].length>=2?this.addArrow(a[u],this.scaleValues[0]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[0]));var p=e[e.length-2],c=180*SuperMapAlgoPlot.PlottingUtil.radian(r,p)/Math.PI,f=o*this.scaleValues[0],h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e[e.length-2],f,f,c+180);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=o[o.length-1],l=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/r;if(.5<a)return;this.scaleValues=[],this.scaleValues.push(a)}}}}])&&Yn(e.prototype,o),n&&Yn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function qn(t){"@babel/helpers - typeof";return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wn(t,e){return(Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Kn(t);if(e){var r=Kn(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21400=Gn;var Jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Hn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.03),e.scaleValues.push(.2),e.scaleValues.push(.6),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues.push(.03),this.scaleValues.push(.4),this.scaleValues.push(0)):3===this.scaleValues.length&&this.scaleValues.push(.02);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=o*this.scaleValues[1],r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,e);if(r.bfind){this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(),this.scaleValues[this.scaleValues.length-1]=.5*this.getSubSymbolScaleValue());var i,l=this.scaleValues[0],a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*l,s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,e[r.index],r.pts),u=this.scaleValues[3];1===u?i=new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y):0===u&&(i=new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),this.addScalePoint(i,1);var p=[];p.push(i),p.push(r.pts);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,p,{lineTypeLimit:!0,surroundLineLimit:!0});var c=this.scaleValues[2],f=o*c,h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e);if(h.bfind){var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,e[h.index],h.pts);1===u?c=new SuperMapAlgoPlot.Point(g.pntRight.x,g.pntRight.y):0===u&&(c=new SuperMapAlgoPlot.Point(g.pntLeft.x,g.pntLeft.y));for(var P=this.mergeDashLine(this.dashLines,[]),y=this.computeDashLine(P,e),S=0;S<y.length;S++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y[S]);if(0==y.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[4]);else for(var d=0;d<y.length;d++)y.length-1==d&&(y[d].length>=2?this.addArrow(y[d],this.scaleValues[4]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[4]));this.addScalePoint(c,0);var b=[];b.push(c),b.push(h.pts);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,b,{lineTypeLimit:!0,surroundLineLimit:!0});a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[4];var m=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],a);this.addScalePoint(m,0),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0===t){for(var i=0,l=-1,a=0;a<n.length-1;a++){(g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[a],n[a+1])).isOnline&&(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0)||SuperMapAlgoPlot.PlottingUtil.distance(e,g.projectPoint)<i)&&(c=g.projectPoint,l=a,i=SuperMapAlgoPlot.PlottingUtil.distance(e,c))}if(-1==l)return;(f=(f=[]).concat(n.slice(0,l+1))).push(c);var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(f);this.scaleValues[1]=s/r;var u=SuperMapAlgoPlot.PlottingUtil.distance(e,c);this.scaleValues[0]=u/r;var p=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n[l],n[l+1],e);this.scaleValues[3]=p?1:0}else if(1===t){i=0,l=-1;for(var c,f,h=0;h<n.length-1;h++){var g;(g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[h],n[h+1])).isOnline&&(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0)||SuperMapAlgoPlot.PlottingUtil.distance(e,g.projectPoint)<i)&&(c=g.projectPoint,l=h,i=SuperMapAlgoPlot.PlottingUtil.distance(e,c))}if(-1==l)return;(f=(f=[]).concat(n.slice(0,l+1))).push(c);s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(f);this.scaleValues[2]=s/r;u=SuperMapAlgoPlot.PlottingUtil.distance(e,c);this.scaleValues[0]=u/r;p=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n[l],n[l+1],e);this.scaleValues[3]=p?1:0}else if(2===t){var P=.5*SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(e.x,e.y),o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<P)return;this.scaleValues[4]=P}}}}])&&Xn(e.prototype,o),n&&Xn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Zn(t){"@babel/helpers - typeof";return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qn(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $n(t,e){return($n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=er(t);if(e){var r=er(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21401=Jn;var or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$n(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=tr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(.01)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues.push(.02),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(.01)):3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);if(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)){if(!this.isEdit){var o=this.getSubSymbolScaleValue();(o>.3||o<=0)&&(o=.3),this.scaleValues[0]=.5*o,this.scaleValues[1]=o,this.scaleValues[this.scaleValues.length-1]=.5*this.getSubSymbolScaleValue()}for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,e),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);if(0==r.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3]);else for(var l=0;l<r.length;l++)r.length-1==l&&(r[l].length>=2?this.addArrow(r[l],this.scaleValues[3]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3]));for(var a=this.scaleValues[0],s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),u=a*s,p=this.scaleValues[1]*s,c=0,f=.01*s,h=f,g=0;h<=s;h+=p,g++){c=h+f;var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,c);if(-1===P.index)return;var y=[],S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[P.index],P.pt);y.push(new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y)),y.push(new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),0===g?this.addScalePoint(y[0],0):1===g&&this.addScalePoint(P.pt,1)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=.01*r;if(0===t){var l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,i);if(-1===l.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,l.pt);this.scaleValues[0]=a/r}else if(1===t){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,i);if(-1===s.index)return;var u=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n);if(-1===u.index)return;for(var p=0,c=s.index+1;c<u.index;c++)p+=SuperMapAlgoPlot.PlottingUtil.distance(n[c],n[c+1]);p+=SuperMapAlgoPlot.PlottingUtil.distance(n[u.index],u.pt),p-=i,this.scaleValues[1]=p/r,this.scaleValues[1]>.93&&(this.scaleValues[1]=.93)}}}}])&&Qn(e.prototype,o),n&&Qn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function nr(t){"@babel/helpers - typeof";return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ir(t,e){return(ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ar(t);if(e){var r=ar(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21500=or;var sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ir(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=lr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(.02)),!this.isEdit){var o=this.getSubSymbolScaleValue();(o>.3||o<=0)&&(o=.3),this.scaleValues[1]=o,this.scaleValues[2]=.5*o}var n=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.dirAngle(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.addSubSymbols(r,l,i);for(var a=[],s=0;s<=n.startIndex;s++)a.push(e[s]);a.push(n.startPt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),p=[];p.push(0),p.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.startPt)/u),p.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.endPt)/u),p.push(1);for(var c=this.mergeDashLine(this.dashLines,p),f=this.computeDashLine(c,e),h=0;h<f.length;h++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[h]);if(0==f.length)this.addArrow(e[e.length-2],e[e.length-1],this.scaleValues[2]);else for(var g=0;g<f.length;g++)f.length-1==g&&this.addArrow(f[g],this.scaleValues[2]);this.addScalePoint(r,0);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,.5*l,.5*l,i+90);this.addScalePoint(P,1);var y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[2],S=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],y);S.isScalePoint=!0,S.tag=0,this.addScalePoint(S,2),this.finish()}}},{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-180)}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0===t){for(var i=0,l=-1,a=null,s=0;s<n.length-1;s++){var u;(u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[s],n[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e)<i)&&(a=u,l=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,u.projectPoint))}if(-1==l)return;var p=[];for(s=0;s<l+1;s++)p.push(n[s]);p.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y));var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p)/r,f=this.scaleValues[1];c<f&&(c=f),c>1-f-this.scaleValues[2]&&(c=1-f-this.scaleValues[2]),this.scaleValues[0]=c}else if(1===t){var h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[0],n),g=SuperMapAlgoPlot.PlottingUtil.distance(h.pts,e)/r;g>=.3&&(g=.3),this.scaleValues[0]<g||this.scaleValues[0]>1-g-this.scaleValues[2]?(this.scaleValues[0]<g?this.scaleValues[0]=g:this.scaleValues[0]=1-g-this.scaleValues[2],this.scaleValues[1]=g):this.scaleValues[1]=g}else if(2===t){var P=SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(e.x,e.y),o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<P)return;this.scaleValues[2]=P}}}}])&&rr(e.prototype,o),n&&rr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ur(t){"@babel/helpers - typeof";return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cr(t,e){return(cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=hr(t);if(e){var r=hr(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hr(t){return(hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21501=sr;var gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cr(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,n,r=fr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=i,o&&pr(e.prototype,o),n&&pr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Pr(t){"@babel/helpers - typeof";return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sr(t,e){return(Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=br(t);if(e){var r=br(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21502=gr;var mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sr(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,n,r=dr(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-90)}}])&&yr(e.prototype,o),n&&yr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function vr(t){"@babel/helpers - typeof";return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mr(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ar(t,e){return(Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=_r(t);if(e){var r=_r(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===vr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _r(t){return(_r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21503=mr;var Lr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ar(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,n,r=Or(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-90)}}])&&Mr(e.prototype,o),n&&Mr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function wr(t){"@babel/helpers - typeof";return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xr(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ur(t,e){return(Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Tr(t);if(e){var r=Tr(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tr(t){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21504=Lr;var Vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ur(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Er(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05)),e.subText=" ",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){1==this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[0]=.6*this.getSubSymbolScaleValue(),this.scaleValues[1]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,n=0;n<e.length-1;n++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[n],e[n+1]);var r=this.getLinePts(e,this.scaleValues[0]),i=(r.startIndex,r.startPt),l=(r.endIndex,r.endPt),a=[];a.push(0),a.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,i)/o),a.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,l)/o),a.push(1);for(var s=this.mergeDashLine(this.dashLines,a),u=this.computeDashLine(s,e),p=0;p<u.length;p++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u[p]);var c=u[0],f=u[u.length-1];if(!(c.length<2)){for(var h=0,g=0;g<t.length-1;g++)h+=SuperMapAlgoPlot.PlottingUtil.distance(t[g],t[g+1]);var P=h*this.scaleValues[0],y=new SuperMapAlgoPlot.Point(c[0].x,c[0].y),S=new SuperMapAlgoPlot.Point(c[1].x,c[1].y),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,S,y),b=[];if(b.push(d.pntLeft),b.push(d.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{lineTypeLimit:!0,surroundLineLimit:!0}),!(f.length<2)){var m=new SuperMapAlgoPlot.Point(f[f.length-1].x,f[f.length-1].y),v=new SuperMapAlgoPlot.Point(f[f.length-2].x,f[f.length-2].y),M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,v,m);(b=[]).push(M.pntLeft),b.push(M.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{lineTypeLimit:!0,surroundLineLimit:!0});var A=r.startPt,O=r.endPt,_=SuperMapAlgoPlot.PlottingUtil.dirAngle(A,O)*SuperMapAlgoPlot.PlottingUtil.RTOD,L=SuperMapAlgoPlot.PlottingUtil.distance(A,O),w=new SuperMapAlgoPlot.Point((A.x+O.x)/2,(A.y+O.y)/2),x=this.subText;this.addText(x,w,L,_),this.addScalePoint(d.pntRight),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;this.scaleValues[0]=r}}}])&&xr(e.prototype,o),n&&xr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Rr(t){"@babel/helpers - typeof";return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ir(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cr(t,e){return(Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Nr(t);if(e){var r=Nr(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Rr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nr(t){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21600=Vr;var Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cr(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=jr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.2)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(.2));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=e*this.scaleValues[1],n=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),r=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),i=180*SuperMapAlgoPlot.PlottingUtil.dirAngle(n,r)/Math.PI,l=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,i+90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,i+270),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,o,o,i),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,o,o,i),p=[];p.push(u),p.push(a),p.push(l),p.push(s);for(var c=this.mergeDashLine(this.dashLines,[]),f=this.computeDashLine(c,p),h=0;h<f.length;h++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[h]);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,e,e,i+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,e,e,i+270),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,o,o,i+180),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,o,o,i+180);(p=[]).push(y),p.push(g),p.push(P),p.push(S);c=this.mergeDashLine(this.dashLines,[]),f=this.computeDashLine(c,p);for(var d=0;d<f.length;d++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[d]);this.addScalePoint(l),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;this.scaleValues[0]=r}}}])&&Ir(e.prototype,o),n&&Ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Br(t){"@babel/helpers - typeof";return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yr(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kr(t,e){return(kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=zr(t);if(e){var r=zr(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zr(t){return(zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21800=Dr;var Gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kr(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Fr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.5,e.scaleValues[1]=.05,e.scaleValues[2]=.02),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues[0]=.5,this.scaleValues[1]=.05,this.scaleValues[2]=.02):1===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.25*this.getSubSymbolScaleValue())),!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n,this.scaleValues[2]=.5*n}var r=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),i=[];i.push(0),i.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.startPt)/o),i.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.endPt)/o),i.push(1);for(var l=this.mergeDashLine(this.dashLines,i),a=this.computeDashLine(l,e),s=0;s<a.length;s++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a[s]);if(0==a.length)this.addArrow(e[e.length-2],e[e.length-1],this.scaleValues[2]);else for(var u=0;u<a.length;u++)a.length-1==u&&(a[u].length>=2?this.addArrow(a[u],this.scaleValues[this.scaleValues.length-1]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[2]));var p,c,f,h,g,P,y,S,d,b,m,v,M,A=r.startPt.clone(),O=r.endPt.clone(),_=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),L=SuperMapAlgoPlot.PlottingUtil.distance(A,O),w=SuperMapAlgoPlot.PlottingUtil.radian(A,O)*SuperMapAlgoPlot.PlottingUtil.RTOD;p=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0),h=new SuperMapAlgoPlot.Point(0,0),g=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),y=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),d=new SuperMapAlgoPlot.Point(0,0),b=new SuperMapAlgoPlot.Point(0,0),m=new SuperMapAlgoPlot.Point(0,0),v=new SuperMapAlgoPlot.Point(0,0),M=new SuperMapAlgoPlot.Point(0,0),A.x>=O.x?(p.x=.25*L,p.y=.25*-L,c.x=.5*-L,c.y=.25*-L,f.x=.5*-L,f.y=.25*L,h.x=.5*L,h.y=.25*L,g.x=.5*L,g.y=0,P.x=.25*-L,P.y=.125*-L,y.x=0,y.y=.125*L,S.x=0,S.y=.125*-L,d.x=.25*L,d.y=.2*L,b.x=.25*-L,b.y=.25*-L,m.x=.375*-L,m.y=.5*-L,v.x=.02*-L,v.y=.25*-L,M.x=.1*L,M.y=.5*-L):(p.x=.25*L,p.y=.25*L,c.x=.5*-L,c.y=.25*L,f.x=.5*-L,f.y=.25*-L,h.x=.5*L,h.y=.25*-L,g.x=.5*L,g.y=0,P.x=.25*L,P.y=.125*-L,y.x=0,y.y=.125*L,S.x=0,S.y=.125*-L,d.x=.25*-L,d.y=.125*L,b.x=.25*-L,b.y=.25*L,m.x=.375*-L,m.y=.5*L,v.x=.02*L,v.y=.25*L,M.x=.15*L,M.y=.5*L);var x=[],U=[],E=[],T=[],V=[],R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,g,w),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,h,w),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,f,w),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,c,w),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,p,w),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,P,w),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,y,w),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,S,w),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,d,w),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,b,w),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,m,w),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,v,w),q=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,M,w);x.push(R),x.push(I),x.push(C),x.push(j),x.push(N),U.push(D),U.push(B),U.push(Y),U.push(k),E.push(F),E.push(z),T.push(G),T.push(q),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,x,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0},!0);var X=.3*SuperMapAlgoPlot.PlottingUtil.distance(Y,k),W=180*SuperMapAlgoPlot.PlottingUtil.dirAngle(k,Y)/Math.PI,H=.5*X,K=SuperMapAlgoPlot.PlottingUtil.circlePoint(k,H,H,W+15),J=SuperMapAlgoPlot.PlottingUtil.circlePoint(k,H,H,W-15);V.push(J),V.push(k),V.push(K);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,V,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0);var Z=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],e),Q=SuperMapAlgoPlot.PlottingUtil.circlePoint(Z.pts,.5*L,.5*L,w+90);this.addScalePoint(Z.pts,0),this.addScalePoint(Q,1);var $=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[2],tt=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],$);this.addScalePoint(tt,2),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(!0===e.isScalePoint&&0===t){for(var i=0,l=-1,a=null,s=0;s<n.length-1;s++){var u;(u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[s],n[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e)<i)&&(a=u,l=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,u.projectPoint))}if(-1==l)return;var p=[];for(s=0;s<l+1;s++)p.push(n[s]);p.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y));var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p)/r,f=this.scaleValues[1];c<f&&(c=f),c>1-(f+this.scaleValues[2])&&(c=1-(f+this.scaleValues[2])),this.scaleValues[0]=c}else if(1==t){var h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[0],n),g=SuperMapAlgoPlot.PlottingUtil.distance(h.pts,e)/r;g>=.3&&(g=.3),this.scaleValues[0]<g||this.scaleValues[0]>1-(g+this.scaleValues[2])?(this.scaleValues[0]<g?this.scaleValues[0]=g:this.scaleValues[0]=1-(g+this.scaleValues[2]),this.scaleValues[1]=g):this.scaleValues[1]=g}else if(2==t){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<P)return;this.scaleValues[2]=P}}}}])&&Yr(e.prototype,o),n&&Yr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function qr(t){"@babel/helpers - typeof";return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wr(t,e){return(Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Kr(t);if(e){var r=Kr(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21900=Gr;var Jr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wr(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Hr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.025)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues[0]=.5,this.scaleValues[1]=.05,this.scaleValues[2]=.025):1===this.scaleValues.length&&(this.scaleValues[1]=.05,this.scaleValues[2]=.025),!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n,this.scaleValues[2]=.6*this.getSubSymbolScaleValue()}var r=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),i=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),l=SuperMapAlgoPlot.PlottingUtil.radian(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],i,a,l);var s=e[0],u=e[1],p=e[e.length-2],c=e[e.length-1],f=o*this.scaleValues[2],h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(f,u,s),g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(f,p,c),P=h.pntLeft,y=g.pntLeft,S=[];S.push(0),S.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.startPt)/o),S.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.endPt)/o),S.push(1);var d=this.mergeDashLine(this.dashLines,S),b=this.computeDashLine(d,e);b[0].unshift(P),b.length-1>=0&&b[b.length-1].push(y);for(var m=0;m<b.length;m++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b[m]);var v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],e),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(v.pts,.5*a,.5*a,l+90);this.addScalePoint(v.pts,0),this.addScalePoint(M,0),this.addScalePoint(P,0),this.addScalePoint(y,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(!0===e.isScalePoint&&0===t){for(var i=0,l=-1,a=null,s=0;s<n.length-1;s++){var u;(u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[s],n[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e)<i)&&(a=u,l=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,u.projectPoint))}if(-1==l)return;var p=[];for(s=0;s<l+1;s++)p.push(n[s]);p.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y));var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p)/r,f=this.scaleValues[1];c<f&&(c=f),c>1-f&&(c=1-f),this.scaleValues[0]=c}else if(!0===e.isScalePoint&&1==t){var h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[0],n),g=SuperMapAlgoPlot.PlottingUtil.distance(h.pts,e)/r;g>=.3&&(g=.3),this.scaleValues[0]<g||this.scaleValues[0]>1-g?(this.scaleValues[0]<g?this.scaleValues[0]=g:this.scaleValues[0]=1-g,this.scaleValues[1]=g):this.scaleValues[1]=g}else if(2==t){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,n[0])/r;this.scaleValues[2]=P}else if(3==t){P=SuperMapAlgoPlot.PlottingUtil.distance(e,n[n.length-1])/r;this.scaleValues[2]=P}}}}])&&Xr(e.prototype,o),n&&Xr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Zr(t){"@babel/helpers - typeof";return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qr(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $r(t,e){return($r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ti(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ei(t);if(e){var r=ei(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ei(t){return(ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22000=Jr;var oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$r(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol22000);var e,o,n,r=ti(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.025)),e}return e=i,o&&Qr(e.prototype,o),n&&Qr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function ni(t){"@babel/helpers - typeof";return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ri(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ii(t,e){return(ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ai(t);if(e){var r=ai(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ni(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ai(t){return(ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22103=oi;var si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ii(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=li(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);else for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05));var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.35*this.getSubSymbolScaleValue());var a=l*this.scaleValues[0],s=[];s.push(new SuperMapAlgoPlot.Point(i.x,i.y)),s.push(new SuperMapAlgoPlot.Point(i.x+a,i.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,s,{lineTypeLimit:!0,surroundLineLimit:!0});var u=[];u.push(new SuperMapAlgoPlot.Point(i.x,i.y+.8*a)),u.push(new SuperMapAlgoPlot.Point(i.x,i.y-.8*a)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0,surroundLineLimit:!0});var p=[];p.push(new SuperMapAlgoPlot.Point(i.x+.8*a,i.y)),p.push(new SuperMapAlgoPlot.Point(i.x-.8*a,i.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&ri(e.prototype,o),n&&ri(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ui(t){"@babel/helpers - typeof";return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pi(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ci(t,e){return(ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=hi(t);if(e){var r=hi(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hi(t){return(hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22200=si;var gi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ci(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=fi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);else for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var i=this.scaleValues[0],l=this.scaleValues[1],a=this.scaleValues[2],s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),p=u*a,c=new SuperMapAlgoPlot.Point(s.x+u*i,s.y+u*l);if(this.subSymbols.length>0){if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],c,p,0),this.addScalePoint(c);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,p,p,0);this.addScalePoint(f)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var n=[];n=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)r=(e.x-l.x)/a,this.scaleValues[0]=r,i=(e.y-l.y)/a,this.scaleValues[1]=i;else if(1===t){r=this.scaleValues[0],i=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(l.x+a*r,l.y+a*i),u=SuperMapAlgoPlot.PlottingUtil.distance(s,e)/a;this.scaleValues[2]=u}}}}])&&pi(e.prototype,o),n&&pi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pi(t){"@babel/helpers - typeof";return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Si(t,e){return(Si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function di(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=bi(t);if(e){var r=bi(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bi(t){return(bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23400=gi;var mi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Si(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=di(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o={fillLimit:!0,fill:!1,surroundLineFlag:!1};if(0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,o);else for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,e),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i],o);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var s=this.getDefaultSubSymbolSize()/a;(s>.2||s<=0)&&(s=.2),this.scaleValues[0]=s}var u=this.scaleValues[0],p=this.scaleValues[2],c=this.scaleValues[3],f=a*u,h=new SuperMapAlgoPlot.Point(l.x+a*p,l.y+a*c);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],h,f,0),this.addScalePoint(h);var g=f,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,g,g,90);this.addScalePoint(P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=[];n=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)r=(e.x-l.x)/a,this.scaleValues[2]=r,i=(e.y-l.y)/a,this.scaleValues[3]=i;else if(1===t){r=this.scaleValues[2],i=this.scaleValues[3];var s=new SuperMapAlgoPlot.Point(l.x+a*r,l.y+a*i),u=SuperMapAlgoPlot.PlottingUtil.distance(s,e)/a;this.scaleValues[0]=u}}}}])&&yi(e.prototype,o),n&&yi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function vi(t){"@babel/helpers - typeof";return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ai(t,e){return(Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=_i(t);if(e){var r=_i(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===vi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _i(t){return(_i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23500=mi;var Li=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ai(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Oi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(-.1),e.scaleValues.push(0),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);else for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var a=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[0]=a/l*.8,this.scaleValues[3]=a/l*.8}var s=this.scaleValues[0],u=this.scaleValues[1],p=this.scaleValues[3],c=this.scaleValues[4],f=this.scaleValues[6],h=this.scaleValues[7],g=this.scaleValues[8],P=this.scaleValues[9],y=new SuperMapAlgoPlot.Point(i.x+l*f,i.y+l*h),S=new SuperMapAlgoPlot.Point(i.x+l*g,i.y+l*P),d=[],b=.15*SuperMapAlgoPlot.PlottingUtil.distance(y,S),m=SuperMapAlgoPlot.PlottingUtil.linePnt(y,S,b),v=SuperMapAlgoPlot.PlottingUtil.linePnt(S,y,b);d.push(m),d.push(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0});var M=l*s,A=u;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],y,M,A);var O=l*p,_=c;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],S,O,_),this.addScalePoint(y);var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,M,M,A);this.addScalePoint(L),this.addScalePoint(S);var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,O,O,_);this.addScalePoint(w),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var n=[];n=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l,a,s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),p=e;if(0==t)r=(p.x-s.x)/u,this.scaleValues[6]=r,i=(p.y-s.y)/u,this.scaleValues[7]=i;else if(1==t){r=this.scaleValues[6],i=this.scaleValues[7];var c=new SuperMapAlgoPlot.Point(s.x+u*r,s.y+u*i),f=SuperMapAlgoPlot.PlottingUtil.distance(c,p)/u;this.scaleValues[0]=f;var h=180*SuperMapAlgoPlot.PlottingUtil.radian(c,p)/Math.PI;this.scaleValues[1]=h,this.scaleValues[2]=0<=h&&h<90?1:90<=h&&h<180?2:180<=h&&h<270?3:4}else if(2==t)l=(p.x-s.x)/u,this.scaleValues[8]=l,a=(p.y-s.y)/u,this.scaleValues[9]=a;else if(3==t){l=this.scaleValues[8],a=this.scaleValues[9];var g=new SuperMapAlgoPlot.Point(s.x+u*l,s.y+u*a),P=SuperMapAlgoPlot.PlottingUtil.distance(g,p)/u;this.scaleValues[3]=P;var y=180*SuperMapAlgoPlot.PlottingUtil.radian(g,p)/Math.PI;this.scaleValues[4]=y,this.scaleValues[5]=0<=y&&y<90?1:90<=y&&y<180?2:180<=y&&y<270?3:4}}}}])&&Mi(e.prototype,o),n&&Mi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function wi(t){"@babel/helpers - typeof";return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xi(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ui(t,e){return(Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ei(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ti(t);if(e){var r=Ti(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===wi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ti(t){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23600=Li;var Vi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ui(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ei(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(3>=t.length?(e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)):e=t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);else for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/l;(a>.3||a<=0)&&(a=.3),this.scaleValues[0]=a}var s=l*this.scaleValues[0]*.15,u=[];u.push(new SuperMapAlgoPlot.Point(0,s)),u.push(new SuperMapAlgoPlot.Point(-s,0)),u.push(new SuperMapAlgoPlot.Point(0,-s));var p=[];p.push(new SuperMapAlgoPlot.Point(s,s)),p.push(new SuperMapAlgoPlot.Point(0,0)),p.push(new SuperMapAlgoPlot.Point(s,-s));for(var c=new SuperMapAlgoPlot.Point(-3*s,2*s),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,0),h=[],g=[],P=0;P<3;P++)h.push(new SuperMapAlgoPlot.Point(u[P].x+f.x,u[P].y+f.y)),g.push(new SuperMapAlgoPlot.Point(p[P].x+f.x,p[P].y+f.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineTypeLimit:!0,surroundLineLimit:!0});for(var y=new SuperMapAlgoPlot.Point(3*s,2*s),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,y,0),d=[],b=[],m=0;m<3;m++)d.push(new SuperMapAlgoPlot.Point(u[m].x+S.x,u[m].y+S.y)),b.push(new SuperMapAlgoPlot.Point(p[m].x+S.x,p[m].y+S.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{lineTypeLimit:!0,surroundLineLimit:!0});var v=new SuperMapAlgoPlot.Point(-4*s,-2*s),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,v,0);d=[],b=[];for(var A=0;A<3;A++)d.push(new SuperMapAlgoPlot.Point(u[A].x+M.x,u[A].y+M.y)),b.push(new SuperMapAlgoPlot.Point(p[A].x+M.x,p[A].y+M.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{lineTypeLimit:!0,surroundLineLimit:!0});var O=new SuperMapAlgoPlot.Point(0,-2*s),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,O,0);d=[],b=[];for(var L=0;L<3;L++)d.push(new SuperMapAlgoPlot.Point(u[L].x+_.x,u[L].y+_.y)),b.push(new SuperMapAlgoPlot.Point(p[L].x+_.x,p[L].y+_.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{lineTypeLimit:!0,surroundLineLimit:!0});var w=new SuperMapAlgoPlot.Point(4*s,-2*s),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,w,0);d=[],b=[];for(var U=0;U<3;U++)d.push(new SuperMapAlgoPlot.Point(u[U].x+x.x,u[U].y+x.y)),b.push(new SuperMapAlgoPlot.Point(p[U].x+x.x,p[U].y+x.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&xi(e.prototype,o),n&&xi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ri(t){"@babel/helpers - typeof";return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ii(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ci(t,e){return(Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ji(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ni(t);if(e){var r=Ni(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ri(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ni(t){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23700=Vi;var Di=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ci(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ji(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);this.finish()}}}])&&Ii(e.prototype,o),n&&Ii(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Bi(t){"@babel/helpers - typeof";return(Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yi(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ki(t,e){return(ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=zi(t);if(e){var r=zi(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Bi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zi(t){return(zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23800=Di;var Gi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ki(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Fi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<3)){var e=[];(e=e.concat(t)).push(t[0]);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125),this.scaleValues.push(90)),!this.isEdit){var n=this.getSubSymbolScaleValue(o);this.scaleValues[2]=n}if(0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);else for(var r=this.mergeDashLine(this.dashLines,[]),i=this.computeDashLine(r,e),l=0;l<i.length;l++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i[l]);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),s=new SuperMapAlgoPlot.Point(a.x+o*this.scaleValues[0],a.y+o*this.scaleValues[1]),u=o*this.scaleValues[2],p=this.scaleValues[3]-90;0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],s,u,p),this.addScalePoint(s);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,this.scaleValues[3]);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n,r,i,l=[];if(2==o.length){n=o[0],r=o[1];var a=SuperMapAlgoPlot.PlottingUtil.distance(n,r),s=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI;i=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,a,a,s+60),l.push(n),l.push(r),l.push(i)}else l=l.concat(o);n=l[0],r=l[1],i=l[2];SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);l.push(l[0]);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),p=e;if(0==t)this.scaleValues[0]=e;else if(1==t){var c=this.scaleValues[0],f=SuperMapAlgoPlot.PlottingUtil.distance(c,p)/u;this.scaleValues[2]=f;var h=180*SuperMapAlgoPlot.PlottingUtil.radian(c,p)/Math.PI;this.scaleValues[3]=h}}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,n){var r,i,l=o[0],a=o[1],s=o[2],u=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(s,l,a)*t,p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,l,s)*e,c=[];if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,a,n)?((r=[]).push(l),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,u,!1)):((r=[]).push(l),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,u,!0)),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,s,n)?((r=[]).push(l),r.push(s),i=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!1)):((r=[]).push(l),r.push(s),i=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!0)),2>c.length||2>i.length)return n;var f=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],i[0],i[1]);return f.isIntersectLines?f.intersectPoint:n}}])&&Yi(e.prototype,o),n&&Yi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function qi(t){"@babel/helpers - typeof";return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xi(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wi(t,e){return(Wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ki(t);if(e){var r=Ki(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===qi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ki(t){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23901=Gi;var Ji=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wi(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Hi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,n,r,i=[];if(2==t.length){e=t[0],o=t[1];var l=SuperMapAlgoPlot.PlottingUtil.distance(e,o);r=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,n=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,l,l,r+60),i.push(e),i.push(n),i.push(o)}else i=i.concat(t);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i),i.push(i[0]);var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),s=this.scaleValues[0],u=this.scaleValues[1],p=this.scaleValues[2],c=this.scaleValues[4],f=a*s;e=i[0],o=i[1],n=i[2];var h,g=a*u,P=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(e,o,n)/Math.PI*p,y=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,S=y-P,d=y+P,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,S),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,d);h=SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(i,b)?b:m;var v=a*this.scaleValues[3];r=c,0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],h,v,r-90);var M=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,f,f,y+180);this.addScalePoint(M),this.addScalePoint(h);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,.5*v,.5*v,r);this.addScalePoint(A),this.createArcPts(i,f),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n,r,i,l,a,s,u,p=[];2==o.length?(n=o[0],r=o[1],a=SuperMapAlgoPlot.PlottingUtil.distance(n,r),l=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,a,a,l+60),p.push(n),p.push(r),p.push(i)):p=p.concat(o),n=p[0],r=p[1],i=p[2],p.push(p[0]);var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p),f=e;if(0===t)a=SuperMapAlgoPlot.PlottingUtil.distance(f,p[0]),this.scaleValues[0]=a/c;else if(1===t){s=SuperMapAlgoPlot.PlottingUtil.distance(f,p[0])/c,this.scaleValues[1]=s,l=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(n,r,i)/Math.PI,0<=(u=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(n,r,f)/Math.PI/l)&&1>=u&&(this.scaleValues[2]=u)}else if(2===t){s=this.scaleValues[1],u=this.scaleValues[2];var h,g=c*s,P=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(n,r,i)/Math.PI*u,y=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI,S=y-P,d=y+P,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,g,g,S),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,g,g,d);h=SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(p,b)?b:m;var v=2*SuperMapAlgoPlot.PlottingUtil.distance(f,h)/c;this.scaleValues[3]=v;var M=180*SuperMapAlgoPlot.PlottingUtil.radian(h,f)/Math.PI;this.scaleValues[4]=M}}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,n){var r,i,l=o[0],a=o[1],s=o[2],u=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(s,l,a)*t,p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,l,s)*e,c=[];if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,a,n)?((r=[]).push(l),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,u,!1)):((r=[]).push(l),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,u,!0)),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,s,n)?((r=[]).push(l),r.push(s),i=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!1)):((r=[]).push(l),r.push(s),i=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!0)),2>c.length||2>i.length)return n;var f=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],i[0],i[1]);return f.isIntersectLines?f.intersectPoint:n}},{key:"createArcPts",value:function(t,e){for(var o=[],n=[],r=0;r<t.length;r++)n.push(e),o.push([{Start:0,End:360}]);for(var i=0;i<t.length;i++)if(0!==o[i].length&&(0!==o[i][0].Start||0!==o[i][0].End))for(var l=i+1;l<t.length;l++)if(0!==o[l].length&&(0!==o[l][0].Start||0!==o[l][0].End)){var a=SuperMapAlgoPlot.PlottingUtil.distance(t[i],t[l]);if(a<n[i]+n[l])if(a>Math.abs(n[i]-n[l]))for(var s=0;s<2;s++){var u,p,c;0==s?(c=i,u=SuperMapAlgoPlot.PlottingUtil.radian(t[i],t[l])*SuperMapAlgoPlot.PlottingUtil.RTOD,p=Math.acos((a*a+n[i]*n[i]-n[l]*n[l])/(2*a*n[i]))*SuperMapAlgoPlot.PlottingUtil.RTOD):(c=l,u=SuperMapAlgoPlot.PlottingUtil.radian(t[l],t[i])*SuperMapAlgoPlot.PlottingUtil.RTOD,p=Math.acos((a*a+n[l]*n[l]-n[i]*n[i])/(2*a*n[l]))*SuperMapAlgoPlot.PlottingUtil.RTOD);var f=u-p,h=u+p,g=f<0&&h>0||f>360||h>360;f=this.adjustAngle(f),h=this.adjustAngle(h);for(var P=o[c].length-1;P>=0;P--)if(g){if(h>o[c][P].End||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(h,o[c][P].End)){o[c].splice(P,1);continue}if(h>o[c][P].Start&&(o[c][P].Start=h),f<o[c][P].Start||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(f,o[c][P].Start)){o[c].splice(P,1);continue}f<o[c][P].End&&(o[c][P].End=f)}else if(f<o[c][P].Start&&h>o[c][P].End)o[c].splice(P,1);else if(f>o[c][P].Start&&h<o[c][P].End)o[c].push({Start:o[c][P].Start,End:f}),o[c].push({Start:h,End:o[c][P].End}),o[c].splice(P,1);else{if(f>o[c][P].End)continue;if(f>o[c][P].Start&&(o[c][P].End=f),h<o[c][P].Start)continue;h<o[c][P].End&&(o[c][P].Start=h)}}else{if(n[i]<n[l]){o[i][0].Start=0,o[i][0].End=0;break}o[l][0].Start=0,o[l][0].End=0}}for(var y=0;y<t.length;y++)if(0!==o[y].length&&(0!==o[y][0].Start||0!==o[y][0].End))for(var S=o[y].length-1;S>=0;S--){for(var d=this.adjustAngle(o[y][S].Start),b=this.adjustAngle(o[y][S].End);b<d;)b+=360;for(var m=[],v=(b-d)/72,M=d;M<b+v/2;M+=v){var A=t[y].x+n[y]*Math.cos(M*SuperMapAlgoPlot.PlottingUtil.DTOR),O=t[y].y+n[y]*Math.sin(M*SuperMapAlgoPlot.PlottingUtil.DTOR);m.push(new SuperMapAlgoPlot.Point(A,O))}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m)}}},{key:"adjustAngle",value:function(t){for(;t>360;)t-=360;for(;t<0;)t+=360;return t}},{key:"GetCirclePts",value:function(t,e,o,n){var r=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,i=180*SuperMapAlgoPlot.PlottingUtil.radian(t,o)/Math.PI,l=r;i>r&&(l=i);for(var a=[],s=l;s<360+l;s+=4)90==s&&(s=91),a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,n,n,s));return a.push[0],a}},{key:"CreatArc",value:function(t,e,o){for(var n=[],r=[],i=0;i<t.length;i++){var l=t[i];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,l)||SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,l)?(r.length>1&&n.push(r),r=[]):r.push(l)}r.length>1&&n.push(r);for(var a=0;a<n.length;a++){var s=n[a];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s)}}},{key:"GetArcPts3D",value:function(t,e,o){for(var n=[],r=[],i=0;i<t.length;i++){var l=t[i];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,l)||SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,l)?(r.length>1&&n.push(r),r=[]):r.push(l)}r.length>1&&n.push(r);for(var a=[],s=0;s<n.length;s++)a=a.concat(n[s]);return a}},{key:"sortPts",value:function(t,e){t=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);for(var o=0;o<e.length;o++)for(var n=e[o],r=180*SuperMapAlgoPlot.PlottingUtil.radian(t,n)/Math.PI,i=0;i<e.length;i++){var l=e[i],a=180*SuperMapAlgoPlot.PlottingUtil.radian(t,l)/Math.PI;if(r>a){var s=new SuperMapAlgoPlot.Point(n.x,n.y);n=new SuperMapAlgoPlot.Point(l.x,l.y),l=new SuperMapAlgoPlot.Point(s.x,s.y),r=a,e[o]=n,e[i]=l}}return e}}])&&Xi(e.prototype,o),n&&Xi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Zi(t){"@babel/helpers - typeof";return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qi(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $i(t,e){return($i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=el(t);if(e){var r=el(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Zi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function el(t){return(el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23902=Ji;var ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$i(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=tl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.025),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e;0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(.025),this.scaleValues.push(0)),e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=new SuperMapAlgoPlot.Point(0,0),n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),i=n*r;if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/r;(l>.3||l<=0)&&(l=.3),this.scaleValues[1]=l}var a=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),s=0,u=.3*i;this.ComputeDashLine(3*r/19,r/19,e);var p=e[1].clone(),c=e[0].clone(),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,p,c),h=f.pntRight,g=f.pntLeft,P=[];P.push(g.clone()),P.push(h.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0});for(var y=3*u,S=e[0].clone(),d=0;d<=r;d+=y){s=d+2*u;var b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,e);if(b.bfind){if(o=b.pts,b.index>=e.length)break;var m,v,M,A,O,_,L,w=[];if(w.push(S.clone()),w.push(o.clone()),0==d){var x=o.clone();x.isScalePoint=!0,x.tag=0,this.scalePoints.push(x);var U=h.clone();U.isScalePoint=!0,U.tag=1,this.scalePoints.push(U)}if(0==this.scaleValues[2]){m=new SuperMapAlgoPlot.Point((S.x+o.x)/2,(S.y+o.y)/2),v=S.clone(),M=m.clone(),c=o.clone();var E=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,v,M)).pntLeft;A=SuperMapAlgoPlot.PlottingUtil.linePnt(m,v,.3*a),O=SuperMapAlgoPlot.PlottingUtil.linePnt(m,c,.3*a),0==d&&((_=E.clone()).isScalePoint=!0,_.tag=2,this.scalePoints.push(_)),(L=[]).push(E.clone()),L.push(A.clone()),L.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,{lineTypeLimit:!0,surroundLineLimit:!0})}else{m=new SuperMapAlgoPlot.Point((S.x+o.x)/2,(S.y+o.y)/2),v=S.clone(),M=m.clone(),c=o.clone();var T=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,v,M)).pntRight;A=SuperMapAlgoPlot.PlottingUtil.linePnt(m,v,.3*u),O=SuperMapAlgoPlot.PlottingUtil.linePnt(m,c,.3*u),0==d&&((_=T.clone()).isScalePoint=!0,_.tag=2,this.scalePoints.push(_)),(L=[]).push(T.clone()),L.push(A.clone()),L.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,{lineTypeLimit:!0,surroundLineLimit:!0})}if(s=d+3*u,(b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,e)).bfind){if(o=b.pts,!(b.index<e.length))break;S=o}}}p=e[e.length-2].clone(),c=e[e.length-1].clone(),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,p,c),(P=[]).push(f.pntLeft.clone()),P.push(f.pntRight.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t&&1!=t&&2!=t)return;var o,n=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(n),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),l=e.clone(),a=o[0].clone();if(0==t)r=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/.6/i,this.scaleValues[0]=r;else if(1==t)r=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/i,this.scaleValues[1]=r;else if(2==t){var s=this.scaleValues[0]*i,u=.01*i,p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,o);if(!p.bfind)return;var c=p.index,f=p.pts.clone();if(!(p.index<o.length))return;var h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,o[c],f).pntLeft.clone(),g=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,h,f);(h.x-f.x)*(g.x-f.x)+(h.y-f.y)*(g.y-f.y)>=0?this.scaleValues[2]=0:this.scaleValues[2]=1}}}},{key:"ComputeDashLine",value:function(t,e,o){for(var n,r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),l=o[0].clone(),a=1,s=0,u=!0,p=!0;s<i;){var c;(r=[]).push(l),s+=t;var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,o);if(c=f.index,n=f.pts,!(u=f.bfind))break;if(a<c)for(var h=a;h<c;h++)r.push(o[h]);r.push(n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),s+=e;var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,o);if(c=g.index,l=g.pts,a=c+1,!(p=g.bfind))break}if(!u){(r=[]).push(l);for(var P=a;P<o.length;P++)r.push(o[P]);2===r.length&&0===SuperMapAlgoPlot.PlottingUtil.distance(r[0],r[1])||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r)}if(!p){var y=o[o.length-1],S=SuperMapAlgoPlot.PlottingUtil.distance(n,y);if(S*=.01,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(S,0)){var d=SuperMapAlgoPlot.PlottingUtil.linePnt(y,n,S);(r=[]).push(d),r.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r)}}}}])&&Qi(e.prototype,o),n&&Qi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function nl(t){"@babel/helpers - typeof";return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rl(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function il(t,e){return(il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ll(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=al(t);if(e){var r=al(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===nl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function al(t){return(al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol24700=ol;var sl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&il(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ll(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.222222),e.scaleValues.push(.5),e.scaleValues.push(.5),e.scaleValues.push(.5)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.222222),this.scaleValues.push(.5),this.scaleValues.push(.5),this.scaleValues.push(.5));var e=t[0].clone(),o=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=this.scaleValues[0],i=new SuperMapAlgoPlot.Point(0,-n*r),l=new SuperMapAlgoPlot.Point(0,n*r),a=this.scaleValues[1],s=this.scaleValues[3],u=new SuperMapAlgoPlot.Point(n*(1-s),-n*a),p=new SuperMapAlgoPlot.Point(n*(1-s),n*a),c=this.scaleValues[2],f=this.scaleValues[4],h=new SuperMapAlgoPlot.Point(n*(1-f),-n*c),g=new SuperMapAlgoPlot.Point(n*(1-f),n*c),P=new SuperMapAlgoPlot.Point(n,0),y=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o),S=[];S.push(i),S.push(u),S.push(h),S.push(P),S.push(g),S.push(p),S.push(l);for(var d=[],b=0;b<S.length;b++){var m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[b],y*SuperMapAlgoPlot.PlottingUtil.RTOD);d.push(m)}for(var v=[],M=d.length-1;M>=0;--M)v.push(d[M]);for(var A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,[v[0],v[1]]),_=0;_<O.length;_++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[_]);A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,[v[v.length-1],v[v.length-2]]);for(var L=0;L<O.length;L++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[L].reverse());for(var w=[],x=1;x<v.length-1;x++)w.push(v[x]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w),this.scalePoints=[];var U=d[0].clone();U.isScalePoint=!0,U.tag=0,this.scalePoints.push(U);var E=d[1].clone();E.isScalePoint=!0,E.tag=1,this.scalePoints.push(E);var T=d[2].clone();T.isScalePoint=!0,T.tag=2,this.scalePoints.push(T),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n,r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),i=o[0].clone(),l=o[1].clone(),a=e.clone();if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.distance(a,i)/r;this.scaleValues[0]=s}else if(1==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var u=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[1]=u;var p=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[3]=p}else if(2==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var c=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[2]=c;var f=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[4]=f}}}}])&&rl(e.prototype,o),n&&rl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ul(t){"@babel/helpers - typeof";return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pl(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cl(t,e){return(cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=hl(t);if(e){var r=hl(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ul(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hl(t){return(hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25000=sl;var gl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=fl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.285714),e.scaleValues.push(.5),e.scaleValues.push(.333333),e.scaleValues.push(.333333)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.285714),this.scaleValues.push(.285714),this.scaleValues.push(.5),this.scaleValues.push(.333333),this.scaleValues.push(.333333));var e=t[0].clone(),o=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=this.scaleValues[0],i=new SuperMapAlgoPlot.Point(0,-n*r),l=new SuperMapAlgoPlot.Point(0,n*r),a=this.scaleValues[1],s=this.scaleValues[3],u=new SuperMapAlgoPlot.Point(n*(1-s),-n*a),p=new SuperMapAlgoPlot.Point(n*(1-s),n*a),c=this.scaleValues[2],f=this.scaleValues[4],h=new SuperMapAlgoPlot.Point(n*(1-f),-n*c),g=new SuperMapAlgoPlot.Point(n*(1-f),n*c),P=new SuperMapAlgoPlot.Point(n,0),y=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o),S=[];S.push(i),S.push(u),S.push(h),S.push(P),S.push(g),S.push(p),S.push(l);for(var d,b=[],m=0;m<S.length;m++)d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[m],y*SuperMapAlgoPlot.PlottingUtil.RTOD),b.push(d);for(var v=[],M=b.length-1;M>=0;--M)v.push(b[M]);for(var A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,[v[0],v[1]]),_=0;_<O.length;_++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[_]);A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,[v[v.length-1],v[v.length-2]]);for(var L=0;L<O.length;L++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[L].reverse());for(var w=[],x=1;x<v.length-1;x++)w.push(v[x]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w),this.scalePoints=[];var U=b[0].clone();U.isScalePoint=!0,U.tag=0,this.scalePoints.push(U);var E=b[1].clone();E.isScalePoint=!0,E.tag=1,this.scalePoints.push(E);var T=b[2].clone();T.isScalePoint=!0,T.tag=2,this.scalePoints.push(T);var V=.04*n,R=.0475*n,I=new SuperMapAlgoPlot.Point(P.x-V,0),C=new SuperMapAlgoPlot.Point(h.x,h.y+R),j=SuperMapAlgoPlot.PlottingUtil.intersectLines(u,h,I,C),N=j.intersectPoint;if(0!=j.isIntersectLines){var D=new SuperMapAlgoPlot.Point(g.x,g.y-R),B=(j=SuperMapAlgoPlot.PlottingUtil.intersectLines(g,p,I,D)).intersectPoint;if(0!=j.isIntersectLines){var Y=[];Y.push(N),Y.push(I),Y.push(B);for(var k=[],F=0;F<Y.length;F++)d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,Y[F],y*SuperMapAlgoPlot.PlottingUtil.RTOD),k.push(d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,k),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n,r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),i=o[0].clone(),l=o[1].clone(),a=e.clone();if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.distance(a,i)/r;this.scaleValues[0]=s}else if(1==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var u=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[1]=u;var p=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[3]=p}else if(2==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var c=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[2]=c;var f=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[4]=f}}}}])&&pl(e.prototype,o),n&&pl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pl(t){"@babel/helpers - typeof";return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yl(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sl(t,e){return(Sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=bl(t);if(e){var r=bl(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bl(t){return(bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25100=gl;var ml=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=dl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.105263),e.scaleValues.push(.105263),e.scaleValues.push(.181818),e.scaleValues.push(.285714),e.scaleValues.push(.285714)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=this.GetGoPts();if(0!=t.length){0==this.scaleValues.length&&(this.scaleValues.push(.105263),this.scaleValues.push(.105263),this.scaleValues.push(.181818),this.scaleValues.push(.285714),this.scaleValues.push(.285714));var e=t[0].clone(),o=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=this.scaleValues[0],i=new SuperMapAlgoPlot.Point(0,-n*r),l=new SuperMapAlgoPlot.Point(0,n*r),a=this.scaleValues[1],s=this.scaleValues[3],u=new SuperMapAlgoPlot.Point(n*(1-s),-n*a),p=new SuperMapAlgoPlot.Point(n*(1-s),n*a),c=this.scaleValues[2],f=this.scaleValues[4],h=new SuperMapAlgoPlot.Point(n*(1-f),-n*c),g=new SuperMapAlgoPlot.Point(n*(1-f),n*c),P=new SuperMapAlgoPlot.Point(n,0),y=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o),S=[];S.push(i),S.push(u),S.push(h),S.push(P),S.push(g),S.push(p),S.push(l);for(var d,b=[],m=0;m<S.length;m++)d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[m],y*SuperMapAlgoPlot.PlottingUtil.RTOD),b.push(d);for(var v=[],M=b.length-1;M>=0;--M)v.push(b[M]);for(var A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,[v[0],v[1]]),_=0;_<O.length;_++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[_]);A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,[v[v.length-1],v[v.length-2]]);for(var L=0;L<O.length;L++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[L].reverse());for(var w=[],x=1;x<v.length-1;x++)w.push(v[x]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w),this.scalePoints=[];var U=b[0].clone();U.isScalePoint=!0,U.tag=0,this.scalePoints.push(U);var E=b[1].clone();E.isScalePoint=!0,E.tag=1,this.scalePoints.push(E);var T=b[2].clone();T.isScalePoint=!0,T.tag=2,this.scalePoints.push(T);var V=.08125*n,R=new SuperMapAlgoPlot.Point(P.x-V,0),I=new SuperMapAlgoPlot.Point(R.x-V/2,0),C=new SuperMapAlgoPlot.Point(R.x+V/2,0),j=[];d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,I,y*SuperMapAlgoPlot.PlottingUtil.RTOD),j.push(d.clone()),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,C,y*SuperMapAlgoPlot.PlottingUtil.RTOD),j.push(d.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j);var N=new SuperMapAlgoPlot.Point(R.x,R.y-V/2),D=new SuperMapAlgoPlot.Point(R.x,R.y+V/2),B=[];d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,D,y*SuperMapAlgoPlot.PlottingUtil.RTOD),B.push(d.clone()),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,N,y*SuperMapAlgoPlot.PlottingUtil.RTOD),B.push(d.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B),this.finish()}}},{key:"GetGoPts",value:function(){var t=[];return this.controlPoints.length<this.minEditPts?t:(t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),1==(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length&&(t=[]),t)}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n,r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),i=o[0].clone(),l=o[1].clone(),a=e.clone();if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.distance(a,i)/r;this.scaleValues[0]=s}else if(1==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var u=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[1]=u;var p=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[3]=p}else if(2==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var c=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[2]=c;var f=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[4]=f}}}}])&&yl(e.prototype,o),n&&yl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function vl(t){"@babel/helpers - typeof";return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ml(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Al(t,e){return(Al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ol(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=_l(t);if(e){var r=_l(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===vl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _l(t){return(_l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25101=ml;var Ll=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Al(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,n,r=Ol(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),6!==(e=r.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=Math.max(this.subSymbols[0].symbolData.symbolSize.x,this.subSymbols[0].symbolData.symbolSize.y);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=n*this.scaleValues[4],i=n*this.scaleValues[5],l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i,t),s=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,l.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,u=100*SuperMapAlgoPlot.PlottingUtil.distance(l.pts,a.pts)/o,p=new SuperMapAlgoPlot.Point((a.pts.x+l.pts.x)/2,(l.pts.y+a.pts.y)/2);if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],p,u,s),l.pts.isScalePoint=!0,l.pts.tag=this.scalePoints.length,this.scalePoints.push(l.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var n=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),r=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);r.splice(0,2),r.unshift(n);var i=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,r),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r);if(3===t&&null==i.pt&&(i.pt=n.clone()),-1==i.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(r);a.splice(0,i.index+1),a.unshift(i.pt);var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);l<s&&(s=l),this.scaleValues[t+1]=(l-s)/l,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&Ml(e.prototype,o),n&&Ml(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function wl(t){"@babel/helpers - typeof";return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xl(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ul(t,e){return(Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function El(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Tl(t);if(e){var r=Tl(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===wl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tl(t){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25200=Ll;var Vl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ul(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=El(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.5*n}var r=o*this.scaleValues[0],i=e[e.length-1];if(e.length>2){for(var l=-1,a=e.length-2;a>=0;a--)if(r<SuperMapAlgoPlot.PlottingUtil.distance(i,e[a])){l=a;break}e.splice(l+1,e.length-l),e.push(i)}for(var s=this.mergeDashLine(this.dashLines,[]),u=this.computeDashLine(s,e),p=0;p<u.length;p++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u[p]);if(0==u.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[0]);else for(var c=0;c<u.length;c++)u.length-1==c&&(u[c].length>=2?this.addArrow(u[c],this.scaleValues[0]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[0]));var f=e[e.length-2],h=e[e.length-1],g=(SuperMapAlgoPlot.PlottingUtil.radian(f,h),Math.PI,SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)*this.scaleValues[0]),P=SuperMapAlgoPlot.PlottingUtil.findPoint(e[e.length-1],e[e.length-2],g,0);this.addScalePoint(P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(this.minEditPts>o.length)return;var i=.5*SuperMapAlgoPlot.PlottingUtil.distance(e,n[n.length-1])/r;if(.5<i)return;this.scaleValues[0]=i}}}])&&xl(e.prototype,o),n&&xl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Rl(t){"@babel/helpers - typeof";return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Il(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cl(t,e){return(Cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Nl(t);if(e){var r=Nl(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Rl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nl(t){return(Nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25201=Vl;var Dl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=jl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.025),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var o,n=e*this.scaleValues[0];o=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!0);for(var r,i=[],l=(r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!1)).length-1;l>=0;l--)i.push(r[l]);this.addScalePoint(i[i.length-1]);var a=i[0],s=o[o.length-1],u=SuperMapAlgoPlot.PlottingUtil.distance(a,s),p=.3*u,c=o[o.length-2],f=o[o.length-1],h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,c,f).pntLeft;c=i[1],f=i[0];var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,c,f).pntRight,P=u;c=i[0],f=t[t.length-1];var y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,c,f).pntRight,S=[];S.push(h),S.push(y),S.push(g);var d=[];d=(d=d.concat(o)).concat(S);for(var b=i.length-1;b>=0;--b)d.push(i[b]);for(var m=this.mergeDashLine(this.dashLines,[]),v=this.computeDashLine(m,o),M=0;M<v.length;M++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v[M]);for(var A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,i.reverse()),_=0;_<O.length;_++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[_].reverse());var L=[];L=(L=(L=L.concat(v[v.length-1])).concat(S)).concat(O[O.length-1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;if(r>.5)return;this.scaleValues[0]=r}}}])&&Il(e.prototype,o),n&&Il(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Bl(t){"@babel/helpers - typeof";return(Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yl(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kl(t,e){return(kl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=zl(t);if(e){var r=zl(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Bl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zl(t){return(zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25202=Dl;var Gl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Fl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.068),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0],n=o*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!1),l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(e/2,i);if(l.bfind){var a=l.pts.clone(),s=l.index,u=(o=this.scaleValues[0])*e,p=[];p.push(a);for(var c=s;c>=0;c--)p.push(i[c]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,p)).bfind){var f=l.index,h=l.pts.clone(),g=[];g.push(h);for(var P=f+1;P<p.length;P++)g.push(p[P].clone());var y={surroundLineFlag:!1,fillLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,y);var S=[];S.push(a);for(var d=s+1;d<i.length;d++)S.push(i[d]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,S)).bfind){var b=l.index,m=l.pts.clone();(g=[]).push(m);for(var v=b+1;v<S.length;v++)g.push(S[v].clone());this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1});var M=SuperMapAlgoPlot.PlottingUtil.radian(h,m)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=new SuperMapAlgoPlot.Point((h.x+m.x)/2,(h.y+m.y)/2);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],A,u,M);var O=p[p.length-1].clone(),_=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,.3*n,.3*n,M+30),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,.3*n,.3*n,M+180),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,.3*n,.3*n,M+330),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,.3*n*.1,.3*n*.1,M+180);(g=[]).push(_),g.push(L),g.push(w),g.push(x);var U={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,U,!0),e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),(l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(e/2,r)).bfind){var E=l.index,T=l.pts.clone(),V=[];V.push(T);for(var R=E;R>=0;R--)V.push(r[R]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,V)).bfind){var I=l.index,C=l.pts.clone(),j=[];j.push(C);for(var N=I+1;N<V.length;N++)j.push(V[N]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j);var D=[];D.push(T);for(var B=E+1;B<r.length;B++)D.push(r[B]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,D)).bfind){var Y=l.index,k=l.pts.clone();(j=[]).push(k);for(var F=Y+1;F<D.length;F++)j.push(D[F]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,y);var z=SuperMapAlgoPlot.PlottingUtil.radian(C,k)*SuperMapAlgoPlot.PlottingUtil.RTOD,G=new SuperMapAlgoPlot.Point((C.x+k.x)/2,(C.y+k.y)/2);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[1],G,u,z+90);var q=V[V.length-1].clone(),X=SuperMapAlgoPlot.PlottingUtil.circlePoint(q,.3*n,.3*n,M+30),W=SuperMapAlgoPlot.PlottingUtil.circlePoint(q,.3*n,.3*n,M+180),H=SuperMapAlgoPlot.PlottingUtil.circlePoint(q,.3*n,.3*n,M+330),K=SuperMapAlgoPlot.PlottingUtil.circlePoint(q,.3*n*.1,.3*n*.1,M+180);(g=[]).push(X),g.push(W),g.push(H),g.push(K),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,U,!0);var J=SuperMapAlgoPlot.PlottingUtil.linePnt(W,L,3*n),Z=SuperMapAlgoPlot.PlottingUtil.linePnt(L,W,3*n);(j=[]).push(J),j.push(Z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{surroundLineLimit:!0,lineTypeLimit:!0});var Q=SuperMapAlgoPlot.PlottingUtil.linePnt(S[S.length-1],D[D.length-1],3*n),$=SuperMapAlgoPlot.PlottingUtil.linePnt(D[D.length-1],S[S.length-1],3*n);(j=[]).push(Q),j.push($),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{surroundLineLimit:!0,lineTypeLimit:!0}),this.scalePoints=[],this.addScalePoint(J.clone()),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n/2;r>=.45&&(r=.45),this.scaleValues[0]=r}}}])&&Yl(e.prototype,o),n&&Yl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ql(t){"@babel/helpers - typeof";return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xl(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wl(t,e){return(Wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Kl(t);if(e){var r=Kl(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ql(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kl(t){return(Kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25300=Gl;var Jl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Hl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.068),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&this.scaleValues.push(.068),0==this.subSymbols.length&&(this.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(100,300)),this.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(100,6200)));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0],n=o*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!1),l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(e/2,i);if(l.bfind){var a=l.pts.clone(),s=l.index,u=(o=this.scaleValues[0])*e,p=[];p.push(a);for(var c=s;c>=0;c--)p.push(i[c]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,p)).bfind){var f=l.index,h=l.pts.clone(),g=[];g.push(h);for(var P=f+1;P<p.length;P++)g.push(p[P].clone());var y={surroundLineFlag:!1,fillLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,y);var S=[];S.push(a);for(var d=s+1;d<i.length;d++)S.push(i[d]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,S)).bfind){var b=l.index,m=l.pts.clone();(g=[]).push(m);for(var v=b+1;v<S.length;v++)g.push(S[v].clone());this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1});var M=SuperMapAlgoPlot.PlottingUtil.radian(h,m)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=new SuperMapAlgoPlot.Point((h.x+m.x)/2,(h.y+m.y)/2);if(this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],A,u,M+90),e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),(l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(e/2,r)).bfind){var O=l.index,_=l.pts.clone(),L=[];L.push(_);for(var w=O;w>=0;w--)L.push(r[w]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,L)).bfind){var x=l.index,U=l.pts.clone(),E=[];E.push(U);for(var T=x+1;T<L.length;T++)E.push(L[T]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E);var V=[];V.push(_);for(var R=O+1;R<r.length;R++)V.push(r[R]);if((l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,V)).bfind){var I=l.index,C=l.pts.clone();(E=[]).push(C);for(var j=I+1;j<V.length;j++)E.push(V[j]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E,y);var N=SuperMapAlgoPlot.PlottingUtil.radian(U,C)*SuperMapAlgoPlot.PlottingUtil.RTOD,D=new SuperMapAlgoPlot.Point((U.x+C.x)/2,(U.y+C.y)/2);this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],D,u,N);var B=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],L[L.length-1],3*n),Y=SuperMapAlgoPlot.PlottingUtil.linePnt(L[L.length-1],p[p.length-1],3*n);(E=[]).push(B),E.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E,{surroundLineLimit:!0,lineTypeLimit:!0});var k=SuperMapAlgoPlot.PlottingUtil.linePnt(S[S.length-1],V[V.length-1],3*n),F=SuperMapAlgoPlot.PlottingUtil.linePnt(V[V.length-1],S[S.length-1],3*n);(E=[]).push(k),E.push(F),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E,{surroundLineLimit:!0,lineTypeLimit:!0}),this.scalePoints=[],this.addScalePoint(B.clone()),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n/2;r>=.4&&(r=.4),this.scaleValues[0]=r}}}])&&Xl(e.prototype,o),n&&Xl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Zl(t){"@babel/helpers - typeof";return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ql(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $l(t,e){return($l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ta(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ea(t);if(e){var r=ea(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Zl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ea(t){return(ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25301=Jl;var oa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$l(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ta(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.025)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n,this.scaleValues[2]=.6*n}this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(.025));var r=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),i=this.getLinePts(e,this.scaleValues[2],this.scaleValues[0]),l=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt),a=e[0],s=e[1],u=e[e.length-2],p=e[e.length-1],c=o*this.scaleValues[2],f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,s,a),h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,u,p),g=f.pntLeft,P=h.pntLeft,y=[];y.push(p),y.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var S=[];S.push(g),S.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var d=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),b=[];b.push(0),b.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.startPt)/d),b.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.endPt)/d),b.push(1);for(var m=this.mergeDashLine(this.dashLines,b),v=this.computeDashLine(m,e),M=0;M<v.length;M++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v[M]);var A=[],O=[];A.push(g);for(var _=0;_<=i.startIndex;_++)A.push(e[_]);if(A.push(i.startPt),i.endIndex<=e.length){O.push(i.endPt);for(var L=i.endIndex+1;L<=e.length-1;L++)O.push(e[L]);O.push(P)}new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2);var w=SuperMapAlgoPlot.PlottingUtil.dirAngle(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,x=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt),U=SuperMapAlgoPlot.PlottingUtil.dirAngle(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,E=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),T=new SuperMapAlgoPlot.Point(-.5*x,0),V=new SuperMapAlgoPlot.Point(.1*x,0),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,T,U),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,V,U),C=[];C.push(R),C.push(I);var j={surroundLineFlag:!1,lineTypeLimit:!0,fillLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C,j);var N=new SuperMapAlgoPlot.Point(-.3*x,0),D=SuperMapAlgoPlot.PlottingUtil.circlePoint(N,-.3*x,-.3*x,135),B=SuperMapAlgoPlot.PlottingUtil.circlePoint(N,-.3*x,-.3*x,225),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,N,U),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,D,U),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,B,U);(C=[]).push(k),C.push(Y),C.push(F),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C,j);var z=new SuperMapAlgoPlot.Point(.1*x,0),G=new SuperMapAlgoPlot.Point(.5*x,-.2*x),q=new SuperMapAlgoPlot.Point(.5*x,.2*x),X=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,z,U),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,G,U),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,q,U);(C=[]).push(X),C.push(W),C.push(H),C.push(X),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C,j);var K=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],e),J=SuperMapAlgoPlot.PlottingUtil.circlePoint(K.pts,.5*l,.5*l,w+90);this.addScalePoint(K.pts,0),this.addScalePoint(J,0),this.addScalePoint(g,0),this.addScalePoint(P,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(!0===e.isScalePoint&&1===t){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[0],n),l=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)/r;l>=.3&&(l=.3),this.scaleValues[0]<l||this.scaleValues[0]>1-l?(this.scaleValues[0]<l?this.scaleValues[0]=l:this.scaleValues[0]=1-l,this.scaleValues[1]=l):this.scaleValues[1]=l}else if(0===t){for(var a=0,s=-1,u=null,p=0;p<n.length-1;p++){var c;(c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[p],n[p+1])).isOnline&&(0===a||SuperMapAlgoPlot.PlottingUtil.distance(c.projectPoint,e)<a)&&(u=c,s=p,a=SuperMapAlgoPlot.PlottingUtil.distance(e,c.projectPoint))}if(-1==s)return;var f=[];for(p=0;p<s+1;p++)f.push(n[p]);f.push(new SuperMapAlgoPlot.Point(u.projectPoint.x,u.projectPoint.y));var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(f)/r,g=this.scaleValues[1];h<g&&(h=g),h>1-g&&(h=1-g),this.scaleValues[0]=h}else if(2==t){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,n[0])/r;this.scaleValues[2]=P}else if(3==t){P=SuperMapAlgoPlot.PlottingUtil.distance(e,n[n.length-1])/r;this.scaleValues[2]=P}}}}])&&Ql(e.prototype,o),n&&Ql(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function na(t){"@babel/helpers - typeof";return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ra(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ia(t,e){return(ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function la(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=aa(t);if(e){var r=aa(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===na(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function aa(t){return(aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25400=oa;var sa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ia(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=la(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.02));for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);if(!this.isEdit){var i=this.getSubSymbolScaleValue();(i>.3||i<=0)&&(i=.3);var l=this.getSubSymbolScaleValue(n-o);(l>.3||l<=0)&&(l=.3),this.scaleValues[2]=.25*i,this.scaleValues[3]=.2*l}var a=(n-o)*this.scaleValues[3],s=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!1);s.push(s[0]);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s),p=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!0);p.push(p[0]);var c={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1};if(u>SuperMapAlgoPlot.PlottingUtil.polylineDistance(p)){var f=this.mergeDashLine(this.dashLines,[]),h=this.computeDashLine(f,s),g=this.mergeDashLine(this.dashLines,[]),P=this.computeDashLine(g,p);if(h.length>1)for(var y=0;y<h.length;y++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h[y]);else 1==h.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s);if(P.length>1)for(var S=0;S<P.length;S++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[S],c);else 1==P.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p,c)}else{f=this.mergeDashLine(this.dashLines,[]),h=this.computeDashLine(f,s),g=this.mergeDashLine(this.dashLines,[]),P=this.computeDashLine(g,p);if(h.length>1)for(var d=0;d<h.length;d++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h[d],c);else 1==h.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s,c);if(P.length>1)for(var b=0;b<P.length;b++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[b]);else 1==P.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p)}var m=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),v=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=.25*this.getSubSymbolScaleValue(v));var M=this.scaleValues[0],A=this.scaleValues[1],O=this.scaleValues[2],_=new SuperMapAlgoPlot.Point(m.x+v*M,m.y+v*A),L=O*v,w=new SuperMapAlgoPlot.Point(_.x-4*L,_.y+L/2),x=new SuperMapAlgoPlot.Point(_.x-4*L,_.y-L/2),U=[];U.push(w),U.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0});var E=new SuperMapAlgoPlot.Point(_.x-4*L,_.y),T=new SuperMapAlgoPlot.Point(_.x-1.5*L,_.y);(U=[]).push(E),U.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0});for(var V=new SuperMapAlgoPlot.Point(_.x,_.y-L),R=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,2*L,2*L,60),I=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,2*L,2*L,120),C=new SuperMapAlgoPlot.Point((R.x+I.x)/2,R.y),j=[],N=0;N<=180;N+=3)j.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(C,L,L,N));U=[];for(var D=0;D<j.length;D++)U.push(j[D].clone());U.push(I.clone()),U.push(V.clone()),U.push(R.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0});var B=new SuperMapAlgoPlot.Point(_.x+4*L,_.y),Y=new SuperMapAlgoPlot.Point(_.x+1.5*L,_.y);(U=[]).push(B.clone()),U.push(Y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0});var k=new SuperMapAlgoPlot.Point(_.x+4*L,_.y+L/2),F=new SuperMapAlgoPlot.Point(_.x+4*L,_.y-L/2);(U=[]).push(k.clone()),U.push(F.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(_.clone());var z=SuperMapAlgoPlot.PlottingUtil.circlePoint(_,L,L,90);this.addScalePoint(z.clone()),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t&&1!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(2==o.length){var n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(o[0],Math.PI/3,n),o.push(n)}o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0))return;if(0==t)r=(e.x-l.x)/a,this.scaleValues[0]=r,i=(e.y-l.y)/a,this.scaleValues[1]=i;else if(1==t){r=this.scaleValues[0],i=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(l.x+a*r,l.y+a*i),u=SuperMapAlgoPlot.PlottingUtil.distance(s,e)/a;this.scaleValues[2]=u}}}}])&&ra(e.prototype,o),n&&ra(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ua(t){"@babel/helpers - typeof";return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pa(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ca(t,e){return(ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ha(t);if(e){var r=ha(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ha(t){return(ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25500=sa;var ga=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ca(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol25500);var e,o,n,r=fa(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.05)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.05)),2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}var o=[];(o=o.concat(t)).push(t[0]);var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o);if(r.length>1)for(var i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);else 1==r.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var s=this.getSubSymbolScaleValue(a);(s>.3||s<=0)&&(s=.3),this.scaleValues[2]=.5*s}var u=this.scaleValues[0],p=this.scaleValues[1],c=this.scaleValues[2],f=new SuperMapAlgoPlot.Point(l.x+a*u,l.y+a*p),h=c*a,g=.25*h,P=[];P.push(new SuperMapAlgoPlot.Point(f.x-h,f.y+g)),P.push(new SuperMapAlgoPlot.Point(f.x+h,f.y+g)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0});var y=[];y.push(new SuperMapAlgoPlot.Point(f.x+h,f.y-g)),y.push(new SuperMapAlgoPlot.Point(f.x-h,f.y-g)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0});var S=[];S.push(new SuperMapAlgoPlot.Point(f.x+h,f.y+2*g)),S.push(new SuperMapAlgoPlot.Point(f.x+h,f.y-2*g)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{lineTypeLimit:!0,surroundLineLimit:!0});var d=[];d.push(new SuperMapAlgoPlot.Point(f.x-h,f.y+2*g)),d.push(new SuperMapAlgoPlot.Point(f.x-h,f.y-2*g)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(f);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,h,h,90);this.addScalePoint(b),this.finish()}}}])&&pa(e.prototype,o),n&&pa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pa(t){"@babel/helpers - typeof";return(Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ya(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sa(t,e){return(Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function da(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ba(t);if(e){var r=ba(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ba(t){return(ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25501=ga;var ma=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sa(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=da(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.08)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.08));var o=[];(o=o.concat(t)).push(t[0]);var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o);if(r.length>1)for(var i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);else 1==r.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var s=this.getSubSymbolScaleValue(a);(s>.3||s<=0)&&(s=.3),this.scaleValues[2]=s}var u=this.scaleValues[0],p=this.scaleValues[1],c=this.scaleValues[2],f=new SuperMapAlgoPlot.Point(l.x+a*u,l.y+a*p),h=c*a/2.5,g=.7*h,P=[];P.push(new SuperMapAlgoPlot.Point(f.x,f.y)),P.push(new SuperMapAlgoPlot.Point(f.x+h,f.y));var y={surroundLineFlag:!1,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,P,y);var S=[];S.push(new SuperMapAlgoPlot.Point(f.x+g,f.y-g/2)),S.push(new SuperMapAlgoPlot.Point(f.x-g,f.y-g/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,y);var d=[];d.push(new SuperMapAlgoPlot.Point(f.x,f.y-g/2)),d.push(new SuperMapAlgoPlot.Point(f.x,f.y+g)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,y);var b=[];b.push(new SuperMapAlgoPlot.Point(f.x-g/2,f.y-g/2)),b.push(new SuperMapAlgoPlot.Point(f.x-g,f.y+g/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,y);var m=[];m.push(new SuperMapAlgoPlot.Point(f.x+g/2,f.y-g/2)),m.push(new SuperMapAlgoPlot.Point(f.x+g,f.y+g/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,y),this.scalePoints=[],this.addScalePoint(f.clone());var v=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,1.25*h,1.25*h,90);this.addScalePoint(v),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t&&1!=t)return;var o=this.controlPoints;if(2==o.length){var n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(o[0],Math.PI/3,n),o.push(n)}var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0))return;if(0==t)r=(e.x-l.x)/a,this.scaleValues[0]=r,i=(e.y-l.y)/a,this.scaleValues[1]=i;else if(1==t){r=this.scaleValues[0],i=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(l.x+a*r,l.y+a*i),u=2*SuperMapAlgoPlot.PlottingUtil.distance(s,e)/a;this.scaleValues[2]=u}}}}])&&ya(e.prototype,o),n&&ya(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function va(t){"@babel/helpers - typeof";return(va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ma(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Aa(t,e){return(Aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Oa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=_a(t);if(e){var r=_a(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===va(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _a(t){return(_a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25502=ma;var La=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aa(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Oa(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.02)),0==this.subSymbols.length&&this.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(100,8402));var o=[];(o=o.concat(t)).push(t[0]);var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o);if(r.length>1)for(var i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);else 1==r.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=.25*this.getSubSymbolScaleValue(a));var s=this.scaleValues[0],u=this.scaleValues[1],p=this.scaleValues[2],c=new SuperMapAlgoPlot.Point(l.x+a*s,l.y+a*u),f=p*a,h=[];h.push(new SuperMapAlgoPlot.Point(c.x-4*f,c.y+f/2)),h.push(new SuperMapAlgoPlot.Point(c.x-4*f,c.y-f/2));var g={surroundLineFlag:!1,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,g);var P=[];P.push(new SuperMapAlgoPlot.Point(c.x-4*f,c.y)),P.push(new SuperMapAlgoPlot.Point(c.x-f,c.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,g),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,2*f,0);var y=[];y.push(new SuperMapAlgoPlot.Point(c.x+4*f,c.y)),y.push(new SuperMapAlgoPlot.Point(c.x+f,c.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,g);var S=[];S.push(new SuperMapAlgoPlot.Point(c.x+4*f,c.y+f/2)),S.push(new SuperMapAlgoPlot.Point(c.x+4*f,c.y-f/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,g),this.scalePoints=[],this.addScalePoint(c.clone());var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,2*f,2*f,90);this.addScalePoint(d),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t&&1!=t)return;var o=this.controlPoints;if(2==o.length){var n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(o[0],Math.PI/3,n),o.push(n)}var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0))return;if(0==t)r=(e.x-l.x)/a,this.scaleValues[0]=r,i=(e.y-l.y)/a,this.scaleValues[1]=i;else if(1==t){r=this.scaleValues[0],i=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(l.x+a*r,l.y+a*i),u=SuperMapAlgoPlot.PlottingUtil.distance(s,e)/2/a;this.scaleValues[2]=u}}}}])&&Ma(e.prototype,o),n&&Ma(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function wa(t){"@babel/helpers - typeof";return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xa(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ua(t,e){return(Ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ea(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ta(t);if(e){var r=Ta(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===wa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ta(t){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25503=La;var Va=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ua(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ea(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.01),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);if(!this.isEdit){var i=this.getSubSymbolScaleValue(),l=this.getSubSymbolScaleValue(n-o);(i>.3||i<=0)&&(i=.3),(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=i,this.scaleValues[1]=.2*l}var a=(n-o)*this.scaleValues[1],s=[],u=[],p=!0;t.length>2?SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(t[0],t[1],t[2])?(s=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!1),u=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!0)):(p=!1,s=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!0),u=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!1)):(s=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!1),u=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!0));var c={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1};u.push(u[0]),s.push(s[0]);var f,h,g,P,y,S,d,b,m,v=this.mergeDashLine(this.dashLines,[]),M=this.computeDashLine(v,u),A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,s);if(M.length>1)for(var _=0;_<M.length;_++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M[_]);else 1==M.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u);if(O.length>1)for(var L=0;L<O.length;L++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[L],c);else 1==O.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s,c);for(var w=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),x=this.scaleValues[0]*w*.25,U=0;U<u.length-1;U++){f=new SuperMapAlgoPlot.Point((u[U].x+u[U+1].x)/2,(u[U].y+u[U+1].y)/2),h=new SuperMapAlgoPlot.Point(0,0),g=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),p?(h.x=0,h.y=1.5*x,g.x=-.5*x,g.y=0,P.x=.5*x,P.y=0):(h.x=0,h.y=-1.5*x,g.x=-.5*x,g.y=0,P.x=.5*x,P.y=0),y=SuperMapAlgoPlot.PlottingUtil.dirAngle(f,u[U+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,h,y),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,g,y),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,P,y),(m=[]).push(S),m.push(d),m.push(b);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,m,{surroundLineFlag:!1,surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0,lineWidthLimit:!0})}for(var E=0;E<s.length-1;E++){f=new SuperMapAlgoPlot.Point((s[E].x+s[E+1].x)/2,(s[E].y+s[E+1].y)/2),h=new SuperMapAlgoPlot.Point(0,0),g=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),p?(h.x=0,h.y=-1.5*x,g.x=-.5*x,g.y=0,P.x=.5*x,P.y=0):(h.x=0,h.y=1.5*x,g.x=-.5*x,g.y=0,P.x=.5*x,P.y=0),y=SuperMapAlgoPlot.PlottingUtil.dirAngle(f,s[E+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,h,y),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,g,y),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,P,y),(m=[]).push(S),m.push(d),m.push(b);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,m,{surroundLineFlag:!1,surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0,lineWidthLimit:!0})}this.finish()}}}])&&xa(e.prototype,o),n&&xa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ra(t){"@babel/helpers - typeof";return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ia(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ca(t,e){return(Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ja(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Na(t);if(e){var r=Na(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ra(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Na(t){return(Na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25600=Va;var Da=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ca(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol25600);var e,o,n,r=ja(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}var o=[];(o=o.concat(t)).push(t[0]);var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o);if(r.length>1)for(var i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);else 1==r.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(l));var a=this.scaleValues[0]*l*.25,s=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);s.push(s[0].clone());for(var u=0;u<s.length-1;u++){var p=new SuperMapAlgoPlot.Point((s[u].x+s[u+1].x)/2,(s[u].y+s[u+1].y)/2),c=new SuperMapAlgoPlot.Point(0,1.5*a),f=new SuperMapAlgoPlot.Point(-.5*a,0),h=new SuperMapAlgoPlot.Point(0,-1.5*a),g=new SuperMapAlgoPlot.Point(.5*a,0),P=SuperMapAlgoPlot.PlottingUtil.radian(p,s[u+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,c,P),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,f,P),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,h,P),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,g,P),m=[];m.push(y),m.push(S),m.push(d),m.push(b),m.push(y.clone());this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,m,{surroundLineFlag:!1,surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0,lineWidthLimit:!0})}this.finish()}}}])&&Ia(e.prototype,o),n&&Ia(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ba(t){"@babel/helpers - typeof";return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ya(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ka(t,e){return(ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=za(t);if(e){var r=za(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ba(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function za(t){return(za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25601=Da;var Ga=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ka(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Fa(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);var i=(n-o)/50,l=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,i,!0);l.push(l[0]);var a,s,u=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,i,!1);if(u.push(u[0]),l.length>2&&u.length>0){for(var p=[],c=0;c<l.length;c++)p.push(l[c]);a=u[0],s=[],SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(p,a)||(s=s.concat(l),l=(l=[]).concat(u),u=(u=[]).concat(s))}var f={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1},h=this.mergeDashLine(this.dashLines,[]),g=this.computeDashLine(h,l),P=this.mergeDashLine(this.dashLines,[]),y=this.computeDashLine(P,u);if(g.length>1)for(var S=0;S<g.length;S++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g[S]);else 1==g.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l);if(y.length>1)for(var d=0;d<y.length;d++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y[d],f);else 1==y.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,f);u.push(u[0]);for(var b=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),m=10*i,v={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},M=!0,A=b.x,O=b.x;M;){M=!1;for(var _,L,w,x=[],U=new SuperMapAlgoPlot.Point(A,b.y),E=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,10,10,45),T=0;T<u.length-1;T++){var V=SuperMapAlgoPlot.PlottingUtil.intersectLines(U,E,u[T],u[T+1]);V.isIntersectLines&&(L=V.intersectPoint,(s=[]).push(u[T]),s.push(u[T+1]),(_=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(L,s)).isOnPolyLine&&x.push(L))}if(1<x.length){this.sortPts2D(x);for(var R=0;R<x.length-1;R++)a=new SuperMapAlgoPlot.Point((x[R].x+x[R+1].x)/2,(x[R].y+x[R+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(u,a)&&((w=[]).push(x[R]),w.push(x[R+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,v))}x.length>0&&(M=!0),x=[];for(var I=new SuperMapAlgoPlot.Point(O,b.y),C=SuperMapAlgoPlot.PlottingUtil.circlePoint(I,5,5,45),j=0;j<u.length-1;j++)(_=SuperMapAlgoPlot.PlottingUtil.intersectLines(I,C,u[j],u[j+1])).isIntersectLines&&(L=_.intersectPoint,(s=[]).push(u[j]),s.push(u[j+1]),(_=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(L,s)).isOnPolyLine&&x.push(L));if(1<x.length){this.sortPts2D(x);for(var N=0;N<x.length-1;N++)a=new SuperMapAlgoPlot.Point((x[N].x+x[N+1].x)/2,(x[N].y+x[N+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(u,a)&&((w=[]).push(x[N]),w.push(x[N+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,v))}x.length>0&&(M=!0),A-=m,O+=m}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var n=0;n<t.length-1-o;n++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)?t[n].y>t[n+1].y&&(e=t[n],t[n]=t[n+1],t[n+1]=e):t[n].x>t[n+1].x&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t}}])&&Ya(e.prototype,o),n&&Ya(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function qa(t){"@babel/helpers - typeof";return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xa(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wa(t,e){return(Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ka(t);if(e){var r=Ka(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===qa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ka(t){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25700=Ga;var Ja=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wa(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ha(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);var i=(n-o)/50,l=[];(l=l.concat(t)).push(t[0]);var a=this.mergeDashLine(this.dashLines,[]),s=this.computeDashLine(a,l);if(s.length>1)for(var u=0;u<s.length;u++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s[u]);else 1==s.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var p=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),c={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},f=10*i;t.push(t[0]);for(var h=!0,g=p.x,P=p.x;h;){h=!1;for(var y,S,d,b,m,v=[],M=new SuperMapAlgoPlot.Point(g,p.y),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,10,10,45),O=0;O<t.length-1;O++){var _=SuperMapAlgoPlot.PlottingUtil.intersectLines(M,A,t[O],t[O+1]);_.isIntersectLines&&(S=_.intersectPoint,(d=[]).push(t[O]),d.push(t[O+1]),(y=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(S,d)).isOnPolyLine&&v.push(S))}if(1<v.length){this.sortPts2D(v);for(var L=0;L<v.length-1;L++)m=new SuperMapAlgoPlot.Point((v[L].x+v[L+1].x)/2,(v[L].y+v[L+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,m)&&((b=[]).push(v[L]),b.push(v[L+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,c,!0))}v.length>0&&(h=!0),v=[];for(var w=new SuperMapAlgoPlot.Point(P,p.y),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(w,5,5,45),U=0;U<t.length-1;U++)(y=SuperMapAlgoPlot.PlottingUtil.intersectLines(w,x,t[U],t[U+1])).isIntersectLines&&(S=y.intersectPoint,(d=[]).push(t[U]),d.push(t[U+1]),(y=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(S,d)).isOnPolyLine&&v.push(S));if(1<v.length){this.sortPts2D(v);for(var E=0;E<v.length-1;E++)m=new SuperMapAlgoPlot.Point((v[E].x+v[E+1].x)/2,(v[E].y+v[E+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,m)&&((b=[]).push(v[E]),b.push(v[E+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,c,!0))}v.length>0&&(h=!0),g-=f,P+=f}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var n=0;n<t.length-1-o;n++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)?t[n].y>t[n+1].y&&(e=t[n],t[n]=t[n+1],t[n+1]=e):t[n].x>t[n+1].x&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t}}])&&Xa(e.prototype,o),n&&Xa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Za(t){"@babel/helpers - typeof";return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qa(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $a(t,e){return($a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ts(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=es(t);if(e){var r=es(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Za(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function es(t){return(es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25701=Ja;var os=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$a(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ts(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.08),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);if(!this.isEdit){((m=this.getSubSymbolScaleValue())>.3||m<=0)&&(m=.3);var i=this.getSubSymbolScaleValue(n-o);(i>.3||i<=0)&&(i=.3),this.scaleValues[2]=.25*m,this.scaleValues[3]=.2*i}var l=(n-o)*this.scaleValues[3],a=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,l,!0),s=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,l,!1);if(a.length>2&&s.length>0){for(var u=[],p=new SuperMapAlgoPlot.Point(0,0),c=0;c<a.length;c++)u.push(a[c]);p=s[0];var f=[];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(u,p)||(f=f.concat(a),a=(a=[]).concat(s),s=(s=[]).concat(f))}var h={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1};a.push(a[0]),s.push(s[0]);var g=this.mergeDashLine(this.dashLines,[]),P=this.computeDashLine(g,a),y=this.mergeDashLine(this.dashLines,[]),S=this.computeDashLine(y,s);if(P.length>1)for(var d=0;d<P.length;d++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[d]);else 1==P.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a);if(S.length>1)for(var b=0;b<S.length;b++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S[b],h,!0);else 1==S.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s,h,!0);var m,v=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),M=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit)((m=this.getSubSymbolScaleValue(M))>.3||m<=0)&&(m=.3),this.scaleValues[2]=m;var A=this.scaleValues[0],O=this.scaleValues[1],_=this.scaleValues[2],L=new SuperMapAlgoPlot.Point(v.x+M*A,v.y+M*O),w=_*M/2,x=[];x.push(new SuperMapAlgoPlot.Point(L.x,L.y)),x.push(new SuperMapAlgoPlot.Point(L.x,L.y+w));this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,x,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0);var U=[];U.push(new SuperMapAlgoPlot.Point(L.x-1.5*w,L.y+w)),U.push(new SuperMapAlgoPlot.Point(L.x+1.5*w,L.y+w)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(L);var E=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,w,w,90);this.addScalePoint(E),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(2==o.length){var n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(o[0],Math.PI/3,n),o.push(n)}if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var r,i,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0==l)return;if(0==t)r=(e.x-a.x)/l,this.scaleValues[0]=r,i=(e.y-a.y)/l,this.scaleValues[1]=i;else if(1==t){r=this.scaleValues[0],i=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(a.x+l*r,a.y+l*i),u=2*SuperMapAlgoPlot.PlottingUtil.distance(s,e)/l;this.scaleValues[2]=u}}}}])&&Qa(e.prototype,o),n&&Qa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ns(t){"@babel/helpers - typeof";return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rs(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function is(t,e){return(is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ls(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=as(t);if(e){var r=as(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ns(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function as(t){return(as=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25800=os;var ss=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&is(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol25800);var e,o,n,r=ls(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}var o=[];(o=o.concat(t)).push(t[0]);var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o);if(r.length>1)for(var i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);else 1==r.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var s=this.getSubSymbolScaleValue(a);(s>.3||s<=0)&&(s=.3),this.scaleValues[2]=s}var u=this.scaleValues[0],p=this.scaleValues[1],c=this.scaleValues[2],f=new SuperMapAlgoPlot.Point(l.x+a*u,l.y+a*p),h=c*a/2,g=[];g.push(new SuperMapAlgoPlot.Point(f.x,f.y)),g.push(new SuperMapAlgoPlot.Point(f.x,f.y+h));this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,g,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0);var P=[];P.push(new SuperMapAlgoPlot.Point(f.x-1.5*h,f.y+h)),P.push(new SuperMapAlgoPlot.Point(f.x+1.5*h,f.y+h)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(f);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,h,h,90);this.addScalePoint(y),this.finish()}}}])&&rs(e.prototype,o),n&&rs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function us(t){"@babel/helpers - typeof";return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ps(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cs(t,e){return(cs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=hs(t);if(e){var r=hs(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hs(t){return(hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25801=ss;var gs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cs(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=fs(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.08),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);if(!this.isEdit){var i=this.getSubSymbolScaleValue();(i>.3||i<=0)&&(i=.3);var l=this.getSubSymbolScaleValue(n-o);(l>.3||l<=0)&&(l=.3),this.scaleValues[2]=.25*i,this.scaleValues[3]=.2*l}var a=(n-o)*this.scaleValues[3],s=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!0),u=SuperMapAlgoPlot.PlottingUtil.paraPolygon(t,a,!1);if(s.length>2&&u.length>0){for(var p=[],c=0;c<s.length;c++)p.push(s[c]);var f=u[0],h=[];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(p,f)||(h=h.concat(s),s=(s=[]).concat(u),u=(u=[]).concat(h))}var g={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1};s.push(s[0]),u.push(u[0]);var P=this.mergeDashLine(this.dashLines,[]),y=this.computeDashLine(P,s),S=this.mergeDashLine(this.dashLines,[]),d=this.computeDashLine(S,u);if(y.length>1)for(var b=0;b<y.length;b++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y[b]);else 1==y.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s);if(d.length>1)for(var m=0;m<d.length;m++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d[m],g,!0);else 1==d.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,g,!0);var v={surroundLineFlag:!1,lineTypeLimit:!0,surroundLineLimit:!0},M=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),A=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue(A));var O=this.scaleValues[0],_=this.scaleValues[1],L=this.scaleValues[2],w=new SuperMapAlgoPlot.Point(M.x+A*O,M.y+A*_),x=L*A/2,U=[];U.push(new SuperMapAlgoPlot.Point(w.x-x,w.y)),U.push(new SuperMapAlgoPlot.Point(w.x+x,w.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,v,!0);var E=.3*x,T=[];T.push(new SuperMapAlgoPlot.Point(w.x-x,w.y+E/2)),T.push(new SuperMapAlgoPlot.Point(w.x-x,w.y-E/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,v,!0);var V=[];V.push(new SuperMapAlgoPlot.Point(w.x+x,w.y+E/2)),V.push(new SuperMapAlgoPlot.Point(w.x+x,w.y-E/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V,v,!0);var R=[];R.push(new SuperMapAlgoPlot.Point(w.x,w.y)),R.push(new SuperMapAlgoPlot.Point(w.x,w.y+1.5*E)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,v,!0);var I=[];I.push(new SuperMapAlgoPlot.Point(w.x-E/2,w.y)),I.push(new SuperMapAlgoPlot.Point(w.x-E,w.y+E)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I,v,!0);var C=[];C.push(new SuperMapAlgoPlot.Point(w.x+E/2,w.y)),C.push(new SuperMapAlgoPlot.Point(w.x+E,w.y+E)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C,v,!0),this.addScalePoint(w);var j=SuperMapAlgoPlot.PlottingUtil.circlePoint(w,x,x,90);this.addScalePoint(j),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t&&1!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(2==o.length){var n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(o[0],Math.PI/3,n),o.push(n)}o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0))return;if(0==t)r=(e.x-l.x)/a,this.scaleValues[0]=r,i=(e.y-l.y)/a,this.scaleValues[1]=i;else if(1==t){r=this.scaleValues[0],i=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(l.x+a*r,l.y+a*i),u=2*SuperMapAlgoPlot.PlottingUtil.distance(s,e)/a;this.scaleValues[2]=u}}}}])&&ps(e.prototype,o),n&&ps(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ps(t){"@babel/helpers - typeof";return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ys(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ss(t,e){return(Ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ds(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=bs(t);if(e){var r=bs(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25900=gs;var ms=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ss(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol25900);var e,o,n,r=ds(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}var o=[];(o=o.concat(t)).push(t[0]);var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o);if(r.length>1)for(var i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);else 1==r.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l={surroundLineFlag:!1,lineTypeLimit:!0,surroundLineLimit:!0},a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var u=this.getSubSymbolScaleValue(s);(u>.3||u<=0)&&(u=.3),this.scaleValues[2]=2*u}var p=this.scaleValues[0],c=this.scaleValues[1],f=this.scaleValues[2],h=new SuperMapAlgoPlot.Point(a.x+s*p,a.y+s*c),g=f*s/2,P=[];P.push(new SuperMapAlgoPlot.Point(h.x-g,h.y)),P.push(new SuperMapAlgoPlot.Point(h.x+g,h.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,l,!0);var y=.3*g,S=[];S.push(new SuperMapAlgoPlot.Point(h.x-g,h.y+y/2)),S.push(new SuperMapAlgoPlot.Point(h.x-g,h.y-y/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,l,!0);var d=[];d.push(new SuperMapAlgoPlot.Point(h.x+g,h.y+y/2)),d.push(new SuperMapAlgoPlot.Point(h.x+g,h.y-y/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,l,!0);var b=[];b.push(new SuperMapAlgoPlot.Point(h.x,h.y)),b.push(new SuperMapAlgoPlot.Point(h.x,h.y+1.5*y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,l,!0);var m=[];m.push(new SuperMapAlgoPlot.Point(h.x-y/2,h.y)),m.push(new SuperMapAlgoPlot.Point(h.x-y,h.y+y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,l,!0);var v=[];v.push(new SuperMapAlgoPlot.Point(h.x+y/2,h.y)),v.push(new SuperMapAlgoPlot.Point(h.x+y,h.y+y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,l,!0),this.addScalePoint(h);var M=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,g,g,90);this.addScalePoint(M),this.finish()}}}])&&ys(e.prototype,o),n&&ys(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function vs(t){"@babel/helpers - typeof";return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ms(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function As(t,e){return(As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Os(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=_s(t);if(e){var r=_s(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===vs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _s(t){return(_s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25901=ms;var Ls=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&As(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Os(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(-1.5)),e.arrowHeadType=SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID,e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){this.scaleValues=[];for(var e=0;e<t.length;e++)this.scaleValues.splice(e,0,0);var o=this.getSubSymbolScaleValue();this.scaleValues[t.length]=.8*o,this.scaleValues[t.length+1]=o,this.scaleValues[t.length+2]=-1.5;var n=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[t.length+3]=n,this.scaleValues[t.length+4]=o,this.arrowHeadType=3}this.isEdit&&this.scaleValues.length===t.length+3&&(this.scaleValues[t.length+3]=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),this.scaleValues[t.length+4]=.05);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=r*this.scaleValues[this.scaleValues.length-1],l=r*this.scaleValues[this.scaleValues.length-2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,l-.5*i);if(-1!==a.index){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,l+.5*i);if(-1!==s.index){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,l).pt,p=SuperMapAlgoPlot.PlottingUtil.radian(a.pt,s.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD;0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],u,.6*i,p);for(var c=[],f=[],h=0;h<=a.index;h++)c.push(t[h]);c.push(a.pt),f.push(s.pt);for(var g=a.index+1;g<=t.length-1;g++)f.push(t[g]);var P,y,S,d=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),b=this.scaleValues.length,m=d*this.scaleValues[b-5]*.2,v=this.scaleValues[0];if(0===v)P=(y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(m,t[1],t[0])).pntRight;else if(1===v)P=(y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(m,t[1],t[0])).pntLeft;else{if(2!==v)return;P=t[0]}var M,A,O,_,L=[];L.push(P);for(var w=0;w<=a.index;w++)L.push(t[w]);if(L.push(a.pt),this.addScalePoint(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),t.length>this.minEditPts){for(var x,U,E,T,V,R=1;R<t.length-1;R++){var I,C,j,N=this.scaleValues[R];if(0===N){for(x=t[R],C=t[R+1],j=t[R-1],U=180*SuperMapAlgoPlot.PlottingUtil.radian(x,C)/Math.PI,E=180*SuperMapAlgoPlot.PlottingUtil.radian(x,j)/Math.PI-U;E<0;)E+=360;T=E/2,V=t[R+1].clone(),V=SuperMapAlgoPlot.PlottingUtil.rotateAngle(x,T*Math.PI/180,V),I=SuperMapAlgoPlot.PlottingUtil.linePnt(x,V,m)}else if(1===N){for(x=t[R],C=t[R+1],j=t[R-1],U=180*SuperMapAlgoPlot.PlottingUtil.radian(x,C)/Math.PI,E=180*SuperMapAlgoPlot.PlottingUtil.radian(x,j)/Math.PI-U;E<0;)E+=360;T=180-E/2,V=t[R-1].clone(),V=SuperMapAlgoPlot.PlottingUtil.rotateAngle(x,T*Math.PI/180,V),I=SuperMapAlgoPlot.PlottingUtil.linePnt(x,V,m)}else{if(2!==N)continue;I=t[R]}(M=[]).push(t[R]),M.push(I),this.addScalePoint(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,{surroundLineLimit:!0,lineTypeLimit:!0})}var D=t.length,B=this.scaleValues[D-1];if(0===B)A=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(m,t[D-2],t[D-1])).pntLeft,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*m,t[D-2],t[D-1]).pntLeft;else if(1===B)A=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(m,t[D-2],t[D-1])).pntRight,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*m,t[D-2],t[D-1]).pntRight;else{if(2!==B)return;A=t[D-1].clone(),O=t[D-1].clone()}(M=[]).push(s.pt);for(var Y=a.index+1;Y<=t.length-1;Y++)M.push(t[Y]);M.push(A),this.addScalePoint(A),this.addScalePoint(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M)}else{var k=this.scaleValues[1];if(0===k)A=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(m,t[0],t[1])).pntLeft,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*m,t[0],t[1]).pntLeft;else if(1===k)A=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(m,t[0],t[1])).pntRight,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*m,t[0],t[1]).pntRight;else{if(2!==k)return;A=t[1].clone(),O=t[1].clone()}(M=[]).push(s.pt);for(var F=a.index+1;F<=t.length-1;F++)M.push(t[F]);M.push(A),this.addScalePoint(A),this.addScalePoint(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M)}var z=this.scaleValues.length,G=this.scaleValues[z-4],q=Math.abs(d*G),X=this.scaleValues[z-3],W=5*Math.abs(m*X);if(-1!==(y=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,q)).index){var H=y.index,K=y.pt;_=X>=0?(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(W,t[H],K)).pntRight:(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(W,t[H],K)).pntLeft;var J=SuperMapAlgoPlot.PlottingUtil.linePnt(K,_,W),Z=.3*W,Q=SuperMapAlgoPlot.PlottingUtil.linePnt(J,K,Z);(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*Z,J,Q)).pntLeft,S.pntRight;(M=[]).push(J),M.push(K),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,{surroundLineLimit:!0,lineTypeLimit:!0});var $=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(M,.3*W,this.arrowHeadType),tt=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL;this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW||(tt=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL);this.addCell(tt,$,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(J),this.addScalePoint(u);var et=SuperMapAlgoPlot.PlottingUtil.radian(a.pt,s.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,ot=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,.5*i,.5*i,et);this.addScalePoint(ot),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n,r,i,l,a,s,u,p,c,f,h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),g=o.length,P=e;if(t>=0&&t<g){var y=!1;if(0==t)y=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],P);else if(t==g-1)y=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],P);else{var S=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],o[t+1]),d=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],P);if(S!=d)y=d;else{var b=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],P);y=b==d?d:b}}this.scaleValues[t]=y?1:0}else if(t==g){n=SuperMapAlgoPlot.PlottingUtil.distance(o[g-1],P);var m=(n/=2)/h/.2;this.scaleValues[t]=m}else if(t===g+1){r=-1,i=0,l=new SuperMapAlgoPlot.Point(0,0);for(var v=0;v<o.length-1;v++)(a=[]).push(o[v]),a.push(o[v+1]),u=SuperMapAlgoPlot.PlottingUtil.projectPoint(P,o[v],o[v+1]),(s=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,a)).isOnPolyLine&&(f=SuperMapAlgoPlot.PlottingUtil.distance(P,u),-1==r?(r=v,l=u,i=f):i>f&&(r=v,l=u,i=f));if(-1==r||r>o.length-1)return;p=0;for(var M=0;M<r;M++){var A=o[M],O=o[M+1];p+=SuperMapAlgoPlot.PlottingUtil.distance(A,O)}if(c=o[r],(p+=SuperMapAlgoPlot.PlottingUtil.distance(c,l))<0||p>h)return;var _=p/h;this.scaleValues[g+1]=_;var L,w=this.scaleValues.length;n=h*this.scaleValues[w-5],L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[r],o[r+1],P)?i/n:-Math.abs(i/n),this.scaleValues[g+2]=L}else if(t===g+2){r=-1,i=0,l=new SuperMapAlgoPlot.Point(0,0);for(var x=0;x<o.length-1;x++)(a=[]).push(o[x]),a.push(o[x+1]),u=SuperMapAlgoPlot.PlottingUtil.projectPoint(P,o[x],o[x+1]),(s=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,a)).isOnPolyLine&&(f=SuperMapAlgoPlot.PlottingUtil.distance(P,u),-1===r?(r=x,l=u,i=f):i>f&&(r=x,l=u,i=f));if(-1===r||r>o.length-1)return;p=0;for(var U=0;U<r;U++)p+=SuperMapAlgoPlot.PlottingUtil.distance(o[U],o[U+1]);if(c=o[r],(p+=SuperMapAlgoPlot.PlottingUtil.distance(c,l))<0||p>h)return;.1*h<p&&.9*h>p&&(this.scaleValues[this.scaleValues.length-2]=p/h)}else if(t===g+3){var E=this.scaleValues[this.scaleValues.length-2]*h;if(-1===(s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,E)).index)return;var T=2*SuperMapAlgoPlot.PlottingUtil.distance(s.pt,e)/h;T>.15&&(T=.15),this.scaleValues[this.scaleValues.length-1]=T}}}}])&&Ms(e.prototype,o),n&&Ms(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ws(t){"@babel/helpers - typeof";return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xs(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Us(t,e){return(Us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Es(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ts(t);if(e){var r=Ts(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ws(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ts(t){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26400=Ls;var Vs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Us(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Es(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,i/2);if(-1!==l.index){var a=l.pt,s=this.getDefaultSubSymbolSize()/i;(s>.3||s<=0)&&(s=.3),this.scaleValues[0]=s;var u=1.5*this.scaleValues[0]*i,p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[l.index],a),c=[];c.push(p.pntLeft),c.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,null,!0),this.finish()}}}}])&&xs(e.prototype,o),n&&xs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Rs(t){"@babel/helpers - typeof";return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Is(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cs(t,e){return(Cs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function js(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ns(t);if(e){var r=Ns(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Rs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ns(t){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26500=Vs;var Ds=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cs(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=js(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05,e.scaleValues[2]=.01),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5)),!this.isEdit){var o=this.getSubSymbolScaleValue();(o>.3||o<=0)&&(o=.3),this.scaleValues[0]=o}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.dirAngle(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,l,i);var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),s=[];s.push(0),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.startPt)/a),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.endPt)/a),s.push(1);for(var u=this.mergeDashLine(this.dashLines,s),p=this.computeDashLine(u,e),c=0;c<p.length;c++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[c]);var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*a,e),h=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f.pts,.5*h*.5,.5*h*.5,i);this.addScalePoint(g,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*r,n),l=2*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)/r;this.scaleValues[0]=l<=.5?l:.5}}}])&&Is(e.prototype,o),n&&Is(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Bs(t){"@babel/helpers - typeof";return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ys(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ks(t,e){return(ks=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=zs(t);if(e){var r=zs(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Bs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zs(t){return(zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26501=Ds;var Gs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ks(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Fs(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.01)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues[0]=.5,this.scaleValues[1]=.05,this.scaleValues[2]=.025):1===this.scaleValues.length&&(this.scaleValues[1]=.05,this.scaleValues[2]=.025),!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n}var r=this.getLinePts(e,this.scaleValues[0]),i=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),l=SuperMapAlgoPlot.PlottingUtil.dirAngle(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],i,a,l);var s=[];s.push(0),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.startPt)/o),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.endPt)/o),s.push(1);var u=this.mergeDashLine(this.dashLines,s),p=this.computeDashLine(u,e);p[0].unshift(b),p.length-1>=0&&p[p.length-1].push(m);for(var c=0;c<p.length;c++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[c]);var f=.3*a,h=e[0],g=e[1],P=e[e.length-2],y=e[e.length-1],S=(this.scaleValues[2],SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(f,g,h)),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(f,P,y),b=S.pntLeft,m=d.pntLeft,v=[];v.push(b),v=v.concat(p[0]);var M=[];(M=M.concat(p[p.length-1])).push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(A.pts,.5*o*this.scaleValues[0]/2,.5*o*this.scaleValues[0]/2,l);this.addScalePoint(O,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(!0===e.isScalePoint&&0===t){var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.5*r),l=4*SuperMapAlgoPlot.PlottingUtil.distance(e,i.pt)/r;l>.5&&(l=.5),this.scaleValues[0]=l}}}}])&&Ys(e.prototype,o),n&&Ys(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function qs(t){"@babel/helpers - typeof";return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xs(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ws(t,e){return(Ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ks(t);if(e){var r=Ks(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===qs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ks(t){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26502=Gs;var Js=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ws(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol22000);var e,o,n,r=Hs(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.01)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.05),this.scaleValues.push(.01)),!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n}var r=o*this.scaleValues[0],i=this.getLinePts(e,this.scaleValues[0]),l=SuperMapAlgoPlot.PlottingUtil.dirAngle(i.startPt,i.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),s=[];s.push(0),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,i.startPt)/a),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,i.endPt)/a),s.push(1);for(var u=this.mergeDashLine(this.dashLines,s),p=this.computeDashLine(u,e),c=0;c<p.length;c++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[c]);var f=.5*r,h=new SuperMapAlgoPlot.Point(i.endPt.x,i.endPt.y),g=new SuperMapAlgoPlot.Point(i.startPt.x,i.startPt.y),P=SuperMapAlgoPlot.PlottingUtil.distance(h,g),y=0*P,S=SuperMapAlgoPlot.PlottingUtil.linePnt(h,g,y),d=SuperMapAlgoPlot.PlottingUtil.linePnt(g,h,y),b=.5*P,m=SuperMapAlgoPlot.PlottingUtil.linePnt(h,g,b),v=new SuperMapAlgoPlot.Point((d.x+m.x)/2,(d.y+m.y)/2),M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(f,d,v),A=M.pntLeft,O=M.pntRight,_=[];_.push(O),_.push(d),_.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.ARCSYMBOL,_,null,!0);var L=.1*P,w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(L,d,m),x=w.pntLeft,U=w.pntRight,E=[];E.push(d),E.push(x),E.push(U);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,E,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},!0);var T=[];T.push(m),T.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,null,!0);var V=new SuperMapAlgoPlot.Point((i.startPt.x+i.endPt.x)/2,(i.startPt.y+i.endPt.y)/2),R=180*SuperMapAlgoPlot.PlottingUtil.radian(i.startPt,i.endPt)/Math.PI,I=.5*o*this.scaleValues[0],C=(SuperMapAlgoPlot.PlottingUtil.circlePoint(V,I,I,R+90),e[0]),j=e[1],N=e[e.length-2],D=e[e.length-1],B=.5*r,Y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(B,j,C),k=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(B,N,D),F=Y.pntLeft,z=k.pntLeft,G=[];G.push(C),G.push(F),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,G);var q=[];q.push(D),q.push(z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,q);var X=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),W=SuperMapAlgoPlot.PlottingUtil.circlePoint(X.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,l);this.addScalePoint(W),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(!0===e.isScalePoint&&0===t){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*r,n),l=2*SuperMapAlgoPlot.PlottingUtil.distance(e,i.pts)/r;l>.5&&(l=.5),this.scaleValues[0]=l}}}}])&&Xs(e.prototype,o),n&&Xs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Zs(t){"@babel/helpers - typeof";return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qs(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $s(t,e){return($s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=eu(t);if(e){var r=eu(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Zs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function eu(t){return(eu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26503=Js;var ou=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$s(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=tu(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);var o=[];o.push(0),o.push(.3),o.push(.35),o.push(.65),o.push(.7),o.push(1);for(var n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);this.finish()}}}])&&Qs(e.prototype,o),n&&Qs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function nu(t){"@babel/helpers - typeof";return(nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ru(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function iu(t,e){return(iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=au(t);if(e){var r=au(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===nu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function au(t){return(au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26600=ou;var su=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iu(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=lu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.01),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(o));var n=[];n.push(0),n.push(.3),n.push(.35),n.push(.65),n.push(.7),n.push(1);for(var r,i,l=this.computeDashLine(n,e),a=o*this.scaleValues[0],s=0;s<l.length;s++)r=SuperMapAlgoPlot.PlottingUtil.paraLine(l[s],a,!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),i=SuperMapAlgoPlot.PlottingUtil.paraLine(l[s],a,!1),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);this.finish()}}}])&&ru(e.prototype,o),n&&ru(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function uu(t){"@babel/helpers - typeof";return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pu(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cu(t,e){return(cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=hu(t);if(e){var r=hu(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hu(t){return(hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26601=su;var gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cu(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=fu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=2*n*.8,s=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],l,a,s),0===this.scaleValues[1]?this.addScalePoint(r[0]):this.addScalePoint(i[0]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===n)return;if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;this.scaleValues[0]=r}}}}])&&pu(e.prototype,o),n&&pu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pu(t){"@babel/helpers - typeof";return(Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Su(t,e){return(Su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function du(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=bu(t);if(e){var r=bu(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bu(t){return(bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26700=gu;var mu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Su(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=du(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2===this.controlPoints.length)this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);else if(3===this.controlPoints.length){var e=new SuperMapAlgoPlot.Point(this.controlPoints[0].x,this.controlPoints[0].y),o=new SuperMapAlgoPlot.Point(this.controlPoints[1].x,this.controlPoints[1].y),n=new SuperMapAlgoPlot.Point(this.controlPoints[2].x,this.controlPoints[2].y),r=SuperMapAlgoPlot.PlottingUtil.distance(o,n);if(0>=r)return;this.scaleValues=[];var i=SuperMapAlgoPlot.PlottingUtil.distance(e,o)/r;this.scaleValues.push(i);var l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD;l>90?l-=90:l=270+l,this.scaleValues.push(l*SuperMapAlgoPlot.PlottingUtil.DTOR);var a=SuperMapAlgoPlot.PlottingUtil.radian(e,n)*SuperMapAlgoPlot.PlottingUtil.RTOD;a>90?a-=90:a=270+a,this.scaleValues.push(a*SuperMapAlgoPlot.PlottingUtil.DTOR);var s=this.scaleValues[0]*r,u=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD+90,p=this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD+90;u<p&&(u+=360);for(var c,f=[],h=u;h>=p;h-=4)c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],s,s,h),f.push(c);h!=p&&(c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],s,s,p),f.push(c)),f.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f)}this.finish()}}}])&&yu(e.prototype,o),n&&yu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function vu(t){"@babel/helpers - typeof";return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mu(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Au(t,e){return(Au=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ou(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=_u(t);if(e){var r=_u(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===vu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _u(t){return(_u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26800=mu;var Lu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Au(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ou(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,n=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,i=this.scaleValues[0],l=this.scaleValues[1],a=i*n,s=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+r),s.push(o);var u=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+r),u.push(o);var p=n*l,c=new SuperMapAlgoPlot.Point((s[0].x+u[u.length-1].x)/2,(s[0].y+u[u.length-1].y)/2),f=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],u[u.length-1],.5*(n-1.2*p)),h=SuperMapAlgoPlot.PlottingUtil.linePnt(u[u.length-1],s[0],.5*(n-1.2*p)),g=SuperMapAlgoPlot.PlottingUtil.radian(h,f)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=[];P.push(f),P.push.apply(P,s),P.push.apply(P,u),P.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(P)),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,.9*p,g-90),this.scalePoints=[],this.addScalePoint(s[s.length-1]);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,p,p,g+90);this.addScalePoint(y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;this.scaleValues[0]=r}else if(1==t){var i=this.scaleValues[0]*n,l=SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],i,i,90+l),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],i,i,90+l),u=new SuperMapAlgoPlot.Point((a.x+s.x)/2,(a.y+s.y)/2),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/n;p>=.8&&(p=.8),this.scaleValues[1]=p}}}}])&&Mu(e.prototype,o),n&&Mu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function wu(t){"@babel/helpers - typeof";return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xu(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Uu(t,e){return(Uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Eu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Tu(t);if(e){var r=Tu(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tu(t){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27100=Lu;var Vu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uu(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Eu(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=new SuperMapAlgoPlot.Point(n.x,0);if(!1===this.polylineConnectLocationPoint){for(var i=0,l=-1,a=0;a<o.length-1;a++){var s=SuperMapAlgoPlot.PlottingUtil.intersectLines(n,new SuperMapAlgoPlot.Point(n.x,n.y+1),o[a],o[a+1]);s.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,o[a],o[a+1])&&r.x===s.intersectPoint.x&&(0==i?(r.y=s.intersectPoint.y,l=a):r.y<s.intersectPoint.y&&(r.y=s.intersectPoint.y,l=a),i++))}var u=this.getSubSymbolScaleValue()*e,p=[];p.push(r);for(var c=l+1;c<o.length-1;c++)p.push(new SuperMapAlgoPlot.Point(o[c].x,o[c].y));for(var f=0;f<=l;f++)p.push(new SuperMapAlgoPlot.Point(o[f].x,o[f].y));var h=.8*u,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,h);if(-1===g.index)return;var P=[];P.push(g.pt);for(var y=g.index+1;y<p.length-1;y++)P.push(p[y]);p=[];for(var S=P.length-1;S>0;S--)p.push(P[S]);var d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,h);if(-1===d.index)return;(P=[]).push(d.pt);for(var b=d.index+1;b<p.length-1;b++)P.push(p[b]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,u,0)}else{var m=t[0],v=t[1],M=SuperMapAlgoPlot.PlottingUtil.distance(m,v),A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.2*M,[m,v]);if(-1===A.index)return;var O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*M,[m,v]);if(-1===O.index)return;var _=[];_.push(t[0]),_.push(A.pts),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_),(_=[]).push(O.pts);for(var L=1;L<t.length;L++)_.push(t[L]);_.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_);var w=new SuperMapAlgoPlot.Point((A.pts.x+O.pts.x)/2,(A.pts.y+O.pts.y)/2);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],w,.1*M,0)}this.finish()}}}])&&xu(e.prototype,o),n&&xu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ru(t){"@babel/helpers - typeof";return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Iu(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cu(t,e){return(Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ju(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Nu(t);if(e){var r=Nu(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ru(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nu(t){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27300=Vu;var Du=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cu(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ju(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),a=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),s=180*SuperMapAlgoPlot.PlottingUtil.radian(l,a)/Math.PI;if(90<s&&s<270){var u=l;l=a,a=u,s=180*SuperMapAlgoPlot.PlottingUtil.radian(l,a)/Math.PI}var p=new SuperMapAlgoPlot.Point(.25*e,0),c=new SuperMapAlgoPlot.Point(.25*e+.2*n,.3*n),f=new SuperMapAlgoPlot.Point(.25*e+.2*n,-.3*n),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,p,s),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,c,s),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,f,s),y=[];y.push(new SuperMapAlgoPlot.Point(g.x,g.y)),y.push(new SuperMapAlgoPlot.Point(h.x,h.y)),y.push(new SuperMapAlgoPlot.Point(P.x,P.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{surroundLineLimit:!0,lineTypeLimit:!0});var S=new SuperMapAlgoPlot.Point(.3*e,0),d=new SuperMapAlgoPlot.Point(.3*e+.2*n,.3*n),b=new SuperMapAlgoPlot.Point(.3*e+.2*n,-.3*n),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,S,s),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,d,s),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,b,s);(y=[]).push(new SuperMapAlgoPlot.Point(v.x,v.y)),y.push(new SuperMapAlgoPlot.Point(m.x,m.y)),y.push(new SuperMapAlgoPlot.Point(M.x,M.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{surroundLineLimit:!0,lineTypeLimit:!0});var A=new SuperMapAlgoPlot.Point(.7*e,0),O=new SuperMapAlgoPlot.Point(.7*e+.2*n,.3*n),_=new SuperMapAlgoPlot.Point(.7*e+.2*n,-.3*n),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,A,s),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,O,s),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,_,s);(y=[]).push(new SuperMapAlgoPlot.Point(w.x,w.y)),y.push(new SuperMapAlgoPlot.Point(L.x,L.y)),y.push(new SuperMapAlgoPlot.Point(x.x,x.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{surroundLineLimit:!0,lineTypeLimit:!0});var U=new SuperMapAlgoPlot.Point(.75*e,0),E=new SuperMapAlgoPlot.Point(.75*e+.2*n,.3*n),T=new SuperMapAlgoPlot.Point(.75*e+.2*n,-.3*n),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,U,s),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,E,s),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,T,s);(y=[]).push(new SuperMapAlgoPlot.Point(R.x,R.y)),y.push(new SuperMapAlgoPlot.Point(V.x,V.y)),y.push(new SuperMapAlgoPlot.Point(I.x,I.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(r[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){for(var o=0,n=0;n<this.controlPoints.length-1;n++)o+=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[n],this.controlPoints[n+1]);var r=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],e)/o;this.scaleValues[0]=r}}}])&&Iu(e.prototype,o),n&&Iu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Bu(t){"@babel/helpers - typeof";return(Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yu(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ku(t,e){return(ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=zu(t);if(e){var r=zu(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Bu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zu(t){return(zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27700=Du;var Gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ku(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Fu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.03),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(0===this.scaleValues.length&&this.scaleValues.push(.03),!this.isEdit){var e=.3*this.getSubSymbolScaleValue();e>.03&&(e=.03),this.scaleValues[0]=.03}for(var o=0,n=0;n<t.length-1;n++)o+=SuperMapAlgoPlot.PlottingUtil.distance(t[n],t[n+1]);var r=[];r=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r);for(var i=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(i,r),a=0;a<l.length;a++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[a]);var s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(r),u=this.scaleValues[0]*o*2,p=this.scaleValues[0]*o,c=new SuperMapAlgoPlot.Point(s.x-u-p,s.y),f=new SuperMapAlgoPlot.Point(s.x-u,s.y),h=new SuperMapAlgoPlot.Point(s.x-u+p,s.y),g=new SuperMapAlgoPlot.Point(s.x+u,s.y),P=new SuperMapAlgoPlot.Point(s.x+u+p,s.y),y=new SuperMapAlgoPlot.Point(s.x+u+2*p,s.y),S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,c,f),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,f,h),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,g,P),m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,P,y),v=[];v.push(new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y)),v.push(new SuperMapAlgoPlot.Point(c.x,c.y)),v.push(new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0}),(v=[]).push(new SuperMapAlgoPlot.Point(d.pntLeft.x,d.pntLeft.y)),v.push(new SuperMapAlgoPlot.Point(f.x,f.y)),v.push(new SuperMapAlgoPlot.Point(d.pntRight.x,d.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0}),(v=[]).push(new SuperMapAlgoPlot.Point(b.pntLeft.x,b.pntLeft.y)),v.push(new SuperMapAlgoPlot.Point(g.x,g.y)),v.push(new SuperMapAlgoPlot.Point(b.pntRight.x,b.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0}),(v=[]).push(new SuperMapAlgoPlot.Point(m.pntLeft.x,m.pntLeft.y)),v.push(new SuperMapAlgoPlot.Point(P.x,P.y)),v.push(new SuperMapAlgoPlot.Point(m.pntRight.x,m.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0}),this.finish()}}}])&&Yu(e.prototype,o),n&&Yu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function qu(t){"@babel/helpers - typeof";return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xu(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wu(t,e){return(Wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ku(t);if(e){var r=Ku(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ku(t){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27701=Gu;var Ju=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wu(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Hu(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[t[0],new SuperMapAlgoPlot.Point(t[0].x-e*this.scaleValues[0],t[0].y)],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#ffff00",fillOpacity:1,lineTypeLimit:!0,surroundLineLimit:!0});var o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[0],e*this.scaleValues[0],90);this.addScalePoint(o,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=new SuperMapAlgoPlot.Point(this.controlPoints[0].x,this.controlPoints[0].y),n=new SuperMapAlgoPlot.Point(this.controlPoints[1].x,this.controlPoints[1].y),r=new SuperMapAlgoPlot.Point(e.x,e.y),i=SuperMapAlgoPlot.PlottingUtil.distance(o,r)/SuperMapAlgoPlot.PlottingUtil.distance(o,n);.9<i&&(i=.9),this.scaleValues[0]=i}}}])&&Xu(e.prototype,o),n&&Xu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Zu(t){"@babel/helpers - typeof";return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qu(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $u(t,e){return($u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ep(t);if(e){var r=ep(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ep(t){return(ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27900=Ju;var op=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$u(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol27900);var e,o,n,r=tp(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#ffff00",fillOpacity:1,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[t[0],new SuperMapAlgoPlot.Point(t[0].x-e*this.scaleValues[0],t[0].y)],o),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[new SuperMapAlgoPlot.Point(t[0].x+e*(this.scaleValues[0]+.1),t[0].y-e*this.scaleValues[0]),new SuperMapAlgoPlot.Point(t[0].x-e*(this.scaleValues[0]+.1),t[0].y-e*this.scaleValues[0])],o);var n=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[0],e*this.scaleValues[0],90);this.addScalePoint(n,0),this.finish()}}}])&&Qu(e.prototype,o),n&&Qu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function np(t){"@babel/helpers - typeof";return(np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rp(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ip(t,e){return(ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ap(t);if(e){var r=ap(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===np(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ap(t){return(ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27901=op;var sp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ip(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol27900);var e,o,n,r=lp(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#ffff00",fillOpacity:1,lineTypeLimit:!0,surroundLineType:!0};this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[t[0],new SuperMapAlgoPlot.Point(t[0].x-e*this.scaleValues[0],t[0].y)],o),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[new SuperMapAlgoPlot.Point(t[0].x+e*(this.scaleValues[0]+.1),t[0].y+e*this.scaleValues[0]),new SuperMapAlgoPlot.Point(t[0].x-e*(this.scaleValues[0]+.1),t[0].y+e*this.scaleValues[0])],o);var n=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[0],e*this.scaleValues[0],90);this.addScalePoint(n,0),this.finish()}}}])&&rp(e.prototype,o),n&&rp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function up(t){"@babel/helpers - typeof";return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pp(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cp(t,e){return(cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=hp(t);if(e){var r=hp(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hp(t){return(hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27902=sp;var gp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cp(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=fp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.349066)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,n,r,i,l,a,s=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,u=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),p=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),c=SuperMapAlgoPlot.PlottingUtil.radian(u,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=new SuperMapAlgoPlot.Point(0,0);if(2<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.distance(u,o),r=0,r=c-s;r<c+s;r+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u,n,n,r));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,c+s)&&(r=c+s,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u,n,n,r))),(i=[]).push(t[0]);for(var h=e.length-1;h>=0;h--)i.push(new SuperMapAlgoPlot.Point(e[h].x,e[h].y));i.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),l=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,n,n,c),f=new SuperMapAlgoPlot.Point(l.x,l.y),(a=[]).push(t[0]),a.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}var g=new SuperMapAlgoPlot.Point(0,0);if(3<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),n=SuperMapAlgoPlot.PlottingUtil.distance(u,o),r=0,r=c-s;r<c+s;r+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u,n,n,r));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,c+s)&&(r=c+s,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u,n,n,r)));var P=[];if(0==e.length)return void(P.length>0&&(P=[]));(i=[]).push(t[0]);for(var y=e.length-1;y>=0;y--)i.push(new SuperMapAlgoPlot.Point(e[y].x,e[y].y));i.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});for(var S=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),d=SuperMapAlgoPlot.PlottingUtil.distance(u,S)*this.scaleValues[0],b=[],m=90;m<=270;m+=3)b.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u,d,d,c+m));i=[];for(var v=b.length-1;v>=0;v--)i.push(new SuperMapAlgoPlot.Point(b[v].x,b[v].y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),(i=[]).push(new SuperMapAlgoPlot.Point(b[0].x,b[0].y)),i.push(new SuperMapAlgoPlot.Point(e[e.length-1].x,e[e.length-1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),(i=[]).push(new SuperMapAlgoPlot.Point(e[0].x,e[0].y)),i.push(new SuperMapAlgoPlot.Point(b[b.length-1].x,b[b.length-1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),l=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,n,n,c),g=new SuperMapAlgoPlot.Point(l.x,l.y),(a=[]).push(f),a.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}var M=new SuperMapAlgoPlot.Point(0,0);if(4<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[3].x,t[3].y),n=SuperMapAlgoPlot.PlottingUtil.distance(u,o),r=0,r=c-s;r<=c+s;r+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u,n,n,r));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,c+s)&&(r=c+s,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u,n,n,r))),(i=[]).push(t[0]);for(var A=e.length-1;A>=0;A--)i.push(new SuperMapAlgoPlot.Point(e[A].x,e[A].y));i.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),l=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,n,n,c),M=new SuperMapAlgoPlot.Point(l.x,l.y),(a=[]).push(g),a.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}if(3>t.length)this.addScalePoint(t[0]);else{var O=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],_=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,O,O,c+180);this.addScalePoint(_,0)}var L=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1]),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,L,L,c+s);this.addScalePoint(w,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o,n=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n),0==t){if(3>n.length)return;var r=new SuperMapAlgoPlot.Point(n[0].x,n[0].y),i=new SuperMapAlgoPlot.Point(e.x,e.y),l=SuperMapAlgoPlot.PlottingUtil.distance(r,i),a=new SuperMapAlgoPlot.Point(n[1].x,n[1].y);if((o=l/SuperMapAlgoPlot.PlottingUtil.distance(r,a))>=2.5)return;this.scaleValues[0]=o}else if(1==t){var s=new SuperMapAlgoPlot.Point(n[0].x,n[0].y),u=new SuperMapAlgoPlot.Point(n[n.length-1].x,n[n.length-1].y),p=SuperMapAlgoPlot.PlottingUtil.radian(s,u),c=new SuperMapAlgoPlot.Point(e.x,e.y);if(o=SuperMapAlgoPlot.PlottingUtil.radian(s,c)-p,(o=Math.abs(o))>Math.PI/2&&o<3*Math.PI/2)return;o>3*Math.PI/2&&o<=2*Math.PI&&(o=2*Math.PI-o),this.scaleValues[1]=Math.abs(o)}}}}])&&pp(e.prototype,o),n&&pp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pp(t){"@babel/helpers - typeof";return(Pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yp(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sp(t,e){return(Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=bp(t);if(e){var r=bp(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bp(t){return(bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28000=gp;var mp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sp(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=dp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.349066)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,r=0,i=0;i<t.length-1;i++)r+=SuperMapAlgoPlot.PlottingUtil.distance(e,o);var l={surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER},a=this.scaleValues[0]*r;this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[e,new SuperMapAlgoPlot.Point(e.x+a,e.y)],l);var s=180*this.scaleValues[1]/Math.PI,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,r,r,n-s),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,r,r,n+s);this.addCell(SuperMapAlgoPlot.SymbolType.ARCSYMBOL,[u,o,p],l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[0],t[1]],l);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,n-90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,c],l);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,n+90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,p],l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c,f],l);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,n+180);this.addScalePoint(new SuperMapAlgoPlot.Point(h.x,h.y),0),this.addScalePoint(p,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),r=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI,l=SuperMapAlgoPlot.PlottingUtil.distance(n,r);if(0===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(n,e)/l;this.scaleValues[0]=a}if(1===t){var s=180*SuperMapAlgoPlot.PlottingUtil.radian(n,e)/Math.PI,u=Math.abs(s-i);if(u>270&&u<360&&(u=360-u),u>90)return;this.scaleValues[1]=u*Math.PI/180}}}}])&&yp(e.prototype,o),n&&yp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function vp(t){"@babel/helpers - typeof";return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mp(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ap(t,e){return(Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Op(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=_p(t);if(e){var r=_p(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===vp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _p(t){return(_p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28100=mp;var Lp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ap(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Op(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER},n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,e),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i],o);this.finish()}}}])&&Mp(e.prototype,o),n&&Mp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function wp(t){"@babel/helpers - typeof";return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xp(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Up(t,e){return(Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ep(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Tp(t);if(e){var r=Tp(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===wp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tp(t){return(Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28200=Lp;var Vp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Up(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ep(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o/2,t[0],t[1]),r=n.pntRight,i=n.pntLeft,l=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,o/6,o/6,l-170),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,o/6,o/6,l+10),u=[];u.push(a),u.push(r),u.push(i),u.push(s),this.scalePoints=[],this.addScalePoint(r);var p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(u);p=SuperMapAlgoPlot.PlottingUtil.clearSamePts(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,e,!0),f=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(c);f=SuperMapAlgoPlot.PlottingUtil.clearSamePts(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var r=2*SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/n;this.scaleValues[0]=r}}}}])&&xp(e.prototype,o),n&&xp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Rp(t){"@babel/helpers - typeof";return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ip(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cp(t,e){return(Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Np(t);if(e){var r=Np(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Rp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Np(t){return(Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28201=Vp;var Dp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cp(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=jp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var a=i*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],l,a,0),this.scalePoints=[];var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,0);this.addScalePoint(s),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=[];n=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n);if(0==t){var l=SuperMapAlgoPlot.PlottingUtil.distance(e,i)/r;this.scaleValues[0]=l}}}}])&&Ip(e.prototype,o),n&&Ip(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Bp(t){"@babel/helpers - typeof";return(Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yp(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kp(t,e){return(kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=zp(t);if(e){var r=zp(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Bp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zp(t){return(zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28300=Dp;var Gp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kp(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Fp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.3),this.scaleValues.push(1)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var e,o,n=t[0].clone(),r=t[1].clone(),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r),l=this.scaleValues[0],a=this.scaleValues[1];if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(1,a))e=SuperMapAlgoPlot.PlottingUtil.radian(n,r)+270*SuperMapAlgoPlot.PlottingUtil.DTOR;else e=SuperMapAlgoPlot.PlottingUtil.radian(n,r)+90*SuperMapAlgoPlot.PlottingUtil.DTOR,o=n,n=r,r=o;var s=i*l*.67,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,s,s,e*SuperMapAlgoPlot.PlottingUtil.RTOD);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],u,i*l,e*SuperMapAlgoPlot.PlottingUtil.RTOD);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,s,s,e*SuperMapAlgoPlot.PlottingUtil.RTOD);this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],p,i*l,e*SuperMapAlgoPlot.PlottingUtil.RTOD),this.scalePoints=[];var c=e*SuperMapAlgoPlot.PlottingUtil.RTOD,f=i*l,h=t[0].clone(),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,f,f,c);this.addScalePoint(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),n=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o))[0].clone(),r=o[1].clone(),i=e.clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(n,r),a=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(i,n,r)/l;if(a<0||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0))return;this.scaleValues[0]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n,r,i)?this.scaleValues[1]=1:this.scaleValues[1]=0}}}])&&Yp(e.prototype,o),n&&Yp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function qp(t){"@babel/helpers - typeof";return(qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xp(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wp(t,e){return(Wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Kp(t);if(e){var r=Kp(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===qp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kp(t){return(Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28301=Gp;var Jp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wp(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Hp(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.087081),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.087081),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);else for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/l;(a>.3||a<=0)&&(a=.3),this.scaleValues[0]=2*a}var s=this.scaleValues[0],u=this.scaleValues[2],p=this.scaleValues[3],c=l*s,f=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],i),h=new SuperMapAlgoPlot.Point(i.x+l*u-f,i.y+l*p);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],h,c,180),this.addScalePoint(h);var g=c,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,g,g,0);this.addScalePoint(P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=[];n=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),s=.5*SuperMapAlgoPlot.PlottingUtil.distance(o[0],l);if(0===t)r=(e.x+s-l.x)/a,this.scaleValues[2]=r,i=(e.y-l.y)/a,this.scaleValues[3]=i;else if(1===t){r=this.scaleValues[2],i=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(l.x-s+a*r,l.y+a*i),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[0]=p}}}}])&&Xp(e.prototype,o),n&&Xp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Zp(t){"@babel/helpers - typeof";return(Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qp(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $p(t,e){return($p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ec(t);if(e){var r=ec(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Zp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ec(t){return(ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28400=Jp;var oc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$p(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=tc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5)),!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n}var r=e[0],i=e[1],l=e[e.length-2],a=e[e.length-1],s=o*this.scaleValues[0]*.6,u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,i,r),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,l,a),c=u.pntLeft,f=p.pntRight,h=[];h.push(r),h.push(c);for(var g=new SuperMapAlgoPlot.Point((r.x+c.x)/2,(r.y+c.y)/2),P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(h)/2,y=[],S=180*SuperMapAlgoPlot.PlottingUtil.radian(i,r)/Math.PI,d=360+S;d>=270+S;d-=3)y.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(g,P,P,d));var b=[];b.push(a),b.push(f);var m=[];m.push(a),m.push(f);for(var v=new SuperMapAlgoPlot.Point((a.x+f.x)/2,(a.y+f.y)/2),M=SuperMapAlgoPlot.PlottingUtil.polylineDistance(m)/2,A=[],O=180*SuperMapAlgoPlot.PlottingUtil.radian(a,f)/Math.PI,_=180+O;_>=90+O;_-=3)A.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(v,M,M,_));var L=[];L=(L=(L=L.concat(y)).concat(e)).concat(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),this.finish()}}}])&&Qp(e.prototype,o),n&&Qp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function nc(t){"@babel/helpers - typeof";return(nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rc(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ic(t,e){return(ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ac(t);if(e){var r=ac(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===nc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ac(t){return(ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28900=oc;var sc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ic(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=lc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(.185)),!this.isEdit){var r=this.getSubSymbolScaleValue();(r>.3||r<=0)&&(r=.3),this.scaleValues[2]=r,this.scaleValues[0]=.5*this.scaleValues[2]}SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1]),SuperMapAlgoPlot.PlottingUtil.RTOD;for(var i=this.scaleValues[0]*n,l=this.scaleValues[1],a=this.scaleValues[2]*n,s=.5*i,u=(o-2*a-3*s)/2,p=a,c=0;c<3;c++){var f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(-1==f.index)return;var h=p+s,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,h);if(-1==g.index)return;var P=[],y=[];if(P.push(f.pt),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[f.index].x,f.pt.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[f.index].y,f.pt.y)&&f.index+1<e.length){var S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[f.index+1],f.pt);0==l?P.push(S.pntRight):P.push(S.pntLeft)}else{S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[f.index],f.pt);0==l?P.push(S.pntLeft):P.push(S.pntRight)}y.push(g.pt);var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[g.index],g.pt);0==l?y.push(d.pntLeft):y.push(d.pntRight),p+=u+s,0==c&&(this.addScalePoint(P[1]),this.addScalePoint(P[0])),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y)}this.finish()}}},{key:"addLine",value:function(t){for(var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=0;o<t.length-2;o++){var n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.02*e,t);if(-1!==n.index){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*e,t);if(-1!==r.index){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.92*e,t);if(-1!==i.index&&(o===n.index||o===n.index+1||o===i.index||o===i.index+1||o===r.index||o===r.index+1)){var l=SuperMapAlgoPlot.PlottingUtil.radian(t[o+1],t[o])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[o+1],.02*e,.02*e,l+90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[o+1],a],{surroundLineLimit:!0,lineTypeLimit:!0})}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var i=r*this.scaleValues[2],l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,i);if(-1==l.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(l.pt,e)/r,s=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n[l.index],l.pt,e);this.scaleValues[1]=s?1:0,this.scaleValues[0]=a}else if(1==t){for(var u=-1,p=null,c=0,f=0;f<n.length-1;f++){var h;if((h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[f],n[f+1])).isOnline){var g=SuperMapAlgoPlot.PlottingUtil.distance(h.projectPoint,e);0==c?(c=g,u=f,p=h.projectPoint):g<c&&(c=g,u=f,p=h.projectPoint)}}if((g=SuperMapAlgoPlot.PlottingUtil.distance(e,n[0]))<c&&(c=g,u=0,p=n[0]),(g=SuperMapAlgoPlot.PlottingUtil.distance(e,n[n.length-1]))<c&&(c=g,u=n.length-1,p=n[n.length-1]),-1==u)return void(this.scaleValues[2]=0);for(var P=0,y=0;y<u;y++)P+=SuperMapAlgoPlot.PlottingUtil.distance(n[y],n[y+1]);var S=(P+=SuperMapAlgoPlot.PlottingUtil.distance(p,n[u]))/r;S>.7&&(S=.7),this.scaleValues[2]=S}}}}])&&rc(e.prototype,o),n&&rc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function uc(t){"@babel/helpers - typeof";return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pc(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cc(t,e){return(cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=hc(t);if(e){var r=hc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hc(t){return(hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29000=sc;var gc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cc(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=fc(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t.length,o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=.3*o,i=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],2*o);this.subSymbols.length>1&&(this.computeSubSymbol(this.subSymbols[0],i,r,n),this.computeSubSymbol(this.subSymbols[1],l,r,n));var a,s=[];2==e?(a=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t),s.push.apply(s,a)):3==e&&(a=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),s=s.concat(a)),s=SuperMapAlgoPlot.PlottingUtil.inverse(s);var u,p=new SuperMapAlgoPlot.Point(.8*o,.1*o),c=new SuperMapAlgoPlot.Point(1.2*o,.1*o),f=new SuperMapAlgoPlot.Point(1.2*o,.1*-o),h=new SuperMapAlgoPlot.Point(.9*o,.1*-o),g=[];g.push(p),g.push(c),g.push(f),g.push(h);var P=[],y=0;for(y=0;y<4;y++)u=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],g[y],n),P.push(u);var S=new SuperMapAlgoPlot.Point(-.8*o,.1*o),d=new SuperMapAlgoPlot.Point(-1.2*o,.1*o),b=new SuperMapAlgoPlot.Point(-1.1*o,.1*-o),m=new SuperMapAlgoPlot.Point(-.8*o,.1*-o);(g=[]).push(S),g.push(d),g.push(b),g.push(m);var v=[];for(y=0;y<4;y++)u=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],g[y],n),v.push(u);for(var M,A=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],3*o),O=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],2*o),_=[],L=0;L<s.length-1;L++){var w=SuperMapAlgoPlot.PlottingUtil.intersectLines(s[L],s[L+1],A,O);w.isIntersectLines&&(M=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(w.intersectPoint,s)).isOnPolyLine&&_.push(w.intersectPoint)}if(!(0>=_.length)&&(M=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(_[0],s)).isOnPolyLine){var x=[];for(y=M.index+1;y<s.length;y++)x.push(s[y]);for(y=0;y<=M.index;y++)x.push(s[y]);var U=[],E=[];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(P,_[0])?(U.push.apply(U,P),E.push.apply(E,v)):(U.push.apply(U,v),E.push.apply(E,P));var T=[],V=[];for(M=-1,y=0;y<x.length;y++)if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(U,x[y])){if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(E,x[y])){M=y;break}T.push(x[y])}if(-1!=M)for(y=M;y<x.length;y++)if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(E,x[y])){if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(U,x[y]))break;V.push(x[y])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V),this.finish()}}}}])&&pc(e.prototype,o),n&&pc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pc(t){"@babel/helpers - typeof";return(Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yc(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sc(){return(Sc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mc(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:o):r.value}}).apply(this,arguments)}function dc(t,e){return(dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=mc(t);if(e){var r=mc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Pc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function mc(t){return(mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29001=gc;var vc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dc(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol29001);var e,o,n,r=bc(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){Sc(mc(i.prototype),"calculateParts",this).call(this)}}])&&yc(e.prototype,o),n&&yc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Mc(t){"@babel/helpers - typeof";return(Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ac(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Oc(t,e){return(Oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Lc(t);if(e){var r=Lc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Mc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Lc(t){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29002=vc;var wc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oc(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=_c(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(0),e.scaleValues.push(.01),e.scaleValues.push(.083)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.02),this.scaleValues.push(0),this.scaleValues.push(.01),this.scaleValues.push(.083)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue(),this.scaleValues[2]=.1*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);for(var i,l,a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),s=this.scaleValues[0],u=this.scaleValues[1],p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),c=s*p,f=this.scaleValues[3]*p,h=0,g=this.scaleValues[2]*p,P=0,y=0;y<=a;y+=f){if(1==P||11==P||6==P){h=y+g;var S=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,e);if(!S.bfind)return;i=S.index,l=S.pts;var d=[],b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,e[i],l);0==u?d.push(b.pntLeft):d.push(b.pntRight),1==P&&(this.scalePoints=[],this.addScalePoint(d[0])),d.push(l);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,d[0],d[1]),v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,d[1],d[0]),M=[];M.push(m.pntLeft),M.push(m.pntRight),M.push(v.pntLeft),M.push(v.pntRight),M.push(m.pntLeft.clone());this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,{SurroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0,surroundLineLimit:!0})}P++}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),r=this.scaleValues[0],i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),l=r*i,a=.01*i,s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,n);if(!s.bfind)return;var u=s.pts,p=s.index,c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,n[p],u).pntLeft,f=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,c,u),h=SuperMapAlgoPlot.PlottingUtil.distance(f,u),g=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(f,u,e);this.scaleValues[1]=g?1:0,this.scaleValues[0]=h/i}}}}])&&Ac(e.prototype,o),n&&Ac(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function xc(t){"@babel/helpers - typeof";return(xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uc(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ec(t,e){return(Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Vc(t);if(e){var r=Vc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===xc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vc(t){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29003=wc;var Rc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ec(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Tc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);for(var l=0;l<4;l++){var a=Math.floor(l*o.length/4),s=new SuperMapAlgoPlot.Point(o[a].x,o[a].y),u=new SuperMapAlgoPlot.Point(o[a+1].x,o[a+1].y),p=new SuperMapAlgoPlot.Point((s.x+u.x)/2,(s.y+u.y)/2),c=SuperMapAlgoPlot.PlottingUtil.radian(u,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=this.scaleValues[0]*e/2,h=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,f,f,c),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,4*f,4*f,c+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,f,f,c+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[h,g,P],{lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&Uc(e.prototype,o),n&&Uc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ic(t){"@babel/helpers - typeof";return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cc(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jc(t,e){return(jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Nc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Dc(t);if(e){var r=Dc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ic(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Dc(t){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29100=Rc;var Bc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jc(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,n,r=Nc(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);for(var l=0;l<4;l++){var a=l*(o.length-1)/4,s=new SuperMapAlgoPlot.Point(o[a].x,o[a].y),u=new SuperMapAlgoPlot.Point(o[a+1].x,o[a+1].y),p=new SuperMapAlgoPlot.Point((s.x+u.x)/2,(s.y+u.y)/2),c=SuperMapAlgoPlot.PlottingUtil.radian(p,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=this.scaleValues[0]*e/2,h=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,f,f,c),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,4*f,4*f,c+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,f,f,c+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[h,g,P],{surroundLineLimit:!0,lineTypeLimit:!0})}this.finish()}}}])&&Cc(e.prototype,o),n&&Cc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Yc(t){"@babel/helpers - typeof";return(Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kc(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fc(t,e){return(Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Gc(t);if(e){var r=Gc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Yc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Gc(t){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29101=Bc;var qc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fc(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,n,r=zc(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var n=[];n=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);for(var r=this.mergeDashLine(this.dashLines,[]),i=this.computeDashLine(r,n),l=0;l<i.length;l++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i[l]);for(var a=0;a<4;a++){var s=a*(n.length-1)/4,u=new SuperMapAlgoPlot.Point(n[s].x,n[s].y),p=new SuperMapAlgoPlot.Point(n[s+1].x,n[s+1].y),c=new SuperMapAlgoPlot.Point((u.x+p.x)/2,(u.y+p.y)/2),f=180*SuperMapAlgoPlot.PlottingUtil.radian(c,p)/Math.PI,h=e*this.scaleValues[0]/2,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,h,h,f),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,4*h,4*h,f+270),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,h,h,f+180);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[g,P,y],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&kc(e.prototype,o),n&&kc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Xc(t){"@babel/helpers - typeof";return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wc(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hc(t,e){return(Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Jc(t);if(e){var r=Jc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Xc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jc(t){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29103=qc;var Zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hc(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Kc(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),a=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),s=180*SuperMapAlgoPlot.PlottingUtil.radian(l,a)/Math.PI,u=l,p=r[0],c=[];c.push(u),c.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var f=new SuperMapAlgoPlot.Point(0,.8*n),h=new SuperMapAlgoPlot.Point(0,-.8*n),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,f,s),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,h,s);(c=[]).push(g),c.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var y=new SuperMapAlgoPlot.Point(-.3*n,.4*n),S=new SuperMapAlgoPlot.Point(-.3*n,-.4*n),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,y,s),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,S,s);(c=[]).push(d),c.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var m=new SuperMapAlgoPlot.Point(.3*n,.4*n),v=new SuperMapAlgoPlot.Point(.3*n,-.4*n),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,m,s),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,v,s);(c=[]).push(M),c.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var O=new SuperMapAlgoPlot.Point((l.x+a.x)/2,(l.y+a.y)/2),_=new SuperMapAlgoPlot.Point((r[0].x+r[r.length-1].x)/2,(r[r.length-1].y+r[0].y)/2);(c=[]).push(O),c.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,f,s),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,h,s);(c=[]).push(L),c.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,y,s),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,S,s);(c=[]).push(x),c.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,m,s),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,v,s);(c=[]).push(E),c.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var V=a,R=r[r.length-1];(c=[]).push(V),c.push(R),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,f,s),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,h,s);(c=[]).push(I),c.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,y,s),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,S,s);(c=[]).push(j),c.push(N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0});var D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,m,s),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,v,s);(c=[]).push(D),c.push(B),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(r[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);var i=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),l=new SuperMapAlgoPlot.Point(e.x,e.y),a=SuperMapAlgoPlot.PlottingUtil.distance(i,l)/n;this.scaleValues[0]=a}}}])&&Wc(e.prototype,o),n&&Wc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Qc(t){"@babel/helpers - typeof";return(Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tf(t,e){return(tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ef(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=of(t);if(e){var r=of(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Qc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function of(t){return(of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29401=Zc;var nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tf(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,n,r=ef(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),10!==(e=r.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.4),e.scaleValues.push(.4),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(1),e.scaleValues.push(1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var n,r,i=e*this.scaleValues[4],l=e*this.scaleValues[5],a=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),s=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],a+l);n=0===this.scaleValues[8]?SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,t[1],s).pntRight:SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,t[1],s).pntLeft;var u=e*this.scaleValues[6],p=e*this.scaleValues[7],c=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],a+p);r=0===this.scaleValues[9]?SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,t[0],c).pntLeft:SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,t[0],c).pntRight;var f=[];f.push(new SuperMapAlgoPlot.Point(n.x,n.y)),f.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),f.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y)),f.push(new SuperMapAlgoPlot.Point(r.x,r.y));var h=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(f);h=SuperMapAlgoPlot.PlottingUtil.clearSamePts(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addScalePoint(n,3),this.addScalePoint(r,4),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]);if(t<=2&&SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments),3===t){var i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/n,l=SuperMapAlgoPlot.PlottingUtil.distance(r,o[0])/n;this.scaleValues[4]=i,this.scaleValues[5]=l,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[8]=1:this.scaleValues[8]=0}if(4===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/n,s=SuperMapAlgoPlot.PlottingUtil.distance(r,o[1])/n;this.scaleValues[6]=a,this.scaleValues[7]=s,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[9]=1:this.scaleValues[9]=0}}}}])&&$c(e.prototype,o),n&&$c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function rf(t){"@babel/helpers - typeof";return(rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lf(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function af(t,e){return(af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=uf(t);if(e){var r=uf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===rf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uf(t){return(uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29800=nf;var pf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&af(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=sf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05,e.scaleValues[2]=.02,e.scaleValues[3]=.5),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.05,this.scaleValues[2]=.02,this.scaleValues[3]=.5):1===this.scaleValues.length?(this.scaleValues[1]=this.getSubSymbolScaleValue(),this.scaleValues[2]=.5*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5):2===this.scaleValues.length&&(this.scaleValues[2]=.5*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n,this.scaleValues[1]=this.getSubSymbolScaleValue(),this.scaleValues[2]=.5*this.getSubSymbolScaleValue()}var r=this.getLinePts(e,this.scaleValues[0],this.scaleValues[3]),i=SuperMapAlgoPlot.PlottingUtil.dirAngle(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,l=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),a=SuperMapAlgoPlot.PlottingUtil.radian(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],l,s,a-180);for(var u=[],p=[],c=0;c<=r.startIndex;c++)u.push(e[c]);u.push(r.startPt);var f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),h=[];h.push(0),h.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.startPt)/f),h.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.endPt)/f),h.push(1);for(var g=this.mergeDashLine(this.dashLines,h),P=this.computeDashLine(g,e),y=0;y<P.length;y++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[y]);if(r.endIndex<=e.length){p.push(r.endPt);for(var S=r.endIndex+1;S<=e.length-1;S++)p.push(e[S]);if(P[P.length-1].length>2?this.addArrow(P[P.length-1],this.scaleValues[2]):this.addArrow(p,this.scaleValues[2]),p.length>=2){var d=o*this.scaleValues[1],b=.3*d,m=.8*d,v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o-m,e),M=1.1*d,A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o-M,e),O=180*SuperMapAlgoPlot.PlottingUtil.radian(v.pts,A.pts)/Math.PI,_=SuperMapAlgoPlot.PlottingUtil.circlePoint(v.pts,b,b,O+90),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(v.pts,b,b,O+270),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(A.pts,b,b,O+90),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(A.pts,b,b,O+270),U=[];U.push(_),U.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{surroundLineLimit:!0,lineTypeLimit:!0}),(U=[]).push(w),U.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{surroundLineLimit:!0,lineTypeLimit:!0})}}var E=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[3],e),T=SuperMapAlgoPlot.PlottingUtil.circlePoint(E.pts,.5*s,.5*s,i+90);this.addScalePoint(E.pts,0),this.addScalePoint(T,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(!0===e.isScalePoint&&1===t){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[3],n),l=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)/r,a=1/o.length-this.scaleValues[0];a<=this.scaleValues[0]&&(a=this.scaleValues[0]),l>=a&&(l=a),this.scaleValues[0]=l}else if(!0===e.isScalePoint&&0===t){for(var s=0,u=-1,p=null,c=0;c<n.length-1;c++){var f;(f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[c],n[c+1]))&&(0===s||SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(f.projectPoint.x,f.projectPoint.y),e)<s)&&(p=f,u=c,s=SuperMapAlgoPlot.PlottingUtil.distance(e,new SuperMapAlgoPlot.Point(f.projectPoint.x,f.projectPoint.y)))}if(-1==u)return;var h=[];for(c=0;c<u+1;c++)h.push(n[c]);h.push(new SuperMapAlgoPlot.Point(p.projectPoint.x,p.projectPoint.y));var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(h)/r;g<2*this.scaleValues[0]&&(g=2*this.scaleValues[0]),g>1-2*this.scaleValues[0]&&(g=1-2*this.scaleValues[0]),this.scaleValues[3]=g}}}}])&&lf(e.prototype,o),n&&lf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function cf(t){"@babel/helpers - typeof";return(cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ff(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hf(t,e){return(hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function gf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Pf(t);if(e){var r=Pf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===cf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pf(t){return(Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29903=pf;var yf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hf(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=gf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);for(var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),r=this.mergeDashLine(this.dashLines,[]),i=this.computeDashLine(r,n),l=0;l<i.length;l++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i[l]);var a=e*this.scaleValues[0],s=180*this.scaleValues[1]/Math.PI;if(!this.isEdit){var u=this.getSubSymbolScaleValue();this.scaleValues[2]=u}var p=e*this.scaleValues[2],c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,a);if(-1!==c.index){var f=c.pt,h=new SuperMapAlgoPlot.Point(n[c.index].x,n[c.index].y),g=new SuperMapAlgoPlot.Point(n[c.index+1].x,n[c.index+1].y),P=SuperMapAlgoPlot.PlottingUtil.radian(h,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,p,p,P+s);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,y],{surroundLineLimit:!0,lineTypeLimit:!0});var S=SuperMapAlgoPlot.PlottingUtil.dirAngle(f,y)*SuperMapAlgoPlot.PlottingUtil.RTOD,d=SuperMapAlgoPlot.PlottingUtil.findPoint(y,f,.15*p,0),b=new SuperMapAlgoPlot.Point(-.2*p,.05*p),m=new SuperMapAlgoPlot.Point(-.2*p,-.05*p),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,b,S),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,m,S);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[v,y,M,d],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(f,0),this.addScalePoint(y,0),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0===t){for(var l=-1,a=0,s=new SuperMapAlgoPlot.Point(0,0),u=0;u<n.length-1;u++){var p=[];p.push(n[u]),p.push(n[u+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,n[u],n[u+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,p).index){var f=SuperMapAlgoPlot.PlottingUtil.distance(e,c);-1==l?(l=u,s=c,a=f):a>f&&(l=u,s=c,a=f)}}if(-1==l||l>n.length-1)return;r=0;for(var h=0;h<l;h++)r+=SuperMapAlgoPlot.PlottingUtil.distance(n[h],n[h+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(n[l],s))<0||r>i)return;var g=r/i;this.scaleValues[0]=g}else if(1===t){var P=i*this.scaleValues[0],y=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,P);if(-1===y.index)return;var S=y.pt,d=n[y.index],b=n[y.index+1],m=SuperMapAlgoPlot.PlottingUtil.radian(d,b),v=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-m;this.scaleValues[1]=v;var M=(r=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/i;this.scaleValues[2]=M}}}}])&&ff(e.prototype,o),n&&ff(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Sf(t){"@babel/helpers - typeof";return(Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function df(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bf(t,e){return(bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=vf(t);if(e){var r=vf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Sf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vf(t){return(vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30000=yf;var Mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bf(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=mf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.4)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.2||n<=0)&&(n=.2),this.scaleValues[2]=n,this.scaleValues[4]=n}var r=o*this.scaleValues[0],i=180*this.scaleValues[1]/Math.PI,l=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,r);if(-1!==a.index){var s=a.pt,u=new SuperMapAlgoPlot.Point(e[a.index].x,e[a.index].y),p=new SuperMapAlgoPlot.Point(e[a.index+1].x,e[a.index+1].y),c=SuperMapAlgoPlot.PlottingUtil.dirAngle(u,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,l,l,c+i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,f],{surroundLineLimit:!0,lineTypeLimit:!0});var h=SuperMapAlgoPlot.PlottingUtil.dirAngle(s,f)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.findPoint(f,s,.15*l,0),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.2*l,.2*l,h-157.5),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.2*l,.2*l,h+157.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[P,f,y,g],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var S=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,P,y),d=[];d.push(s),d.push(S);var b=SuperMapAlgoPlot.PlottingUtil.polylineDistance(d),m=b*this.scaleValues[5],v=b*this.scaleValues[0],M=(s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(d,v).pt,h);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],s,m,M);m=4.5*(A=o*this.scaleValues[4])*Math.sin(Math.PI/8);var A=4.5*(m=o*this.scaleValues[4])*Math.sin(Math.PI/8),O=t[0],_=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,A);if(-1!=_.index){var L=SuperMapAlgoPlot.PlottingUtil.distance(O,_.pt);L*=.5;var w=new SuperMapAlgoPlot.Point(.5*L,0),x=new SuperMapAlgoPlot.Point(0,L),U=new SuperMapAlgoPlot.Point(-.5*L,0),E=new SuperMapAlgoPlot.Point(0,-L),T=SuperMapAlgoPlot.PlottingUtil.dirAngle(O,_.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD,V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,w,T),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,x,T),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,U,T),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,E,T);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[V,R,I,C,V],{surroundLineLimit:!0,lineTypeLimit:!0});var j=t[t.length-1],N=o-A,D=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,N);if(-1!=D.index){var B=SuperMapAlgoPlot.PlottingUtil.distance(j,D.pt);B*=.5;var Y=new SuperMapAlgoPlot.Point(.5*B,0),k=new SuperMapAlgoPlot.Point(0,B),F=new SuperMapAlgoPlot.Point(-.5*B,0),z=new SuperMapAlgoPlot.Point(0,-B),G=SuperMapAlgoPlot.PlottingUtil.dirAngle(j,D.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD,q=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,Y,G),X=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,k,G),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,F,G),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,z,G);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[q,X,W,H,q],{surroundLineLimit:!0,lineTypeLimit:!0});var K=[];if(K.push(V),2!=e.length)for(var J=_.index;J<D.index;J++)K.push(e[J]);K.push(q);for(var Z=this.mergeDashLine(this.dashLines,[]),Q=this.computeDashLine(Z,K),$=0;$<Q.length;$++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Q[$]);this.addScalePoint(a.pt),this.addScalePoint(f),this.addScalePoint(I),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0===t){for(var l=-1,a=0,s=new SuperMapAlgoPlot.Point(0,0),u=0;u<n.length-1;u++){var p=[];p.push(n[u]),p.push(n[u+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,n[u],n[u+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,p).index){var f=SuperMapAlgoPlot.PlottingUtil.distance(e,c);isNaN(f)||(-1==l?(l=u,s=c,a=f):a>f&&(l=u,s=c,a=f))}}if(-1===l||l>n.length-1)return;r=0;for(var h=0;h<l;h++)r+=SuperMapAlgoPlot.PlottingUtil.distance(n[h],n[h+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(n[l],s))<0||r>i)return;var g=r/i;this.scaleValues[0]=g}else if(1===t){var P=i*this.scaleValues[0],y=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,P);if(-1===y.index)return;var S=y.pt,d=n[y.index],b=n[y.index+1],m=SuperMapAlgoPlot.PlottingUtil.radian(d,b),v=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-m;this.scaleValues[1]=v;var M=(r=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/i;this.scaleValues[2]=M}else if(2===t){var A=2*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/i;A>.35&&(A=.35),this.scaleValues[4]=A}}}},{key:"getLeftSubSymbolPts",value:function(t){var e=.25*t,o=[],n=new SuperMapAlgoPlot.Point(0,0),r=new SuperMapAlgoPlot.Point(e,-2*e),i=new SuperMapAlgoPlot.Point(2*e,0),l=new SuperMapAlgoPlot.Point(e,2*e);return o.push(n),o.push(r),o.push(i),o.push(l),o.push(n),o}},{key:"getRightSubSymbolPts",value:function(t){return this.getLeftSubSymbolPts(t)}}])&&df(e.prototype,o),n&&df(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Af(t){"@babel/helpers - typeof";return(Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Of(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _f(t,e){return(_f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=wf(t);if(e){var r=wf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Af(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function wf(t){return(wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30001=Mf;var xf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_f(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Lf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.2||n<=0)&&(n=.2),this.scaleValues[2]=n,this.scaleValues[4]=n}var r=o*this.scaleValues[0],i=180*this.scaleValues[1]/Math.PI,l=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,r);if(-1!==a.index){var s=a.pt,u=new SuperMapAlgoPlot.Point(e[a.index].x,e[a.index].y),p=new SuperMapAlgoPlot.Point(e[a.index+1].x,e[a.index+1].y),c=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,l,l,c+i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,f],{surroundLineLimit:!0,lineTypeLimit:!0});var h=180*SuperMapAlgoPlot.PlottingUtil.radian(s,f)/Math.PI,g=SuperMapAlgoPlot.PlottingUtil.findPoint(f,s,.15*l,0),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.2*l,.2*l,h-157.5),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.2*l,.2*l,h+157.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[P,f,y,g],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var S=4.5*(o*this.scaleValues[4])*Math.sin(Math.PI/8),d=t[0],b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,S);if(-1!=b.index){var m=SuperMapAlgoPlot.PlottingUtil.distance(d,b.pt);m*=.5;var v=new SuperMapAlgoPlot.Point(.5*m,0),M=new SuperMapAlgoPlot.Point(0,m),A=new SuperMapAlgoPlot.Point(-.5*m,0),O=new SuperMapAlgoPlot.Point(0,-m),_=SuperMapAlgoPlot.PlottingUtil.dirAngle(d,b.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD,L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,v,_),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,M,_),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,A,_),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,O,_);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[L,w,x,U],{surroundLineLimit:!0,lineTypeLimit:!0});var E=t[t.length-1],T=o-S,V=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,T);if(-1!=V.index){S*=.5;var R=new SuperMapAlgoPlot.Point(.5*S,S),I=new SuperMapAlgoPlot.Point(.5*S,0),C=new SuperMapAlgoPlot.Point(.5*S,-.5*S),j=new SuperMapAlgoPlot.Point(-.5*S,-S),N=new SuperMapAlgoPlot.Point(-.5*S,S),D=SuperMapAlgoPlot.PlottingUtil.dirAngle(E,V.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD,B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,R,D),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,I,D),k=[B,Y,SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,C,D),SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,j,D),SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,N,D)];this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,k,{surroundLineLimit:!0,lineTypeLimit:!0});var F=[];if(F.push(L),2!=e.length)for(var z=b.index;z<V.index;z++)F.push(e[z]);F.push(Y);for(var G=this.mergeDashLine(this.dashLines,[]),q=this.computeDashLine(G,F),X=0;X<q.length;X++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,q[X]);this.addScalePoint(s),this.addScalePoint(f),null!==x&&this.addScalePoint(x),this.finish()}}}}}},{key:"getRightSubSymbolPts",value:function(t){var e=.25*t,o=[];return o.push(new SuperMapAlgoPlot.Point(0,2*e)),o.push(new SuperMapAlgoPlot.Point(2*e,2*e)),o.push(new SuperMapAlgoPlot.Point(2*e,-e)),o.push(new SuperMapAlgoPlot.Point(0,-2*e)),o.push(new SuperMapAlgoPlot.Point(0,2*e)),o}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(!(5>this.scaleValues.length||o.length<2||t<0||2<t))if(0==t){for(var i=[],l=0;l<n.length;l++)i.push(n[l]);for(var a,s=0,u=-1,p=0;p<i.length-1;p++){var c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i[p],i[p+1]);if(c.isOnline){var f=SuperMapAlgoPlot.PlottingUtil.distance(c.projectPoint,e);-1==u?(u=p,a=c.projectPoint,s=f):s>f&&(u=p,a=c.projectPoint,s=f)}}if(-1==u||u>i.length-1)return;for(var h=0,g=0;g<u;g++){var P=n[g],y=n[g+1];h+=SuperMapAlgoPlot.PlottingUtil.distance(P,y)}var S=n[u];if((h+=SuperMapAlgoPlot.PlottingUtil.distance(S,a))<0||h>r)return;var d=h/r;this.scaleValues[0]=d}else if(1===t){var b=r*this.scaleValues[0],m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,b);if(-1==m.index)return;var v=n[m.index],M=n[m.index+1],A=SuperMapAlgoPlot.PlottingUtil.dirAngle(v,M),O=SuperMapAlgoPlot.PlottingUtil.dirAngle(m.pt,e)-A;this.scaleValues[1]=O;var _=(h=SuperMapAlgoPlot.PlottingUtil.distance(m.pt,e))/r;this.scaleValues[2]=_}else if(2===t){var L=o[0],w=(h=SuperMapAlgoPlot.PlottingUtil.distance(L,e))/r;this.scaleValues[4]=2*w}}}])&&Of(e.prototype,o),n&&Of(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Uf(t){"@babel/helpers - typeof";return(Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ef(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tf(t,e){return(Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Rf(t);if(e){var r=Rf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Uf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Rf(t){return(Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30002=xf;var If=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tf(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Vf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);for(var r=this.mergeDashLine(this.dashLines,[]),i=this.computeDashLine(r,n),l=0;l<i.length;l++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i[l]);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var a=e*this.scaleValues[0],s=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,u=e*this.scaleValues[2],p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,a);if(-1!==p.index){var c=p.pt,f=p.index,h=c,g=n[f],P=n[f+1],y=SuperMapAlgoPlot.PlottingUtil.radian(g,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,1.5*u,1.5*u,y+s);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c,S],{surroundLineLimit:!0,lineTypeLimit:!0});var d=SuperMapAlgoPlot.PlottingUtil.radian(h,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,b=new SuperMapAlgoPlot.Point(-.2*u,.05*u),m=new SuperMapAlgoPlot.Point(-.2*u,-.05*u),v=SuperMapAlgoPlot.PlottingUtil.findPoint(S,h,.15*u,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,b,d),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,m,d);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[M,S,A,v],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var O=new SuperMapAlgoPlot.Point(.6*u,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(h,O,d),L=.4*u*this.scaleValues[5],w=.4*u*this.scaleValues[6],x=new SuperMapAlgoPlot.Point(0,-.9*(L-.25*w)),U=new SuperMapAlgoPlot.Point(0,.9*(L-.25*w)),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,x,d),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,U,d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[E,T],{surroundLineLimit:!0,lineTypeLimit:!0});var V=new SuperMapAlgoPlot.Point(0,L),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,V,d),I=new SuperMapAlgoPlot.Point(0,.25*w),C=new SuperMapAlgoPlot.Point(.5*w,0),j=new SuperMapAlgoPlot.Point(0,-.25*w),N=new SuperMapAlgoPlot.Point(-.5*w,0),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,I,d),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,C,d),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,j,d),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,N,d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[D,B,Y,k,D],{surroundLineLimit:!0,lineTypeLimit:!0});var F=new SuperMapAlgoPlot.Point(0,-L),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,F,d),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(z,I,d),q=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(z,C,d),X=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(z,j,d),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(z,N,d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[G,q,X,W,G],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(c,0),this.addScalePoint(S,1);var H=new SuperMapAlgoPlot.Point(0,-L),K=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,H,d);this.addScalePoint(K,2),this.addScalePoint(k,3),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);var i,l,a,s,u,p,c,f,h,g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(g=SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),0===t){for(var P=[],y=0;y<g.length;y++)P.push(new SuperMapAlgoPlot.Point(g[y].x,g[y].y));for(var S=-1,d=0,b=new SuperMapAlgoPlot.Point(0,0),m=0;m<P.length-1;m++){var v=[];v.push(P[m]),v.push(P[m+1]);var M=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,P[m],P[m+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(M,v).index){var A=SuperMapAlgoPlot.PlottingUtil.distance(e,M);-1==S?(S=m,b=M,d=A):d>A&&(S=m,b=M,d=A)}}if(-1==S||S>P.length-1)return;i=0;for(var O=0;O<S;O++)i+=SuperMapAlgoPlot.PlottingUtil.distance(g[O],g[O+1]);if((i+=SuperMapAlgoPlot.PlottingUtil.distance(g[S],b))<0||i>n)return;var _=i/n;this.scaleValues[0]=_}else if(1===t){l=n*this.scaleValues[0];var L=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,l);if(-1===L.index)return;a=L.pt,s=g[L.index],u=g[L.index+1],p=SuperMapAlgoPlot.PlottingUtil.radian(s,u);var w=(h=SuperMapAlgoPlot.PlottingUtil.radian(a,e))-p;this.scaleValues[1]=w;var x=(i=SuperMapAlgoPlot.PlottingUtil.distance(a,e))/n/1.5;this.scaleValues[2]=x}else if(2===t){if(l=n*this.scaleValues[0],c=180*this.scaleValues[1]/Math.PI,i=n*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,l)).index)return;f=a.pt,s=g[a.index],u=g[a.index+1],p=180*SuperMapAlgoPlot.PlottingUtil.radian(s,u)/Math.PI;var U=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.4*i,.4*i,p+c),E=SuperMapAlgoPlot.PlottingUtil.distance(e,U)/(.4*i);this.scaleValues[5]=E}else if(3===t){if(l=n*this.scaleValues[0],c=180*this.scaleValues[1]/Math.PI,i=n*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,l)).index)return;f=a.pt,s=g[a.index],u=g[a.index+1],h=(p=180*SuperMapAlgoPlot.PlottingUtil.radian(s,u)/Math.PI)+c;var T=new SuperMapAlgoPlot.Point(.6*i,0),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,T,h),R=.4*i*this.scaleValues[5],I=new SuperMapAlgoPlot.Point(0,R),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,I,h),j=2*SuperMapAlgoPlot.PlottingUtil.distance(C,e)/(.4*i);this.scaleValues[6]=j}}}}])&&Ef(e.prototype,o),n&&Ef(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Cf(t){"@babel/helpers - typeof";return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jf(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nf(t,e){return(Nf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Df(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Bf(t);if(e){var r=Bf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Cf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Bf(t){return(Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30100=If;var Yf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nf(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Df(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(1e3),e.scaleValues.push(.2),e.scaleValues.push(.01),e.scaleValues.push(.05),e.scaleValues.push(.32)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length?(this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.01),this.scaleValues.push(.05),this.scaleValues.push(.32)):3==this.scaleValues.length&&(this.scaleValues[3]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=e*this.scaleValues[1],r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,n);if(-1!==r.index){var i=t[0],l=r.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(i,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=new SuperMapAlgoPlot.Point(0,.1*n),u=new SuperMapAlgoPlot.Point(.4*n,.1*n),p=new SuperMapAlgoPlot.Point(.4*n,-.1*n),c=new SuperMapAlgoPlot.Point(0,-.1*n),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,a),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,u,a),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,a),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,a),y={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,h,g,P,f],y);var S=.1*n,d=new SuperMapAlgoPlot.Point(.3*n,0),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(d,S,S,135),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(d,S,S,225),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,d,a),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,a),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,m,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[M,v,A],y);var O=new SuperMapAlgoPlot.Point(.9*n,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,O,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[v,_],y);var L=new SuperMapAlgoPlot.Point(.8*n,.025*n),w=new SuperMapAlgoPlot.Point(.8*n,-.025*n),x=new SuperMapAlgoPlot.Point(.82*n,0),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,L,a),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,w,a),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,x,a);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[U,_,E,T],y);var V=[];V.push(r.pt);for(var R=r.index+1;R<o.length;R++)V.push(o[R]);this.addDashLineAndArrow(V,this.scaleValues[3],this.scaleValues[4]);var I=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,a);this.addScalePoint(I,0);var C=this.scaleValues[4]*SuperMapAlgoPlot.PlottingUtil.polylineDistance(V),j=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(C,V);j.bfind&&this.addScalePoint(j.pts),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);var i=o[0],l=e,a=SuperMapAlgoPlot.PlottingUtil.distance(l,i);if(0===t){if(.06>(u=a/n)||.3<u)return;this.scaleValues[1]=u}else if(1===t){var s=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);s=SuperMapAlgoPlot.PlottingUtil.clearSamePts(s);a=n*(u=this.scaleValues[1]);var u,p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,s);if(!p.bfind)return;var c=[];c.push(p.pts);for(var f=p.index+1;f<s.length;f++)c.push(s[f]);for(var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c),g=0,P=-1,y=null,S=0;S<c.length-1;S++){var d;(d=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,c[S],c[S+1])).isOnline&&(0===g||SuperMapAlgoPlot.PlottingUtil.distance(d.projectPoint,e)<g)&&(y=d.projectPoint,P=S,g=SuperMapAlgoPlot.PlottingUtil.distance(e,d.projectPoint))}if(-1==P)return;var b=[];(b=b.concat(c)).push(y);var m=SuperMapAlgoPlot.PlottingUtil.polylineDistance(b)/h;m<.1&&(m=.1),m>.9&&(m=.9),this.scaleValues[4]=m}}}}])&&jf(e.prototype,o),n&&jf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function kf(t){"@babel/helpers - typeof";return(kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ff(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zf(t,e){return(zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=qf(t);if(e){var r=qf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===kf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function qf(t){return(qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30200=Yf;var Xf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zf(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol30200);var e,o,n,r=Gf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(1e3),e.scaleValues.push(.2),e.scaleValues.push(.01),e.scaleValues.push(.05),e.scaleValues.push(.32)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.01),this.scaleValues.push(.05),this.scaleValues.push(.32)),3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),0==this.scaleValues.length?(this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.01),this.scaleValues.push(.05),this.scaleValues.push(.32)):3==this.scaleValues.length&&(this.scaleValues[3]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5*this.getSubSymbolScaleValue());var n=e*this.scaleValues[1],r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,n);if(-1!==r.index){var i=t[0],l=r.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(i,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=new SuperMapAlgoPlot.Point(0,.1*n),u=new SuperMapAlgoPlot.Point(.4*n,.1*n),p=new SuperMapAlgoPlot.Point(.4*n,-.1*n),c=new SuperMapAlgoPlot.Point(0,-.1*n),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,a),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,u,a),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,a),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,a),y={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,h,g,P,f],y);var S=new SuperMapAlgoPlot.Point(.3*n,.1*n),d=new SuperMapAlgoPlot.Point(.3*n,-.1*n),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,S,a),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,d,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b,m],y);var v=new SuperMapAlgoPlot.Point(.4*n,0),M=new SuperMapAlgoPlot.Point(.8*n,0),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,v,a),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,M,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[A,O],y);var _=new SuperMapAlgoPlot.Point(.7*n,.025*n),L=new SuperMapAlgoPlot.Point(.7*n,-.025*n),w=new SuperMapAlgoPlot.Point(.7*n,0),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,_,a),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,L,a),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,w,a);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[x,O,U,E],y);var T=[];T.push(r.pt);for(var V=r.index+1;V<o.length;V++)T.push(o[V]);this.addDashLineAndArrow(T,this.scaleValues[3],this.scaleValues[4]);var R=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,a);this.addScalePoint(R,0);var I=this.scaleValues[4]*SuperMapAlgoPlot.PlottingUtil.polylineDistance(T),C=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(I,T);C.bfind&&this.addScalePoint(C.pts),this.finish()}}}}])&&Ff(e.prototype,o),n&&Ff(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Wf(t){"@babel/helpers - typeof";return(Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hf(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Kf(t,e){return(Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Zf(t);if(e){var r=Zf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Wf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zf(t){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30201=Xf;var Qf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kf(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Jf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(Math.PI/2)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.125),this.scaleValues.push(Math.PI/2)),3===this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),!(t.length<this.minEditPts)){for(var o=0,n=0;n<t.length-1;n++)o+=SuperMapAlgoPlot.PlottingUtil.distance(t[n],t[n+1]);if(!this.isEdit){var r=this.getSubSymbolScaleValue();(r>.3||r<=0)&&(r=.3),this.scaleValues[1]=r,this.scaleValues[3]=r}var i=this.scaleValues[1],l=this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD,a=o*this.scaleValues[0],s=o*this.scaleValues[3],u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,a);if(-1!==u.index){var p=u.pt,c=e[u.index],f=e[u.index+1],h=SuperMapAlgoPlot.PlottingUtil.radian(c,f)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,h+l);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u.pt,g],{surroundLineLimit:!0,lineTypeLimit:!0});var P,y=SuperMapAlgoPlot.PlottingUtil.radian(p,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=o*i;0<this.subSymbols.length&&(P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,h+l+180),this.computeSubSymbol(this.subSymbols[0],P,.8*S,h+l-180)),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,s,s,y+30);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,s,s,y+33),b=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([g,P,d]);b=SuperMapAlgoPlot.PlottingUtil.clearSamePts(b);var m=SuperMapAlgoPlot.PlottingUtil.polylineDistance(b),v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*m,b);if(-1!==v.index){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b.slice(0,v.index),{surroundLineLimit:!0,lineTypeLimit:!0});var M=SuperMapAlgoPlot.PlottingUtil.radian(g,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=new SuperMapAlgoPlot.Point(-.2*s,.05*s),O=new SuperMapAlgoPlot.Point(-.2*s,-.05*s),_=new SuperMapAlgoPlot.Point(-.15*s,0),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,A,M+17),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,O,M+17),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,_,M+17),U={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[L,P,w,x],U);var E=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,s,s,y+330),T=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,s,s,y+327),V=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([g,E,T]);V=SuperMapAlgoPlot.PlottingUtil.clearSamePts(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V.slice(0,v.index),{surroundLineLimit:!0,lineTypeLimit:!0});var R=SuperMapAlgoPlot.PlottingUtil.radian(g,E)*SuperMapAlgoPlot.PlottingUtil.RTOD,I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,A,R-17),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,O,R-17),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,_,R-17);if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[I,E,C,j],U),this.addScalePoint(p,0),this.addScalePoint(g,0),this.subSymbols.length>0&&-1!=this.subSymbols[0].code){var N=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.subSymbols[0],.5*S,.5*S,h+l+90);this.addScalePoint(N,0)}this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);var i,l,a,s,u=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(u=SuperMapAlgoPlot.PlottingUtil.clearSamePts(u),0===t){for(var p=[],c=0;c<u.length;c++)p.push(new SuperMapAlgoPlot.Point(u[c].x,u[c].y));for(var f=-1,h=0,g=new SuperMapAlgoPlot.Point(0,0),P=0;P<p.length-1;P++){var y=[];y.push(p[P]),y.push(p[P+1]);var S=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,p[P],p[P+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(S,y).index){var d=SuperMapAlgoPlot.PlottingUtil.distance(e,S);-1==f?(f=P,g=S,h=d):h>d&&(f=P,g=S,h=d)}}if(-1==f||f>p.length-1)return;for(var b=0,m=0;m<f;m++)b+=SuperMapAlgoPlot.PlottingUtil.distance(u[m],u[m+1]);if((b+=SuperMapAlgoPlot.PlottingUtil.distance(u[f],g))<0||b>n)return;var v=b/n;this.scaleValues[0]=v}else if(2===t){var M=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u,n*this.scaleValues[0]);if(-1===M.index)return;i=M.pt,l=u[M.index],a=u[M.index+1],s=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var A=n*this.scaleValues[3],O=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,A,A,s+this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD+180),_=SuperMapAlgoPlot.PlottingUtil.distance(O,e)/n*2;this.scaleValues[1]=_}else if(1===t){var L=n*this.scaleValues[0],w=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u,L);if(-1===w.index)return;i=w.pt,l=u[w.index],a=u[w.index+1],s=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var x=(SuperMapAlgoPlot.PlottingUtil.dirAngle(i,e)*SuperMapAlgoPlot.PlottingUtil.RTOD-s)*SuperMapAlgoPlot.PlottingUtil.DTOR;this.scaleValues[2]=x}}}}])&&Hf(e.prototype,o),n&&Hf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function $f(t){"@babel/helpers - typeof";return($f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function th(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eh(t,e){return(eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function oh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=nh(t);if(e){var r=nh(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===$f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nh(t){return(nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30800=Qf;var rh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eh(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=oh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(1.570796),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);for(var r=this.mergeDashLine(this.dashLines,[]),i=this.computeDashLine(r,n),l=0;l<i.length;l++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i[l]);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var a=e*this.scaleValues[0],s=180*this.scaleValues[1]/Math.PI,u=e*this.scaleValues[2],p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,a);if(-1!==p.index){var c=p.index,f=p.pt,h=n[c],g=n[c+1],P=180*SuperMapAlgoPlot.PlottingUtil.radian(h,g)/Math.PI,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,u/2,u/2,P+s),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,u,u,P+s+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[y,S],{surroundLineLimit:!0,lineTypeLimit:!0});var d=180*SuperMapAlgoPlot.PlottingUtil.radian(f,y)/Math.PI,b=new SuperMapAlgoPlot.Point(-.2*u,.05*u),m=new SuperMapAlgoPlot.Point(-.2*u,-.05*u),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,b,d),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,m,d),A=SuperMapAlgoPlot.PlottingUtil.findPoint(y,S,.15*u,0);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[v,y,M,A],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var O=.5*u*this.scaleValues[5],_=.4*u*this.scaleValues[6],L=new SuperMapAlgoPlot.Point(0,-.9*(O-.25*_)),w=new SuperMapAlgoPlot.Point(0,.9*(O-.25*_)),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,L,d),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,w,d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[x,U],{surroundLineLimit:!0,lineTypeLimit:!0});var E=new SuperMapAlgoPlot.Point(0,O),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,E,d),V=new SuperMapAlgoPlot.Point(.5*_,-.25*_),R=new SuperMapAlgoPlot.Point(-.5*_,-.25*_),I=new SuperMapAlgoPlot.Point(-.5*_,.25*_),C=new SuperMapAlgoPlot.Point(.25*_,.25*_),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,V,d),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,R,d),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,I,d),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,C,d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[j,N,D,B,j],{surroundLineLimit:!0,lineTypeLimit:!0});var Y=new SuperMapAlgoPlot.Point(0,-O),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,Y,d),F=new SuperMapAlgoPlot.Point(0,.25*_),z=new SuperMapAlgoPlot.Point(.5*_,0),G=new SuperMapAlgoPlot.Point(0,-.25*_),q=new SuperMapAlgoPlot.Point(-.5*_,0),X=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(k,F,d),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(k,z,d),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(k,G,d),K=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(k,q,d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[X,W,H,K,X],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(f,0);var J=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,u,u,P+s);this.addScalePoint(J,1);var Z=new SuperMapAlgoPlot.Point(0,-O),Q=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,Z,d);this.addScalePoint(Q,2);var $=new SuperMapAlgoPlot.Point(-.5*_,0),tt=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(T,$,d);this.addScalePoint(tt,3),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);var i,l,a,s,u,p,c,f,h,g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(g=SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),0===t){for(var P=-1,y=0,S=new SuperMapAlgoPlot.Point(0,0),d=0;d<g.length-1;d++){var b=[];b.push(g[d]),b.push(g[d+1]);var m=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,g[d],g[d+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(m,b).index){var v=SuperMapAlgoPlot.PlottingUtil.distance(e,m);-1==P?(P=d,S=m,y=v):y>v&&(P=d,S=m,y=v)}}if(-1==P||P>g.length-1)return;i=0;for(var M=0;M<P;M++)i+=SuperMapAlgoPlot.PlottingUtil.distance(g[M],g[M+1]);if((i+=SuperMapAlgoPlot.PlottingUtil.distance(g[P],S))<0||i>n)return;var A=i/n;this.scaleValues[0]=A}else if(1===t){l=n*this.scaleValues[0];var O=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,l);if(-1===O.index)return;s=a=O.pt,u=g[O.index],p=g[O.index+1],c=SuperMapAlgoPlot.PlottingUtil.radian(u,p);var _=SuperMapAlgoPlot.PlottingUtil.radian(s,e)-c;this.scaleValues[1]=_;var L=(i=SuperMapAlgoPlot.PlottingUtil.distance(a,e))/n;this.scaleValues[2]=L}else if(2===t){if(l=n*this.scaleValues[0],f=180*this.scaleValues[1]/Math.PI,i=n*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,l)).index)return;s=a.pt,u=g[a.index],p=g[a.index+1],c=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI,h=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,i,i,c+f-180);var w=SuperMapAlgoPlot.PlottingUtil.distance(e,h)/(.4*i);this.scaleValues[5]=w}else if(3===t){if(l=n*this.scaleValues[0],f=180*this.scaleValues[1]/Math.PI,i=n*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,l)).index)return;s=a.pt,u=g[a.index],p=g[a.index+1],c=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI,h=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,i,i,c+f-180);var x=.4*i*this.scaleValues[5],U=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,x,x,c+f+90),E=2*SuperMapAlgoPlot.PlottingUtil.distance(U,e)/(.4*i);if(this.scaleValues[5]-.25*E<=0)return;this.scaleValues[6]=E}}}}])&&th(e.prototype,o),n&&th(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ih(t){"@babel/helpers - typeof";return(ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lh(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ah(t,e){return(ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=uh(t);if(e){var r=uh(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ih(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uh(t){return(uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30102=rh;var ph=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ah(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=sh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]),i=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r.pntLeft,r.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[i.pntLeft,i.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(i.pntRight,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);if(0===t){var i=o[0],l=e,a=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[0]=a}}}}])&&lh(e.prototype,o),n&&lh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ch(t){"@babel/helpers - typeof";return(ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fh(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hh(t,e){return(hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function gh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ph(t);if(e){var r=Ph(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ch(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ph(t){return(Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31300=ph;var yh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hh(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,n,r=gh(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]),i=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r.pntLeft,r.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[i.pntLeft,i.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});var l=[],a=3*n;l.push(t[0]),l.push(t[1]);for(var s=SuperMapAlgoPlot.PlottingUtil.paraLine(l,a,!0),u=SuperMapAlgoPlot.PlottingUtil.paraLine(l,a,!1),p=[],c=0;c<s.length;c++)p.push(s[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,s[1],s[0]),h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,s[0],s[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f.pntLeft,f.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[h.pntLeft,h.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});for(var g=[],P=0;P<u.length;P++)g.push(u[P]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,u[1],u[0]),S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,u[0],u[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[y.pntLeft,y.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S.pntLeft,S.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(i.pntRight,0),this.finish()}}}])&&fh(e.prototype,o),n&&fh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Sh(t){"@babel/helpers - typeof";return(Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dh(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bh(t,e){return(bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=vh(t);if(e){var r=vh(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Sh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vh(t){return(vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31301=yh;var Mh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bh(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,n,r=mh(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=t[0],r=t[1],i=this.scaleValues[0]*e,l=SuperMapAlgoPlot.PlottingUtil.linePnt(n,r,.5*e),a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,t[0],t[1]),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[a.pntLeft,a.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s.pntLeft,s.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});var u=SuperMapAlgoPlot.PlottingUtil.linePnt(l,n,i),p=SuperMapAlgoPlot.PlottingUtil.linePnt(l,r,i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[0],u]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,t[1]]);var c=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],l,2*i,c),this.addScalePoint(s.pntRight),this.finish()}}}])&&dh(e.prototype,o),n&&dh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ah(t){"@babel/helpers - typeof";return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oh(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _h(t,e){return(_h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=wh(t);if(e){var r=wh(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ah(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function wh(t){return(wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31302=Mh;var xh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_h(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,n,r=Lh(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[0],n),l=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[1],n);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[0],i]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[l,t[1]]);var a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[a.pntLeft,a.pntRight]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s.pntLeft,s.pntRight]);var u=[],p=[];u.push(t[0]),u.push(i),p.push(l),p.push(t[1]);for(var c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!1),h=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!0),g=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!1),P=[],y=[],S=0;S<c.length;S++)P.push(c[S]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);for(var d=0;d<f.length;d++)y.push(f[d]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);for(var b=[],m=[],v=0;v<h.length;v++)b.push(h[v]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);for(var M=0;M<g.length;M++)m.push(g[M]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m);var A=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,2*n,A),this.addScalePoint(a.pntRight,0),this.finish()}}}])&&Oh(e.prototype,o),n&&Oh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Uh(t){"@babel/helpers - typeof";return(Uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eh(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Th(t,e){return(Th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Rh(t);if(e){var r=Rh(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Uh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Rh(t){return(Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31303=xh;var Ih=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Th(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,n,r=Vh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),1===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.1),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=this.scaleValues[1]*e,n=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e),r=SuperMapAlgoPlot.PlottingUtil.linePnt(n,t[0],o),i=SuperMapAlgoPlot.PlottingUtil.linePnt(n,t[1],o),l=this.scaleValues[0]*e,a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*l,t[1],t[0]),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*l,t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[a.pntLeft,a.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s.pntLeft,s.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});var u=[],p=[];u.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),u.push(new SuperMapAlgoPlot.Point(r.x,r.y)),p.push(new SuperMapAlgoPlot.Point(i.x,i.y)),p.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y));for(var c=this.scaleValues[this.scaleValues.length-1]*e,f=SuperMapAlgoPlot.PlottingUtil.paraLine(u,c,!0),h=SuperMapAlgoPlot.PlottingUtil.paraLine(u,c,!1),g=SuperMapAlgoPlot.PlottingUtil.paraLine(p,c,!0),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,c,!1),y=[],S=[],d=0;d<f.length;d++)y.push(f[d]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);for(var b=0;b<h.length;b++)S.push(h[b]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);for(var m=[],v=[],M=0;M<g.length;M++)m.push(g[M]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m);for(var A=0;A<P.length;A++)v.push(P[A]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v);var O=r,_=i,L=SuperMapAlgoPlot.PlottingUtil.radian(O,_)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.distance(O,_);this.addText("慑阻",n,w,L),this.addScalePoint(a.pntRight,0),this.finish()}}}])&&Eh(e.prototype,o),n&&Eh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ch(t){"@babel/helpers - typeof";return(Ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jh(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nh(t,e){return(Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Bh(t);if(e){var r=Bh(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ch(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Bh(t){return(Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31304=Ih;var Yh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nh(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Dh(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),o=0;o=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var n=new SuperMapAlgoPlot.Point(e.x-o,e.y-o),r=new SuperMapAlgoPlot.Point(e.x+o,e.y+o);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[n,r],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.finish()}}}])&&jh(e.prototype,o),n&&jh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function kh(t){"@babel/helpers - typeof";return(kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fh(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zh(t,e){return(zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=qh(t);if(e){var r=qh(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===kh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function qh(t){return(qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31400=Yh;var Xh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zh(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol31400);var e,o,n,r=Gh(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e=0;e=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),n=new SuperMapAlgoPlot.Point(o.x-e,o.y-e),r=new SuperMapAlgoPlot.Point(o.x+e,o.y-3*e),i={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[n,r],i,!0);var l=new SuperMapAlgoPlot.Point(o.x-e,o.y+e),a=new SuperMapAlgoPlot.Point(o.x-3*e,o.y+3*e);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[l,a],i,!0);var s=new SuperMapAlgoPlot.Point(o.x+e,o.y+e),u=new SuperMapAlgoPlot.Point(o.x+3*e,o.y+3*e);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[s,u],i,!0),this.finish()}}}])&&Fh(e.prototype,o),n&&Fh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Wh(t){"@babel/helpers - typeof";return(Wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hh(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Kh(t,e){return(Kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Zh(t);if(e){var r=Zh(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Wh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zh(t){return(Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31401=Xh;var Qh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kh(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Jh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scaleValues.length<3&&(this.scaleValues.push(.1),this.scaleValues.push(.1),this.scaleValues.push(0)),!this.isEdit)((e=this.getSubSymbolScaleValue())>.3||e<=0)&&(e=.3),this.scaleValues[0]=.5*e;this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e,o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);((e=this.getSubSymbolScaleValue())>.3||e<=0)&&(e=.3);var n=Math.abs(t[1].x-t[0].x)*e*.5,r=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2),i=new SuperMapAlgoPlot.Point(r.x-n,r.y+n),l=new SuperMapAlgoPlot.Point(r.x-3*n,r.y-n);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[i,l],{surroundLineLimit:!0,lineTypeLimit:!0});var a=new SuperMapAlgoPlot.Point(r.x-n,r.y-n),s=new SuperMapAlgoPlot.Point(r.x-3*n,r.y+n);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[a,s],{surroundLineLimit:!0,lineTypeLimit:!0});var u=new SuperMapAlgoPlot.Point(r.x+n,r.y),p=new SuperMapAlgoPlot.Point(r.x+4*n,r.y),c=(SuperMapAlgoPlot.PlottingUtil.radian(u,p),SuperMapAlgoPlot.PlottingUtil.RTOD,o*this.scaleValues[0]*2),f=new SuperMapAlgoPlot.Point(r.x+o*this.scaleValues[1],r.y+o*this.scaleValues[2]);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,.8*c,0),this.addScalePoint(f);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,c/2,c/2,90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;this.scaleValues.lenth<3&&(this.scaleValues.push(.1),this.scaleValues.push(.1),this.scaleValues.push(0));var n,r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===t)n=(e.x-l.x)/i,this.scaleValues[1]=n,r=(e.y-l.y)/i,this.scaleValues[2]=r;else if(1===t){n=this.scaleValues[1],r=this.scaleValues[2];var a=new SuperMapAlgoPlot.Point(l.x+i*n,l.y+i*r),s=SuperMapAlgoPlot.PlottingUtil.distance(a,e)/i;this.scaleValues[0]=s}}}}])&&Hh(e.prototype,o),n&&Hh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function $h(t){"@babel/helpers - typeof";return($h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tg(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eg(t,e){return(eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function og(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ng(t);if(e){var r=ng(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===$h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ng(t){return(ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31600=Qh;var rg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eg(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=og(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var o=this.getSubSymbolScaleValue();(o>.3||o<=0)&&(o=.3),this.scaleValues[2]=o}var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),r=Math.abs(t[1].x-t[0].x)*this.getSubSymbolScaleValue()*.5,i=Math.abs(t[1].y-t[0].y)*this.getSubSymbolScaleValue()*.5;if(t[0].y>t[1].y){var l=new SuperMapAlgoPlot.Point(n.x,t[0].y),a=new SuperMapAlgoPlot.Point(n.x,t[0].y-i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[l,a],{surroundLineLimit:!0,lineTypeLimit:!0});var s=new SuperMapAlgoPlot.Point(n.x,t[1].y),u=new SuperMapAlgoPlot.Point(n.x,t[1].y+i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,u],{surroundLineLimit:!0,lineTypeLimit:!0})}else{var p=new SuperMapAlgoPlot.Point(n.x,t[1].y),c=new SuperMapAlgoPlot.Point(n.x,t[1].y-i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,c],{surroundLineLimit:!0,lineTypeLimit:!0});var f=new SuperMapAlgoPlot.Point(n.x,t[0].y),h=new SuperMapAlgoPlot.Point(n.x,t[0].y+i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,h],{surroundLineLimit:!0,lineTypeLimit:!0})}if(t[0].x>t[1].x){var g=new SuperMapAlgoPlot.Point(t[0].x,n.y),P=new SuperMapAlgoPlot.Point(t[0].x-r,n.y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[g,P],{surroundLineLimit:!0,lineTypeLimit:!0});var y=new SuperMapAlgoPlot.Point(t[1].x,n.y),S=new SuperMapAlgoPlot.Point(t[1].x+r,n.y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[y,S],{surroundLineLimit:!0,lineTypeLimit:!0})}else{var d=new SuperMapAlgoPlot.Point(t[1].x,n.y),b=new SuperMapAlgoPlot.Point(t[1].x-r,n.y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[d,b],{surroundLineLimit:!0,lineTypeLimit:!0});var m=new SuperMapAlgoPlot.Point(t[0].x,n.y),v=new SuperMapAlgoPlot.Point(t[0].x+r,n.y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[m,v],{surroundLineLimit:!0,lineTypeLimit:!0})}this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var M=new SuperMapAlgoPlot.Point(n.x+e*this.scaleValues[0],n.y+e*this.scaleValues[1]),A=e*this.scaleValues[2];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],M,A,0),this.addScalePoint(M);var O=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,A/2,A/2,90);this.addScalePoint(O),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;this.scaleValues.lenth<3&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var n,r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===t)n=(e.x-l.x)/i,this.scaleValues[0]=n,r=(e.y-l.y)/i,this.scaleValues[1]=r;else if(1===t){n=this.scaleValues[0],r=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(l.x+i*n,l.y+i*r),s=2*SuperMapAlgoPlot.PlottingUtil.distance(a,e)/i;this.scaleValues[2]=s}}}}])&&tg(e.prototype,o),n&&tg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();SuperMapAlgoPlot.AlgoSymbol31601=rg;function ig(t,e,o){void 0===o&&(o={});var n={type:"Feature"};return(0===o.id||o.id)&&(n.id=o.id),o.bbox&&(n.bbox=o.bbox),n.properties=e||{},n.geometry=t,n}function lg(t,e,o){if(void 0===o&&(o={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!pg(t[0])||!pg(t[1]))throw new Error("coordinates must contain numbers");return ig({type:"Point",coordinates:t},e,o)}function ag(t,e,o){void 0===o&&(o={});for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var l=0;l<i[i.length-1].length;l++)if(i[i.length-1][l]!==i[0][l])throw new Error("First and last Position are not equivalent.")}return ig({type:"Polygon",coordinates:t},e,o)}function sg(t,e,o){if(void 0===o&&(o={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return ig({type:"LineString",coordinates:t},e,o)}function ug(t,e,o){return void 0===o&&(o={}),ig({type:"MultiPoint",coordinates:t},e,o)}function pg(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function cg(t,e,o){if(null!==t)for(var n,r,i,l,a,s,u,p,c=0,f=0,h=t.type,g="FeatureCollection"===h,P="Feature"===h,y=g?t.features.length:1,S=0;S<y;S++){a=(p=!!(u=g?t.features[S].geometry:P?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var d=0;d<a;d++){var b=0,m=0;if(null!==(l=p?u.geometries[d]:u)){s=l.coordinates;var v=l.type;switch(c=!o||"Polygon"!==v&&"MultiPolygon"!==v?0:1,v){case null:break;case"Point":if(!1===e(s,f,S,b,m))return!1;f++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<s.length;n++){if(!1===e(s[n],f,S,b,m))return!1;f++,"MultiPoint"===v&&b++}"LineString"===v&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<s.length;n++){for(r=0;r<s[n].length-c;r++){if(!1===e(s[n][r],f,S,b,m))return!1;f++}"MultiLineString"===v&&b++,"Polygon"===v&&m++}"Polygon"===v&&b++;break;case"MultiPolygon":for(n=0;n<s.length;n++){for(m=0,r=0;r<s[n].length;r++){for(i=0;i<s[n][r].length-c;i++){if(!1===e(s[n][r][i],f,S,b,m))return!1;f++}m++}b++}break;case"GeometryCollection":for(n=0;n<l.geometries.length;n++)if(!1===cg(l.geometries[n],e,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function fg(t,e){var o,n,r,i,l,a,s,u,p,c,f=0,h="FeatureCollection"===t.type,g="Feature"===t.type,P=h?t.features.length:1;for(o=0;o<P;o++){for(a=h?t.features[o].geometry:g?t.geometry:t,u=h?t.features[o].properties:g?t.properties:{},p=h?t.features[o].bbox:g?t.bbox:void 0,c=h?t.features[o].id:g?t.id:void 0,l=(s=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<l;r++)if(null!==(i=s?a.geometries[r]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,f,u,p,c))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===e(i.geometries[n],f,u,p,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,u,p,c))return!1;f++}}function hg(t,e){fg(t,function(t,o,n,r,i){var l,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e(ig(t,n,{bbox:r,id:i}),o,0)&&void 0}switch(a){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon"}for(var s=0;s<t.coordinates.length;s++){var u=t.coordinates[s];if(!1===e(ig({type:l,coordinates:u},n),o,s))return!1}})}function gg(t){var e=[1/0,1/0,-1/0,-1/0];return cg(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}gg.default=gg;var Pg=gg;o(5535);o(7523);function yg(t,e,o){if(void 0===o&&(o={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var n,r=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(t),i="Feature"===(n=e).type?n.geometry:n,l=i.type,a=e.bbox,s=i.coordinates;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,a))return!1;"Polygon"===l&&(s=[s]);for(var u=!1,p=0;p<s.length&&!u;p++)if(Sg(r,s[p][0],o.ignoreBoundary)){for(var c=!1,f=1;f<s[p].length&&!c;)Sg(r,s[p][f],!o.ignoreBoundary)&&(c=!0),f++;c||(u=!0)}return u}function Sg(t,e,o){var n=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,i=e.length-1;r<e.length;i=r++){var l=e[r][0],a=e[r][1],s=e[i][0],u=e[i][1];if(t[1]*(l-s)+a*(s-t[0])+u*(t[0]-l)==0&&(l-t[0])*(s-t[0])<=0&&(a-t[1])*(u-t[1])<=0)return!o;a>t[1]!=u>t[1]&&t[0]<(s-l)*(t[1]-a)/(u-a)+l&&(n=!n)}return n}Object.prototype.hasOwnProperty;var dg=new ArrayBuffer(16);new Float64Array(dg),new Uint32Array(dg);o(4889);!function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var o=this.points[e],n=this.points[e+1];this.centers.push({x:(o.x+n.x)/2,y:(o.y+n.y)/2,z:(o.z+n.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(e=0;e<this.centers.length-1;e++){var r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,i=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,l=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+l)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+l)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}t.prototype.cacheSteps=function(t){var e=[],o=this.pos(0);e.push(0);for(var n=0;n<this.duration;n+=10){var r=this.pos(n);Math.sqrt((r.x-o.x)*(r.x-o.x)+(r.y-o.y)*(r.y-o.y)+(r.z-o.z)*(r.z-o.z))>t&&(e.push(n),o=r)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),o=this.pos(t-10);return{angle:180*Math.atan2(e.y-o.y,e.x-o.x)/3.14,speed:Math.sqrt((o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y)+(o.z-e.z)*(o.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var o=e/this.duration;if(o>=1)return this.points[this.length-1];var n=Math.floor((this.points.length-1)*o);return function(t,e,o,n,r){var i=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*i[0]+n.x*i[1]+o.x*i[2]+e.x*i[3],y:r.y*i[0]+n.y*i[1]+o.y*i[2]+e.y*i[3],z:r.z*i[0]+n.z*i[1]+o.z*i[2]+e.z*i[3]}}((this.length-1)*o-n,this.points[n],this.controls[n][1],this.controls[n+1][0],this.points[n+1])}}();var bg=function(t){return function(t,e){void 0===e&&(e={});var o=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var l=[o,n];return ag([[l,[r,n],[r,i],[o,i],l]],e.properties,{bbox:t,id:e.id})}(Pg(t))};o(8027);o(5075);o(1925);var mg=Math.PI/180,vg=180/Math.PI,Mg=function(t,e){this.lon=t,this.lat=e,this.x=mg*t,this.y=mg*e};Mg.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Mg.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new Mg(e,t)};var Ag=function(){this.coords=[],this.length=0};Ag.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Og=function(t){this.properties=t||{},this.geometries=[]};Og.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Og.prototype.wkt=function(){for(var t="",e="LINESTRING(",o=function(t){e+=t[0]+" "+t[1]+","},n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(o),t+=e.substring(0,e.length-1)+")"}return t};var _g=function(t,e,o){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Mg(t.x,t.y),this.end=new Mg(e.x,e.y),this.properties=o||{};var n=this.start.x-this.end.x,r=this.start.y-this.end.y,i=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};_g.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),o=Math.sin(t*this.g)/Math.sin(this.g),n=e*Math.cos(this.start.y)*Math.cos(this.start.x)+o*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+o*Math.cos(this.end.y)*Math.sin(this.end.x),i=e*Math.sin(this.start.y)+o*Math.sin(this.end.y),l=vg*Math.atan2(i,Math.sqrt(Math.pow(n,2)+Math.pow(r,2)));return[vg*Math.atan2(r,n),l]},_g.prototype.Arc=function(t,e){var o=[];if(!t||t<=2)o.push([this.start.lon,this.start.lat]),o.push([this.end.lon,this.end.lat]);else for(var n=1/(t-1),r=0;r<t;++r){var i=n*r,l=this.interpolate(i);o.push(l)}for(var a=!1,s=0,u=e&&e.offset?e.offset:10,p=180-u,c=-180+u,f=360-u,h=1;h<o.length;++h){var g=o[h-1][0],P=o[h][0],y=Math.abs(P-g);y>f&&(P>p&&g<c||g>p&&P<c)?a=!0:y>s&&(s=y)}var S=[];if(a&&s<u){var d=[];S.push(d);for(var b=0;b<o.length;++b){var m=parseFloat(o[b][0]);if(b>0&&Math.abs(m-o[b-1][0])>f){var v=parseFloat(o[b-1][0]),M=parseFloat(o[b-1][1]),A=parseFloat(o[b][0]),O=parseFloat(o[b][1]);if(v>-180&&v<c&&180===A&&b+1<o.length&&o[b-1][0]>-180&&o[b-1][0]<c){d.push([-180,o[b][1]]),b++,d.push([o[b][0],o[b][1]]);continue}if(v>p&&v<180&&-180===A&&b+1<o.length&&o[b-1][0]>p&&o[b-1][0]<180){d.push([180,o[b][1]]),b++,d.push([o[b][0],o[b][1]]);continue}if(v<c&&A>p){var _=v;v=A,A=_;var L=M;M=O,O=L}if(v>p&&A<c&&(A+=360),v<=180&&A>=180&&v<A){var w=(180-v)/(A-v),x=w*O+(1-w)*M;d.push([o[b-1][0]>p?180:-180,x]),(d=[]).push([o[b-1][0]>p?-180:180,x]),S.push(d)}else d=[],S.push(d);d.push([m,o[b][1]])}else d.push([o[b][0],o[b][1]])}}else{var U=[];S.push(U);for(var E=0;E<o.length;++E)U.push([o[E][0],o[E][1]])}for(var T=new Og(this.properties),V=0;V<S.length;++V){var R=new Ag;T.geometries.push(R);for(var I=S[V],C=0;C<I.length;++C)R.move_to(I[C])}return T};o(6483);var Lg=[],wg=[],xg=[],Ug=[],Eg=[],Tg=[],Vg=[],Rg=[],Ig=[],Cg=[],jg=[],Ng=[],Dg=[],Bg=[],Yg=[],kg=[],Fg=[],zg=[],Gg=[],qg=[],Xg=[],Wg=[],Hg=[],Kg=[];Vg[85]=Cg[85]=-1,Rg[85]=jg[85]=0,Ig[85]=Ng[85]=1,Gg[85]=Wg[85]=1,qg[85]=Hg[85]=0,Xg[85]=Kg[85]=1,Lg[85]=Ug[85]=0,wg[85]=Eg[85]=-1,xg[85]=Yg[85]=0,kg[85]=Dg[85]=0,Fg[85]=Bg[85]=1,Tg[85]=zg[85]=1,Wg[1]=Wg[169]=0,Hg[1]=Hg[169]=-1,Kg[1]=Kg[169]=0,Dg[1]=Dg[169]=-1,Bg[1]=Bg[169]=0,Yg[1]=Yg[169]=0,Cg[4]=Cg[166]=0,jg[4]=jg[166]=-1,Ng[4]=Ng[166]=1,kg[4]=kg[166]=1,Fg[4]=Fg[166]=0,zg[4]=zg[166]=0,Vg[16]=Vg[154]=0,Rg[16]=Rg[154]=1,Ig[16]=Ig[154]=1,Ug[16]=Ug[154]=1,Eg[16]=Eg[154]=0,Tg[16]=Tg[154]=1,Gg[64]=Gg[106]=0,qg[64]=qg[106]=1,Xg[64]=Xg[106]=0,Lg[64]=Lg[106]=-1,wg[64]=wg[106]=0,xg[64]=xg[106]=1,Gg[2]=Gg[168]=0,qg[2]=qg[168]=-1,Xg[2]=Xg[168]=1,Wg[2]=Wg[168]=0,Hg[2]=Hg[168]=-1,Kg[2]=Kg[168]=0,Dg[2]=Dg[168]=-1,Bg[2]=Bg[168]=0,Yg[2]=Yg[168]=0,kg[2]=kg[168]=-1,Fg[2]=Fg[168]=0,zg[2]=zg[168]=1,Vg[8]=Vg[162]=0,Rg[8]=Rg[162]=-1,Ig[8]=Ig[162]=0,Cg[8]=Cg[162]=0,jg[8]=jg[162]=-1,Ng[8]=Ng[162]=1,Dg[8]=Dg[162]=1,Bg[8]=Bg[162]=0,Yg[8]=Yg[162]=1,kg[8]=kg[162]=1,Fg[8]=Fg[162]=0,zg[8]=zg[162]=0,Vg[32]=Vg[138]=0,Rg[32]=Rg[138]=1,Ig[32]=Ig[138]=1,Cg[32]=Cg[138]=0,jg[32]=jg[138]=1,Ng[32]=Ng[138]=0,Lg[32]=Lg[138]=1,wg[32]=wg[138]=0,xg[32]=xg[138]=0,Ug[32]=Ug[138]=1,Eg[32]=Eg[138]=0,Tg[32]=Tg[138]=1,Wg[128]=Wg[42]=0,Hg[128]=Hg[42]=1,Kg[128]=Kg[42]=1,Gg[128]=Gg[42]=0,qg[128]=qg[42]=1,Xg[128]=Xg[42]=0,Lg[128]=Lg[42]=-1,wg[128]=wg[42]=0,xg[128]=xg[42]=1,Ug[128]=Ug[42]=-1,Eg[128]=Eg[42]=0,Tg[128]=Tg[42]=0,Cg[5]=Cg[165]=-1,jg[5]=jg[165]=0,Ng[5]=Ng[165]=0,Wg[5]=Wg[165]=1,Hg[5]=Hg[165]=0,Kg[5]=Kg[165]=0,kg[20]=kg[150]=0,Fg[20]=Fg[150]=1,zg[20]=zg[150]=1,Ug[20]=Ug[150]=0,Eg[20]=Eg[150]=-1,Tg[20]=Tg[150]=1,Vg[80]=Vg[90]=-1,Rg[80]=Rg[90]=0,Ig[80]=Ig[90]=1,Gg[80]=Gg[90]=1,qg[80]=qg[90]=0,Xg[80]=Xg[90]=1,Dg[65]=Dg[105]=0,Bg[65]=Bg[105]=1,Yg[65]=Yg[105]=0,Lg[65]=Lg[105]=0,wg[65]=wg[105]=-1,xg[65]=xg[105]=0,Vg[160]=Vg[10]=-1,Rg[160]=Rg[10]=0,Ig[160]=Ig[10]=1,Cg[160]=Cg[10]=-1,jg[160]=jg[10]=0,Ng[160]=Ng[10]=0,Wg[160]=Wg[10]=1,Hg[160]=Hg[10]=0,Kg[160]=Kg[10]=0,Gg[160]=Gg[10]=1,qg[160]=qg[10]=0,Xg[160]=Xg[10]=1,kg[130]=kg[40]=0,Fg[130]=Fg[40]=1,zg[130]=zg[40]=1,Dg[130]=Dg[40]=0,Bg[130]=Bg[40]=1,Yg[130]=Yg[40]=0,Lg[130]=Lg[40]=0,wg[130]=wg[40]=-1,xg[130]=xg[40]=0,Ug[130]=Ug[40]=0,Eg[130]=Eg[40]=-1,Tg[130]=Tg[40]=1,Cg[37]=Cg[133]=0,jg[37]=jg[133]=1,Ng[37]=Ng[133]=1,Wg[37]=Wg[133]=0,Hg[37]=Hg[133]=1,Kg[37]=Kg[133]=0,Lg[37]=Lg[133]=-1,wg[37]=wg[133]=0,xg[37]=xg[133]=0,Ug[37]=Ug[133]=1,Eg[37]=Eg[133]=0,Tg[37]=Tg[133]=0,kg[148]=kg[22]=-1,Fg[148]=Fg[22]=0,zg[148]=zg[22]=0,Wg[148]=Wg[22]=0,Hg[148]=Hg[22]=-1,Kg[148]=Kg[22]=1,Gg[148]=Gg[22]=0,qg[148]=qg[22]=1,Xg[148]=Xg[22]=1,Ug[148]=Ug[22]=-1,Eg[148]=Eg[22]=0,Tg[148]=Tg[22]=1,Vg[82]=Vg[88]=0,Rg[82]=Rg[88]=-1,Ig[82]=Ig[88]=1,kg[82]=kg[88]=1,Fg[82]=Fg[88]=0,zg[82]=zg[88]=1,Dg[82]=Dg[88]=-1,Bg[82]=Bg[88]=0,Yg[82]=Yg[88]=1,Gg[82]=Gg[88]=0,qg[82]=qg[88]=-1,Xg[82]=Xg[88]=0,Vg[73]=Vg[97]=0,Rg[73]=Rg[97]=1,Ig[73]=Ig[97]=0,Cg[73]=Cg[97]=0,jg[73]=jg[97]=-1,Ng[73]=Ng[97]=0,Dg[73]=Dg[97]=1,Bg[73]=Bg[97]=0,Yg[73]=Yg[97]=0,Lg[73]=Lg[97]=1,wg[73]=wg[97]=0,xg[73]=xg[97]=1,Vg[145]=Vg[25]=0,Rg[145]=Rg[25]=-1,Ig[145]=Ig[25]=0,Dg[145]=Dg[25]=1,Bg[145]=Bg[25]=0,Yg[145]=Yg[25]=1,Wg[145]=Wg[25]=0,Hg[145]=Hg[25]=1,Kg[145]=Kg[25]=1,Ug[145]=Ug[25]=-1,Eg[145]=Eg[25]=0,Tg[145]=Tg[25]=0,Cg[70]=Cg[100]=0,jg[70]=jg[100]=1,Ng[70]=Ng[100]=0,kg[70]=kg[100]=-1,Fg[70]=Fg[100]=0,zg[70]=zg[100]=1,Gg[70]=Gg[100]=0,qg[70]=qg[100]=-1,Xg[70]=Xg[100]=1,Lg[70]=Lg[100]=1,wg[70]=wg[100]=0,xg[70]=xg[100]=0,Cg[101]=Cg[69]=0,jg[101]=jg[69]=1,Ng[101]=Ng[69]=0,Lg[101]=Lg[69]=1,wg[101]=wg[69]=0,xg[101]=xg[69]=0,Wg[149]=Wg[21]=0,Hg[149]=Hg[21]=1,Kg[149]=Kg[21]=1,Ug[149]=Ug[21]=-1,Eg[149]=Eg[21]=0,Tg[149]=Tg[21]=0,kg[86]=kg[84]=-1,Fg[86]=Fg[84]=0,zg[86]=zg[84]=1,Gg[86]=Gg[84]=0,qg[86]=qg[84]=-1,Xg[86]=Xg[84]=1,Vg[89]=Vg[81]=0,Rg[89]=Rg[81]=-1,Ig[89]=Ig[81]=0,Dg[89]=Dg[81]=1,Bg[89]=Bg[81]=0,Yg[89]=Yg[81]=1,Vg[96]=Vg[74]=0,Rg[96]=Rg[74]=1,Ig[96]=Ig[74]=0,Cg[96]=Cg[74]=-1,jg[96]=jg[74]=0,Ng[96]=Ng[74]=1,Gg[96]=Gg[74]=1,qg[96]=qg[74]=0,Xg[96]=Xg[74]=0,Lg[96]=Lg[74]=1,wg[96]=wg[74]=0,xg[96]=xg[74]=1,Vg[24]=Vg[146]=0,Rg[24]=Rg[146]=-1,Ig[24]=Ig[146]=1,kg[24]=kg[146]=1,Fg[24]=Fg[146]=0,zg[24]=zg[146]=1,Dg[24]=Dg[146]=0,Bg[24]=Bg[146]=1,Yg[24]=Yg[146]=1,Ug[24]=Ug[146]=0,Eg[24]=Eg[146]=-1,Tg[24]=Tg[146]=0,Cg[6]=Cg[164]=-1,jg[6]=jg[164]=0,Ng[6]=Ng[164]=1,kg[6]=kg[164]=-1,Fg[6]=Fg[164]=0,zg[6]=zg[164]=0,Wg[6]=Wg[164]=0,Hg[6]=Hg[164]=-1,Kg[6]=Kg[164]=1,Gg[6]=Gg[164]=1,qg[6]=qg[164]=0,Xg[6]=Xg[164]=0,Dg[129]=Dg[41]=0,Bg[129]=Bg[41]=1,Yg[129]=Yg[41]=1,Wg[129]=Wg[41]=0,Hg[129]=Hg[41]=1,Kg[129]=Kg[41]=0,Lg[129]=Lg[41]=-1,wg[129]=wg[41]=0,xg[129]=xg[41]=0,Ug[129]=Ug[41]=0,Eg[129]=Eg[41]=-1,Tg[129]=Tg[41]=0,kg[66]=kg[104]=0,Fg[66]=Fg[104]=1,zg[66]=zg[104]=0,Dg[66]=Dg[104]=-1,Bg[66]=Bg[104]=0,Yg[66]=Yg[104]=1,Gg[66]=Gg[104]=0,qg[66]=qg[104]=-1,Xg[66]=Xg[104]=0,Lg[66]=Lg[104]=0,wg[66]=wg[104]=-1,xg[66]=xg[104]=1,Vg[144]=Vg[26]=-1,Rg[144]=Rg[26]=0,Ig[144]=Ig[26]=0,Wg[144]=Wg[26]=1,Hg[144]=Hg[26]=0,Kg[144]=Kg[26]=1,Gg[144]=Gg[26]=0,qg[144]=qg[26]=1,Xg[144]=Xg[26]=1,Ug[144]=Ug[26]=-1,Eg[144]=Eg[26]=0,Tg[144]=Tg[26]=1,Cg[36]=Cg[134]=0,jg[36]=jg[134]=1,Ng[36]=Ng[134]=1,kg[36]=kg[134]=0,Fg[36]=Fg[134]=1,zg[36]=zg[134]=0,Lg[36]=Lg[134]=0,wg[36]=wg[134]=-1,xg[36]=xg[134]=1,Ug[36]=Ug[134]=1,Eg[36]=Eg[134]=0,Tg[36]=Tg[134]=0,Vg[9]=Vg[161]=-1,Rg[9]=Rg[161]=0,Ig[9]=Ig[161]=0,Cg[9]=Cg[161]=0,jg[9]=jg[161]=-1,Ng[9]=Ng[161]=0,Dg[9]=Dg[161]=1,Bg[9]=Bg[161]=0,Yg[9]=Yg[161]=0,Wg[9]=Wg[161]=1,Hg[9]=Hg[161]=0,Kg[9]=Kg[161]=1,Vg[136]=0,Rg[136]=1,Ig[136]=1,Cg[136]=0,jg[136]=1,Ng[136]=0,kg[136]=-1,Fg[136]=0,zg[136]=1,Dg[136]=-1,Bg[136]=0,Yg[136]=0,Wg[136]=0,Hg[136]=-1,Kg[136]=0,Gg[136]=0,qg[136]=-1,Xg[136]=1,Lg[136]=1,wg[136]=0,xg[136]=0,Ug[136]=1,Eg[136]=0,Tg[136]=1,Vg[34]=0,Rg[34]=-1,Ig[34]=0,Cg[34]=0,jg[34]=-1,Ng[34]=1,kg[34]=1,Fg[34]=0,zg[34]=0,Dg[34]=1,Bg[34]=0,Yg[34]=1,Wg[34]=0,Hg[34]=1,Kg[34]=1,Gg[34]=0,qg[34]=1,Xg[34]=0,Lg[34]=-1,wg[34]=0,xg[34]=1,Ug[34]=-1,Eg[34]=0,Tg[34]=0,Vg[35]=0,Rg[35]=1,Ig[35]=1,Cg[35]=0,jg[35]=-1,Ng[35]=1,kg[35]=1,Fg[35]=0,zg[35]=0,Dg[35]=-1,Bg[35]=0,Yg[35]=0,Wg[35]=0,Hg[35]=-1,Kg[35]=0,Gg[35]=0,qg[35]=1,Xg[35]=0,Lg[35]=-1,wg[35]=0,xg[35]=1,Ug[35]=1,Eg[35]=0,Tg[35]=1,Vg[153]=0,Rg[153]=1,Ig[153]=1,Dg[153]=-1,Bg[153]=0,Yg[153]=0,Wg[153]=0,Hg[153]=-1,Kg[153]=0,Ug[153]=1,Eg[153]=0,Tg[153]=1,Cg[102]=0,jg[102]=-1,Ng[102]=1,kg[102]=1,Fg[102]=0,zg[102]=0,Gg[102]=0,qg[102]=1,Xg[102]=0,Lg[102]=-1,wg[102]=0,xg[102]=1,Vg[155]=0,Rg[155]=-1,Ig[155]=0,Dg[155]=1,Bg[155]=0,Yg[155]=1,Wg[155]=0,Hg[155]=1,Kg[155]=1,Ug[155]=-1,Eg[155]=0,Tg[155]=0,Cg[103]=0,jg[103]=1,Ng[103]=0,kg[103]=-1,Fg[103]=0,zg[103]=1,Gg[103]=0,qg[103]=-1,Xg[103]=1,Lg[103]=1,wg[103]=0,xg[103]=0,Vg[152]=0,Rg[152]=1,Ig[152]=1,kg[152]=-1,Fg[152]=0,zg[152]=1,Dg[152]=-1,Bg[152]=0,Yg[152]=0,Wg[152]=0,Hg[152]=-1,Kg[152]=0,Gg[152]=0,qg[152]=-1,Xg[152]=1,Ug[152]=1,Eg[152]=0,Tg[152]=1,Vg[156]=0,Rg[156]=-1,Ig[156]=1,kg[156]=1,Fg[156]=0,zg[156]=1,Dg[156]=-1,Bg[156]=0,Yg[156]=0,Wg[156]=0,Hg[156]=-1,Kg[156]=0,Gg[156]=0,qg[156]=1,Xg[156]=1,Ug[156]=-1,Eg[156]=0,Tg[156]=1,Vg[137]=0,Rg[137]=1,Ig[137]=1,Cg[137]=0,jg[137]=1,Ng[137]=0,Dg[137]=-1,Bg[137]=0,Yg[137]=0,Wg[137]=0,Hg[137]=-1,Kg[137]=0,Lg[137]=1,wg[137]=0,xg[137]=0,Ug[137]=1,Eg[137]=0,Tg[137]=1,Vg[139]=0,Rg[139]=1,Ig[139]=1,Cg[139]=0,jg[139]=-1,Ng[139]=0,Dg[139]=1,Bg[139]=0,Yg[139]=0,Wg[139]=0,Hg[139]=1,Kg[139]=0,Lg[139]=-1,wg[139]=0,xg[139]=0,Ug[139]=1,Eg[139]=0,Tg[139]=1,Vg[98]=0,Rg[98]=-1,Ig[98]=0,Cg[98]=0,jg[98]=-1,Ng[98]=1,kg[98]=1,Fg[98]=0,zg[98]=0,Dg[98]=1,Bg[98]=0,Yg[98]=1,Gg[98]=0,qg[98]=1,Xg[98]=0,Lg[98]=-1,wg[98]=0,xg[98]=1,Vg[99]=0,Rg[99]=1,Ig[99]=0,Cg[99]=0,jg[99]=-1,Ng[99]=1,kg[99]=1,Fg[99]=0,zg[99]=0,Dg[99]=-1,Bg[99]=0,Yg[99]=1,Gg[99]=0,qg[99]=-1,Xg[99]=0,Lg[99]=1,wg[99]=0,xg[99]=1,Cg[38]=0,jg[38]=-1,Ng[38]=1,kg[38]=1,Fg[38]=0,zg[38]=0,Wg[38]=0,Hg[38]=1,Kg[38]=1,Gg[38]=0,qg[38]=1,Xg[38]=0,Lg[38]=-1,wg[38]=0,xg[38]=1,Ug[38]=-1,Eg[38]=0,Tg[38]=0,Cg[39]=0,jg[39]=1,Ng[39]=1,kg[39]=-1,Fg[39]=0,zg[39]=0,Wg[39]=0,Hg[39]=-1,Kg[39]=1,Gg[39]=0,qg[39]=1,Xg[39]=0,Lg[39]=-1,wg[39]=0,xg[39]=1,Ug[39]=1,Eg[39]=0,Tg[39]=0;var Jg=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Zg=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Qg=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},$g=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},tP=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},eP=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},oP=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},nP=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},rP=[],iP=[],lP=[],aP=[],sP=[],uP=[],pP=[],cP=[];aP[1]=sP[1]=18,aP[169]=sP[169]=18,lP[4]=iP[4]=12,lP[166]=iP[166]=12,rP[16]=cP[16]=4,rP[154]=cP[154]=4,uP[64]=pP[64]=22,uP[106]=pP[106]=22,lP[2]=uP[2]=17,aP[2]=sP[2]=18,lP[168]=uP[168]=17,aP[168]=sP[168]=18,rP[8]=aP[8]=9,iP[8]=lP[8]=12,rP[162]=aP[162]=9,iP[162]=lP[162]=12,rP[32]=cP[32]=4,iP[32]=pP[32]=1,rP[138]=cP[138]=4,iP[138]=pP[138]=1,sP[128]=cP[128]=21,uP[128]=pP[128]=22,sP[42]=cP[42]=21,uP[42]=pP[42]=22,iP[5]=sP[5]=14,iP[165]=sP[165]=14,lP[20]=cP[20]=6,lP[150]=cP[150]=6,rP[80]=uP[80]=11,rP[90]=uP[90]=11,aP[65]=pP[65]=3,aP[105]=pP[105]=3,rP[160]=uP[160]=11,iP[160]=sP[160]=14,rP[10]=uP[10]=11,iP[10]=sP[10]=14,lP[130]=cP[130]=6,aP[130]=pP[130]=3,lP[40]=cP[40]=6,aP[40]=pP[40]=3,iP[101]=pP[101]=1,iP[69]=pP[69]=1,sP[149]=cP[149]=21,sP[21]=cP[21]=21,lP[86]=uP[86]=17,lP[84]=uP[84]=17,rP[89]=aP[89]=9,rP[81]=aP[81]=9,rP[96]=pP[96]=0,iP[96]=uP[96]=15,rP[74]=pP[74]=0,iP[74]=uP[74]=15,rP[24]=lP[24]=8,aP[24]=cP[24]=7,rP[146]=lP[146]=8,aP[146]=cP[146]=7,iP[6]=uP[6]=15,lP[6]=sP[6]=16,iP[164]=uP[164]=15,lP[164]=sP[164]=16,aP[129]=cP[129]=7,sP[129]=pP[129]=20,aP[41]=cP[41]=7,sP[41]=pP[41]=20,lP[66]=pP[66]=2,aP[66]=uP[66]=19,lP[104]=pP[104]=2,aP[104]=uP[104]=19,rP[144]=sP[144]=10,uP[144]=cP[144]=23,rP[26]=sP[26]=10,uP[26]=cP[26]=23,iP[36]=cP[36]=5,lP[36]=pP[36]=2,iP[134]=cP[134]=5,lP[134]=pP[134]=2,rP[9]=sP[9]=10,iP[9]=aP[9]=13,rP[161]=sP[161]=10,iP[161]=aP[161]=13,iP[37]=cP[37]=5,sP[37]=pP[37]=20,iP[133]=cP[133]=5,sP[133]=pP[133]=20,lP[148]=sP[148]=16,uP[148]=cP[148]=23,lP[22]=sP[22]=16,uP[22]=cP[22]=23,rP[82]=lP[82]=8,aP[82]=uP[82]=19,rP[88]=lP[88]=8,aP[88]=uP[88]=19,rP[73]=pP[73]=0,iP[73]=aP[73]=13,rP[97]=pP[97]=0,iP[97]=aP[97]=13,rP[145]=aP[145]=9,sP[145]=cP[145]=21,rP[25]=aP[25]=9,sP[25]=cP[25]=21,iP[70]=pP[70]=1,lP[70]=uP[70]=17,iP[100]=pP[100]=1,lP[100]=uP[100]=17,rP[34]=aP[34]=9,iP[34]=lP[34]=12,sP[34]=cP[34]=21,uP[34]=pP[34]=22,rP[136]=cP[136]=4,iP[136]=pP[136]=1,lP[136]=uP[136]=17,aP[136]=sP[136]=18,rP[35]=cP[35]=4,iP[35]=lP[35]=12,aP[35]=sP[35]=18,uP[35]=pP[35]=22,rP[153]=cP[153]=4,aP[153]=sP[153]=18,iP[102]=lP[102]=12,uP[102]=pP[102]=22,rP[155]=aP[155]=9,sP[155]=cP[155]=23,iP[103]=pP[103]=1,lP[103]=uP[103]=17,rP[152]=cP[152]=4,lP[152]=uP[152]=17,aP[152]=sP[152]=18,rP[156]=lP[156]=8,aP[156]=sP[156]=18,uP[156]=cP[156]=23,rP[137]=cP[137]=4,iP[137]=pP[137]=1,aP[137]=sP[137]=18,rP[139]=cP[139]=4,iP[139]=aP[139]=13,sP[139]=pP[139]=20,rP[98]=aP[98]=9,iP[98]=lP[98]=12,uP[98]=pP[98]=22,rP[99]=pP[99]=0,iP[99]=lP[99]=12,aP[99]=uP[99]=19,iP[38]=lP[38]=12,sP[38]=cP[38]=21,uP[38]=pP[38]=22,iP[39]=cP[39]=5,lP[39]=sP[39]=16,uP[39]=pP[39]=22;var fP=[];fP[1]=fP[169]=Jg,fP[4]=fP[166]=Zg,fP[16]=fP[154]=Qg,fP[64]=fP[106]=$g,fP[168]=fP[2]=tP,fP[162]=fP[8]=eP,fP[138]=fP[32]=oP,fP[42]=fP[128]=nP,fP[5]=fP[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},fP[20]=fP[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},fP[80]=fP[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},fP[65]=fP[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},fP[160]=fP[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},fP[130]=fP[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},fP[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},fP[101]=fP[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},fP[149]=fP[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},fP[86]=fP[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},fP[89]=fP[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},fP[96]=fP[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},fP[24]=fP[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},fP[6]=fP[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},fP[129]=fP[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},fP[66]=fP[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},fP[144]=fP[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},fP[36]=fP[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},fP[9]=fP[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},fP[37]=fP[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},fP[148]=fP[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},fP[82]=fP[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},fP[73]=fP[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},fP[145]=fP[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},fP[70]=fP[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},fP[34]=function(t){return[nP(t),eP(t)]},fP[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},fP[136]=function(t){return[oP(t),tP(t)]},fP[153]=function(t){return[Qg(t),Jg(t)]},fP[102]=function(t){return[Zg(t),$g(t)]},fP[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},fP[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},fP[152]=function(t){return[Qg(t),tP(t)]},fP[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},fP[137]=function(t){return[oP(t),Jg(t)]},fP[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},fP[98]=function(t){return[eP(t),$g(t)]},fP[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},fP[38]=function(t){return[Zg(t),nP(t)]},fP[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};function hP(t,e,o){var n,r=e[0]-t[0],i=e[1]-t[1],l=o[0]-e[0],a=o[1]-e[1];return((n=r*a-l*i)>0)-(n<0)||+n}function gP(t,e){return e.geometry.coordinates[0].every(function(e){return yg(lg(e),t)})}var PP=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,o){var n=e.to,r=o.to;if(n.coordinates[0]-t.coordinates[0]>=0&&r.coordinates[0]-t.coordinates[0]<0)return 1;if(n.coordinates[0]-t.coordinates[0]<0&&r.coordinates[0]-t.coordinates[0]>=0)return-1;if(n.coordinates[0]-t.coordinates[0]==0&&r.coordinates[0]-t.coordinates[0]==0)return n.coordinates[1]-t.coordinates[1]>=0||r.coordinates[1]-t.coordinates[1]>=0?n.coordinates[1]-r.coordinates[1]:r.coordinates[1]-n.coordinates[1];var i=hP(t.coordinates,n.coordinates,r.coordinates);return i<0?1:i>0?-1:Math.pow(n.coordinates[0]-t.coordinates[0],2)+Math.pow(n.coordinates[1]-t.coordinates[1],2)-(Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}(),yP=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return sg([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return hP(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}(),SP=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,o,n){return o.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=n),e},0),o=(0===e?this.length:e)-1,n=(e+1)%this.length,r=hP(this.edges[o].from.coordinates,this.edges[e].from.coordinates,this.edges[n].from.coordinates);return 0===r?this.edges[o].from.coordinates[0]>this.edges[n].from.coordinates[0]:r>0},t.prototype.toMultiPoint=function(){return ug(this.edges.map(function(t){return t.from.coordinates}))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=ag([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=bg(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var o,n,r=t.getEnvelope();return e.forEach(function(e){var i,l,a,s,u,p,c=e.getEnvelope();if((n&&(o=n.getEnvelope()),l=r,a=(i=c).geometry.coordinates[0].map(function(t){return t[0]}),s=i.geometry.coordinates[0].map(function(t){return t[1]}),u=l.geometry.coordinates[0].map(function(t){return t[0]}),p=l.geometry.coordinates[0].map(function(t){return t[1]}),Math.max.apply(null,a)!==Math.max.apply(null,u)||Math.max.apply(null,s)!==Math.max.apply(null,p)||Math.min.apply(null,a)!==Math.min.apply(null,u)||Math.min.apply(null,s)!==Math.min.apply(null,p))&&gP(c,r)){for(var f=void 0,h=function(t){e.some(function(e){return o=t,n=e.from.coordinates,o[0]===n[0]&&o[1]===n[1];var o,n})||(f=t)},g=0,P=t.map(function(t){return t.from.coordinates});g<P.length;g++){h(P[g])}f&&e.inside(lg(f))&&(n&&!gP(o,c)||(n=e))}}),n},t.prototype.inside=function(t){return yg(t,this.toPolygon())},t}();!function(){function t(){this.edges=[],this.nodes={}}t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var o=new t;return hg(e,function(t){var e,n,r,i;!function(t,e,o){if(!t)throw new Error("No feature passed");if(!o)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+o+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+o+": must be a "+e+", given "+t.geometry.type)}(t,"LineString","Graph::fromGeoJson"),e=function(t,e){if(t){var n=o.getNode(t),r=o.getNode(e);o.addEdge(n,r)}return e},i=n,cg(t,function(t,o,r,l,a){i=0===o&&void 0===n?t:e(i,t,o,r,l,a)},r)}),o},t.prototype.getNode=function(t){var e=PP.buildId(t),o=this.nodes[e];return o||(o=this.nodes[e]=new PP(t)),o},t.prototype.addEdge=function(t,e){var o=new yP(t,e),n=o.getSymetric();this.edges.push(o),this.edges.push(n)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var o=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),o.forEach(function(t){return e._removeIfDangle(t)})}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},t.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,o){t.getOuterEdge((0===o?t.getOuterEdges().length:o)-1).symetric.next=e})},t.prototype._computeNextCCWEdges=function(t,e){for(var o,n,r=t.getOuterEdges(),i=r.length-1;i>=0;--i){var l=r[i],a=l.symetric,s=void 0,u=void 0;l.label===e&&(s=l),a.label===e&&(u=a),s&&u&&(u&&(n=u),s&&(n&&(n.next=s,n=void 0),o||(o=s)))}n&&(n.next=o)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(o){if(!(o.label>=0)){t.push(o);var n=o;do{n.label=e,n=n.next}while(!o.isEqual(n));e++}}),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(o){t._computeNextCCWEdges(o,e.label)})});var e=[];return this.edges.forEach(function(o){o.ring||e.push(t._findEdgeRing(o))}),e},t.prototype._findIntersectionNodes=function(t){var e=[],o=t,n=function(){var n=0;o.from.getOuterEdges().forEach(function(e){e.label===t.label&&++n}),n>1&&e.push(o.from),o=o.next};do{n()}while(!t.isEqual(o));return e},t.prototype._findEdgeRing=function(t){var e=t,o=new SP;do{o.push(e),e.ring=o,e=e.next}while(!t.isEqual(e));return o},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()}}();o(1577);o(8328);o(9917);function dP(t){for(var e=t,o=[];e.parent;)o.unshift(e),e=e.parent;return o}var bP={search:function(t,e,o,n){t.cleanDirty();var r=(n=n||{}).heuristic||bP.heuristics.manhattan,i=n.closest||!1,l=new MP(function(t){return t.f}),a=e;for(e.h=r(e,o),l.push(e);l.size()>0;){var s=l.pop();if(s===o)return dP(s);s.closed=!0;for(var u=t.neighbors(s),p=0,c=u.length;p<c;++p){var f=u[p];if(!f.closed&&!f.isWall()){var h=s.g+f.getCost(s),g=f.visited;(!g||h<f.g)&&(f.visited=!0,f.parent=s,f.h=f.h||r(f,o),f.g=h,f.f=f.g+f.h,t.markDirty(f),i&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),g?l.rescoreElement(f):l.push(f))}}}return i?dP(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var o=Math.sqrt(2),n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return 1*(n+r)+(o-2)*Math.min(n,r)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function mP(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var o=0;o<t.length;o++){this.grid[o]=[];for(var n=0,r=t[o];n<r.length;n++){var i=new vP(o,n,r[n]);this.grid[o][n]=i,this.nodes.push(i)}}this.init()}function vP(t,e,o){this.x=t,this.y=e,this.weight=o}function MP(t){this.content=[],this.scoreFunction=t}mP.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)bP.cleanNode(this.nodes[t])},mP.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)bP.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},mP.prototype.markDirty=function(t){this.dirtyNodes.push(t)},mP.prototype.neighbors=function(t){var e=[],o=t.x,n=t.y,r=this.grid;return r[o-1]&&r[o-1][n]&&e.push(r[o-1][n]),r[o+1]&&r[o+1][n]&&e.push(r[o+1][n]),r[o]&&r[o][n-1]&&e.push(r[o][n-1]),r[o]&&r[o][n+1]&&e.push(r[o][n+1]),this.diagonal&&(r[o-1]&&r[o-1][n-1]&&e.push(r[o-1][n-1]),r[o+1]&&r[o+1][n-1]&&e.push(r[o+1][n-1]),r[o-1]&&r[o-1][n+1]&&e.push(r[o-1][n+1]),r[o+1]&&r[o+1][n+1]&&e.push(r[o+1][n+1])),e},mP.prototype.toString=function(){for(var t,e,o,n,r=[],i=this.grid,l=0,a=i.length;l<a;l++){for(t=[],o=0,n=(e=i[l]).length;o<n;o++)t.push(e[o].weight);r.push(t.join(" "))}return r.join("\n")},vP.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},vP.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},vP.prototype.isWall=function(){return 0===this.weight},MP.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),o=this.content.pop();e!==this.content.length-1&&(this.content[e]=o,this.scoreFunction(o)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var o=(t+1>>1)-1,n=this.content[o];if(!(this.scoreFunction(e)<this.scoreFunction(n)))break;this.content[o]=e,this.content[t]=n,t=o}},bubbleUp:function(t){for(var e=this.content.length,o=this.content[t],n=this.scoreFunction(o);;){var r,i=t+1<<1,l=i-1,a=null;if(l<e){var s=this.content[l];(r=this.scoreFunction(s))<n&&(a=l)}if(i<e){var u=this.content[i];this.scoreFunction(u)<(null===a?n:r)&&(a=i)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=o,t=a}}};function AP(){this._=null}function OP(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function _P(t,e){var o=e,n=e.R,r=o.U;r?r.L===o?r.L=n:r.R=n:t._=n,n.U=r,o.U=n,o.R=n.L,o.R&&(o.R.U=o),n.L=o}function LP(t,e){var o=e,n=e.L,r=o.U;r?r.L===o?r.L=n:r.R=n:t._=n,n.U=r,o.U=n,o.L=n.R,o.L&&(o.L.U=o),n.R=o}function wP(t){for(;t.L;)t=t.L;return t}AP.prototype={constructor:AP,insert:function(t,e){var o,n,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;o=t}else this._?(t=wP(this._),e.P=null,e.N=t,t.P=t.L=e,o=t):(e.P=e.N=null,this._=e,o=null);for(e.L=e.R=null,e.U=o,e.C=!0,t=e;o&&o.C;)o===(n=o.U).L?(r=n.R)&&r.C?(o.C=r.C=!1,n.C=!0,t=n):(t===o.R&&(_P(this,o),o=(t=o).U),o.C=!1,n.C=!0,LP(this,n)):(r=n.L)&&r.C?(o.C=r.C=!1,n.C=!0,t=n):(t===o.L&&(LP(this,o),o=(t=o).U),o.C=!1,n.C=!0,_P(this,n)),o=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,o,n,r=t.U,i=t.L,l=t.R;if(o=i?l?wP(l):i:l,r?r.L===t?r.L=o:r.R=o:this._=o,i&&l?(n=o.C,o.C=t.C,o.L=i,i.U=o,o!==l?(r=o.U,o.U=t.U,t=o.R,r.L=t,o.R=l,l.U=o):(o.U=r,r=o,t=o.R)):(n=t.C,t=o),t&&(t.U=r),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,_P(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,LP(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,_P(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,LP(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,_P(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,LP(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var xP=AP;function UP(t,e,o,n){var r=[null,null],i=ZP.push(r)-1;return r.left=t,r.right=e,o&&TP(r,t,e,o),n&&TP(r,e,t,n),KP[t.index].halfedges.push(i),KP[e.index].halfedges.push(i),r}function EP(t,e,o){var n=[e,o];return n.left=t,n}function TP(t,e,o,n){t[0]||t[1]?t.left===o?t[1]=n:t[0]=n:(t[0]=n,t.left=e,t.right=o)}function VP(t,e,o,n,r){var i,l=t[0],a=t[1],s=l[0],u=l[1],p=0,c=1,f=a[0]-s,h=a[1]-u;if(i=e-s,f||!(i>0)){if(i/=f,f<0){if(i<p)return;i<c&&(c=i)}else if(f>0){if(i>c)return;i>p&&(p=i)}if(i=n-s,f||!(i<0)){if(i/=f,f<0){if(i>c)return;i>p&&(p=i)}else if(f>0){if(i<p)return;i<c&&(c=i)}if(i=o-u,h||!(i>0)){if(i/=h,h<0){if(i<p)return;i<c&&(c=i)}else if(h>0){if(i>c)return;i>p&&(p=i)}if(i=r-u,h||!(i<0)){if(i/=h,h<0){if(i>c)return;i>p&&(p=i)}else if(h>0){if(i<p)return;i<c&&(c=i)}return!(p>0||c<1)||(p>0&&(t[0]=[s+p*f,u+p*h]),c<1&&(t[1]=[s+c*f,u+c*h]),!0)}}}}}function RP(t,e,o,n,r){var i=t[1];if(i)return!0;var l,a,s=t[0],u=t.left,p=t.right,c=u[0],f=u[1],h=p[0],g=p[1],P=(c+h)/2,y=(f+g)/2;if(g===f){if(P<e||P>=n)return;if(c>h){if(s){if(s[1]>=r)return}else s=[P,o];i=[P,r]}else{if(s){if(s[1]<o)return}else s=[P,r];i=[P,o]}}else if(a=y-(l=(c-h)/(g-f))*P,l<-1||l>1)if(c>h){if(s){if(s[1]>=r)return}else s=[(o-a)/l,o];i=[(r-a)/l,r]}else{if(s){if(s[1]<o)return}else s=[(r-a)/l,r];i=[(o-a)/l,o]}else if(f<g){if(s){if(s[0]>=n)return}else s=[e,l*e+a];i=[n,l*n+a]}else{if(s){if(s[0]<e)return}else s=[n,l*n+a];i=[e,l*e+a]}return t[0]=s,t[1]=i,!0}function IP(t,e){var o=t.site,n=e.left,r=e.right;return o===r&&(r=n,n=o),r?Math.atan2(r[1]-n[1],r[0]-n[0]):(o===n?(n=e[1],r=e[0]):(n=e[0],r=e[1]),Math.atan2(n[0]-r[0],r[1]-n[1]))}function CP(t,e){return e[+(e.left!==t.site)]}function jP(t,e){return e[+(e.left===t.site)]}var NP,DP=[];function BP(t){var e=t.P,o=t.N;if(e&&o){var n=e.site,r=t.site,i=o.site;if(n!==i){var l=r[0],a=r[1],s=n[0]-l,u=n[1]-a,p=i[0]-l,c=i[1]-a,f=2*(s*c-u*p);if(!(f>=-$P)){var h=s*s+u*u,g=p*p+c*c,P=(c*h-u*g)/f,y=(s*g-p*h)/f,S=DP.pop()||new function(){OP(this),this.x=this.y=this.arc=this.site=this.cy=null};S.arc=t,S.site=r,S.x=P+l,S.y=(S.cy=y+a)+Math.sqrt(P*P+y*y),t.circle=S;for(var d=null,b=JP._;b;)if(S.y<b.y||S.y===b.y&&S.x<=b.x){if(!b.L){d=b.P;break}b=b.L}else{if(!b.R){d=b;break}b=b.R}JP.insert(d,S),d||(NP=S)}}}}function YP(t){var e=t.circle;e&&(e.P||(NP=e.N),JP.remove(e),DP.push(e),OP(e),t.circle=null)}var kP=[];function FP(t){var e=kP.pop()||new function(){OP(this),this.edge=this.site=this.circle=null};return e.site=t,e}function zP(t){YP(t),HP.remove(t),kP.push(t),OP(t)}function GP(t){var e=t.circle,o=e.x,n=e.cy,r=[o,n],i=t.P,l=t.N,a=[t];zP(t);for(var s=i;s.circle&&Math.abs(o-s.circle.x)<QP&&Math.abs(n-s.circle.cy)<QP;)i=s.P,a.unshift(s),zP(s),s=i;a.unshift(s),YP(s);for(var u=l;u.circle&&Math.abs(o-u.circle.x)<QP&&Math.abs(n-u.circle.cy)<QP;)l=u.N,a.push(u),zP(u),u=l;a.push(u),YP(u);var p,c=a.length;for(p=1;p<c;++p)u=a[p],s=a[p-1],TP(u.edge,s.site,u.site,r);s=a[0],(u=a[c-1]).edge=UP(s.site,u.site,null,r),BP(s),BP(u)}function qP(t){for(var e,o,n,r,i=t[0],l=t[1],a=HP._;a;)if((n=XP(a,l)-i)>QP)a=a.L;else{if(!((r=i-WP(a,l))>QP)){n>-QP?(e=a.P,o=a):r>-QP?(e=a,o=a.N):e=o=a;break}if(!a.R){e=a;break}a=a.R}!function(t){KP[t.index]={site:t,halfedges:[]}}(t);var s=FP(t);if(HP.insert(e,s),e||o){if(e===o)return YP(e),o=FP(e.site),HP.insert(s,o),s.edge=o.edge=UP(e.site,s.site),BP(e),void BP(o);if(o){YP(e),YP(o);var u=e.site,p=u[0],c=u[1],f=t[0]-p,h=t[1]-c,g=o.site,P=g[0]-p,y=g[1]-c,S=2*(f*y-h*P),d=f*f+h*h,b=P*P+y*y,m=[(y*d-h*b)/S+p,(f*b-P*d)/S+c];TP(o.edge,u,g,m),s.edge=UP(u,t,null,m),o.edge=UP(t,g,null,m),BP(e),BP(o)}else s.edge=UP(e.site,s.site)}}function XP(t,e){var o=t.site,n=o[0],r=o[1],i=r-e;if(!i)return n;var l=t.P;if(!l)return-1/0;var a=(o=l.site)[0],s=o[1],u=s-e;if(!u)return a;var p=a-n,c=1/i-1/u,f=p/u;return c?(-f+Math.sqrt(f*f-2*c*(p*p/(-2*u)-s+u/2+r-i/2)))/c+n:(n+a)/2}function WP(t,e){var o=t.N;if(o)return XP(o,e);var n=t.site;return n[1]===e?n[0]:1/0}var HP,KP,JP,ZP,QP=1e-6,$P=1e-12;function ty(t,e){return e[1]-t[1]||e[0]-t[0]}function ey(t,e){var o,n,r,i=t.sort(ty).pop();for(ZP=[],KP=new Array(t.length),HP=new xP,JP=new xP;;)if(r=NP,i&&(!r||i[1]<r.y||i[1]===r.y&&i[0]<r.x))i[0]===o&&i[1]===n||(qP(i),o=i[0],n=i[1]),i=t.pop();else{if(!r)break;GP(r.arc)}if(function(){for(var t,e,o,n,r=0,i=KP.length;r<i;++r)if((t=KP[r])&&(n=(e=t.halfedges).length)){var l=new Array(n),a=new Array(n);for(o=0;o<n;++o)l[o]=o,a[o]=IP(t,ZP[e[o]]);for(l.sort(function(t,e){return a[e]-a[t]}),o=0;o<n;++o)a[o]=e[l[o]];for(o=0;o<n;++o)e[o]=a[o]}}(),e){var l=+e[0][0],a=+e[0][1],s=+e[1][0],u=+e[1][1];!function(t,e,o,n){for(var r,i=ZP.length;i--;)RP(r=ZP[i],t,e,o,n)&&VP(r,t,e,o,n)&&(Math.abs(r[0][0]-r[1][0])>QP||Math.abs(r[0][1]-r[1][1])>QP)||delete ZP[i]}(l,a,s,u),function(t,e,o,n){var r,i,l,a,s,u,p,c,f,h,g,P,y=KP.length,S=!0;for(r=0;r<y;++r)if(i=KP[r]){for(l=i.site,a=(s=i.halfedges).length;a--;)ZP[s[a]]||s.splice(a,1);for(a=0,u=s.length;a<u;)g=(h=jP(i,ZP[s[a]]))[0],P=h[1],c=(p=CP(i,ZP[s[++a%u]]))[0],f=p[1],(Math.abs(g-c)>QP||Math.abs(P-f)>QP)&&(s.splice(a,0,ZP.push(EP(l,h,Math.abs(g-t)<QP&&n-P>QP?[t,Math.abs(c-t)<QP?f:n]:Math.abs(P-n)<QP&&o-g>QP?[Math.abs(f-n)<QP?c:o,n]:Math.abs(g-o)<QP&&P-e>QP?[o,Math.abs(c-o)<QP?f:e]:Math.abs(P-e)<QP&&g-t>QP?[Math.abs(f-e)<QP?c:t,e]:null))-1),++u);u&&(S=!1)}if(S){var d,b,m,v=1/0;for(r=0,S=null;r<y;++r)(i=KP[r])&&(m=(d=(l=i.site)[0]-t)*d+(b=l[1]-e)*b)<v&&(v=m,S=i);if(S){var M=[t,e],A=[t,n],O=[o,n],_=[o,e];S.halfedges.push(ZP.push(EP(l=S.site,M,A))-1,ZP.push(EP(l,A,O))-1,ZP.push(EP(l,O,_))-1,ZP.push(EP(l,_,M))-1)}}for(r=0;r<y;++r)(i=KP[r])&&(i.halfedges.length||delete KP[r])}(l,a,s,u)}this.edges=ZP,this.cells=KP,HP=JP=ZP=KP=null}ey.prototype={constructor:ey,polygons:function(){var t=this.edges;return this.cells.map(function(e){var o=e.halfedges.map(function(o){return CP(e,t[o])});return o.data=e.site.data,o})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(o,n){if(i=(r=o.halfedges).length)for(var r,i,l,a,s,u,p=o.site,c=-1,f=e[r[i-1]],h=f.left===p?f.right:f.left;++c<i;)l=h,h=(f=e[r[c]]).left===p?f.right:f.left,l&&h&&n<l.index&&n<h.index&&(s=l,u=h,((a=p)[0]-u[0])*(s[1]-a[1])-(a[0]-s[0])*(u[1]-a[1])<0)&&t.push([p.data,l.data,h.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,o){for(var n,r,i=this,l=i._found||0,a=i.cells.length;!(r=i.cells[l]);)if(++l>=a)return null;var s=t-r.site[0],u=e-r.site[1],p=s*s+u*u;do{r=i.cells[n=l],l=null,r.halfedges.forEach(function(o){var n=i.edges[o],a=n.left;if(a!==r.site&&a||(a=n.right)){var s=t-a[0],u=e-a[1],c=s*s+u*u;c<p&&(p=c,l=a.index)}})}while(null!==l);return i._found=n,null==o||p<=o*o?r.site:null}};function oy(t,e){var o,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){l.label=i[1];break}if(6===i[0]&&l.label<r[1]){l.label=r[1],r=i;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(i);break}r[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var ny=function(){return function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null}}();function ry(t,e){return t>e?1:t<e?-1:0}function iy(t,e,o){for(var n=new ny(null,null),r=n,i=n;;){var l=o(t,e.key);if(l<0){if(null===e.left)break;if(o(t,e.left.key)<0){var a=e.left;if(e.left=a.right,a.right=e,null===(e=a).left)break}i.left=e,i=e,e=e.left}else{if(!(l>0))break;if(null===e.right)break;if(o(t,e.right.key)>0){a=e.right;if(e.right=a.left,a.left=e,null===(e=a).right)break}r.right=e,r=e,e=e.right}}return r.right=e.left,i.left=e.right,e.left=n.right,e.right=n.left,e}function ly(t,e,o,n){var r=new ny(t,e);if(null===o)return r.left=r.right=null,r;var i=n(t,(o=iy(t,o,n)).key);return i<0?(r.left=o.left,r.right=o,o.left=null):i>=0&&(r.right=o.right,r.left=o,o.right=null),r}function ay(t,e,o){var n=null,r=null;if(e){var i=o((e=iy(t,e,o)).key,t);0===i?(n=e.left,r=e.right):i<0?(r=e.right,e.right=null,n=e):(n=e.left,e.left=null,r=e)}return{left:n,right:r}}var sy=function(){function t(t){void 0===t&&(t=ry),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=ly(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var o=new ny(t,e);null===this._root&&(o.left=o.right=null,this._size++,this._root=o);var n=this._comparator,r=iy(t,this._root,n),i=n(t,r.key);return 0===i?this._root=r:(i<0?(o.left=r.left,o.right=r,r.left=null):i>0&&(o.right=r.right,o.left=r,r.right=null),this._size++,this._root=o),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,o){var n;return null===e?null:0===o(t,(e=iy(t,e,o)).key)?(null===e.left?n=e.right:(n=iy(t,e.left,o)).right=e.right,this._size--,n):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=iy(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,o=this._comparator;e;){var n=o(t,e.key);if(0===n)return e;e=n<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=iy(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,o=this._comparator;e;){var n=o(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var o=this._root,n=[],r=!1;!r;)null!==o?(n.push(o),o=o.left):0!==n.length?(o=n.pop(),t.call(e,o),o=o.right):r=!0;return this},t.prototype.range=function(t,e,o,n){for(var r=[],i=this._comparator,l=this._root;0!==r.length||l;)if(l)r.push(l),l=l.left;else{if(i((l=r.pop()).key,e)>0)break;if(i(l.key,t)>=0&&o.call(n,l))return this;l=l.right}return this},t.prototype.keys=function(){var t=[];return this.forEach(function(e){var o=e.key;return t.push(o)}),t},t.prototype.values=function(){var t=[];return this.forEach(function(e){var o=e.data;return t.push(o)}),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,o=!1,n=0,r=[];!o;)if(e)r.push(e),e=e.left;else if(r.length>0){if(e=r.pop(),n===t)return e;n++,e=e.right}else o=!0;return null},t.prototype.next=function(t){var e=this._root,o=null;if(t.right){for(o=t.right;o.left;)o=o.left;return o}for(var n=this._comparator;e;){var r=n(t.key,e.key);if(0===r)break;r<0?(o=e,e=e.left):e=e.right}return o},t.prototype.prev=function(t){var e=this._root,o=null;if(null!==t.left){for(o=t.left;o.right;)o=o.right;return o}for(var n=this._comparator;e;){var r=n(t.key,e.key);if(0===r)break;r<0?e=e.left:(o=e,e=e.right)}return o},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){var e=t,o=[],n=!1,r=new ny(null,null),i=r;for(;!n;)e?(o.push(e),e=e.left):o.length>0?e=(e=i=i.next=o.pop()).right:n=!0;return i.next=null,r.next}(this._root)},t.prototype.load=function(t,e,o){void 0===e&&(e=[]),void 0===o&&(o=!1);var n=t.length,r=this._comparator;if(o&&function t(e,o,n,r,i){if(n>=r)return;var l=e[n+r>>1];var a=n-1;var s=r+1;for(;;){do{a++}while(i(e[a],l)<0);do{s--}while(i(e[s],l)>0);if(a>=s)break;var u=e[a];e[a]=e[s],e[s]=u,u=o[a],o[a]=o[s],o[s]=u}t(e,o,n,s,i);t(e,o,s+1,r,i)}(t,e,0,n-1,r),null===this._root)this._root=function t(e,o,n,r){var i=r-n;if(i>0){var l=n+Math.floor(i/2),a=e[l],s=o[l],u=new ny(a,s);return u.left=t(e,o,n,l),u.right=t(e,o,l+1,r),u}return null}(t,e,0,n),this._size=n;else{var i=function(t,e,o){var n=new ny(null,null),r=n,i=t,l=e;for(;null!==i&&null!==l;)o(i.key,l.key)<0?(r.next=i,i=i.next):(r.next=l,l=l.next),r=r.next;null!==i?r.next=i:null!==l&&(r.next=l);return n.next}(this.toList(),function(t,e){for(var o=new ny(null,null),n=o,r=0;r<t.length;r++)n=n.next=new ny(t[r],e[r]);return n.next=null,o.next}(t,e),r);n=this._size+n,this._root=function t(e,o,n){var r=n-o;if(r>0){var i=o+Math.floor(r/2),l=t(e,o,i),a=e.head;return a.left=l,e.head=e.head.next,a.right=t(e,i+1,n),a}return null}({head:i},0,n)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return function t(e,o,n,r,i){if(e){r(o+(n?"└── ":"├── ")+i(e)+"\n");var l=o+(n?"    ":"│   ");e.left&&t(e.left,l,!1,r,i),e.right&&t(e.right,l,!0,r,i)}}(this._root,"",!0,function(t){return e.push(t)},t),e.join("")},t.prototype.update=function(t,e,o){var n=this._comparator,r=ay(t,this._root,n),i=r.left,l=r.right;n(t,e)<0?l=ly(e,o,l,n):i=ly(e,o,i,n),this._root=function(t,e,o){return null===e?t:null===t?e:((e=iy(t.key,e,o)).left=t,e)}(i,l,n)},t.prototype.split=function(t){return ay(t,this._root,this._comparator)},t.prototype[Symbol.iterator]=function(){var t;return oy(this,function(e){switch(e.label){case 0:t=this.minNode(),e.label=1;case 1:return t?[4,t]:[3,3];case 2:return e.sent(),t=this.next(t),[3,1];case 3:return[2]}})},t}();function uy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function py(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cy(t,e,o){return e&&py(t.prototype,e),o&&py(t,o),t}var fy=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},hy=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var o=t.ll.x<e.ll.x?e.ll.x:t.ll.x,n=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:o,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:n,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},gy=Number.EPSILON;void 0===gy&&(gy=Math.pow(2,-52));var Py=gy*gy,yy=function(t,e){if(-gy<t&&t<gy&&-gy<e&&e<gy)return 0;var o=t-e;return o*o<Py*t*e?0:t<e?-1:1},Sy=function(){function t(){uy(this,t),this.reset()}return cy(t,[{key:"reset",value:function(){this.xRounder=new dy,this.yRounder=new dy}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),t}(),dy=function(){function t(){uy(this,t),this.tree=new sy,this.round(0)}return cy(t,[{key:"round",value:function(t){var e=this.tree.add(t),o=this.tree.prev(e);if(null!==o&&0===yy(e.key,o.key))return this.tree.remove(t),o.key;var n=this.tree.next(e);return null!==n&&0===yy(e.key,n.key)?(this.tree.remove(t),n.key):t}}]),t}(),by=new Sy,my=function(t,e){return t.x*e.y-t.y*e.x},vy=function(t,e){return t.x*e.x+t.y*e.y},My=function(t,e,o){var n={x:e.x-t.x,y:e.y-t.y},r={x:o.x-t.x,y:o.y-t.y},i=my(n,r);return yy(i,0)},Ay=function(t){return Math.sqrt(vy(t,t))},Oy=function(t,e,o){return 0===e.y?null:{x:t.x+e.x/e.y*(o-t.y),y:o}},_y=function(t,e,o){return 0===e.x?null:{x:o,y:t.y+e.y/e.x*(o-t.x)}},Ly=function(){function t(e,o){uy(this,t),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=o}return cy(t,null,[{key:"compare",value:function(e,o){var n=t.comparePoints(e.point,o.point);return 0!==n?n:(e.point!==o.point&&e.link(o),e.isLeft!==o.isLeft?e.isLeft?1:-1:xy.compare(e.segment,o.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),cy(t,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,o=0,n=e.length;o<n;o++){var r=e[o];this.point.events.push(r),r.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var o=this.point.events[e];if(void 0===o.segment.consumedBy)for(var n=e+1;n<t;n++){var r=this.point.events[n];void 0===r.consumedBy&&(o.otherSE.point.events===r.otherSE.point.events&&o.segment.consume(r.segment))}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,o=this.point.events.length;e<o;e++){var n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,o=new Map,n=function(n){var r,i,l,a,s,u=n.otherSE;o.set(n,{sine:(r=e.point,i=t.point,l=u.point,a={x:i.x-r.x,y:i.y-r.y},s={x:l.x-r.x,y:l.y-r.y},my(s,a)/Ay(s)/Ay(a)),cosine:function(t,e,o){var n={x:e.x-t.x,y:e.y-t.y},r={x:o.x-t.x,y:o.y-t.y};return vy(r,n)/Ay(r)/Ay(n)}(e.point,t.point,u.point)})};return function(t,e){o.has(t)||n(t),o.has(e)||n(e);var r=o.get(t),i=r.sine,l=r.cosine,a=o.get(e),s=a.sine,u=a.cosine;return i>=0&&s>=0?l<u?1:l>u?-1:0:i<0&&s<0?l<u?-1:l>u?1:0:s<i?-1:s>i?1:0}}}]),t}(),wy=0,xy=function(){function t(e,o,n,r){uy(this,t),this.id=++wy,this.leftSE=e,e.segment=this,e.otherSE=o,this.rightSE=o,o.segment=this,o.otherSE=e,this.rings=n,this.windings=r}return cy(t,null,[{key:"compare",value:function(t,e){var o=t.leftSE.point.x,n=e.leftSE.point.x,r=t.rightSE.point.x,i=e.rightSE.point.x;if(i<o)return 1;if(r<n)return-1;var l=t.leftSE.point.y,a=e.leftSE.point.y,s=t.rightSE.point.y,u=e.rightSE.point.y;if(o<n){if(a<l&&a<s)return 1;if(a>l&&a>s)return-1;var p=t.comparePoint(e.leftSE.point);if(p<0)return 1;if(p>0)return-1;var c=e.comparePoint(t.rightSE.point);return 0!==c?c:-1}if(o>n){if(l<a&&l<u)return-1;if(l>a&&l>u)return 1;var f=e.comparePoint(t.leftSE.point);if(0!==f)return f;var h=t.comparePoint(e.rightSE.point);return h<0?1:h>0?-1:1}if(l<a)return-1;if(l>a)return 1;if(r<i){var g=e.comparePoint(t.rightSE.point);if(0!==g)return g}if(r>i){var P=t.comparePoint(e.rightSE.point);if(P<0)return 1;if(P>0)return-1}if(r!==i){var y=s-l,S=r-o,d=u-a,b=i-n;if(y>S&&d<b)return 1;if(y<S&&d>b)return-1}return r>i?1:r<i?-1:s<u?-1:s>u?1:t.id<e.id?-1:t.id>e.id?1:0}}]),cy(t,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,o=this.rightSE.point,n=this.vector();if(e.x===o.x)return t.x===e.x?0:t.x<e.x?1:-1;var r=(t.y-e.y)/n.y,i=e.x+r*n.x;if(t.x===i)return 0;var l=(t.x-e.x)/n.x,a=e.y+l*n.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),o=t.bbox(),n=hy(e,o);if(null===n)return null;var r=this.leftSE.point,i=this.rightSE.point,l=t.leftSE.point,a=t.rightSE.point,s=fy(e,l)&&0===this.comparePoint(l),u=fy(o,r)&&0===t.comparePoint(r),p=fy(e,a)&&0===this.comparePoint(a),c=fy(o,i)&&0===t.comparePoint(i);if(u&&s)return c&&!p?i:!c&&p?a:null;if(u)return p&&r.x===a.x&&r.y===a.y?null:r;if(s)return c&&i.x===l.x&&i.y===l.y?null:l;if(c&&p)return null;if(c)return i;if(p)return a;var f=function(t,e,o,n){if(0===e.x)return _y(o,n,t.x);if(0===n.x)return _y(t,e,o.x);if(0===e.y)return Oy(o,n,t.y);if(0===n.y)return Oy(t,e,o.y);var r=my(e,n);if(0==r)return null;var i={x:o.x-t.x,y:o.y-t.y},l=my(i,e)/r,a=my(i,n)/r;return{x:(t.x+a*e.x+(o.x+l*n.x))/2,y:(t.y+a*e.y+(o.y+l*n.y))/2}}(r,this.vector(),l,t.vector());return null===f?null:fy(n,f)?by.round(f.x,f.y):null}},{key:"split",value:function(e){var o=[],n=void 0!==e.events,r=new Ly(e,!0),i=new Ly(e,!1),l=this.rightSE;this.replaceRightSE(i),o.push(i),o.push(r);var a=new t(r,l,this.rings.slice(),this.windings.slice());return Ly.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),Ly.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),i.checkForConsuming()),o}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,o=this.windings.length;e<o;e++)this.windings[e]*=-1}},{key:"consume",value:function(e){for(var o=this,n=e;o.consumedBy;)o=o.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var r=t.compare(o,n);if(0!==r){if(r>0){var i=o;o=n,n=i}if(o.prev===n){var l=o;o=n,n=l}for(var a=0,s=n.rings.length;a<s;a++){var u=n.rings[a],p=n.windings[a],c=o.rings.indexOf(u);-1===c?(o.rings.push(u),o.windings.push(p)):o.windings[c]+=p}n.rings=null,n.windings=null,n.consumedBy=o,n.leftSE.consumedBy=o.leftSE,n.rightSE.consumedBy=o.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,o=this._afterState.windings,n=this._afterState.multiPolys,r=0,i=this.rings.length;r<i;r++){var l=this.rings[r],a=this.windings[r],s=e.indexOf(l);-1===s?(e.push(l),o.push(a)):o[s]+=a}for(var u=[],p=[],c=0,f=e.length;c<f;c++)if(0!==o[c]){var h=e[c],g=h.poly;if(-1===p.indexOf(g))if(h.isExterior)u.push(g);else{-1===p.indexOf(g)&&p.push(g);var P=u.indexOf(h.poly);-1!==P&&u.splice(P,1)}}for(var y=0,S=u.length;y<S;y++){var d=u[y].multiPoly;-1===n.indexOf(d)&&n.push(d)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(Dy.type){case"union":var o=0===t.length,n=0===e.length;this._isInResult=o!==n;break;case"intersection":var r,i;t.length<e.length?(r=t.length,i=e.length):(r=e.length,i=t.length),this._isInResult=i===Dy.numMultiPolys&&r<i;break;case"xor":var l=Math.abs(t.length-e.length);this._isInResult=l%2==1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error("Unrecognized operation type found ".concat(Dy.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,o,n){var r,i,l,a=Ly.comparePoints(e,o);if(a<0)r=e,i=o,l=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));r=o,i=e,l=-1}return new t(new Ly(r,!0),new Ly(i,!1),[n],[l])}}]),t}(),Uy=function(){function t(e,o,n){if(uy(this,t),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=o,this.isExterior=n,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var r=by.round(e[0][0],e[0][1]);this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};for(var i=r,l=1,a=e.length;l<a;l++){if("number"!=typeof e[l][0]||"number"!=typeof e[l][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var s=by.round(e[l][0],e[l][1]);s.x===i.x&&s.y===i.y||(this.segments.push(xy.fromRing(i,s,this)),s.x<this.bbox.ll.x&&(this.bbox.ll.x=s.x),s.y<this.bbox.ll.y&&(this.bbox.ll.y=s.y),s.x>this.bbox.ur.x&&(this.bbox.ur.x=s.x),s.y>this.bbox.ur.y&&(this.bbox.ur.y=s.y),i=s)}r.x===i.x&&r.y===i.y||this.segments.push(xy.fromRing(i,r,this))}return cy(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,o=this.segments.length;e<o;e++){var n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}}]),t}(),Ey=function(){function t(e,o){if(uy(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Uy(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var n=1,r=e.length;n<r;n++){var i=new Uy(e[n],this,!1);i.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=i.bbox.ll.x),i.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=i.bbox.ll.y),i.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=i.bbox.ur.x),i.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=i.bbox.ur.y),this.interiorRings.push(i)}this.multiPoly=o}return cy(t,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,o=this.interiorRings.length;e<o;e++)for(var n=this.interiorRings[e].getSweepEvents(),r=0,i=n.length;r<i;r++)t.push(n[r]);return t}}]),t}(),Ty=function(){function t(e,o){if(uy(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var n=0,r=e.length;n<r;n++){var i=new Ey(e[n],this);i.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=i.bbox.ll.x),i.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=i.bbox.ll.y),i.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=i.bbox.ur.x),i.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=i.bbox.ur.y),this.polys.push(i)}this.isSubject=o}return cy(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,o=this.polys.length;e<o;e++)for(var n=this.polys[e].getSweepEvents(),r=0,i=n.length;r<i;r++)t.push(n[r]);return t}}]),t}(),Vy=function(){function t(e){uy(this,t),this.events=e;for(var o=0,n=e.length;o<n;o++)e[o].segment.ringOut=this;this.poly=null}return cy(t,null,[{key:"factory",value:function(e){for(var o=[],n=0,r=e.length;n<r;n++){var i=e[n];if(i.isInResult()&&!i.ringOut){for(var l=null,a=i.leftSE,s=i.rightSE,u=[a],p=a.point,c=[];l=a,a=s,u.push(a),a.point!==p;)for(;;){var f=a.getAvailableLinkedEvents();if(0===f.length){var h=u[0].point,g=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(h.x,",")+" ".concat(h.y,"]. Last matching segment found ends at")+" [".concat(g.x,", ").concat(g.y,"]."))}if(1===f.length){s=f[0].otherSE;break}for(var P=null,y=0,S=c.length;y<S;y++)if(c[y].point===a.point){P=y;break}if(null===P){c.push({index:u.length,point:a.point});var d=a.getLeftmostComparator(l);s=f.sort(d)[0].otherSE;break}var b=c.splice(P)[0],m=u.splice(b.index);m.unshift(m[0].otherSE),o.push(new t(m.reverse()))}o.push(new t(u))}}return o}}]),cy(t,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],o=1,n=this.events.length-1;o<n;o++){var r=this.events[o].point,i=this.events[o+1].point;0!==My(r,t,i)&&(e.push(r),t=r)}if(1===e.length)return null;var l=e[0],a=e[1];0===My(l,t,a)&&e.shift(),e.push(e[0]);for(var s=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:e.length-1,p=this.isExteriorRing()?e.length:-1,c=[],f=u;f!=p;f+=s)c.push([e[f].x,e[f].y]);return c}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,o=this.events.length;e<o;e++){var n=this.events[e];Ly.compare(t,n)>0&&(t=n)}for(var r=t.segment.prevInResult(),i=r?r.prevInResult():null;;){if(!r)return null;if(!i)return r.ringOut;if(i.ringOut!==r.ringOut)return i.ringOut.enclosingRing()!==r.ringOut?r.ringOut:r.ringOut.enclosingRing();i=(r=i.prevInResult())?r.prevInResult():null}}}]),t}(),Ry=function(){function t(e){uy(this,t),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return cy(t,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,o=this.interiorRings.length;e<o;e++){var n=this.interiorRings[e].getGeom();null!==n&&t.push(n)}return t}}]),t}(),Iy=function(){function t(e){uy(this,t),this.rings=e,this.polys=this._composePolys(e)}return cy(t,[{key:"getGeom",value:function(){for(var t=[],e=0,o=this.polys.length;e<o;e++){var n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}},{key:"_composePolys",value:function(t){for(var e=[],o=0,n=t.length;o<n;o++){var r=t[o];if(!r.poly)if(r.isExteriorRing())e.push(new Ry(r));else{var i=r.enclosingRing();i.poly||e.push(new Ry(i)),i.poly.addInterior(r)}}return e}}]),t}(),Cy=function(){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xy.compare;uy(this,t),this.queue=e,this.tree=new sy(o),this.segments=[]}return cy(t,[{key:"process",value:function(t){var e=t.segment,o=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),o;var n=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!n)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var r=n,i=n,l=void 0,a=void 0;void 0===l;)null===(r=this.tree.prev(r))?l=null:void 0===r.key.consumedBy&&(l=r.key);for(;void 0===a;)null===(i=this.tree.next(i))?a=null:void 0===i.key.consumedBy&&(a=i.key);if(t.isLeft){var s=null;if(l){var u=l.getIntersection(e);if(null!==u&&(e.isAnEndpoint(u)||(s=u),!l.isAnEndpoint(u)))for(var p=this._splitSafely(l,u),c=0,f=p.length;c<f;c++)o.push(p[c])}var h=null;if(a){var g=a.getIntersection(e);if(null!==g&&(e.isAnEndpoint(g)||(h=g),!a.isAnEndpoint(g)))for(var P=this._splitSafely(a,g),y=0,S=P.length;y<S;y++)o.push(P[y])}if(null!==s||null!==h){var d=null;if(null===s)d=h;else if(null===h)d=s;else{d=Ly.comparePoints(s,h)<=0?s:h}this.queue.remove(e.rightSE),o.push(e.rightSE);for(var b=e.split(d),m=0,v=b.length;m<v;m++)o.push(b[m])}o.length>0?(this.tree.remove(e),o.push(t)):(this.segments.push(e),e.prev=l)}else{if(l&&a){var M=l.getIntersection(a);if(null!==M){if(!l.isAnEndpoint(M))for(var A=this._splitSafely(l,M),O=0,_=A.length;O<_;O++)o.push(A[O]);if(!a.isAnEndpoint(M))for(var L=this._splitSafely(a,M),w=0,x=L.length;w<x;w++)o.push(L[w])}}this.tree.remove(e)}return o}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var o=t.rightSE;this.queue.remove(o);var n=t.split(e);return n.push(o),void 0===t.consumedBy&&this.tree.insert(t),n}}]),t}(),jy="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Ny="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Dy=new(function(){function t(){uy(this,t)}return cy(t,[{key:"run",value:function(t,e,o){Dy.type=t,by.reset();for(var n=[new Ty(e,!0)],r=0,i=o.length;r<i;r++)n.push(new Ty(o[r],!1));if(Dy.numMultiPolys=n.length,"difference"===Dy.type)for(var l=n[0],a=1;a<n.length;)null!==hy(n[a].bbox,l.bbox)?a++:n.splice(a,1);if("intersection"===Dy.type)for(var s=0,u=n.length;s<u;s++)for(var p=n[s],c=s+1,f=n.length;c<f;c++)if(null===hy(p.bbox,n[c].bbox))return[];for(var h=new sy(Ly.compare),g=0,P=n.length;g<P;g++)for(var y=n[g].getSweepEvents(),S=0,d=y.length;S<d;S++)if(h.insert(y[S]),h.size>jy)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var b=new Cy(h),m=h.size,v=h.pop();v;){var M=v.key;if(h.size===m){var A=M.segment;throw new Error("Unable to pop() ".concat(M.isLeft?"left":"right"," SweepEvent ")+"[".concat(M.point.x,", ").concat(M.point.y,"] from segment #").concat(A.id," ")+"[".concat(A.leftSE.point.x,", ").concat(A.leftSE.point.y,"] -> ")+"[".concat(A.rightSE.point.x,", ").concat(A.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(h.size>jy)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(b.segments.length>Ny)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var O=b.process(M),_=0,L=O.length;_<L;_++){var w=O[_];void 0===w.consumedBy&&h.insert(w)}m=h.size,v=h.pop()}by.reset();var x=Vy.factory(b.segments);return new Iy(x).getGeom()}}]),t}());"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),o=Math.max(Math.min(e.length,9007199254740991),0)||0,n=1 in arguments&&parseInt(Number(arguments[1]),10)||0;n=n<0?Math.max(o+n,0):Math.min(n,o);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:o;for(r=r<0?Math.max(o+arguments[2],0):Math.min(r,o);n<r;)e[n]=t,++n;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var By=function(){};By.prototype.interfaces_=function(){return[]},By.prototype.getClass=function(){return By},By.prototype.equalsWithTolerance=function(t,e,o){return Math.abs(t-e)<=o};var Yy=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),ky=function(){},Fy={MAX_VALUE:{configurable:!0}};ky.isNaN=function(t){return Number.isNaN(t)},ky.doubleToLongBits=function(t){return t},ky.longBitsToDouble=function(t){return t},ky.isInfinite=function(t){return!Number.isFinite(t)},Fy.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(ky,Fy);var zy=function(){},Gy=function(){},qy=function(){};function Xy(){}var Wy=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Hy={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Wy.prototype.setOrdinate=function(t,e){switch(t){case Wy.X:this.x=e;break;case Wy.Y:this.y=e;break;case Wy.Z:this.z=e;break;default:throw new Yy("Invalid ordinate index: "+t)}},Wy.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],o=arguments[1];return!!By.equalsWithTolerance(this.x,e.x,o)&&!!By.equalsWithTolerance(this.y,e.y,o)}},Wy.prototype.getOrdinate=function(t){switch(t){case Wy.X:return this.x;case Wy.Y:return this.y;case Wy.Z:return this.z}throw new Yy("Invalid ordinate index: "+t)},Wy.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||ky.isNaN(this.z))&&ky.isNaN(t.z)},Wy.prototype.equals=function(t){return t instanceof Wy&&this.equals2D(t)},Wy.prototype.equalInZ=function(t,e){return By.equalsWithTolerance(this.z,t.z,e)},Wy.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},Wy.prototype.clone=function(){},Wy.prototype.copy=function(){return new Wy(this)},Wy.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Wy.prototype.distance3D=function(t){var e=this.x-t.x,o=this.y-t.y,n=this.z-t.z;return Math.sqrt(e*e+o*o+n*n)},Wy.prototype.distance=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},Wy.prototype.hashCode=function(){var t=17;return t=37*(t=37*t+Wy.hashCode(this.x))+Wy.hashCode(this.y)},Wy.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},Wy.prototype.interfaces_=function(){return[zy,Gy,Xy]},Wy.prototype.getClass=function(){return Wy},Wy.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=ky.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},Hy.DimensionalComparator.get=function(){return Ky},Hy.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Hy.NULL_ORDINATE.get=function(){return ky.NaN},Hy.X.get=function(){return 0},Hy.Y.get=function(){return 1},Hy.Z.get=function(){return 2},Object.defineProperties(Wy,Hy);var Ky=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Yy("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};Ky.prototype.compare=function(t,e){var o=t,n=e,r=Ky.compare(o.x,n.x);if(0!==r)return r;var i=Ky.compare(o.y,n.y);return 0!==i?i:this._dimensionsToTest<=2?0:Ky.compare(o.z,n.z)},Ky.prototype.interfaces_=function(){return[qy]},Ky.prototype.getClass=function(){return Ky},Ky.compare=function(t,e){return t<e?-1:t>e?1:ky.isNaN(t)?ky.isNaN(e)?0:-1:ky.isNaN(e)?1:0};var Jy=function(){};Jy.prototype.create=function(){},Jy.prototype.interfaces_=function(){return[]},Jy.prototype.getClass=function(){return Jy};var Zy=function(){},Qy={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Zy.prototype.interfaces_=function(){return[]},Zy.prototype.getClass=function(){return Zy},Zy.toLocationSymbol=function(t){switch(t){case Zy.EXTERIOR:return"e";case Zy.BOUNDARY:return"b";case Zy.INTERIOR:return"i";case Zy.NONE:return"-"}throw new Yy("Unknown location value: "+t)},Qy.INTERIOR.get=function(){return 0},Qy.BOUNDARY.get=function(){return 1},Qy.EXTERIOR.get=function(){return 2},Qy.NONE.get=function(){return-1},Object.defineProperties(Zy,Qy);var $y=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},tS=function(){},eS={LOG_10:{configurable:!0}};tS.prototype.interfaces_=function(){return[]},tS.prototype.getClass=function(){return tS},tS.log10=function(t){var e=Math.log(t);return ky.isInfinite(e)?e:ky.isNaN(e)?e:e/tS.LOG_10},tS.min=function(t,e,o,n){var r=t;return e<r&&(r=e),o<r&&(r=o),n<r&&(r=n),r},tS.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],o=arguments[2];return t<e?e:t>o?o:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var n=arguments[0],r=arguments[1],i=arguments[2];return n<r?r:n>i?i:n}},tS.wrap=function(t,e){return t<0?e- -t%e:t%e},tS.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2],n=t;return e>n&&(n=e),o>n&&(n=o),n}if(4===arguments.length){var r=arguments[0],i=arguments[1],l=arguments[2],a=arguments[3],s=r;return i>s&&(s=i),l>s&&(s=l),a>s&&(s=a),s}},tS.average=function(t,e){return(t+e)/2},eS.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(tS,eS);var oS=function(t){this.str=t};oS.prototype.append=function(t){this.str+=t},oS.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},oS.prototype.toString=function(t){return this.str};var nS=function(t){this.value=t};nS.prototype.intValue=function(){return this.value},nS.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},nS.isNaN=function(t){return Number.isNaN(t)};var rS=function(){};rS.isWhitespace=function(t){return t<=32&&t>=0||127===t},rS.toUpperCase=function(t){return t.toUpperCase()};var iS=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var o=arguments[0];this.init(o)}else if("string"==typeof arguments[0]){var n=arguments[0];t.call(this,t.parse(n))}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}},lS={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};iS.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},iS.prototype.extractSignificantDigits=function(t,e){var o=this.abs(),n=iS.magnitude(o._hi),r=iS.TEN.pow(n);(o=o.divide(r)).gt(iS.TEN)?(o=o.divide(iS.TEN),n+=1):o.lt(iS.ONE)&&(o=o.multiply(iS.TEN),n-=1);for(var i=n+1,l=new oS,a=iS.MAX_PRINT_DIGITS-1,s=0;s<=a;s++){t&&s===i&&l.append(".");var u=Math.trunc(o._hi);if(u<0)break;var p=!1,c=0;u>9?(p=!0,c="9"):c="0"+u,l.append(c),o=o.subtract(iS.valueOf(u)).multiply(iS.TEN),p&&o.selfAdd(iS.TEN);var f=!0,h=iS.magnitude(o._hi);if(h<0&&Math.abs(h)>=a-s&&(f=!1),!f)break}return e[0]=n,l.toString()},iS.prototype.sqr=function(){return this.multiply(this)},iS.prototype.doubleValue=function(){return this._hi+this._lo},iS.prototype.subtract=function(){if(arguments[0]instanceof iS){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},iS.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},iS.prototype.isZero=function(){return 0===this._hi&&0===this._lo},iS.prototype.selfSubtract=function(){if(arguments[0]instanceof iS){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},iS.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},iS.prototype.min=function(t){return this.le(t)?this:t},iS.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof iS){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var o,n,r,i,l=arguments[0],a=arguments[1],s=null,u=null,p=null,c=null;return r=this._hi/l,c=(s=(p=iS.SPLIT*r)-(s=p-r))*(u=(c=iS.SPLIT*l)-(u=c-l))-(i=r*l)+s*(n=l-u)+(o=r-s)*u+o*n,c=r+(p=(this._hi-i-c+this._lo-r*a)/l),this._hi=c,this._lo=r-c+p,this}},iS.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},iS.prototype.divide=function(){if(arguments[0]instanceof iS){var t,e,o,n,r=arguments[0],i=null,l=null,a=null,s=null;return o=this._hi/r._hi,i=(a=iS.SPLIT*o)-o,s=iS.SPLIT*r._hi,t=o-(i=a-i),l=s-r._hi,n=o*r._hi,s=i*(l=s-l)-n+i*(e=r._hi-l)+t*l+t*e,a=(this._hi-n-s+this._lo-o*r._lo)/r._hi,new iS(s=o+a,o-s+a)}if("number"==typeof arguments[0]){var u=arguments[0];return ky.isNaN(u)?iS.createNaN():iS.copy(this).selfDivide(u,0)}},iS.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},iS.prototype.pow=function(t){if(0===t)return iS.valueOf(1);var e=new iS(this),o=iS.valueOf(1),n=Math.abs(t);if(n>1)for(;n>0;)n%2==1&&o.selfMultiply(e),(n/=2)>0&&(e=e.sqr());else o=e;return t<0?o.reciprocal():o},iS.prototype.ceil=function(){if(this.isNaN())return iS.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new iS(t,e)},iS.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},iS.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},iS.prototype.setValue=function(){if(arguments[0]instanceof iS){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},iS.prototype.max=function(t){return this.ge(t)?this:t},iS.prototype.sqrt=function(){if(this.isZero())return iS.valueOf(0);if(this.isNegative())return iS.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,o=iS.valueOf(e),n=this.subtract(o.sqr())._hi*(.5*t);return o.add(n)},iS.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof iS){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e,o,n,r,i,l=arguments[0],a=null;return a=(n=this._hi+l)-(r=n-this._hi),o=(i=(a=l-r+(this._hi-a))+this._lo)+(n-(e=n+i)),this._hi=e+o,this._lo=o+(e-this._hi),this}}else if(2===arguments.length){var s,u,p,c,f=arguments[0],h=arguments[1],g=null,P=null,y=null;p=this._hi+f,u=this._lo+h,P=p-(y=p-this._hi),g=u-(c=u-this._lo),P=f-y+(this._hi-P),g=h-c+(this._lo-g);var S=(s=p+(y=P+u))+(y=g+(y+(p-s))),d=y+(s-S);return this._hi=S,this._lo=d,this}},iS.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof iS){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var o,n,r=arguments[0],i=arguments[1],l=null,a=null,s=null,u=null;l=(s=iS.SPLIT*this._hi)-this._hi,u=iS.SPLIT*r,l=s-l,o=this._hi-l,a=u-r;var p=(s=this._hi*r)+(u=l*(a=u-a)-s+l*(n=r-a)+o*a+o*n+(this._hi*i+this._lo*r)),c=u+(l=s-p);return this._hi=p,this._lo=c,this}},iS.prototype.selfSqr=function(){return this.selfMultiply(this)},iS.prototype.floor=function(){if(this.isNaN())return iS.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new iS(t,e)},iS.prototype.negate=function(){return this.isNaN()?this:new iS(-this._hi,-this._lo)},iS.prototype.clone=function(){},iS.prototype.multiply=function(){if(arguments[0]instanceof iS){var t=arguments[0];return t.isNaN()?iS.createNaN():iS.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return ky.isNaN(e)?iS.createNaN():iS.copy(this).selfMultiply(e,0)}},iS.prototype.isNaN=function(){return ky.isNaN(this._hi)},iS.prototype.intValue=function(){return Math.trunc(this._hi)},iS.prototype.toString=function(){var t=iS.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},iS.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!0,e),n=e[0]+1,r=o;if("."===o.charAt(0))r="0"+o;else if(n<0)r="0."+iS.stringOfChar("0",-n)+o;else if(-1===o.indexOf(".")){var i=n-o.length;r=o+iS.stringOfChar("0",i)+".0"}return this.isNegative()?"-"+r:r},iS.prototype.reciprocal=function(){var t,e,o,n,r=null,i=null,l=null,a=null;o=1/this._hi,r=(l=iS.SPLIT*o)-o,a=iS.SPLIT*this._hi,t=o-(r=l-r),i=a-this._hi;var s=o+(l=(1-(n=o*this._hi)-(a=r*(i=a-i)-n+r*(e=this._hi-i)+t*i+t*e)-o*this._lo)/this._hi);return new iS(s,o-s+l)},iS.prototype.toSciNotation=function(){if(this.isZero())return iS.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),o=this.extractSignificantDigits(!1,e),n=iS.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===o.charAt(0))throw new Error("Found leading zero: "+o);var r="";o.length>1&&(r=o.substring(1));var i=o.charAt(0)+"."+r;return this.isNegative()?"-"+i+n:i+n},iS.prototype.abs=function(){return this.isNaN()?iS.NaN:this.isNegative()?this.negate():new iS(this)},iS.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},iS.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},iS.prototype.add=function(){if(arguments[0]instanceof iS){var t=arguments[0];return iS.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return iS.copy(this).selfAdd(e)}},iS.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof iS){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var o=arguments[0],n=arguments[1];this._hi=o,this._lo=n}},iS.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},iS.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},iS.prototype.trunc=function(){return this.isNaN()?iS.NaN:this.isPositive()?this.floor():this.ceil()},iS.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},iS.prototype.interfaces_=function(){return[Xy,zy,Gy]},iS.prototype.getClass=function(){return iS},iS.sqr=function(t){return iS.valueOf(t).selfMultiply(t)},iS.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return iS.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new iS(e)}},iS.sqrt=function(t){return iS.valueOf(t).sqrt()},iS.parse=function(t){for(var e=0,o=t.length;rS.isWhitespace(t.charAt(e));)e++;var n=!1;if(e<o){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(n=!0))}for(var i=new iS,l=0,a=0,s=0;!(e>=o);){var u=t.charAt(e);if(e++,rS.isDigit(u)){var p=u-"0";i.selfMultiply(iS.TEN),i.selfAdd(p),l++}else{if("."!==u){if("e"===u||"E"===u){var c=t.substring(e);try{s=nS.parseInt(c)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+c+" in string "+t):e}break}throw new Error("Unexpected character '"+u+"' at position "+e+" in string "+t)}a=l}}var f=i,h=l-a-s;if(0===h)f=i;else if(h>0){var g=iS.TEN.pow(h);f=i.divide(g)}else if(h<0){var P=iS.TEN.pow(-h);f=i.multiply(P)}return n?f.negate():f},iS.createNaN=function(){return new iS(ky.NaN,ky.NaN)},iS.copy=function(t){return new iS(t)},iS.magnitude=function(t){var e=Math.abs(t),o=Math.log(e)/Math.log(10),n=Math.trunc(Math.floor(o));return 10*Math.pow(10,n)<=e&&(n+=1),n},iS.stringOfChar=function(t,e){for(var o=new oS,n=0;n<e;n++)o.append(t);return o.toString()},lS.PI.get=function(){return new iS(3.141592653589793,1.2246467991473532e-16)},lS.TWO_PI.get=function(){return new iS(6.283185307179586,2.4492935982947064e-16)},lS.PI_2.get=function(){return new iS(1.5707963267948966,6.123233995736766e-17)},lS.E.get=function(){return new iS(2.718281828459045,1.4456468917292502e-16)},lS.NaN.get=function(){return new iS(ky.NaN,ky.NaN)},lS.EPS.get=function(){return 1.23259516440783e-32},lS.SPLIT.get=function(){return 134217729},lS.MAX_PRINT_DIGITS.get=function(){return 32},lS.TEN.get=function(){return iS.valueOf(10)},lS.ONE.get=function(){return iS.valueOf(1)},lS.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},lS.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(iS,lS);var aS=function(){},sS={DP_SAFE_EPSILON:{configurable:!0}};aS.prototype.interfaces_=function(){return[]},aS.prototype.getClass=function(){return aS},aS.orientationIndex=function(t,e,o){var n=aS.orientationIndexFilter(t,e,o);if(n<=1)return n;var r=iS.valueOf(e.x).selfAdd(-t.x),i=iS.valueOf(e.y).selfAdd(-t.y),l=iS.valueOf(o.x).selfAdd(-e.x),a=iS.valueOf(o.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(i.selfMultiply(l)).signum()},aS.signOfDet2x2=function(t,e,o,n){return t.multiply(n).selfSubtract(e.multiply(o)).signum()},aS.intersection=function(t,e,o,n){var r=iS.valueOf(n.y).selfSubtract(o.y).selfMultiply(iS.valueOf(e.x).selfSubtract(t.x)),i=iS.valueOf(n.x).selfSubtract(o.x).selfMultiply(iS.valueOf(e.y).selfSubtract(t.y)),l=r.subtract(i),a=iS.valueOf(n.x).selfSubtract(o.x).selfMultiply(iS.valueOf(t.y).selfSubtract(o.y)),s=iS.valueOf(n.y).selfSubtract(o.y).selfMultiply(iS.valueOf(t.x).selfSubtract(o.x)),u=a.subtract(s).selfDivide(l).doubleValue(),p=iS.valueOf(t.x).selfAdd(iS.valueOf(e.x).selfSubtract(t.x).selfMultiply(u)).doubleValue(),c=iS.valueOf(e.x).selfSubtract(t.x).selfMultiply(iS.valueOf(t.y).selfSubtract(o.y)),f=iS.valueOf(e.y).selfSubtract(t.y).selfMultiply(iS.valueOf(t.x).selfSubtract(o.x)),h=c.subtract(f).selfDivide(l).doubleValue(),g=iS.valueOf(o.y).selfAdd(iS.valueOf(n.y).selfSubtract(o.y).selfMultiply(h)).doubleValue();return new Wy(p,g)},aS.orientationIndexFilter=function(t,e,o){var n=null,r=(t.x-o.x)*(e.y-o.y),i=(t.y-o.y)*(e.x-o.x),l=r-i;if(r>0){if(i<=0)return aS.signum(l);n=r+i}else{if(!(r<0))return aS.signum(l);if(i>=0)return aS.signum(l);n=-r-i}var a=aS.DP_SAFE_EPSILON*n;return l>=a||-l>=a?aS.signum(l):2},aS.signum=function(t){return t>0?1:t<0?-1:0},sS.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(aS,sS);var uS=function(){},pS={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};pS.X.get=function(){return 0},pS.Y.get=function(){return 1},pS.Z.get=function(){return 2},pS.M.get=function(){return 3},uS.prototype.setOrdinate=function(t,e,o){},uS.prototype.size=function(){},uS.prototype.getOrdinate=function(t,e){},uS.prototype.getCoordinate=function(){},uS.prototype.getCoordinateCopy=function(t){},uS.prototype.getDimension=function(){},uS.prototype.getX=function(t){},uS.prototype.clone=function(){},uS.prototype.expandEnvelope=function(t){},uS.prototype.copy=function(){},uS.prototype.getY=function(t){},uS.prototype.toCoordinateArray=function(){},uS.prototype.interfaces_=function(){return[Gy]},uS.prototype.getClass=function(){return uS},Object.defineProperties(uS,pS);var cS=function(){},fS=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cS),hS=function(){};hS.arraycopy=function(t,e,o,n,r){for(var i=0,l=e;l<e+r;l++)o[n+i]=t[l],i++},hS.getProperty=function(t){return{"line.separator":"\n"}[t]};var gS=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],n=arguments[1];this.x=o,this.y=n,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],i=arguments[1];this.x=r.y*i.w-i.y*r.w,this.y=i.x*r.w-r.x*i.w,this.w=r.x*i.y-i.x*r.y}else if(arguments[0]instanceof Wy&&arguments[1]instanceof Wy){var l=arguments[0],a=arguments[1];this.x=l.y-a.y,this.y=a.x-l.x,this.w=l.x*a.y-a.x*l.y}}else if(3===arguments.length){var s=arguments[0],u=arguments[1],p=arguments[2];this.x=s,this.y=u,this.w=p}else if(4===arguments.length){var c=arguments[0],f=arguments[1],h=arguments[2],g=arguments[3],P=c.y-f.y,y=f.x-c.x,S=c.x*f.y-f.x*c.y,d=h.y-g.y,b=g.x-h.x,m=h.x*g.y-g.x*h.y;this.x=y*m-b*S,this.y=d*S-P*m,this.w=P*b-d*y}};gS.prototype.getY=function(){var t=this.y/this.w;if(ky.isNaN(t)||ky.isInfinite(t))throw new fS;return t},gS.prototype.getX=function(){var t=this.x/this.w;if(ky.isNaN(t)||ky.isInfinite(t))throw new fS;return t},gS.prototype.getCoordinate=function(){var t=new Wy;return t.x=this.getX(),t.y=this.getY(),t},gS.prototype.interfaces_=function(){return[]},gS.prototype.getClass=function(){return gS},gS.intersection=function(t,e,o,n){var r=t.y-e.y,i=e.x-t.x,l=t.x*e.y-e.x*t.y,a=o.y-n.y,s=n.x-o.x,u=o.x*n.y-n.x*o.y,p=r*s-a*i,c=(i*u-s*l)/p,f=(a*l-r*u)/p;if(ky.isNaN(c)||ky.isInfinite(c)||ky.isNaN(f)||ky.isInfinite(f))throw new fS;return new Wy(c,f)};var PS=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof Wy){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var o=arguments[0];this.init(o)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],l=arguments[1],a=arguments[2],s=arguments[3];this.init(i,l,a,s)}},yS={serialVersionUID:{configurable:!0}};PS.prototype.getArea=function(){return this.getWidth()*this.getHeight()},PS.prototype.equals=function(t){if(!(t instanceof PS))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},PS.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new PS;var e=this._minx>t._minx?this._minx:t._minx,o=this._miny>t._miny?this._miny:t._miny,n=this._maxx<t._maxx?this._maxx:t._maxx,r=this._maxy<t._maxy?this._maxy:t._maxy;return new PS(e,n,o,r)},PS.prototype.isNull=function(){return this._maxx<this._minx},PS.prototype.getMaxX=function(){return this._maxx},PS.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof Wy){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof PS){var e=arguments[0];return!this.isNull()&&!e.isNull()&&(e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy)}}else if(2===arguments.length){var o=arguments[0],n=arguments[1];return!this.isNull()&&(o>=this._minx&&o<=this._maxx&&n>=this._miny&&n<=this._maxy)}},PS.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof PS){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof Wy){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var o=arguments[0],n=arguments[1];return!this.isNull()&&!(o>this._maxx||o<this._minx||n>this._maxy||n<this._miny)}},PS.prototype.getMinY=function(){return this._miny},PS.prototype.getMinX=function(){return this._minx},PS.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof Wy){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof PS){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var o=arguments[0],n=arguments[1];this.isNull()?(this._minx=o,this._maxx=o,this._miny=n,this._maxy=n):(o<this._minx&&(this._minx=o),o>this._maxx&&(this._maxx=o),n<this._miny&&(this._miny=n),n>this._maxy&&(this._maxy=n))}},PS.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},PS.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},PS.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},PS.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},PS.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},PS.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},PS.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},PS.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},PS.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=o,this._maxy+=o,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},PS.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof PS){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof Wy){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var o=arguments[0],n=arguments[1];return this.covers(o,n)}},PS.prototype.centre=function(){return this.isNull()?null:new Wy((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},PS.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof Wy){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof PS){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var o=arguments[0],n=arguments[1];this.init(o.x,n.x,o.y,n.y)}else if(4===arguments.length){var r=arguments[0],i=arguments[1],l=arguments[2],a=arguments[3];r<i?(this._minx=r,this._maxx=i):(this._minx=i,this._maxx=r),l<a?(this._miny=l,this._maxy=a):(this._miny=a,this._maxy=l)}},PS.prototype.getMaxY=function(){return this._maxy},PS.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var o=0;return this._maxy<t._miny?o=t._miny-this._maxy:this._miny>t._maxy&&(o=this._miny-t._maxy),0===e?o:0===o?e:Math.sqrt(e*e+o*o)},PS.prototype.hashCode=function(){var t=17;return t=37*(t=37*(t=37*(t=37*t+Wy.hashCode(this._minx))+Wy.hashCode(this._maxx))+Wy.hashCode(this._miny))+Wy.hashCode(this._maxy)},PS.prototype.interfaces_=function(){return[zy,Xy]},PS.prototype.getClass=function(){return PS},PS.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2];return o.x>=(t.x<e.x?t.x:e.x)&&o.x<=(t.x>e.x?t.x:e.x)&&o.y>=(t.y<e.y?t.y:e.y)&&o.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],l=arguments[3],a=Math.min(i.x,l.x),s=Math.max(i.x,l.x),u=Math.min(n.x,r.x),p=Math.max(n.x,r.x);return!(u>s)&&(!(p<a)&&(a=Math.min(i.y,l.y),s=Math.max(i.y,l.y),u=Math.min(n.y,r.y),p=Math.max(n.y,r.y),!(u>s)&&!(p<a)))}},yS.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(PS,yS);var SS={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},dS=function(t){this.geometryFactory=t||new $d};dS.prototype.read=function(t){var e,o,n;t=t.replace(/[\n\r]/g," ");var r=SS.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=SS.emptyTypeStr.exec(t))[2]=void 0),r&&(o=r[1].toLowerCase(),n=r[2],mS[o]&&(e=mS[o].apply(this,[n]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},dS.prototype.write=function(t){return this.extractGeometry(t)},dS.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!bS[e])return null;var o=e.toUpperCase();return t.isEmpty()?o+" EMPTY":o+"("+bS[e].apply(this,[t])+")"};var bS={coordinate:function(t){return t.x+" "+t.y},point:function(t){return bS.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],o=0,n=t._geometries.length;o<n;++o)e.push("("+bS.point.apply(this,[t._geometries[o]])+")");return e.join(",")},linestring:function(t){for(var e=[],o=0,n=t._points._coordinates.length;o<n;++o)e.push(bS.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},linearring:function(t){for(var e=[],o=0,n=t._points._coordinates.length;o<n;++o)e.push(bS.coordinate.apply(this,[t._points._coordinates[o]]));return e.join(",")},multilinestring:function(t){for(var e=[],o=0,n=t._geometries.length;o<n;++o)e.push("("+bS.linestring.apply(this,[t._geometries[o]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+bS.linestring.apply(this,[t._shell])+")");for(var o=0,n=t._holes.length;o<n;++o)e.push("("+bS.linestring.apply(this,[t._holes[o]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],o=0,n=t._geometries.length;o<n;++o)e.push("("+bS.polygon.apply(this,[t._geometries[o]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],o=0,n=t._geometries.length;o<n;++o)e.push(this.extractGeometry(t._geometries[o]));return e.join(",")}},mS={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(SS.spaces);return this.geometryFactory.createPoint(new Wy(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPoint();for(var o=t.trim().split(","),n=[],r=0,i=o.length;r<i;++r)e=o[r].replace(SS.trimParens,"$1"),n.push(mS.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(n)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,o=t.trim().split(","),n=[],r=0,i=o.length;r<i;++r)e=o[r].trim().split(SS.spaces),n.push(new Wy(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(n)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,o=t.trim().split(","),n=[],r=0,i=o.length;r<i;++r)e=o[r].trim().split(SS.spaces),n.push(new Wy(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(n)},multilinestring:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiLineString();for(var o=t.trim().split(SS.parenComma),n=[],r=0,i=o.length;r<i;++r)e=o[r].replace(SS.trimParens,"$1"),n.push(mS.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(n)},polygon:function(t){var e,o,n;if(void 0===t)return this.geometryFactory.createPolygon();for(var r,i=t.trim().split(SS.parenComma),l=[],a=0,s=i.length;a<s;++a)e=i[a].replace(SS.trimParens,"$1"),o=mS.linestring.apply(this,[e]),n=this.geometryFactory.createLinearRing(o._points),0===a?r=n:l.push(n);return this.geometryFactory.createPolygon(r,l)},multipolygon:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var o=t.trim().split(SS.doubleParenComma),n=[],r=0,i=o.length;r<i;++r)e=o[r].replace(SS.trimParens,"$1"),n.push(mS.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(n)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),o=[],n=0,r=e.length;n<r;++n)o.push(this.read(e[n]));return this.geometryFactory.createGeometryCollection(o)}},vS=function(t){this.parser=new dS(t)};vS.prototype.write=function(t){return this.parser.write(t)},vS.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var MS=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),AS=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(MS),OS=function(){};OS.prototype.interfaces_=function(){return[]},OS.prototype.getClass=function(){return OS},OS.shouldNeverReachHere=function(){if(0===arguments.length)OS.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new AS("Should never reach here"+(null!==t?": "+t:""))}},OS.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],OS.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new AS:new AS(e)},OS.equals=function(){var t,e,o;if(2===arguments.length)t=arguments[0],e=arguments[1],OS.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],o=arguments[2],!e.equals(t)))throw new AS("Expected "+t+" but encountered "+e+(null!==o?": "+o:""))};var _S=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Wy,this._intPt[1]=new Wy,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},LS={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};_S.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},_S.prototype.getTopologySummary=function(){var t=new oS;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},_S.prototype.computeIntersection=function(t,e,o,n){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=o,this._inputLines[1][1]=n,this._result=this.computeIntersect(t,e,o,n)},_S.prototype.getIntersectionNum=function(){return this._result},_S.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},_S.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},_S.prototype.setPrecisionModel=function(t){this._precisionModel=t},_S.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},_S.prototype.getIntersection=function(t){return this._intPt[t]},_S.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},_S.prototype.hasIntersection=function(){return this._result!==_S.NO_INTERSECTION},_S.prototype.getEdgeDistance=function(t,e){return _S.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},_S.prototype.isCollinear=function(){return this._result===_S.COLLINEAR_INTERSECTION},_S.prototype.toString=function(){return vS.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+vS.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},_S.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},_S.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},_S.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},_S.prototype.interfaces_=function(){return[]},_S.prototype.getClass=function(){return _S},_S.computeEdgeDistance=function(t,e,o){var n=Math.abs(o.x-e.x),r=Math.abs(o.y-e.y),i=-1;if(t.equals(e))i=0;else if(t.equals(o))i=n>r?n:r;else{var l=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(i=n>r?l:a)||t.equals(e)||(i=Math.max(l,a))}return OS.isTrue(!(0===i&&!t.equals(e)),"Bad distance calculation"),i},_S.nonRobustComputeEdgeDistance=function(t,e,o){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return OS.isTrue(!(0===i&&!t.equals(e)),"Invalid distance calculation"),i},LS.DONT_INTERSECT.get=function(){return 0},LS.DO_INTERSECT.get=function(){return 1},LS.COLLINEAR.get=function(){return 2},LS.NO_INTERSECTION.get=function(){return 0},LS.POINT_INTERSECTION.get=function(){return 1},LS.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(_S,LS);var wS=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new PS(this._inputLines[0][0],this._inputLines[0][1]),o=new PS(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&o.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],o=arguments[1],n=arguments[2];if(this._isProper=!1,PS.intersects(o,n,e)&&0===ES.orientationIndex(o,n,e)&&0===ES.orientationIndex(n,o,e))return this._isProper=!0,(e.equals(o)||e.equals(n))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,o,n,r){r.x=this.smallestInAbsValue(t.x,e.x,o.x,n.x),r.y=this.smallestInAbsValue(t.y,e.y,o.y,n.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,o.x-=r.x,o.y-=r.y,n.x-=r.x,n.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,o,n,r){var i=null;try{i=gS.intersection(t,o,n,r)}catch(l){if(!(l instanceof fS))throw l;i=e.nearestEndpoint(t,o,n,r)}return i},e.prototype.intersection=function(t,o,n,r){var i=this.intersectionWithNormalization(t,o,n,r);return this.isInSegmentEnvelopes(i)||(i=new Wy(e.nearestEndpoint(t,o,n,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i},e.prototype.smallestInAbsValue=function(t,e,o,n){var r=t,i=Math.abs(r);return Math.abs(e)<i&&(r=e,i=Math.abs(e)),Math.abs(o)<i&&(r=o,i=Math.abs(o)),Math.abs(n)<i&&(r=n),r},e.prototype.checkDD=function(t,e,o,n,r){var i=aS.intersection(t,e,o,n),l=this.isInSegmentEnvelopes(i);hS.out.println("DD in env = "+l+"  --------------------- "+i),r.distance(i)>1e-4&&hS.out.println("Distance = "+r.distance(i))},e.prototype.intersectionWithNormalization=function(t,e,o,n){var r=new Wy(t),i=new Wy(e),l=new Wy(o),a=new Wy(n),s=new Wy;this.normalizeToEnvCentre(r,i,l,a,s);var u=this.safeHCoordinateIntersection(r,i,l,a);return u.x+=s.x,u.y+=s.y,u},e.prototype.computeCollinearIntersection=function(e,o,n,r){var i=PS.intersects(e,o,n),l=PS.intersects(e,o,r),a=PS.intersects(n,r,e),s=PS.intersects(n,r,o);return i&&l?(this._intPt[0]=n,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):a&&s?(this._intPt[0]=e,this._intPt[1]=o,t.COLLINEAR_INTERSECTION):i&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||l||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):i&&s?(this._intPt[0]=n,this._intPt[1]=o,!n.equals(o)||l||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):l&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||i||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):l&&s?(this._intPt[0]=r,this._intPt[1]=o,!r.equals(o)||i||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,o,n,r){var i=t.x<e.x?t.x:e.x,l=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,s=t.y>e.y?t.y:e.y,u=o.x<n.x?o.x:n.x,p=o.y<n.y?o.y:n.y,c=o.x>n.x?o.x:n.x,f=o.y>n.y?o.y:n.y,h=((i>u?i:u)+(a<c?a:c))/2,g=((l>p?l:p)+(s<f?s:f))/2;r.x=h,r.y=g,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,o.x-=r.x,o.y-=r.y,n.x-=r.x,n.y-=r.y},e.prototype.computeIntersect=function(e,o,n,r){if(this._isProper=!1,!PS.intersects(e,o,n,r))return t.NO_INTERSECTION;var i=ES.orientationIndex(e,o,n),l=ES.orientationIndex(e,o,r);if(i>0&&l>0||i<0&&l<0)return t.NO_INTERSECTION;var a=ES.orientationIndex(n,r,e),s=ES.orientationIndex(n,r,o);return a>0&&s>0||a<0&&s<0?t.NO_INTERSECTION:0===i&&0===l&&0===a&&0===s?this.computeCollinearIntersection(e,o,n,r):(0===i||0===l||0===a||0===s?(this._isProper=!1,e.equals2D(n)||e.equals2D(r)?this._intPt[0]=e:o.equals2D(n)||o.equals2D(r)?this._intPt[0]=o:0===i?this._intPt[0]=new Wy(n):0===l?this._intPt[0]=new Wy(r):0===a?this._intPt[0]=new Wy(e):0===s&&(this._intPt[0]=new Wy(o))):(this._isProper=!0,this._intPt[0]=this.intersection(e,o,n,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,o,n){var r=t,i=ES.distancePointLine(t,o,n),l=ES.distancePointLine(e,o,n);return l<i&&(i=l,r=e),(l=ES.distancePointLine(o,t,e))<i&&(i=l,r=o),(l=ES.distancePointLine(n,t,e))<i&&(i=l,r=n),r},e}(_S),xS=function(){};xS.prototype.interfaces_=function(){return[]},xS.prototype.getClass=function(){return xS},xS.orientationIndex=function(t,e,o){var n=e.x-t.x,r=e.y-t.y,i=o.x-e.x,l=o.y-e.y;return xS.signOfDet2x2(n,r,i,l)},xS.signOfDet2x2=function(t,e,o,n){var r=null,i=null,l=null;if(r=1,0===t||0===n)return 0===e||0===o?0:e>0?o>0?-r:r:o>0?r:-r;if(0===e||0===o)return n>0?t>0?r:-r:t>0?-r:r;if(e>0?n>0?e<=n||(r=-r,i=t,t=o,o=i,i=e,e=n,n=i):e<=-n?(r=-r,o=-o,n=-n):(i=t,t=-o,o=i,i=e,e=-n,n=i):n>0?-e<=n?(r=-r,t=-t,e=-e):(i=-t,t=o,o=i,i=-e,e=n,n=i):e>=n?(t=-t,e=-e,o=-o,n=-n):(r=-r,i=-t,t=-o,o=i,i=-e,e=-n,n=i),t>0){if(!(o>0))return r;if(!(t<=o))return r}else{if(o>0)return-r;if(!(t>=o))return-r;r=-r,t=-t,o=-o}for(;;){if(o-=(l=Math.floor(o/t))*t,(n-=l*e)<0)return-r;if(n>e)return r;if(t>o+o){if(e<n+n)return r}else{if(e>n+n)return-r;o=t-o,n=e-n,r=-r}if(0===n)return 0===o?0:-r;if(0===o)return r;if(t-=(l=Math.floor(t/o))*o,(e-=l*n)<0)return r;if(e>n)return-r;if(o>t+t){if(n<e+e)return-r}else{if(n>e+e)return r;t=o-t,e=n-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var US=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};US.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var o=t.x,n=e.x;return o>n&&(o=e.x,n=t.x),this._p.x>=o&&this._p.x<=n&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,i=t.y-this._p.y,l=e.x-this._p.x,a=e.y-this._p.y,s=xS.signOfDet2x2(r,i,l,a);if(0===s)return this._isPointOnSegment=!0,null;a<i&&(s=-s),s>0&&this._crossingCount++}},US.prototype.isPointInPolygon=function(){return this.getLocation()!==Zy.EXTERIOR},US.prototype.getLocation=function(){return this._isPointOnSegment?Zy.BOUNDARY:this._crossingCount%2==1?Zy.INTERIOR:Zy.EXTERIOR},US.prototype.isOnSegment=function(){return this._isPointOnSegment},US.prototype.interfaces_=function(){return[]},US.prototype.getClass=function(){return US},US.locatePointInRing=function(){if(arguments[0]instanceof Wy&&$y(arguments[1],uS)){for(var t=arguments[0],e=arguments[1],o=new US(t),n=new Wy,r=new Wy,i=1;i<e.size();i++)if(e.getCoordinate(i,n),e.getCoordinate(i-1,r),o.countSegment(n,r),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof Wy&&arguments[1]instanceof Array){for(var l=arguments[0],a=arguments[1],s=new US(l),u=1;u<a.length;u++){var p=a[u],c=a[u-1];if(s.countSegment(p,c),s.isOnSegment())return s.getLocation()}return s.getLocation()}};var ES=function(){},TS={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ES.prototype.interfaces_=function(){return[]},ES.prototype.getClass=function(){return ES},ES.orientationIndex=function(t,e,o){return aS.orientationIndex(t,e,o)},ES.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,o=t[0].x,n=1;n<t.length-1;n++){var r=t[n].x-o,i=t[n+1].y;e+=r*(t[n-1].y-i)}return e/2}if($y(arguments[0],uS)){var l=arguments[0],a=l.size();if(a<3)return 0;var s=new Wy,u=new Wy,p=new Wy;l.getCoordinate(0,u),l.getCoordinate(1,p);var c=u.x;p.x-=c;for(var f=0,h=1;h<a-1;h++)s.y=u.y,u.x=p.x,u.y=p.y,l.getCoordinate(h+1,p),p.x-=c,f+=u.x*(s.y-p.y);return f/2}},ES.distanceLineLine=function(t,e,o,n){if(t.equals(e))return ES.distancePointLine(t,o,n);if(o.equals(n))return ES.distancePointLine(n,t,e);var r=!1;if(PS.intersects(t,e,o,n)){var i=(e.x-t.x)*(n.y-o.y)-(e.y-t.y)*(n.x-o.x);if(0===i)r=!0;else{var l=(t.y-o.y)*(n.x-o.x)-(t.x-o.x)*(n.y-o.y),a=((t.y-o.y)*(e.x-t.x)-(t.x-o.x)*(e.y-t.y))/i,s=l/i;(s<0||s>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?tS.min(ES.distancePointLine(t,o,n),ES.distancePointLine(e,o,n),ES.distancePointLine(o,t,e),ES.distancePointLine(n,t,e)):0},ES.isPointInRing=function(t,e){return ES.locatePointInRing(t,e)!==Zy.EXTERIOR},ES.computeLength=function(t){var e=t.size();if(e<=1)return 0;var o=0,n=new Wy;t.getCoordinate(0,n);for(var r=n.x,i=n.y,l=1;l<e;l++){t.getCoordinate(l,n);var a=n.x,s=n.y,u=a-r,p=s-i;o+=Math.sqrt(u*u+p*p),r=a,i=s}return o},ES.isCCW=function(t){var e=t.length-1;if(e<3)throw new Yy("Ring has fewer than 4 points, so orientation cannot be determined");for(var o=t[0],n=0,r=1;r<=e;r++){var i=t[r];i.y>o.y&&(o=i,n=r)}var l=n;do{(l-=1)<0&&(l=e)}while(t[l].equals2D(o)&&l!==n);var a=n;do{a=(a+1)%e}while(t[a].equals2D(o)&&a!==n);var s=t[l],u=t[a];if(s.equals2D(o)||u.equals2D(o)||s.equals2D(u))return!1;var p=ES.computeOrientation(s,o,u),c=!1;return c=0===p?s.x>u.x:p>0,c},ES.locatePointInRing=function(t,e){return US.locatePointInRing(t,e)},ES.distancePointLinePerpendicular=function(t,e,o){var n=(o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y),r=((e.y-t.y)*(o.x-e.x)-(e.x-t.x)*(o.y-e.y))/n;return Math.abs(r)*Math.sqrt(n)},ES.computeOrientation=function(t,e,o){return ES.orientationIndex(t,e,o)},ES.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Yy("Line array must contain at least one vertex");for(var o=t.distance(e[0]),n=0;n<e.length-1;n++){var r=ES.distancePointLine(t,e[n],e[n+1]);r<o&&(o=r)}return o}if(3===arguments.length){var i=arguments[0],l=arguments[1],a=arguments[2];if(l.x===a.x&&l.y===a.y)return i.distance(l);var s=(a.x-l.x)*(a.x-l.x)+(a.y-l.y)*(a.y-l.y),u=((i.x-l.x)*(a.x-l.x)+(i.y-l.y)*(a.y-l.y))/s;if(u<=0)return i.distance(l);if(u>=1)return i.distance(a);var p=((l.y-i.y)*(a.x-l.x)-(l.x-i.x)*(a.y-l.y))/s;return Math.abs(p)*Math.sqrt(s)}},ES.isOnLine=function(t,e){for(var o=new wS,n=1;n<e.length;n++){var r=e[n-1],i=e[n];if(o.computeIntersection(t,r,i),o.hasIntersection())return!0}return!1},TS.CLOCKWISE.get=function(){return-1},TS.RIGHT.get=function(){return ES.CLOCKWISE},TS.COUNTERCLOCKWISE.get=function(){return 1},TS.LEFT.get=function(){return ES.COUNTERCLOCKWISE},TS.COLLINEAR.get=function(){return 0},TS.STRAIGHT.get=function(){return ES.COLLINEAR},Object.defineProperties(ES,TS);var VS=function(){};VS.prototype.filter=function(t){},VS.prototype.interfaces_=function(){return[]},VS.prototype.getClass=function(){return VS};var RS=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},IS={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};RS.prototype.isGeometryCollection=function(){return this.getSortIndex()===RS.SORTINDEX_GEOMETRYCOLLECTION},RS.prototype.getFactory=function(){return this._factory},RS.prototype.getGeometryN=function(t){return this},RS.prototype.getArea=function(){return 0},RS.prototype.isRectangle=function(){return!1},RS.prototype.equals=function(){if(arguments[0]instanceof RS){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof RS))return!1;var o=e;return this.equalsExact(o)}},RS.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},RS.prototype.geometryChanged=function(){this.apply(RS.geometryChangedFilter)},RS.prototype.geometryChangedAction=function(){this._envelope=null},RS.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},RS.prototype.getLength=function(){return 0},RS.prototype.getNumGeometries=function(){return 1},RS.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var o=arguments[0],n=arguments[1];return this.getSortIndex()!==o.getSortIndex()?this.getSortIndex()-o.getSortIndex():this.isEmpty()&&o.isEmpty()?0:this.isEmpty()?-1:o.isEmpty()?1:this.compareToSameClass(o,n)}},RS.prototype.getUserData=function(){return this._userData},RS.prototype.getSRID=function(){return this._SRID},RS.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},RS.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===RS.SORTINDEX_GEOMETRYCOLLECTION)throw new Yy("This method does not support GeometryCollection arguments")},RS.prototype.equal=function(t,e,o){return 0===o?t.equals(e):t.distance(e)<=o},RS.prototype.norm=function(){var t=this.copy();return t.normalize(),t},RS.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},RS.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new PS(this._envelope)},RS.prototype.setSRID=function(t){this._SRID=t},RS.prototype.setUserData=function(t){this._userData=t},RS.prototype.compare=function(t,e){for(var o=t.iterator(),n=e.iterator();o.hasNext()&&n.hasNext();){var r=o.next(),i=n.next(),l=r.compareTo(i);if(0!==l)return l}return o.hasNext()?1:n.hasNext()?-1:0},RS.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},RS.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===RS.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===RS.SORTINDEX_MULTIPOINT||this.getSortIndex()===RS.SORTINDEX_MULTILINESTRING||this.getSortIndex()===RS.SORTINDEX_MULTIPOLYGON},RS.prototype.interfaces_=function(){return[Gy,zy,Xy]},RS.prototype.getClass=function(){return RS},RS.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},RS.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},IS.serialVersionUID.get=function(){return 0x799ea46522854c00},IS.SORTINDEX_POINT.get=function(){return 0},IS.SORTINDEX_MULTIPOINT.get=function(){return 1},IS.SORTINDEX_LINESTRING.get=function(){return 2},IS.SORTINDEX_LINEARRING.get=function(){return 3},IS.SORTINDEX_MULTILINESTRING.get=function(){return 4},IS.SORTINDEX_POLYGON.get=function(){return 5},IS.SORTINDEX_MULTIPOLYGON.get=function(){return 6},IS.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},IS.geometryChangedFilter.get=function(){return CS},Object.defineProperties(RS,IS);var CS=function(){};CS.interfaces_=function(){return[VS]},CS.filter=function(t){t.geometryChangedAction()};var jS=function(){};jS.prototype.filter=function(t){},jS.prototype.interfaces_=function(){return[]},jS.prototype.getClass=function(){return jS};var NS=function(){},DS={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};NS.prototype.isInBoundary=function(t){},NS.prototype.interfaces_=function(){return[]},NS.prototype.getClass=function(){return NS},DS.Mod2BoundaryNodeRule.get=function(){return BS},DS.EndPointBoundaryNodeRule.get=function(){return YS},DS.MultiValentEndPointBoundaryNodeRule.get=function(){return kS},DS.MonoValentEndPointBoundaryNodeRule.get=function(){return FS},DS.MOD2_BOUNDARY_RULE.get=function(){return new BS},DS.ENDPOINT_BOUNDARY_RULE.get=function(){return new YS},DS.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new kS},DS.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new FS},DS.OGC_SFS_BOUNDARY_RULE.get=function(){return NS.MOD2_BOUNDARY_RULE},Object.defineProperties(NS,DS);var BS=function(){};BS.prototype.isInBoundary=function(t){return t%2==1},BS.prototype.interfaces_=function(){return[NS]},BS.prototype.getClass=function(){return BS};var YS=function(){};YS.prototype.isInBoundary=function(t){return t>0},YS.prototype.interfaces_=function(){return[NS]},YS.prototype.getClass=function(){return YS};var kS=function(){};kS.prototype.isInBoundary=function(t){return t>1},kS.prototype.interfaces_=function(){return[NS]},kS.prototype.getClass=function(){return kS};var FS=function(){};FS.prototype.isInBoundary=function(t){return 1===t},FS.prototype.interfaces_=function(){return[NS]},FS.prototype.getClass=function(){return FS};var zS=function(){};function GS(t){this.message=t||""}zS.prototype.add=function(){},zS.prototype.addAll=function(){},zS.prototype.isEmpty=function(){},zS.prototype.iterator=function(){},zS.prototype.size=function(){},zS.prototype.toArray=function(){},zS.prototype.remove=function(){},GS.prototype=new Error,GS.prototype.name="IndexOutOfBoundsException";var qS=function(){};qS.prototype.hasNext=function(){},qS.prototype.next=function(){},qS.prototype.remove=function(){};var XS=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(zS);function WS(t){this.message=t||""}WS.prototype=new Error,WS.prototype.name="NoSuchElementException";var HS=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof zS&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,zS]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var o=this.array_[t];return this.array_[t]=e,o},e.prototype.iterator=function(){return new KS(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new GS;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,o=0,n=this.array_.length;o<n;o++)if(this.array_[o]===t){this.array_.splice(o,1),e=!0;break}return e},e}(XS),KS=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new WS;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(qS),JS=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var o=arguments[0],n=arguments[1];this.ensureCapacity(o.length),this.add(o,n)}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={coordArrayType:{configurable:!0}};return o.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],o=arguments[1],n=!1,r=e.iterator();r.hasNext();)this.add(r.next(),o),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),o=0;o<this.size();o++)e.add(o,this.get(o).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var o=arguments[0],n=arguments[1];return this.add(o,n,!0),!0}if(arguments[0]instanceof Wy&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1])if(this.size()>=1)if(this.get(this.size()-1).equals2D(r))return null;t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var i=arguments[0],l=arguments[1];return this.add(i,l),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],s=arguments[1];if(arguments[2])for(var u=0;u<a.length;u++)this.add(a[u],s);else for(var p=a.length-1;p>=0;p--)this.add(a[p],s);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof Wy){var c=arguments[0],f=arguments[1];if(!arguments[2]){var h=this.size();if(h>0){if(c>0)if(this.get(c-1).equals2D(f))return null;if(c<h)if(this.get(c).equals2D(f))return null}}t.prototype.add.call(this,c,f)}}else if(4===arguments.length){var g=arguments[0],P=arguments[1],y=arguments[2],S=arguments[3],d=1;y>S&&(d=-1);for(var b=y;b!==S;b+=d)this.add(g[b],P);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new Wy(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,o),e}(HS),ZS=function(){},QS={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};QS.ForwardComparator.get=function(){return $S},QS.BidirectionalComparator.get=function(){return td},QS.coordArrayType.get=function(){return new Array(0).fill(null)},ZS.prototype.interfaces_=function(){return[]},ZS.prototype.getClass=function(){return ZS},ZS.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},ZS.ptNotInList=function(t,e){for(var o=0;o<t.length;o++){var n=t[o];if(ZS.indexOf(n,e)<0)return n}return null},ZS.scroll=function(t,e){var o=ZS.indexOf(e,t);if(o<0)return null;var n=new Array(t.length).fill(null);hS.arraycopy(t,o,n,0,t.length-o),hS.arraycopy(t,0,n,t.length-o,o),hS.arraycopy(n,0,t,0,t.length)},ZS.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!t[o].equals(e[o]))return!1;return!0}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(n===r)return!0;if(null===n||null===r)return!1;if(n.length!==r.length)return!1;for(var l=0;l<n.length;l++)if(0!==i.compare(n[l],r[l]))return!1;return!0}},ZS.intersection=function(t,e){for(var o=new JS,n=0;n<t.length;n++)e.intersects(t[n])&&o.add(t[n],!0);return o.toCoordinateArray()},ZS.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},ZS.removeRepeatedPoints=function(t){return ZS.hasRepeatedPoints(t)?new JS(t,!1).toCoordinateArray():t},ZS.reverse=function(t){for(var e=t.length-1,o=Math.trunc(e/2),n=0;n<=o;n++){var r=t[n];t[n]=t[e-n],t[e-n]=r}},ZS.removeNull=function(t){for(var e=0,o=0;o<t.length;o++)null!==t[o]&&e++;var n=new Array(e).fill(null);if(0===e)return n;for(var r=0,i=0;i<t.length;i++)null!==t[i]&&(n[r++]=t[i]);return n},ZS.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),o=0;o<t.length;o++)e[o]=new Wy(t[o]);return e}if(5===arguments.length)for(var n=arguments[0],r=arguments[1],i=arguments[2],l=arguments[3],a=arguments[4],s=0;s<a;s++)i[l+s]=new Wy(n[r+s])},ZS.isEqualReversed=function(t,e){for(var o=0;o<t.length;o++){var n=t[o],r=e[t.length-o-1];if(0!==n.compareTo(r))return!1}return!0},ZS.envelope=function(t){for(var e=new PS,o=0;o<t.length;o++)e.expandToInclude(t[o]);return e},ZS.toCoordinateArray=function(t){return t.toArray(ZS.coordArrayType)},ZS.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},ZS.indexOf=function(t,e){for(var o=0;o<e.length;o++)if(t.equals(e[o]))return o;return-1},ZS.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var o=t.length-1-e,n=t[e].compareTo(t[o]);if(0!==n)return n}return 1},ZS.compare=function(t,e){for(var o=0;o<t.length&&o<e.length;){var n=t[o].compareTo(e[o]);if(0!==n)return n;o++}return o<e.length?-1:o<t.length?1:0},ZS.minCoordinate=function(t){for(var e=null,o=0;o<t.length;o++)(null===e||e.compareTo(t[o])>0)&&(e=t[o]);return e},ZS.extract=function(t,e,o){e=tS.clamp(e,0,t.length);var n=(o=tS.clamp(o,-1,t.length))-e+1;o<0&&(n=0),e>=t.length&&(n=0),o<e&&(n=0);var r=new Array(n).fill(null);if(0===n)return r;for(var i=0,l=e;l<=o;l++)r[i++]=t[l];return r},Object.defineProperties(ZS,QS);var $S=function(){};$S.prototype.compare=function(t,e){return ZS.compare(t,e)},$S.prototype.interfaces_=function(){return[qy]},$S.prototype.getClass=function(){return $S};var td=function(){};td.prototype.compare=function(t,e){var o=t,n=e;if(o.length<n.length)return-1;if(o.length>n.length)return 1;if(0===o.length)return 0;var r=ZS.compare(o,n);return ZS.isEqualReversed(o,n)?0:r},td.prototype.OLDcompare=function(t,e){var o=t,n=e;if(o.length<n.length)return-1;if(o.length>n.length)return 1;if(0===o.length)return 0;for(var r=ZS.increasingDirection(o),i=ZS.increasingDirection(n),l=r>0?0:o.length-1,a=i>0?0:o.length-1,s=0;s<o.length;s++){var u=o[l].compareTo(n[a]);if(0!==u)return u;l+=r,a+=i}return 0},td.prototype.interfaces_=function(){return[qy]},td.prototype.getClass=function(){return td};var ed=function(){};ed.prototype.get=function(){},ed.prototype.put=function(){},ed.prototype.size=function(){},ed.prototype.values=function(){},ed.prototype.entrySet=function(){};var od=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ed);function nd(t){this.message=t||""}function rd(){}nd.prototype=new Error,nd.prototype.name="OperationNotSupported",rd.prototype=new zS,rd.prototype.contains=function(){};var id=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof zS&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,o=this.array_.length;e<o;e++){if(this.array_[e]===t)return!0}return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new ld(this)},e}(rd),ld=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new WS;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new nd},e}(qS),ad=0;function sd(t){return null===t?ad:t.color}function ud(t){return null===t?null:t.parent}function pd(t,e){null!==t&&(t.color=e)}function cd(t){return null===t?null:t.left}function fd(t){return null===t?null:t.right}function hd(){this.root_=null,this.size_=0}hd.prototype=new od,hd.prototype.get=function(t){for(var e=this.root_;null!==e;){var o=t.compareTo(e.key);if(o<0)e=e.left;else{if(!(o>0))return e.value;e=e.right}}return null},hd.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:ad,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var o,n,r=this.root_;do{if(o=r,(n=t.compareTo(r.key))<0)r=r.left;else{if(!(n>0)){var i=r.value;return r.value=e,i}r=r.right}}while(null!==r);var l={key:t,left:null,right:null,value:e,parent:o,color:ad,getValue:function(){return this.value},getKey:function(){return this.key}};return n<0?o.left=l:o.right=l,this.fixAfterInsertion(l),this.size_++,null},hd.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(ud(t)===cd(ud(ud(t)))){var e=fd(ud(ud(t)));1===sd(e)?(pd(ud(t),ad),pd(e,ad),pd(ud(ud(t)),1),t=ud(ud(t))):(t===fd(ud(t))&&(t=ud(t),this.rotateLeft(t)),pd(ud(t),ad),pd(ud(ud(t)),1),this.rotateRight(ud(ud(t))))}else{var o=cd(ud(ud(t)));1===sd(o)?(pd(ud(t),ad),pd(o,ad),pd(ud(ud(t)),1),t=ud(ud(t))):(t===cd(ud(t))&&(t=ud(t),this.rotateRight(t)),pd(ud(t),ad),pd(ud(ud(t)),1),this.rotateLeft(ud(ud(t))))}this.root_.color=ad},hd.prototype.values=function(){var t=new HS,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=hd.successor(e));)t.add(e.value);return t},hd.prototype.entrySet=function(){var t=new id,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=hd.successor(e));)t.add(e);return t},hd.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},hd.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},hd.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},hd.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var o=t.parent,n=t;null!==o&&n===o.right;)n=o,o=o.parent;return o},hd.prototype.size=function(){return this.size_};var gd=function(){};function Pd(){}function yd(){this.array_=[],arguments[0]instanceof zS&&this.addAll(arguments[0])}gd.prototype.interfaces_=function(){return[]},gd.prototype.getClass=function(){return gd},Pd.prototype=new rd,yd.prototype=new Pd,yd.prototype.contains=function(t){for(var e=0,o=this.array_.length;e<o;e++){if(0===this.array_[e].compareTo(t))return!0}return!1},yd.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,o=this.array_.length;e<o;e++){if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},yd.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},yd.prototype.remove=function(t){throw new nd},yd.prototype.size=function(){return this.array_.length},yd.prototype.isEmpty=function(){return 0===this.array_.length},yd.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t},yd.prototype.iterator=function(){return new Sd(this)};var Sd=function(t){this.treeSet_=t,this.position_=0};Sd.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new WS;return this.treeSet_.array_[this.position_++]},Sd.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Sd.prototype.remove=function(){throw new nd};var dd=function(){};dd.sort=function(){var t,e,o,n,r=arguments[0];if(1===arguments.length)n=function(t,e){return t.compareTo(e)},r.sort(n);else if(2===arguments.length)o=arguments[1],n=function(t,e){return o.compare(t,e)},r.sort(n);else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),o=arguments[3],n=function(t,e){return o.compare(t,e)},e.sort(n),i=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<i.length;t++)r.push(i[t])},dd.asList=function(t){for(var e=new HS,o=0,n=t.length;o<n;o++)e.add(t[o]);return e};var bd=function(){},md={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};md.P.get=function(){return 0},md.L.get=function(){return 1},md.A.get=function(){return 2},md.FALSE.get=function(){return-1},md.TRUE.get=function(){return-2},md.DONTCARE.get=function(){return-3},md.SYM_FALSE.get=function(){return"F"},md.SYM_TRUE.get=function(){return"T"},md.SYM_DONTCARE.get=function(){return"*"},md.SYM_P.get=function(){return"0"},md.SYM_L.get=function(){return"1"},md.SYM_A.get=function(){return"2"},bd.prototype.interfaces_=function(){return[]},bd.prototype.getClass=function(){return bd},bd.toDimensionSymbol=function(t){switch(t){case bd.FALSE:return bd.SYM_FALSE;case bd.TRUE:return bd.SYM_TRUE;case bd.DONTCARE:return bd.SYM_DONTCARE;case bd.P:return bd.SYM_P;case bd.L:return bd.SYM_L;case bd.A:return bd.SYM_A}throw new Yy("Unknown dimension value: "+t)},bd.toDimensionValue=function(t){switch(rS.toUpperCase(t)){case bd.SYM_FALSE:return bd.FALSE;case bd.SYM_TRUE:return bd.TRUE;case bd.SYM_DONTCARE:return bd.DONTCARE;case bd.SYM_P:return bd.P;case bd.SYM_L:return bd.L;case bd.SYM_A:return bd.A}throw new Yy("Unknown dimension symbol: "+t)},Object.defineProperties(bd,md);var vd=function(){};vd.prototype.filter=function(t){},vd.prototype.interfaces_=function(){return[]},vd.prototype.getClass=function(){return vd};var Md=function(){};Md.prototype.filter=function(t,e){},Md.prototype.isDone=function(){},Md.prototype.isGeometryChanged=function(){},Md.prototype.interfaces_=function(){return[]},Md.prototype.getClass=function(){return Md};var Ad=function(t){function e(e,o){if(t.call(this,o),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Yy("geometries must not contain null elements")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new PS,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,o=0;o<this._geometries.length;o++)for(var n=this._geometries[o].getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],o=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._geometries.length!==n._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(n._geometries[r],o))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();dd.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=bd.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=bd.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),o=0;o<this._geometries.length;o++)e[o]=this._geometries[o].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new yd(dd.asList(this._geometries)),o=new yd(dd.asList(t._geometries));return this.compare(e,o)}if(2===arguments.length){for(var n=arguments[0],r=arguments[1],i=n,l=this.getNumGeometries(),a=i.getNumGeometries(),s=0;s<l&&s<a;){var u=this.getGeometryN(s),p=i.getGeometryN(s),c=u.compareToSameClass(p,r);if(0!==c)return c;s++}return s<l?1:s<a?-1:0}},e.prototype.apply=function(){if($y(arguments[0],jS))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if($y(arguments[0],Md)){var o=arguments[0];if(0===this._geometries.length)return null;for(var n=0;n<this._geometries.length&&(this._geometries[n].apply(o),!o.isDone());n++);o.isGeometryChanged()&&this.geometryChanged()}else if($y(arguments[0],vd)){var r=arguments[0];r.filter(this);for(var i=0;i<this._geometries.length;i++)this._geometries[i].apply(r)}else if($y(arguments[0],VS)){var l=arguments[0];l.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(l)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),OS.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var o=0;o<this._geometries.length;o++)e._geometries[o]=this._geometries[o].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),o=0;o<t.length;o++)t[o]=this._geometries[o].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,o),e}(RS),Od=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return RS.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],o=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,o)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?bd.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),o=0;o<this._geometries.length;o++)e[t-1-o]=this._geometries[o].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new _d(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),o=0;o<t.length;o++)t[o]=this._geometries[o].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[gd]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,o),e}(Ad),_d=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=NS.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var o=arguments[0],n=arguments[1];this._geom=o,this._geomFact=o.getFactory(),this._bnRule=n}};_d.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},_d.prototype.getBoundary=function(){return this._geom instanceof Td?this.boundaryLineString(this._geom):this._geom instanceof Od?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},_d.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},_d.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},_d.prototype.computeBoundaryCoordinates=function(t){var e=new HS;this._endpointMap=new hd;for(var o=0;o<t.getNumGeometries();o++){var n=t.getGeometryN(o);0!==n.getNumPoints()&&(this.addEndpoint(n.getCoordinateN(0)),this.addEndpoint(n.getCoordinateN(n.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var i=r.next(),l=i.getValue().count;this._bnRule.isInBoundary(l)&&e.add(i.getKey())}return ZS.toCoordinateArray(e)},_d.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Ld,this._endpointMap.put(t,e)),e.count++},_d.prototype.interfaces_=function(){return[]},_d.prototype.getClass=function(){return _d},_d.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new _d(t).getBoundary()}if(2===arguments.length){var e=arguments[0],o=arguments[1];return new _d(e,o).getBoundary()}};var Ld=function(){this.count=null};Ld.prototype.interfaces_=function(){return[]},Ld.prototype.getClass=function(){return Ld};function wd(){}var xd=function(){},Ud={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};xd.prototype.interfaces_=function(){return[]},xd.prototype.getClass=function(){return xd},xd.chars=function(t,e){for(var o=new Array(e).fill(null),n=0;n<e;n++)o[n]=t;return String(o)},xd.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},o=new function(){}(e);return t.printStackTrace(o),e.toString()}if(2===arguments.length){for(var n=arguments[0],r=arguments[1],i="",l=new function(){}(new function(){}(xd.getStackTrace(n))),a=0;a<r;a++)try{i+=l.readLine()+xd.NEWLINE}catch(t){if(!(t instanceof wd))throw t;OS.shouldNeverReachHere()}return i}},xd.split=function(t,e){for(var o=e.length,n=new HS,r=""+t,i=r.indexOf(e);i>=0;){var l=r.substring(0,i);n.add(l),i=(r=r.substring(i+o)).indexOf(e)}r.length>0&&n.add(r);for(var a=new Array(n.size()).fill(null),s=0;s<a.length;s++)a[s]=n.get(s);return a},xd.toString=function(){if(1===arguments.length){var t=arguments[0];return xd.SIMPLE_ORDINATE_FORMAT.format(t)}},xd.spaces=function(t){return xd.chars(" ",t)},Ud.NEWLINE.get=function(){return hS.getProperty("line.separator")},Ud.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(xd,Ud);var Ed=function(){};Ed.prototype.interfaces_=function(){return[]},Ed.prototype.getClass=function(){return Ed},Ed.copyCoord=function(t,e,o,n){for(var r=Math.min(t.getDimension(),o.getDimension()),i=0;i<r;i++)o.setOrdinate(n,i,t.getOrdinate(e,i))},Ed.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&(t.getOrdinate(0,uS.X)===t.getOrdinate(e-1,uS.X)&&t.getOrdinate(0,uS.Y)===t.getOrdinate(e-1,uS.Y))},Ed.isEqual=function(t,e){var o=t.size();if(o!==e.size())return!1;for(var n=Math.min(t.getDimension(),e.getDimension()),r=0;r<o;r++)for(var i=0;i<n;i++){var l=t.getOrdinate(r,i),a=e.getOrdinate(r,i);if(t.getOrdinate(r,i)!==e.getOrdinate(r,i)&&(!ky.isNaN(l)||!ky.isNaN(a)))return!1}return!0},Ed.extend=function(t,e,o){var n=t.create(o,e.getDimension()),r=e.size();if(Ed.copy(e,0,n,0,r),r>0)for(var i=r;i<o;i++)Ed.copy(e,r-1,n,i,1);return n},Ed.reverse=function(t){for(var e=t.size()-1,o=Math.trunc(e/2),n=0;n<=o;n++)Ed.swap(t,n,e-n)},Ed.swap=function(t,e,o){if(e===o)return null;for(var n=0;n<t.getDimension();n++){var r=t.getOrdinate(e,n);t.setOrdinate(e,n,t.getOrdinate(o,n)),t.setOrdinate(o,n,r)}},Ed.copy=function(t,e,o,n,r){for(var i=0;i<r;i++)Ed.copyCoord(t,e+i,o,n+i)},Ed.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var o=t.getDimension(),n=new oS;n.append("(");for(var r=0;r<e;r++){r>0&&n.append(" ");for(var i=0;i<o;i++)i>0&&n.append(","),n.append(xd.toString(t.getOrdinate(r,i)))}return n.append(")"),n.toString()}},Ed.ensureValidRing=function(t,e){var o=e.size();return 0===o?e:o<=3?Ed.createClosedRing(t,e,4):e.getOrdinate(0,uS.X)===e.getOrdinate(o-1,uS.X)&&e.getOrdinate(0,uS.Y)===e.getOrdinate(o-1,uS.Y)?e:Ed.createClosedRing(t,e,o+1)},Ed.createClosedRing=function(t,e,o){var n=t.create(o,e.getDimension()),r=e.size();Ed.copy(e,0,n,0,r);for(var i=r;i<o;i++)Ed.copy(e,0,n,i,1);return n};var Td=function(t){function e(e,o){t.call(this,o),this._points=null,this.init(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new PS:this._points.expandEnvelope(new PS)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],o=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._points.size()!==n._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),n._points.getCoordinate(r),o))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Ed.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?bd.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return ES.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Ed.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,o=0;e<this._points.size()&&o<t._points.size();){var n=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(o));if(0!==n)return n;e++,o++}return e<this._points.size()?1:o<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}},e.prototype.apply=function(){if($y(arguments[0],jS))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if($y(arguments[0],Md)){var o=arguments[0];if(0===this._points.size())return null;for(var n=0;n<this._points.size()&&(o.filter(this._points,n),!o.isDone());n++);o.isGeometryChanged()&&this.geometryChanged()}else if($y(arguments[0],vd)){arguments[0].filter(this)}else if($y(arguments[0],VS)){arguments[0].filter(this)}},e.prototype.getBoundary=function(){return new _d(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Yy("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[gd]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,o),e}(RS),Vd=function(){};Vd.prototype.interfaces_=function(){return[]},Vd.prototype.getClass=function(){return Vd};var Rd=function(t){function e(e,o){t.call(this,o),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new PS;var t=new PS;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],o=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),o))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return bd.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if($y(arguments[0],jS)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if($y(arguments[0],Md)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if($y(arguments[0],vd)){arguments[0].filter(this)}else if($y(arguments[0],VS)){arguments[0].filter(this)}},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),OS.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Vd]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,o),e}(RS),Id=function(){};Id.prototype.interfaces_=function(){return[]},Id.prototype.getClass=function(){return Id};var Cd=function(t){function e(e,o,n){if(t.call(this,n),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===o&&(o=[]),t.hasNullElements(o))throw new Yy("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(o))throw new Yy("shell is empty but holes are not");this._shell=e,this._holes=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,o=this._shell.getCoordinates(),n=0;n<o.length;n++)t[++e]=o[n];for(var r=0;r<this._holes.length;r++)for(var i=this._holes[r].getCoordinates(),l=0;l<i.length;l++)t[++e]=i[l];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(ES.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(ES.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),o=0;o<5;o++){var n=t.getX(o);if(n!==e.getMinX()&&n!==e.getMaxX())return!1;var r=t.getY(o);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var i=t.getX(0),l=t.getY(0),a=1;a<=4;a++){var s=t.getX(a),u=t.getY(a);if(s!==i===(u!==l))return!1;i=s,l=u}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],o=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e,r=this._shell,i=n._shell;if(!r.equalsExact(i,o))return!1;if(this._holes.length!==n._holes.length)return!1;for(var l=0;l<this._holes.length;l++)if(!this._holes[l].equalsExact(n._holes[l],o))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);dd.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(e.isEmpty())return null;var n=new Array(e.getCoordinates().length-1).fill(null);hS.arraycopy(e.getCoordinates(),0,n,0,n.length);var r=ZS.minCoordinate(e.getCoordinates());ZS.scroll(n,r),hS.arraycopy(n,0,e.getCoordinates(),0,n.length),e.getCoordinates()[n.length]=n[0],ES.isCCW(e.getCoordinates())===o&&ZS.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,o=t._shell;return e.compareToSameClass(o)}if(2===arguments.length){var n=arguments[0],r=arguments[1],i=n,l=this._shell,a=i._shell,s=l.compareToSameClass(a,r);if(0!==s)return s;for(var u=this.getNumInteriorRing(),p=i.getNumInteriorRing(),c=0;c<u&&c<p;){var f=this.getInteriorRingN(c),h=i.getInteriorRingN(c),g=f.compareToSameClass(h,r);if(0!==g)return g;c++}return c<u?1:c<p?-1:0}},e.prototype.apply=function(t){if($y(t,jS)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if($y(t,Md)){if(this._shell.apply(t),!t.isDone())for(var o=0;o<this._holes.length&&(this._holes[o].apply(t),!t.isDone());o++);t.isGeometryChanged()&&this.geometryChanged()}else if($y(t,vd))t.filter(this);else if($y(t,VS)){t.filter(this),this._shell.apply(t);for(var n=0;n<this._holes.length;n++)this._holes[n].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var o=0;o<this._holes.length;o++)e._holes[o]=this._holes[o].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),o=new Array(this._holes.length).fill(null),n=0;n<o.length;n++)o[n]=this._holes[n].copy();return new e(t,o,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Id]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,o),e}(RS),jd=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return RS.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],o=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,o)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return bd.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),o=0;o<t.length;o++)t[o]=this._geometries[o].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Vd]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,o),e}(Ad),Nd=function(t){function e(e,o){e instanceof Wy&&o instanceof $d&&(e=o.getCoordinateSequenceFactory().create(e)),t.call(this,e,o),this.validateConstruction()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return RS.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return bd.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Ed.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Yy("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Yy("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.MINIMUM_VALID_SIZE.get=function(){return 4},o.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,o),e}(Td),Dd=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return RS.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],o=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,o)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),o=0;o<this._geometries.length;o++)e[o]=this._geometries[o].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new HS,e=0;e<this._geometries.length;e++)for(var o=this._geometries[e].getBoundary(),n=0;n<o.getNumGeometries();n++)t.add(o.getGeometryN(n));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),o=0;o<t.length;o++)t[o]=this._geometries[o].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Id]},e.prototype.getClass=function(){return e},o.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,o),e}(Ad),Bd=function(t){this._factory=t||null,this._isUserDataCopied=!1},Yd={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Bd.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Bd.prototype.edit=function(t,e){if(null===t)return null;var o=this.editInternal(t,e);return this._isUserDataCopied&&o.setUserData(t.getUserData()),o},Bd.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Ad?this.editGeometryCollection(t,e):t instanceof Cd?this.editPolygon(t,e):t instanceof Rd?e.edit(t,this._factory):t instanceof Td?e.edit(t,this._factory):(OS.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Bd.prototype.editGeometryCollection=function(t,e){for(var o=e.edit(t,this._factory),n=new HS,r=0;r<o.getNumGeometries();r++){var i=this.edit(o.getGeometryN(r),e);null===i||i.isEmpty()||n.add(i)}return o.getClass()===jd?this._factory.createMultiPoint(n.toArray([])):o.getClass()===Od?this._factory.createMultiLineString(n.toArray([])):o.getClass()===Dd?this._factory.createMultiPolygon(n.toArray([])):this._factory.createGeometryCollection(n.toArray([]))},Bd.prototype.editPolygon=function(t,e){var o=e.edit(t,this._factory);if(null===o&&(o=this._factory.createPolygon(null)),o.isEmpty())return o;var n=this.edit(o.getExteriorRing(),e);if(null===n||n.isEmpty())return this._factory.createPolygon();for(var r=new HS,i=0;i<o.getNumInteriorRing();i++){var l=this.edit(o.getInteriorRingN(i),e);null===l||l.isEmpty()||r.add(l)}return this._factory.createPolygon(n,r.toArray([]))},Bd.prototype.interfaces_=function(){return[]},Bd.prototype.getClass=function(){return Bd},Bd.GeometryEditorOperation=function(){},Yd.NoOpGeometryOperation.get=function(){return kd},Yd.CoordinateOperation.get=function(){return Fd},Yd.CoordinateSequenceOperation.get=function(){return zd},Object.defineProperties(Bd,Yd);var kd=function(){};kd.prototype.edit=function(t,e){return t},kd.prototype.interfaces_=function(){return[Bd.GeometryEditorOperation]},kd.prototype.getClass=function(){return kd};var Fd=function(){};Fd.prototype.edit=function(t,e){var o=this.editCoordinates(t.getCoordinates(),t);return null===o?t:t instanceof Nd?e.createLinearRing(o):t instanceof Td?e.createLineString(o):t instanceof Rd?o.length>0?e.createPoint(o[0]):e.createPoint():t},Fd.prototype.interfaces_=function(){return[Bd.GeometryEditorOperation]},Fd.prototype.getClass=function(){return Fd};var zd=function(){};zd.prototype.edit=function(t,e){return t instanceof Nd?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Td?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Rd?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},zd.prototype.interfaces_=function(){return[Bd.GeometryEditorOperation]},zd.prototype.getClass=function(){return zd};var Gd=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new Wy}else if($y(arguments[0],uS)){var o=arguments[0];if(null===o)return this._coordinates=new Array(0).fill(null),null;this._dimension=o.getDimension(),this._coordinates=new Array(o.size()).fill(null);for(var n=0;n<this._coordinates.length;n++)this._coordinates[n]=o.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1];this._coordinates=r,this._dimension=i,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],a=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=a;for(var s=0;s<l;s++)this._coordinates[s]=new Wy}},qd={serialVersionUID:{configurable:!0}};Gd.prototype.setOrdinate=function(t,e,o){switch(e){case uS.X:this._coordinates[t].x=o;break;case uS.Y:this._coordinates[t].y=o;break;case uS.Z:this._coordinates[t].z=o;break;default:throw new Yy("invalid ordinateIndex")}},Gd.prototype.size=function(){return this._coordinates.length},Gd.prototype.getOrdinate=function(t,e){switch(e){case uS.X:return this._coordinates[t].x;case uS.Y:return this._coordinates[t].y;case uS.Z:return this._coordinates[t].z}return ky.NaN},Gd.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],o=arguments[1];o.x=this._coordinates[e].x,o.y=this._coordinates[e].y,o.z=this._coordinates[e].z}},Gd.prototype.getCoordinateCopy=function(t){return new Wy(this._coordinates[t])},Gd.prototype.getDimension=function(){return this._dimension},Gd.prototype.getX=function(t){return this._coordinates[t].x},Gd.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Gd(t,this._dimension)},Gd.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Gd.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Gd(t,this._dimension)},Gd.prototype.toString=function(){if(this._coordinates.length>0){var t=new oS(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Gd.prototype.getY=function(t){return this._coordinates[t].y},Gd.prototype.toCoordinateArray=function(){return this._coordinates},Gd.prototype.interfaces_=function(){return[uS,Xy]},Gd.prototype.getClass=function(){return Gd},qd.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Gd,qd);var Xd=function(){},Wd={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Xd.prototype.readResolve=function(){return Xd.instance()},Xd.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Gd(t)}if($y(arguments[0],uS)){var e=arguments[0];return new Gd(e)}}else if(2===arguments.length){var o=arguments[0],n=arguments[1];return n>3&&(n=3),n<2?new Gd(o):new Gd(o,n)}},Xd.prototype.interfaces_=function(){return[Jy,Xy]},Xd.prototype.getClass=function(){return Xd},Xd.instance=function(){return Xd.instanceObject},Wd.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Wd.instanceObject.get=function(){return new Xd},Object.defineProperties(Xd,Wd);var Hd=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new HS,e=this.map_.values(),o=e.next();!o.done;)t.add(o.value),o=e.next();return t},e.prototype.entrySet=function(){var t=new id;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(ed),Kd=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Zd){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var o=arguments[0];this._modelType=t.FIXED,this.setScale(o)}else if(arguments[0]instanceof t){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}},Jd={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Kd.prototype.equals=function(t){if(!(t instanceof Kd))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},Kd.prototype.compareTo=function(t){var e=t,o=this.getMaximumSignificantDigits(),n=e.getMaximumSignificantDigits();return new nS(o).compareTo(new nS(n))},Kd.prototype.getScale=function(){return this._scale},Kd.prototype.isFloating=function(){return this._modelType===Kd.FLOATING||this._modelType===Kd.FLOATING_SINGLE},Kd.prototype.getType=function(){return this._modelType},Kd.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Kd.FLOATING?t="Floating":this._modelType===Kd.FLOATING_SINGLE?t="Floating-Single":this._modelType===Kd.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Kd.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return ky.isNaN(t)?t:this._modelType===Kd.FLOATING_SINGLE?t:this._modelType===Kd.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof Wy){var e=arguments[0];if(this._modelType===Kd.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Kd.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Kd.FLOATING?t=16:this._modelType===Kd.FLOATING_SINGLE?t=6:this._modelType===Kd.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Kd.prototype.setScale=function(t){this._scale=Math.abs(t)},Kd.prototype.interfaces_=function(){return[Xy,zy]},Kd.prototype.getClass=function(){return Kd},Kd.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Jd.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Jd.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Kd,Jd);var Zd=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Qd={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Zd.prototype.readResolve=function(){return Zd.nameToTypeMap.get(this._name)},Zd.prototype.toString=function(){return this._name},Zd.prototype.interfaces_=function(){return[Xy]},Zd.prototype.getClass=function(){return Zd},Qd.serialVersionUID.get=function(){return-552860263173159e4},Qd.nameToTypeMap.get=function(){return new Hd},Object.defineProperties(Zd,Qd),Kd.Type=Zd,Kd.FIXED=new Zd("FIXED"),Kd.FLOATING=new Zd("FLOATING"),Kd.FLOATING_SINGLE=new Zd("FLOATING SINGLE");var $d=function t(){this._precisionModel=new Kd,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?$y(arguments[0],Jy)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Kd&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},tb={serialVersionUID:{configurable:!0}};$d.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Wy(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Wy(t.getMinX(),t.getMinY()),new Wy(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Wy(t.getMinX(),t.getMinY()),new Wy(t.getMinX(),t.getMaxY()),new Wy(t.getMaxX(),t.getMaxY()),new Wy(t.getMaxX(),t.getMinY()),new Wy(t.getMinX(),t.getMinY())]),null)},$d.prototype.createLineString=function(t){return t?t instanceof Array?new Td(this.getCoordinateSequenceFactory().create(t),this):$y(t,uS)?new Td(t,this):void 0:new Td(this.getCoordinateSequenceFactory().create([]),this)},$d.prototype.createMultiLineString=function(){if(0===arguments.length)return new Od(null,this);if(1===arguments.length){var t=arguments[0];return new Od(t,this)}},$d.prototype.buildGeometry=function(t){for(var e=null,o=!1,n=!1,r=t.iterator();r.hasNext();){var i=r.next(),l=i.getClass();null===e&&(e=l),l!==e&&(o=!0),i.isGeometryCollectionOrDerived()&&(n=!0)}if(null===e)return this.createGeometryCollection();if(o||n)return this.createGeometryCollection($d.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Cd)return this.createMultiPolygon($d.toPolygonArray(t));if(a instanceof Td)return this.createMultiLineString($d.toLineStringArray(t));if(a instanceof Rd)return this.createMultiPoint($d.toPointArray(t));OS.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},$d.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},$d.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Wy){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if($y(arguments[0],uS)){var e=arguments[0];return new Rd(e,this)}}},$d.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},$d.prototype.createPolygon=function(){if(0===arguments.length)return new Cd(null,null,this);if(1===arguments.length){if($y(arguments[0],uS)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Nd){var o=arguments[0];return this.createPolygon(o,null)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return new Cd(n,r,this)}},$d.prototype.getSRID=function(){return this._SRID},$d.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Ad(null,this);if(1===arguments.length){var t=arguments[0];return new Ad(t,this)}},$d.prototype.createGeometry=function(t){return new Bd(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},$d.prototype.getPrecisionModel=function(){return this._precisionModel},$d.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if($y(arguments[0],uS)){var e=arguments[0];return new Nd(e,this)}}},$d.prototype.createMultiPolygon=function(){if(0===arguments.length)return new Dd(null,this);if(1===arguments.length){var t=arguments[0];return new Dd(t,this)}},$d.prototype.createMultiPoint=function(){if(0===arguments.length)return new jd(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new jd(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if($y(arguments[0],uS)){var o=arguments[0];if(null===o)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(o.size()).fill(null),r=0;r<o.size();r++){var i=this.getCoordinateSequenceFactory().create(1,o.getDimension());Ed.copy(o,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},$d.prototype.interfaces_=function(){return[Xy]},$d.prototype.getClass=function(){return $d},$d.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$d.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},$d.getDefaultCoordinateSequenceFactory=function(){return Xd.instance()},$d.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$d.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$d.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$d.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$d.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$d.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$d.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},tb.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties($d,tb);var eb=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ob=function(t){this.geometryFactory=t||new $d};ob.prototype.read=function(t){var e,o=(e="string"==typeof t?JSON.parse(t):t).type;if(!nb[o])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==eb.indexOf(o)?nb[o].apply(this,[e.coordinates]):"GeometryCollection"===o?nb[o].apply(this,[e.geometries]):nb[o].apply(this,[e])},ob.prototype.write=function(t){var e=t.getGeometryType();if(!rb[e])throw new Error("Geometry is not supported");return rb[e].apply(this,[t])};var nb={Feature:function(t){var e={};for(var o in t)e[o]=t[o];if(t.geometry){var n=t.geometry.type;if(!nb[n])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=nb.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var o=0;o<t.features.length;++o)e.features.push(this.read(t.features[o]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],o=0;o<t.length;++o){var n=t[o];e.push(new Wy(n[0],n[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new Wy(t[0],t[1]),new Wy(t[2],t[1]),new Wy(t[2],t[3]),new Wy(t[0],t[3]),new Wy(t[0],t[1])])},Point:function(t){var e=new Wy(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],o=0;o<t.length;++o)e.push(nb.Point.apply(this,[t[o]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=nb.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],o=0;o<t.length;++o)e.push(nb.LineString.apply(this,[t[o]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=nb.coordinates.apply(this,[t[0]]),o=this.geometryFactory.createLinearRing(e),n=[],r=1;r<t.length;++r){var i=t[r],l=nb.coordinates.apply(this,[i]),a=this.geometryFactory.createLinearRing(l);n.push(a)}return this.geometryFactory.createPolygon(o,n)},MultiPolygon:function(t){for(var e=[],o=0;o<t.length;++o){var n=t[o];e.push(nb.Polygon.apply(this,[n]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],o=0;o<t.length;++o){var n=t[o];e.push(this.read(n))}return this.geometryFactory.createGeometryCollection(e)}},rb={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:rb.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var n=t._geometries[o],r=rb.Point.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],o=t.getCoordinates(),n=0;n<o.length;++n){var r=o[n];e.push(rb.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var n=t._geometries[o],r=rb.LineString.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],o=rb.LineString.apply(this,[t._shell]);e.push(o.coordinates);for(var n=0;n<t._holes.length;++n){var r=t._holes[n],i=rb.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var n=t._geometries[o],r=rb.Polygon.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],o=0;o<t._geometries.length;++o){var n=t._geometries[o],r=n.getGeometryType();e.push(rb[r].apply(this,[n]))}return{type:"GeometryCollection",geometries:e}}},ib=function(t){this.geometryFactory=t||new $d,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ob(this.geometryFactory)};ib.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Kd.FIXED&&this.reducePrecision(e),e},ib.prototype.reducePrecision=function(t){var e,o;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,o=t.points.length;e<o;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,o=t.geometries.length;e<o;e++)this.reducePrecision(t.geometries[e])};var lb=function(){},ab={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function sb(t){this.message=t||""}function ub(){this.array_=[]}lb.prototype.interfaces_=function(){return[]},lb.prototype.getClass=function(){return lb},lb.opposite=function(t){return t===lb.LEFT?lb.RIGHT:t===lb.RIGHT?lb.LEFT:t},ab.ON.get=function(){return 0},ab.LEFT.get=function(){return 1},ab.RIGHT.get=function(){return 2},Object.defineProperties(lb,ab),sb.prototype=new Error,sb.prototype.name="EmptyStackException",ub.prototype=new XS,ub.prototype.add=function(t){return this.array_.push(t),!0},ub.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},ub.prototype.push=function(t){return this.array_.push(t),t},ub.prototype.pop=function(t){if(0===this.array_.length)throw new sb;return this.array_.pop()},ub.prototype.peek=function(){if(0===this.array_.length)throw new sb;return this.array_[this.array_.length-1]},ub.prototype.empty=function(){return 0===this.array_.length},ub.prototype.isEmpty=function(){return this.empty()},ub.prototype.search=function(t){return this.array_.indexOf(t)},ub.prototype.size=function(){return this.array_.length},ub.prototype.toArray=function(){for(var t=[],e=0,o=this.array_.length;e<o;e++)t.push(this.array_[e]);return t};var pb=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};pb.prototype.getCoordinate=function(){return this._minCoord},pb.prototype.getRightmostSide=function(t,e){var o=this.getRightmostSideOfSegment(t,e);return o<0&&(o=this.getRightmostSideOfSegment(t,e-1)),o<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),o},pb.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();OS.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],o=t[this._minIndex+1],n=ES.computeOrientation(this._minCoord,o,e),r=!1;e.y<this._minCoord.y&&o.y<this._minCoord.y&&n===ES.COUNTERCLOCKWISE?r=!0:e.y>this._minCoord.y&&o.y>this._minCoord.y&&n===ES.CLOCKWISE&&(r=!0),r&&(this._minIndex=this._minIndex-1)},pb.prototype.getRightmostSideOfSegment=function(t,e){var o=t.getEdge().getCoordinates();if(e<0||e+1>=o.length)return-1;if(o[e].y===o[e+1].y)return-1;var n=lb.LEFT;return o[e].y<o[e+1].y&&(n=lb.RIGHT),n},pb.prototype.getEdge=function(){return this._orientedDe},pb.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),o=0;o<e.length-1;o++)(null===this._minCoord||e[o].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=o,this._minCoord=e[o])},pb.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},pb.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();o.isForward()&&this.checkForRightmostCoordinate(o)}OS.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===lb.LEFT&&(this._orientedDe=this._minDe.getSym())},pb.prototype.interfaces_=function(){return[]},pb.prototype.getClass=function(){return pb};var cb=function(t){function e(o,n){t.call(this,e.msgWithCoord(o,n)),this.pt=n?new Wy(n):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(MS),fb=function(){this.array_=[]};fb.prototype.addLast=function(t){this.array_.push(t)},fb.prototype.removeFirst=function(){return this.array_.shift()},fb.prototype.isEmpty=function(){return 0===this.array_.length};var hb=function(){this._finder=null,this._dirEdgeList=new HS,this._nodes=new HS,this._rightMostCoord=null,this._env=null,this._finder=new pb};hb.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}},hb.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},hb.prototype.computeNodeDepth=function(t){for(var e=null,o=t.getEdges().iterator();o.hasNext();){var n=o.next();if(n.isVisited()||n.getSym().isVisited()){e=n;break}}if(null===e)throw new cb("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var i=r.next();i.setVisited(!0),this.copySymDepths(i)}},hb.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(lb.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},hb.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},hb.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(lb.RIGHT)>=1&&e.getDepth(lb.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},hb.prototype.computeDepths=function(t){var e=new id,o=new fb,n=t.getNode();for(o.addLast(n),e.add(n),t.setVisited(!0);!o.isEmpty();){var r=o.removeFirst();e.add(r),this.computeNodeDepth(r);for(var i=r.getEdges().iterator();i.hasNext();){var l=i.next().getSym();if(!l.isVisited()){var a=l.getNode();e.contains(a)||(o.addLast(a),e.add(a))}}}},hb.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},hb.prototype.getEnvelope=function(){if(null===this._env){for(var t=new PS,e=this._dirEdgeList.iterator();e.hasNext();)for(var o=e.next().getEdge().getCoordinates(),n=0;n<o.length-1;n++)t.expandToInclude(o[n]);this._env=t}return this._env},hb.prototype.addReachable=function(t){var e=new ub;for(e.add(t);!e.empty();){var o=e.pop();this.add(o,e)}},hb.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(lb.LEFT,t.getDepth(lb.RIGHT)),e.setDepth(lb.RIGHT,t.getDepth(lb.LEFT))},hb.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var o=t.getEdges().iterator();o.hasNext();){var n=o.next();this._dirEdgeList.add(n);var r=n.getSym().getNode();r.isVisited()||e.push(r)}},hb.prototype.getNodes=function(){return this._nodes},hb.prototype.getDirectedEdges=function(){return this._dirEdgeList},hb.prototype.interfaces_=function(){return[zy]},hb.prototype.getClass=function(){return hb};var gb=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var o=arguments[0];this.init(1),this.location[lb.ON]=o}else if(arguments[0]instanceof t){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var i=arguments[0],l=arguments[1],a=arguments[2];this.init(3),this.location[lb.ON]=i,this.location[lb.LEFT]=l,this.location[lb.RIGHT]=a}};gb.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},gb.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Zy.NONE)return!1;return!0},gb.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Zy.NONE&&(this.location[e]=t)},gb.prototype.isLine=function(){return 1===this.location.length},gb.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[lb.ON]=this.location[lb.ON],e[lb.LEFT]=Zy.NONE,e[lb.RIGHT]=Zy.NONE,this.location=e}for(var o=0;o<this.location.length;o++)this.location[o]===Zy.NONE&&o<t.location.length&&(this.location[o]=t.location[o])},gb.prototype.getLocations=function(){return this.location},gb.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[lb.LEFT];this.location[lb.LEFT]=this.location[lb.RIGHT],this.location[lb.RIGHT]=t},gb.prototype.toString=function(){var t=new oS;return this.location.length>1&&t.append(Zy.toLocationSymbol(this.location[lb.LEFT])),t.append(Zy.toLocationSymbol(this.location[lb.ON])),this.location.length>1&&t.append(Zy.toLocationSymbol(this.location[lb.RIGHT])),t.toString()},gb.prototype.setLocations=function(t,e,o){this.location[lb.ON]=t,this.location[lb.LEFT]=e,this.location[lb.RIGHT]=o},gb.prototype.get=function(t){return t<this.location.length?this.location[t]:Zy.NONE},gb.prototype.isArea=function(){return this.location.length>1},gb.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Zy.NONE)return!0;return!1},gb.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(lb.ON,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];this.location[e]=o}},gb.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Zy.NONE)},gb.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},gb.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},gb.prototype.interfaces_=function(){return[]},gb.prototype.getClass=function(){return gb};var Pb=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new gb(e),this.elt[1]=new gb(e)}else if(arguments[0]instanceof t){var o=arguments[0];this.elt[0]=new gb(o.elt[0]),this.elt[1]=new gb(o.elt[1])}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.elt[0]=new gb(Zy.NONE),this.elt[1]=new gb(Zy.NONE),this.elt[n].setLocation(r)}else if(3===arguments.length){var i=arguments[0],l=arguments[1],a=arguments[2];this.elt[0]=new gb(i,l,a),this.elt[1]=new gb(i,l,a)}else if(4===arguments.length){var s=arguments[0],u=arguments[1],p=arguments[2],c=arguments[3];this.elt[0]=new gb(Zy.NONE,Zy.NONE,Zy.NONE),this.elt[1]=new gb(Zy.NONE,Zy.NONE,Zy.NONE),this.elt[s].setLocations(u,p,c)}};Pb.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Pb.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Pb.prototype.isNull=function(t){return this.elt[t].isNull()},Pb.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];this.elt[e].setAllLocationsIfNull(o)}},Pb.prototype.isLine=function(t){return this.elt[t].isLine()},Pb.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new gb(t.elt[e]):this.elt[e].merge(t.elt[e])},Pb.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Pb.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(lb.ON)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return this.elt[e].get(o)}},Pb.prototype.toString=function(){var t=new oS;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Pb.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Pb.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Pb.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(lb.ON,e)}else if(3===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[2];this.elt[o].setLocation(n,r)}},Pb.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Pb.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Pb.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new gb(this.elt[t].location[0]))},Pb.prototype.interfaces_=function(){return[]},Pb.prototype.getClass=function(){return Pb},Pb.toLineLabel=function(t){for(var e=new Pb(Zy.NONE),o=0;o<2;o++)e.setLocation(o,t.getLocation(o));return e};var yb=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new HS,this._pts=new HS,this._label=new Pb(Zy.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new HS,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};yb.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=ES.isCCW(this._ring.getCoordinates())},yb.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},yb.prototype.computePoints=function(t){this._startDe=t;var e=t,o=!0;do{if(null===e)throw new cb("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new cb("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var n=e.getLabel();OS.isTrue(n.isArea()),this.mergeLabel(n),this.addPoints(e.getEdge(),e.isForward(),o),o=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},yb.prototype.getLinearRing=function(){return this._ring},yb.prototype.getCoordinate=function(t){return this._pts.get(t)},yb.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},yb.prototype.addPoints=function(t,e,o){var n=t.getCoordinates();if(e){var r=1;o&&(r=0);for(var i=r;i<n.length;i++)this._pts.add(n[i])}else{var l=n.length-2;o&&(l=n.length-1);for(var a=l;a>=0;a--)this._pts.add(n[a])}},yb.prototype.isHole=function(){return this._isHole},yb.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},yb.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!ES.isPointInRing(t,e.getCoordinates()))return!1;for(var o=this._holes.iterator();o.hasNext();){if(o.next().containsPoint(t))return!1}return!0},yb.prototype.addHole=function(t){this._holes.add(t)},yb.prototype.isShell=function(){return null===this._shell},yb.prototype.getLabel=function(){return this._label},yb.prototype.getEdges=function(){return this._edges},yb.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},yb.prototype.getShell=function(){return this._shell},yb.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],n=e.getLocation(o,lb.RIGHT);if(n===Zy.NONE)return null;if(this._label.getLocation(o)===Zy.NONE)return this._label.setLocation(o,n),null}},yb.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},yb.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),o=0;o<this._holes.size();o++)e[o]=this._holes.get(o).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},yb.prototype.interfaces_=function(){return[]},yb.prototype.getClass=function(){return yb};var Sb=function(t){function e(){var e=arguments[0],o=arguments[1];t.call(this,e,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yb),db=function(t){function e(){var e=arguments[0],o=arguments[1];t.call(this,e,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new HS,e=this._startDe;do{if(null===e.getMinEdgeRing()){var o=new Sb(e,this._geometryFactory);t.add(o)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yb),bb=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};bb.prototype.setVisited=function(t){this._isVisited=t},bb.prototype.setInResult=function(t){this._isInResult=t},bb.prototype.isCovered=function(){return this._isCovered},bb.prototype.isCoveredSet=function(){return this._isCoveredSet},bb.prototype.setLabel=function(t){this._label=t},bb.prototype.getLabel=function(){return this._label},bb.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},bb.prototype.updateIM=function(t){OS.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},bb.prototype.isInResult=function(){return this._isInResult},bb.prototype.isVisited=function(){return this._isVisited},bb.prototype.interfaces_=function(){return[]},bb.prototype.getClass=function(){return bb};var mb=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],o=arguments[1];this._coord=e,this._edges=o,this._label=new Pb(0,Zy.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var o=Zy.NONE;if(o=this._label.getLocation(e),!t.isNull(e)){var n=t.getLocation(e);o!==Zy.BOUNDARY&&(o=n)}return o},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],o=arguments[1];null===this._label?this._label=new Pb(e,o):this._label.setLocation(e,o)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Pb)for(var o=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(o,n);this._label.getLocation(n)===Zy.NONE&&this._label.setLocation(n,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Zy.NONE;null!==this._label&&(e=this._label.getLocation(t));var o=null;switch(e){case Zy.BOUNDARY:o=Zy.INTERIOR;break;case Zy.INTERIOR:default:o=Zy.BOUNDARY}this._label.setLocation(t,o)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bb),vb=function(){this.nodeMap=new hd,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};vb.prototype.find=function(t){return this.nodeMap.get(t)},vb.prototype.addNode=function(){if(arguments[0]instanceof Wy){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof mb){var o=arguments[0],n=this.nodeMap.get(o.getCoordinate());return null===n?(this.nodeMap.put(o.getCoordinate(),o),o):(n.mergeLabel(o),n)}},vb.prototype.print=function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}},vb.prototype.iterator=function(){return this.nodeMap.values().iterator()},vb.prototype.values=function(){return this.nodeMap.values()},vb.prototype.getBoundaryNodes=function(t){for(var e=new HS,o=this.iterator();o.hasNext();){var n=o.next();n.getLabel().getLocation(t)===Zy.BOUNDARY&&e.add(n)}return e},vb.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},vb.prototype.interfaces_=function(){return[]},vb.prototype.getClass=function(){return vb};var Mb=function(){},Ab={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Mb.prototype.interfaces_=function(){return[]},Mb.prototype.getClass=function(){return Mb},Mb.isNorthern=function(t){return t===Mb.NE||t===Mb.NW},Mb.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},Mb.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var o=t<e?t:e;return 0===o&&3===(t>e?t:e)?3:o},Mb.isInHalfPlane=function(t,e){return e===Mb.SE?t===Mb.SE||t===Mb.SW:t===e||t===e+1},Mb.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Yy("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Mb.NE:Mb.SE:e>=0?Mb.NW:Mb.SW}if(arguments[0]instanceof Wy&&arguments[1]instanceof Wy){var o=arguments[0],n=arguments[1];if(n.x===o.x&&n.y===o.y)throw new Yy("Cannot compute the quadrant for two identical points "+o);return n.x>=o.x?n.y>=o.y?Mb.NE:Mb.SE:n.y>=o.y?Mb.NW:Mb.SW}},Ab.NE.get=function(){return 0},Ab.NW.get=function(){return 1},Ab.SW.get=function(){return 2},Ab.SE.get=function(){return 3},Object.defineProperties(Mb,Ab);var Ob=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],o=arguments[1],n=arguments[2];this._edge=e,this.init(o,n),this._label=null}else if(4===arguments.length){var r=arguments[0],i=arguments[1],l=arguments[2],a=arguments[3];this._edge=r,this.init(i,l),this._label=a}};Ob.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:ES.computeOrientation(t._p0,t._p1,this._p1)},Ob.prototype.getDy=function(){return this._dy},Ob.prototype.getCoordinate=function(){return this._p0},Ob.prototype.setNode=function(t){this._node=t},Ob.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),n=o.lastIndexOf("."),r=o.substring(n+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ob.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ob.prototype.getDirectedCoordinate=function(){return this._p1},Ob.prototype.getDx=function(){return this._dx},Ob.prototype.getLabel=function(){return this._label},Ob.prototype.getEdge=function(){return this._edge},Ob.prototype.getQuadrant=function(){return this._quadrant},Ob.prototype.getNode=function(){return this._node},Ob.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),o=e.lastIndexOf(".");return"  "+e.substring(o+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ob.prototype.computeLabel=function(t){},Ob.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Mb.quadrant(this._dx,this._dy),OS.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ob.prototype.interfaces_=function(){return[zy]},Ob.prototype.getClass=function(){return Ob};var _b=function(t){function e(){var e=arguments[0],o=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=o,o)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var n=e.getNumPoints()-1;this.init(e.getCoordinate(n),e.getCoordinate(n-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Pb(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new cb("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,lb.LEFT)===Zy.INTERIOR&&this._label.getLocation(e,lb.RIGHT)===Zy.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[lb.LEFT]+"/"+this._depth[lb.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Zy.EXTERIOR),o=!this._label.isArea(1)||this._label.allPositionsEqual(1,Zy.EXTERIOR);return t&&e&&o},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var o=this.getEdge().getDepthDelta();this._isForward||(o=-o);var n=1;t===lb.LEFT&&(n=-1);var r=lb.opposite(t),i=e+o*n;this.setDepth(t,e),this.setDepth(r,i)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Zy.EXTERIOR&&e===Zy.INTERIOR?1:t===Zy.INTERIOR&&e===Zy.EXTERIOR?-1:0},e}(Ob),Lb=function(){};Lb.prototype.createNode=function(t){return new mb(t,null)},Lb.prototype.interfaces_=function(){return[]},Lb.prototype.getClass=function(){return Lb};var wb=function(){if(this._edges=new HS,this._nodes=null,this._edgeEndList=new HS,0===arguments.length)this._nodes=new vb(new Lb);else if(1===arguments.length){var t=arguments[0];this._nodes=new vb(t)}};wb.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var o=this._edges.get(e);o.print(t),o.eiList.print(t)}},wb.prototype.find=function(t){return this._nodes.find(t)},wb.prototype.addNode=function(){if(arguments[0]instanceof mb){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof Wy){var e=arguments[0];return this._nodes.addNode(e)}},wb.prototype.getNodeIterator=function(){return this._nodes.iterator()},wb.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}},wb.prototype.debugPrintln=function(t){hS.out.println(t)},wb.prototype.isBoundaryNode=function(t,e){var o=this._nodes.find(e);if(null===o)return!1;var n=o.getLabel();return null!==n&&n.getLocation(t)===Zy.BOUNDARY},wb.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}},wb.prototype.matchInSameDirection=function(t,e,o,n){return!!t.equals(o)&&(ES.computeOrientation(t,e,n)===ES.COLLINEAR&&Mb.quadrant(t,e)===Mb.quadrant(o,n))},wb.prototype.getEdgeEnds=function(){return this._edgeEndList},wb.prototype.debugPrint=function(t){hS.out.print(t)},wb.prototype.getEdgeIterator=function(){return this._edges.iterator()},wb.prototype.findEdgeInSameDirection=function(t,e){for(var o=0;o<this._edges.size();o++){var n=this._edges.get(o),r=n.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return n;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return n}return null},wb.prototype.insertEdge=function(t){this._edges.add(t)},wb.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var o=e.next();if(o.getEdge()===t)return o}return null},wb.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();this._edges.add(o);var n=new _b(o,!0),r=new _b(o,!1);n.setSym(r),r.setSym(n),this.add(n),this.add(r)}},wb.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},wb.prototype.getNodes=function(){return this._nodes.values()},wb.prototype.findEdge=function(t,e){for(var o=0;o<this._edges.size();o++){var n=this._edges.get(o),r=n.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return n}return null},wb.prototype.interfaces_=function(){return[]},wb.prototype.getClass=function(){return wb},wb.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}};var xb=function(){this._geometryFactory=null,this._shellList=new HS;var t=arguments[0];this._geometryFactory=t};xb.prototype.sortShellsAndHoles=function(t,e,o){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()?o.add(r):e.add(r)}},xb.prototype.computePolygons=function(t){for(var e=new HS,o=t.iterator();o.hasNext();){var n=o.next().toPolygon(this._geometryFactory);e.add(n)}return e},xb.prototype.placeFreeHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var n=o.next();if(null===n.getShell()){var r=this.findEdgeRingContaining(n,t);if(null===r)throw new cb("unable to assign hole to a shell",n.getCoordinate(0));n.setShell(r)}}},xb.prototype.buildMinimalEdgeRings=function(t,e,o){for(var n=new HS,r=t.iterator();r.hasNext();){var i=r.next();if(i.getMaxNodeDegree()>2){i.linkDirectedEdgesForMinimalEdgeRings();var l=i.buildMinimalRings(),a=this.findShell(l);null!==a?(this.placePolygonHoles(a,l),e.add(a)):o.addAll(l)}else n.add(i)}return n},xb.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();){if(e.next().containsPoint(t))return!0}return!1},xb.prototype.buildMaximalEdgeRings=function(t){for(var e=new HS,o=t.iterator();o.hasNext();){var n=o.next();if(n.isInResult()&&n.getLabel().isArea()&&null===n.getEdgeRing()){var r=new db(n,this._geometryFactory);e.add(r),r.setInResult()}}return e},xb.prototype.placePolygonHoles=function(t,e){for(var o=e.iterator();o.hasNext();){var n=o.next();n.isHole()&&n.setShell(t)}},xb.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},xb.prototype.findEdgeRingContaining=function(t,e){for(var o=t.getLinearRing(),n=o.getEnvelopeInternal(),r=o.getCoordinateN(0),i=null,l=null,a=e.iterator();a.hasNext();){var s=a.next(),u=s.getLinearRing(),p=u.getEnvelopeInternal();null!==i&&(l=i.getLinearRing().getEnvelopeInternal());var c=!1;p.contains(n)&&ES.isPointInRing(r,u.getCoordinates())&&(c=!0),c&&(null===i||l.contains(p))&&(i=s)}return i},xb.prototype.findShell=function(t){for(var e=0,o=null,n=t.iterator();n.hasNext();){var r=n.next();r.isHole()||(o=r,e++)}return OS.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),o},xb.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],o=arguments[1];wb.linkResultDirectedEdges(o);var n=this.buildMaximalEdgeRings(e),r=new HS,i=this.buildMinimalEdgeRings(n,this._shellList,r);this.sortShellsAndHoles(i,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},xb.prototype.interfaces_=function(){return[]},xb.prototype.getClass=function(){return xb};var Ub=function(){};Ub.prototype.getBounds=function(){},Ub.prototype.interfaces_=function(){return[]},Ub.prototype.getClass=function(){return Ub};var Eb=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Eb.prototype.getItem=function(){return this._item},Eb.prototype.getBounds=function(){return this._bounds},Eb.prototype.interfaces_=function(){return[Ub,Xy]},Eb.prototype.getClass=function(){return Eb};var Tb=function(){this._size=null,this._items=null,this._size=0,this._items=new HS,this._items.add(null)};Tb.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Tb.prototype.size=function(){return this._size},Tb.prototype.reorder=function(t){for(var e=null,o=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(o)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,o)},Tb.prototype.clear=function(){this._size=0,this._items.clear()},Tb.prototype.isEmpty=function(){return 0===this._size},Tb.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Tb.prototype.interfaces_=function(){return[]},Tb.prototype.getClass=function(){return Tb};var Vb=function(){};Vb.prototype.visitItem=function(t){},Vb.prototype.interfaces_=function(){return[]},Vb.prototype.getClass=function(){return Vb};var Rb=function(){};Rb.prototype.insert=function(t,e){},Rb.prototype.remove=function(t,e){},Rb.prototype.query=function(){},Rb.prototype.interfaces_=function(){return[]},Rb.prototype.getClass=function(){return Rb};var Ib=function(){if(this._childBoundables=new HS,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Cb={serialVersionUID:{configurable:!0}};Ib.prototype.getLevel=function(){return this._level},Ib.prototype.size=function(){return this._childBoundables.size()},Ib.prototype.getChildBoundables=function(){return this._childBoundables},Ib.prototype.addChildBoundable=function(t){OS.isTrue(null===this._bounds),this._childBoundables.add(t)},Ib.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Ib.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Ib.prototype.interfaces_=function(){return[Ub,Xy]},Ib.prototype.getClass=function(){return Ib},Cb.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Ib,Cb);var jb=function(){};jb.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},jb.min=function(t){return jb.sort(t),t.get(0)},jb.sort=function(t,e){var o=t.toArray();e?dd.sort(o,e):dd.sort(o);for(var n=t.iterator(),r=0,i=o.length;r<i;r++)n.next(),n.set(o[r])},jb.singletonList=function(t){var e=new HS;return e.add(t),e};var Nb=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],o=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=o,this._distance=this.distance()};Nb.prototype.expandToQueue=function(t,e){var o=Nb.isComposite(this._boundable1),n=Nb.isComposite(this._boundable2);if(o&&n)return Nb.area(this._boundable1)>Nb.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(o)return this.expand(this._boundable1,this._boundable2,t,e),null;if(n)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Yy("neither boundable is composite")},Nb.prototype.isLeaves=function(){return!(Nb.isComposite(this._boundable1)||Nb.isComposite(this._boundable2))},Nb.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},Nb.prototype.expand=function(t,e,o,n){for(var r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next(),l=new Nb(i,e,this._itemDistance);l.getDistance()<n&&o.add(l)}},Nb.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Nb.prototype.getDistance=function(){return this._distance},Nb.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Nb.prototype.interfaces_=function(){return[zy]},Nb.prototype.getClass=function(){return Nb},Nb.area=function(t){return t.getBounds().getArea()},Nb.isComposite=function(t){return t instanceof Ib};var Db=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new HS,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var o=arguments[0];OS.isTrue(o>1,"Node capacity must be greater than 1"),this._nodeCapacity=o}},Bb={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Db.prototype.getNodeCapacity=function(){return this._nodeCapacity},Db.prototype.lastNode=function(t){return t.get(t.size()-1)},Db.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();o instanceof Ib?t+=this.size(o):o instanceof Eb&&(t+=1)}return t}},Db.prototype.removeItem=function(t,e){for(var o=null,n=t.getChildBoundables().iterator();n.hasNext();){var r=n.next();r instanceof Eb&&r.getItem()===e&&(o=r)}return null!==o&&(t.getChildBoundables().remove(o),!0)},Db.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new HS:t}if(1===arguments.length){for(var e=arguments[0],o=new HS,n=e.getChildBoundables().iterator();n.hasNext();){var r=n.next();if(r instanceof Ib){var i=this.itemsTree(r);null!==i&&o.add(i)}else r instanceof Eb?o.add(r.getItem()):OS.shouldNeverReachHere()}return o.size()<=0?null:o}},Db.prototype.insert=function(t,e){OS.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Eb(t,e))},Db.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new HS;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[2];if(OS.isTrue(o>-2),n.getLevel()===o)return r.add(n),null;for(var i=n.getChildBoundables().iterator();i.hasNext();){var l=i.next();l instanceof Ib?this.boundablesAtLevel(o,l,r):(OS.isTrue(l instanceof Eb),-1===o&&r.add(l))}return null}},Db.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new HS;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var o=arguments[0],n=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.query(o,this._root,n)}else if(3===arguments.length)if($y(arguments[2],Vb)&&arguments[0]instanceof Object&&arguments[1]instanceof Ib)for(var r=arguments[0],i=arguments[1],l=arguments[2],a=i.getChildBoundables(),s=0;s<a.size();s++){var u=a.get(s);this.getIntersectsOp().intersects(u.getBounds(),r)&&(u instanceof Ib?this.query(r,u,l):u instanceof Eb?l.visitItem(u.getItem()):OS.shouldNeverReachHere())}else if($y(arguments[2],XS)&&arguments[0]instanceof Object&&arguments[1]instanceof Ib)for(var p=arguments[0],c=arguments[1],f=arguments[2],h=c.getChildBoundables(),g=0;g<h.size();g++){var P=h.get(g);this.getIntersectsOp().intersects(P.getBounds(),p)&&(P instanceof Ib?this.query(p,P,f):P instanceof Eb?f.add(P.getItem()):OS.shouldNeverReachHere())}},Db.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Db.prototype.getRoot=function(){return this.build(),this._root},Db.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[2],i=this.removeItem(n,r);if(i)return!0;for(var l=null,a=n.getChildBoundables().iterator();a.hasNext();){var s=a.next();if(this.getIntersectsOp().intersects(s.getBounds(),o)&&(s instanceof Ib&&(i=this.remove(o,s,r)))){l=s;break}}return null!==l&&l.getChildBoundables().isEmpty()&&n.getChildBoundables().remove(l),i}},Db.prototype.createHigherLevels=function(t,e){OS.isTrue(!t.isEmpty());var o=this.createParentBoundables(t,e+1);return 1===o.size()?o.get(0):this.createHigherLevels(o,e+1)},Db.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var o=e.next();if(o instanceof Ib){var n=this.depth(o);n>t&&(t=n)}}return t+1}},Db.prototype.createParentBoundables=function(t,e){OS.isTrue(!t.isEmpty());var o=new HS;o.add(this.createNode(e));var n=new HS(t);jb.sort(n,this.getComparator());for(var r=n.iterator();r.hasNext();){var i=r.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(e)),this.lastNode(o).addChildBoundable(i)}return o},Db.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Db.prototype.interfaces_=function(){return[Xy]},Db.prototype.getClass=function(){return Db},Db.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Bb.IntersectsOp.get=function(){return Yb},Bb.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Bb.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Db,Bb);var Yb=function(){},kb=function(){};kb.prototype.distance=function(t,e){},kb.prototype.interfaces_=function(){return[]},kb.prototype.getClass=function(){return kb};var Fb=function(t){function e(o){o=o||e.DEFAULT_NODE_CAPACITY,t.call(this,o)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){OS.isTrue(t.length>0);for(var o=new HS,n=0;n<t.length;n++)o.addAll(this.createParentBoundablesFromVerticalSlice(t[n],e));return o},e.prototype.createNode=function(t){return new zb(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],o=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,o)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var o=Math.trunc(Math.ceil(t.size()/e)),n=new Array(e).fill(null),r=t.iterator(),i=0;i<e;i++){n[i]=new HS;for(var l=0;r.hasNext()&&l<o;){var a=r.next();n[i].add(a),l++}}return n},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var o=arguments[0],n=arguments[1];t.prototype.query.call(this,o,n)}else if(3===arguments.length)if($y(arguments[2],Vb)&&arguments[0]instanceof Object&&arguments[1]instanceof Ib){var r=arguments[0],i=arguments[1],l=arguments[2];t.prototype.query.call(this,r,i,l)}else if($y(arguments[2],XS)&&arguments[0]instanceof Object&&arguments[1]instanceof Ib){var a=arguments[0],s=arguments[1],u=arguments[2];t.prototype.query.call(this,a,s,u)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,o){return t.prototype.createParentBoundables.call(this,e,o)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],o=arguments[1];return t.prototype.remove.call(this,e,o)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,o){OS.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new HS(t);jb.sort(r,e.xComparator);var i=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(i,o)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if($y(arguments[0],kb)){var t=arguments[0],o=new Nb(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(o)}if(arguments[0]instanceof Nb){var n=arguments[0];return this.nearestNeighbour(n,ky.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&$y(arguments[1],kb)){var r=arguments[0],i=arguments[1],l=new Nb(this.getRoot(),r.getRoot(),i);return this.nearestNeighbour(l)}if(arguments[0]instanceof Nb&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],u=null,p=new Tb;for(p.add(a);!p.isEmpty()&&s>0;){var c=p.poll(),f=c.getDistance();if(f>=s)break;c.isLeaves()?(s=f,u=c):c.expandToQueue(p,s)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[0],g=arguments[1],P=arguments[2],y=new Eb(h,g),S=new Nb(this.getRoot(),y,P);return this.nearestNeighbour(S)[0]}},e.prototype.interfaces_=function(){return[Rb,Xy]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},o.STRtreeNode.get=function(){return zb},o.serialVersionUID.get=function(){return 0x39920f7d5f261e0},o.xComparator.get=function(){return{interfaces_:function(){return[qy]},compare:function(o,n){return t.compareDoubles(e.centreX(o.getBounds()),e.centreX(n.getBounds()))}}},o.yComparator.get=function(){return{interfaces_:function(){return[qy]},compare:function(o,n){return t.compareDoubles(e.centreY(o.getBounds()),e.centreY(n.getBounds()))}}},o.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},o.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,o),e}(Db),zb=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var o=e.next();null===t?t=new PS(o.getBounds()):t.expandToInclude(o.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ib),Gb=function(){};Gb.prototype.interfaces_=function(){return[]},Gb.prototype.getClass=function(){return Gb},Gb.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Gb.compare=function(t,e,o){if(e.equals2D(o))return 0;var n=Gb.relativeSign(e.x,o.x),r=Gb.relativeSign(e.y,o.y);switch(t){case 0:return Gb.compareValue(n,r);case 1:return Gb.compareValue(r,n);case 2:return Gb.compareValue(r,-n);case 3:return Gb.compareValue(-n,r);case 4:return Gb.compareValue(-n,-r);case 5:return Gb.compareValue(-r,-n);case 6:return Gb.compareValue(-r,n);case 7:return Gb.compareValue(n,-r)}return OS.shouldNeverReachHere("invalid octant value"),0},Gb.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var qb=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],o=arguments[2],n=arguments[3];this._segString=t,this.coord=new Wy(e),this.segmentIndex=o,this._segmentOctant=n,this._isInterior=!e.equals2D(t.getCoordinate(o))};qb.prototype.getCoordinate=function(){return this.coord},qb.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},qb.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Gb.compare(this._segmentOctant,this.coord,e.coord)},qb.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},qb.prototype.isInterior=function(){return this._isInterior},qb.prototype.interfaces_=function(){return[zy]},qb.prototype.getClass=function(){return qb};var Xb=function(){this._nodeMap=new hd,this._edge=null;var t=arguments[0];this._edge=t};Xb.prototype.getSplitCoordinates=function(){var t=new JS;this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var n=e.next();this.addEdgeCoordinates(o,n,t),o=n}return t.toCoordinateArray()},Xb.prototype.addCollapsedNodes=function(){var t=new HS;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var o=e.next().intValue();this.add(this._edge.getCoordinate(o),o)}},Xb.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},Xb.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var o=this._edge.getCoordinate(e),n=this._edge.getCoordinate(e+2);o.equals2D(n)&&t.add(new nS(e+1))}},Xb.prototype.addEdgeCoordinates=function(t,e,o){var n=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(n);o.add(new Wy(t.coord),!1);for(var i=t.segmentIndex+1;i<=e.segmentIndex;i++)o.add(this._edge.getCoordinate(i));r&&o.add(new Wy(e.coord))},Xb.prototype.iterator=function(){return this._nodeMap.values().iterator()},Xb.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),o=e.next();e.hasNext();){var n=e.next(),r=this.createSplitEdge(o,n);t.add(r),o=n}},Xb.prototype.findCollapseIndex=function(t,e,o){if(!t.coord.equals2D(e.coord))return!1;var n=e.segmentIndex-t.segmentIndex;return e.isInterior()||n--,1===n&&(o[0]=t.segmentIndex+1,!0)},Xb.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),o=this.iterator(),n=o.next();o.hasNext();){var r=o.next();this.findCollapseIndex(n,r,e)&&t.add(new nS(e[0])),n=r}},Xb.prototype.getEdge=function(){return this._edge},Xb.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Xb.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,n=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(n);r||o--;var i=new Array(o).fill(null),l=0;i[l++]=new Wy(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)i[l++]=this._edge.getCoordinate(a);return r&&(i[l]=new Wy(e.coord)),new Jb(i,this._edge.getData())},Xb.prototype.add=function(t,e){var o=new qb(this._edge,t,e,this._edge.getSegmentOctant(e)),n=this._nodeMap.get(o);return null!==n?(OS.isTrue(n.coord.equals2D(t),"Found equal nodes with different coordinates"),n):(this._nodeMap.put(o,o),o)},Xb.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),o=t.get(0).getCoordinate(0);if(!o.equals2D(e[0]))throw new MS("bad split edge start point at "+o);var n=t.get(t.size()-1).getCoordinates(),r=n[n.length-1];if(!r.equals2D(e[e.length-1]))throw new MS("bad split edge end point at "+r)},Xb.prototype.interfaces_=function(){return[]},Xb.prototype.getClass=function(){return Xb};var Wb=function(){};Wb.prototype.interfaces_=function(){return[]},Wb.prototype.getClass=function(){return Wb},Wb.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Yy("Cannot compute the octant for point ( "+t+", "+e+" )");var o=Math.abs(t),n=Math.abs(e);return t>=0?e>=0?o>=n?0:1:o>=n?7:6:e>=0?o>=n?3:2:o>=n?4:5}if(arguments[0]instanceof Wy&&arguments[1]instanceof Wy){var r=arguments[0],i=arguments[1],l=i.x-r.x,a=i.y-r.y;if(0===l&&0===a)throw new Yy("Cannot compute the octant for two identical points "+r);return Wb.octant(l,a)}};var Hb=function(){};Hb.prototype.getCoordinates=function(){},Hb.prototype.size=function(){},Hb.prototype.getCoordinate=function(t){},Hb.prototype.isClosed=function(){},Hb.prototype.setData=function(t){},Hb.prototype.getData=function(){},Hb.prototype.interfaces_=function(){return[]},Hb.prototype.getClass=function(){return Hb};var Kb=function(){};Kb.prototype.addIntersection=function(t,e){},Kb.prototype.interfaces_=function(){return[Hb]},Kb.prototype.getClass=function(){return Kb};var Jb=function(){this._nodeList=new Xb(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Jb.prototype.getCoordinates=function(){return this._pts},Jb.prototype.size=function(){return this._pts.length},Jb.prototype.getCoordinate=function(t){return this._pts[t]},Jb.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Jb.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Jb.prototype.setData=function(t){this._data=t},Jb.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Wb.octant(t,e)},Jb.prototype.getData=function(){return this._data},Jb.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[3],i=new Wy(o.getIntersection(r));this.addIntersection(i,n)}},Jb.prototype.toString=function(){return vS.toLineString(new Gd(this._pts))},Jb.prototype.getNodeList=function(){return this._nodeList},Jb.prototype.addIntersectionNode=function(t,e){var o=e,n=o+1;if(n<this._pts.length){var r=this._pts[n];t.equals2D(r)&&(o=n)}return this._nodeList.add(t,o)},Jb.prototype.addIntersections=function(t,e,o){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,o,n)},Jb.prototype.interfaces_=function(){return[Kb]},Jb.prototype.getClass=function(){return Jb},Jb.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new HS;return Jb.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var o=arguments[0],n=arguments[1],r=o.iterator();r.hasNext();){r.next().getNodeList().addSplitEdges(n)}};var Zb=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new Wy,this.p1=new Wy;else if(1===arguments.length){var t=arguments[0];this.p0=new Wy(t.p0),this.p1=new Wy(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],o=arguments[1],n=arguments[2],r=arguments[3];this.p0=new Wy(e,o),this.p1=new Wy(n,r)}},Qb={serialVersionUID:{configurable:!0}};Zb.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Zb.prototype.orientationIndex=function(){if(arguments[0]instanceof Zb){var t=arguments[0],e=ES.orientationIndex(this.p0,this.p1,t.p0),o=ES.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&o>=0?Math.max(e,o):e<=0&&o<=0?Math.max(e,o):0}if(arguments[0]instanceof Wy){var n=arguments[0];return ES.orientationIndex(this.p0,this.p1,n)}},Zb.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Zb.prototype.isVertical=function(){return this.p0.x===this.p1.x},Zb.prototype.equals=function(t){if(!(t instanceof Zb))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Zb.prototype.intersection=function(t){var e=new wS;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Zb.prototype.project=function(){if(arguments[0]instanceof Wy){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Wy(t);var e=this.projectionFactor(t),o=new Wy;return o.x=this.p0.x+e*(this.p1.x-this.p0.x),o.y=this.p0.y+e*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof Zb){var n=arguments[0],r=this.projectionFactor(n.p0),i=this.projectionFactor(n.p1);if(r>=1&&i>=1)return null;if(r<=0&&i<=0)return null;var l=this.project(n.p0);r<0&&(l=this.p0),r>1&&(l=this.p1);var a=this.project(n.p1);return i<0&&(a=this.p0),i>1&&(a=this.p1),new Zb(l,a)}},Zb.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Zb.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Zb.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Zb.prototype.distancePerpendicular=function(t){return ES.distancePointLinePerpendicular(t,this.p0,this.p1)},Zb.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Zb.prototype.midPoint=function(){return Zb.midPoint(this.p0,this.p1)},Zb.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,n=e*e+o*o;return n<=0?ky.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*o)/n},Zb.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var o=new Array(2).fill(null),n=ky.MAX_VALUE,r=null,i=this.closestPoint(t.p0);n=i.distance(t.p0),o[0]=i,o[1]=t.p0;var l=this.closestPoint(t.p1);(r=l.distance(t.p1))<n&&(n=r,o[0]=l,o[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<n&&(n=r,o[0]=this.p0,o[1]=a);var s=t.closestPoint(this.p1);return(r=s.distance(this.p1))<n&&(n=r,o[0]=this.p1,o[1]=s),o},Zb.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Zb.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Zb.prototype.getLength=function(){return this.p0.distance(this.p1)},Zb.prototype.compareTo=function(t){var e=t,o=this.p0.compareTo(e.p0);return 0!==o?o:this.p1.compareTo(e.p1)},Zb.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Zb.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Zb.prototype.lineIntersection=function(t){try{return gS.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof fS))throw t}return null},Zb.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Zb.prototype.pointAlongOffset=function(t,e){var o=this.p0.x+t*(this.p1.x-this.p0.x),n=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,l=Math.sqrt(r*r+i*i),a=0,s=0;if(0!==e){if(l<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*r/l,s=e*i/l}return new Wy(o-s,n+a)},Zb.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],o=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=o.x,this.p1.y=o.y}},Zb.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||ky.isNaN(e))&&(e=1),e},Zb.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Zb.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Zb.prototype.distance=function(){if(arguments[0]instanceof Zb){var t=arguments[0];return ES.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof Wy){var e=arguments[0];return ES.distancePointLine(e,this.p0,this.p1)}},Zb.prototype.pointAlong=function(t){var e=new Wy;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Zb.prototype.hashCode=function(){var t=ky.doubleToLongBits(this.p0.x);t^=31*ky.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),o=ky.doubleToLongBits(this.p1.x);return o^=31*ky.doubleToLongBits(this.p1.y),e^(Math.trunc(o)^Math.trunc(o>>32))},Zb.prototype.interfaces_=function(){return[zy,Xy]},Zb.prototype.getClass=function(){return Zb},Zb.midPoint=function(t,e){return new Wy((t.x+e.x)/2,(t.y+e.y)/2)},Qb.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Zb,Qb);var $b=function(){this.tempEnv1=new PS,this.tempEnv2=new PS,this._overlapSeg1=new Zb,this._overlapSeg2=new Zb};$b.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2],n=arguments[3];t.getLineSegment(e,this._overlapSeg1),o.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},$b.prototype.interfaces_=function(){return[]},$b.prototype.getClass=function(){return $b};var tm=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],o=arguments[2],n=arguments[3];this._pts=t,this._start=e,this._end=o,this._context=n};tm.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},tm.prototype.computeSelect=function(t,e,o,n){var r=this._pts[e],i=this._pts[o];if(n.tempEnv1.init(r,i),o-e==1)return n.select(this,e),null;if(!t.intersects(n.tempEnv1))return null;var l=Math.trunc((e+o)/2);e<l&&this.computeSelect(t,e,l,n),l<o&&this.computeSelect(t,l,o,n)},tm.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,o=this._start;o<=this._end;o++)t[e++]=this._pts[o];return t},tm.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},tm.prototype.setId=function(t){this._id=t},tm.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},tm.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new PS(t,e)}return this._env},tm.prototype.getEndIndex=function(){return this._end},tm.prototype.getStartIndex=function(){return this._start},tm.prototype.getContext=function(){return this._context},tm.prototype.getId=function(){return this._id},tm.prototype.computeOverlapsInternal=function(t,e,o,n,r,i){var l=this._pts[t],a=this._pts[e],s=o._pts[n],u=o._pts[r];if(e-t==1&&r-n==1)return i.overlap(this,t,o,n),null;if(i.tempEnv1.init(l,a),i.tempEnv2.init(s,u),!i.tempEnv1.intersects(i.tempEnv2))return null;var p=Math.trunc((t+e)/2),c=Math.trunc((n+r)/2);t<p&&(n<c&&this.computeOverlapsInternal(t,p,o,n,c,i),c<r&&this.computeOverlapsInternal(t,p,o,c,r,i)),p<e&&(n<c&&this.computeOverlapsInternal(p,e,o,n,c,i),c<r&&this.computeOverlapsInternal(p,e,o,c,r,i))},tm.prototype.interfaces_=function(){return[]},tm.prototype.getClass=function(){return tm};var em=function(){};em.prototype.interfaces_=function(){return[]},em.prototype.getClass=function(){return em},em.getChainStartIndices=function(t){var e=0,o=new HS;o.add(new nS(e));do{var n=em.findChainEnd(t,e);o.add(new nS(n)),e=n}while(e<t.length-1);return em.toIntArray(o)},em.findChainEnd=function(t,e){for(var o=e;o<t.length-1&&t[o].equals2D(t[o+1]);)o++;if(o>=t.length-1)return t.length-1;for(var n=Mb.quadrant(t[o],t[o+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r]))if(Mb.quadrant(t[r-1],t[r])!==n)break;r++}return r-1},em.getChains=function(){if(1===arguments.length){var t=arguments[0];return em.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],o=arguments[1],n=new HS,r=em.getChainStartIndices(e),i=0;i<r.length-1;i++){var l=new tm(e,r[i],r[i+1],o);n.add(l)}return n}},em.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var om=function(){};om.prototype.computeNodes=function(t){},om.prototype.getNodedSubstrings=function(){},om.prototype.interfaces_=function(){return[]},om.prototype.getClass=function(){return om};var nm=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};nm.prototype.setSegmentIntersector=function(t){this._segInt=t},nm.prototype.interfaces_=function(){return[om]},nm.prototype.getClass=function(){return nm};var rm=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new HS,this._index=new Fb,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var o={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Jb.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=em.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var o=e.next();o.setId(this._idCounter++),this._index.insert(o.getEnvelope(),o),this._monoChains.add(o)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new im(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var o=e.next(),n=this._index.query(o.getEnvelope()).iterator();n.hasNext();){var r=n.next();if(r.getId()>o.getId()&&(o.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},o.SegmentOverlapAction.get=function(){return im},Object.defineProperties(e,o),e}(nm),im=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],o=arguments[1],n=arguments[2],r=arguments[3],i=e.getContext(),l=n.getContext();this._si.processIntersections(i,o,l,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($b),lm=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var o=arguments[0],n=arguments[1];this.setQuadrantSegments(o),this.setEndCapStyle(n)}else if(4===arguments.length){var r=arguments[0],i=arguments[1],l=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(i),this.setJoinStyle(l),this.setMitreLimit(a)}},am={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};lm.prototype.getEndCapStyle=function(){return this._endCapStyle},lm.prototype.isSingleSided=function(){return this._isSingleSided},lm.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=lm.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=lm.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==lm.JOIN_ROUND&&(this._quadrantSegments=lm.DEFAULT_QUADRANT_SEGMENTS)},lm.prototype.getJoinStyle=function(){return this._joinStyle},lm.prototype.setJoinStyle=function(t){this._joinStyle=t},lm.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},lm.prototype.getSimplifyFactor=function(){return this._simplifyFactor},lm.prototype.getQuadrantSegments=function(){return this._quadrantSegments},lm.prototype.setEndCapStyle=function(t){this._endCapStyle=t},lm.prototype.getMitreLimit=function(){return this._mitreLimit},lm.prototype.setMitreLimit=function(t){this._mitreLimit=t},lm.prototype.setSingleSided=function(t){this._isSingleSided=t},lm.prototype.interfaces_=function(){return[]},lm.prototype.getClass=function(){return lm},lm.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},am.CAP_ROUND.get=function(){return 1},am.CAP_FLAT.get=function(){return 2},am.CAP_SQUARE.get=function(){return 3},am.JOIN_ROUND.get=function(){return 1},am.JOIN_MITRE.get=function(){return 2},am.JOIN_BEVEL.get=function(){return 3},am.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},am.DEFAULT_MITRE_LIMIT.get=function(){return 5},am.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(lm,am);var sm=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ES.COUNTERCLOCKWISE,this._inputLine=t||null},um={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};sm.prototype.isDeletable=function(t,e,o,n){var r=this._inputLine[t],i=this._inputLine[e],l=this._inputLine[o];return!!this.isConcave(r,i,l)&&(!!this.isShallow(r,i,l,n)&&this.isShallowSampled(r,i,t,o,n))},sm.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),o=this.findNextNonDeletedIndex(e),n=!1;o<this._inputLine.length;){var r=!1;this.isDeletable(t,e,o,this._distanceTol)&&(this._isDeleted[e]=sm.DELETE,r=!0,n=!0),t=r?o:e,e=this.findNextNonDeletedIndex(t),o=this.findNextNonDeletedIndex(e)}return n},sm.prototype.isShallowConcavity=function(t,e,o,n){return ES.computeOrientation(t,e,o)===this._angleOrientation&&ES.distancePointLine(e,t,o)<n},sm.prototype.isShallowSampled=function(t,e,o,n,r){var i=Math.trunc((n-o)/sm.NUM_PTS_TO_CHECK);i<=0&&(i=1);for(var l=o;l<n;l+=i)if(!this.isShallow(t,e,this._inputLine[l],r))return!1;return!0},sm.prototype.isConcave=function(t,e,o){var n=ES.computeOrientation(t,e,o)===this._angleOrientation;return n},sm.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=ES.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},sm.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===sm.DELETE;)e++;return e},sm.prototype.isShallow=function(t,e,o,n){return ES.distancePointLine(e,t,o)<n},sm.prototype.collapseLine=function(){for(var t=new JS,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==sm.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},sm.prototype.interfaces_=function(){return[]},sm.prototype.getClass=function(){return sm},sm.simplify=function(t,e){return new sm(t).simplify(e)},um.INIT.get=function(){return 0},um.DELETE.get=function(){return 1},um.KEEP.get=function(){return 1},um.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(sm,um);var pm=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new HS},cm={COORDINATE_ARRAY_TYPE:{configurable:!0}};pm.prototype.getCoordinates=function(){return this._ptList.toArray(pm.COORDINATE_ARRAY_TYPE)},pm.prototype.setPrecisionModel=function(t){this._precisionModel=t},pm.prototype.addPt=function(t){var e=new Wy(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},pm.prototype.revere=function(){},pm.prototype.addPts=function(t,e){if(e)for(var o=0;o<t.length;o++)this.addPt(t[o]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},pm.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},pm.prototype.toString=function(){return(new $d).createLineString(this.getCoordinates()).toString()},pm.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new Wy(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},pm.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},pm.prototype.interfaces_=function(){return[]},pm.prototype.getClass=function(){return pm},cm.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(pm,cm);var fm=function(){},hm={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};fm.prototype.interfaces_=function(){return[]},fm.prototype.getClass=function(){return fm},fm.toDegrees=function(t){return 180*t/Math.PI},fm.normalize=function(t){for(;t>Math.PI;)t-=fm.PI_TIMES_2;for(;t<=-Math.PI;)t+=fm.PI_TIMES_2;return t},fm.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],o=arguments[1],n=o.x-e.x,r=o.y-e.y;return Math.atan2(r,n)}},fm.isAcute=function(t,e,o){var n=t.x-e.x,r=t.y-e.y;return n*(o.x-e.x)+r*(o.y-e.y)>0},fm.isObtuse=function(t,e,o){var n=t.x-e.x,r=t.y-e.y;return n*(o.x-e.x)+r*(o.y-e.y)<0},fm.interiorAngle=function(t,e,o){var n=fm.angle(e,t),r=fm.angle(e,o);return Math.abs(r-n)},fm.normalizePositive=function(t){if(t<0){for(;t<0;)t+=fm.PI_TIMES_2;t>=fm.PI_TIMES_2&&(t=0)}else{for(;t>=fm.PI_TIMES_2;)t-=fm.PI_TIMES_2;t<0&&(t=0)}return t},fm.angleBetween=function(t,e,o){var n=fm.angle(e,t),r=fm.angle(e,o);return fm.diff(n,r)},fm.diff=function(t,e){var o=null;return(o=t<e?e-t:t-e)>Math.PI&&(o=2*Math.PI-o),o},fm.toRadians=function(t){return t*Math.PI/180},fm.getTurn=function(t,e){var o=Math.sin(e-t);return o>0?fm.COUNTERCLOCKWISE:o<0?fm.CLOCKWISE:fm.NONE},fm.angleBetweenOriented=function(t,e,o){var n=fm.angle(e,t),r=fm.angle(e,o)-n;return r<=-Math.PI?r+fm.PI_TIMES_2:r>Math.PI?r-fm.PI_TIMES_2:r},hm.PI_TIMES_2.get=function(){return 2*Math.PI},hm.PI_OVER_2.get=function(){return Math.PI/2},hm.PI_OVER_4.get=function(){return Math.PI/4},hm.COUNTERCLOCKWISE.get=function(){return ES.COUNTERCLOCKWISE},hm.CLOCKWISE.get=function(){return ES.CLOCKWISE},hm.NONE.get=function(){return ES.COLLINEAR},Object.defineProperties(fm,hm);var gm=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Zb,this._seg1=new Zb,this._offset0=new Zb,this._offset1=new Zb,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],o=arguments[1],n=arguments[2];this._precisionModel=e,this._bufParams=o,this._li=new wS,this._filletAngleQuantum=Math.PI/2/o.getQuadrantSegments(),o.getQuadrantSegments()>=8&&o.getJoinStyle()===lm.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},Pm={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};gm.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var o=ES.computeOrientation(this._s0,this._s1,this._s2),n=o===ES.CLOCKWISE&&this._side===lb.LEFT||o===ES.COUNTERCLOCKWISE&&this._side===lb.RIGHT;0===o?this.addCollinear(e):n?this.addOutsideTurn(o,e):this.addInsideTurn(o,e)},gm.prototype.addLineEndCap=function(t,e){var o=new Zb(t,e),n=new Zb;this.computeOffsetSegment(o,lb.LEFT,this._distance,n);var r=new Zb;this.computeOffsetSegment(o,lb.RIGHT,this._distance,r);var i=e.x-t.x,l=e.y-t.y,a=Math.atan2(l,i);switch(this._bufParams.getEndCapStyle()){case lm.CAP_ROUND:this._segList.addPt(n.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,ES.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case lm.CAP_FLAT:this._segList.addPt(n.p1),this._segList.addPt(r.p1);break;case lm.CAP_SQUARE:var s=new Wy;s.x=Math.abs(this._distance)*Math.cos(a),s.y=Math.abs(this._distance)*Math.sin(a);var u=new Wy(n.p1.x+s.x,n.p1.y+s.y),p=new Wy(r.p1.x+s.x,r.p1.y+s.y);this._segList.addPt(u),this._segList.addPt(p)}},gm.prototype.getCoordinates=function(){return this._segList.getCoordinates()},gm.prototype.addMitreJoin=function(t,e,o,n){var r=!0,i=null;try{i=gS.intersection(e.p0,e.p1,o.p0,o.p1),(n<=0?1:i.distance(t)/Math.abs(n))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof fS))throw t;i=new Wy(0,0),r=!1}r?this._segList.addPt(i):this.addLimitedMitreJoin(e,o,n,this._bufParams.getMitreLimit())},gm.prototype.addFilletCorner=function(t,e,o,n,r){var i=e.x-t.x,l=e.y-t.y,a=Math.atan2(l,i),s=o.x-t.x,u=o.y-t.y,p=Math.atan2(u,s);n===ES.CLOCKWISE?a<=p&&(a+=2*Math.PI):a>=p&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,p,n,r),this._segList.addPt(o)},gm.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*gm.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===lm.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===lm.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},gm.prototype.createSquare=function(t){this._segList.addPt(new Wy(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Wy(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Wy(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Wy(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},gm.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},gm.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},gm.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},gm.prototype.initSideSegments=function(t,e,o){this._s1=t,this._s2=e,this._side=o,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)},gm.prototype.addLimitedMitreJoin=function(t,e,o,n){var r=this._seg0.p1,i=fm.angle(r,this._seg0.p0),l=fm.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=fm.normalize(i+l),s=fm.normalize(a+Math.PI),u=n*o,p=o-u*Math.abs(Math.sin(l)),c=r.x+u*Math.cos(s),f=r.y+u*Math.sin(s),h=new Wy(c,f),g=new Zb(r,h),P=g.pointAlongOffset(1,p),y=g.pointAlongOffset(1,-p);this._side===lb.LEFT?(this._segList.addPt(P),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(P))},gm.prototype.computeOffsetSegment=function(t,e,o,n){var r=e===lb.LEFT?1:-1,i=t.p1.x-t.p0.x,l=t.p1.y-t.p0.y,a=Math.sqrt(i*i+l*l),s=r*o*i/a,u=r*o*l/a;n.p0.x=t.p0.x-u,n.p0.y=t.p0.y+s,n.p1.x=t.p1.x-u,n.p1.y=t.p1.y+s},gm.prototype.addFilletArc=function(t,e,o,n,r){var i=n===ES.CLOCKWISE?-1:1,l=Math.abs(e-o),a=Math.trunc(l/this._filletAngleQuantum+.5);if(a<1)return null;for(var s=l/a,u=0,p=new Wy;u<l;){var c=e+i*u;p.x=t.x+r*Math.cos(c),p.y=t.y+r*Math.sin(c),this._segList.addPt(p),u+=s}},gm.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*gm.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var o=new Wy((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(o);var n=new Wy((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},gm.prototype.createCircle=function(t){var e=new Wy(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},gm.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},gm.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new pm,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*gm.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},gm.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===lm.JOIN_BEVEL||this._bufParams.getJoinStyle()===lm.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ES.CLOCKWISE,this._distance))},gm.prototype.closeRing=function(){this._segList.closeRing()},gm.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},gm.prototype.interfaces_=function(){return[]},gm.prototype.getClass=function(){return gm},Pm.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Pm.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Pm.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Pm.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(gm,Pm);var ym=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};ym.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var o=e<0,n=Math.abs(e),r=this.getSegGen(n);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,o,r);var i=r.getCoordinates();return o&&ZS.reverse(i),i},ym.prototype.computeSingleSidedBufferCurve=function(t,e,o){var n=this.simplifyTolerance(this._distance);if(e){o.addSegments(t,!0);var r=sm.simplify(t,-n),i=r.length-1;o.initSideSegments(r[i],r[i-1],lb.LEFT),o.addFirstSegment();for(var l=i-2;l>=0;l--)o.addNextSegment(r[l],!0)}else{o.addSegments(t,!1);var a=sm.simplify(t,n),s=a.length-1;o.initSideSegments(a[0],a[1],lb.LEFT),o.addFirstSegment();for(var u=2;u<=s;u++)o.addNextSegment(a[u],!0)}o.addLastSegment(),o.closeRing()},ym.prototype.computeRingBufferCurve=function(t,e,o){var n=this.simplifyTolerance(this._distance);e===lb.RIGHT&&(n=-n);var r=sm.simplify(t,n),i=r.length-1;o.initSideSegments(r[i-1],r[0],e);for(var l=1;l<=i;l++){var a=1!==l;o.addNextSegment(r[l],a)}o.closeRing()},ym.prototype.computeLineBufferCurve=function(t,e){var o=this.simplifyTolerance(this._distance),n=sm.simplify(t,o),r=n.length-1;e.initSideSegments(n[0],n[1],lb.LEFT);for(var i=2;i<=r;i++)e.addNextSegment(n[i],!0);e.addLastSegment(),e.addLineEndCap(n[r-1],n[r]);var l=sm.simplify(t,-o),a=l.length-1;e.initSideSegments(l[a],l[a-1],lb.LEFT);for(var s=a-2;s>=0;s--)e.addNextSegment(l[s],!0);e.addLastSegment(),e.addLineEndCap(l[1],l[0]),e.closeRing()},ym.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case lm.CAP_ROUND:e.createCircle(t);break;case lm.CAP_SQUARE:e.createSquare(t)}},ym.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var o=Math.abs(e),n=this.getSegGen(o);if(t.length<=1)this.computePointCurve(t[0],n);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,n)}else this.computeLineBufferCurve(t,n);return n.getCoordinates()},ym.prototype.getBufferParameters=function(){return this._bufParams},ym.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},ym.prototype.getRingCurve=function(t,e,o){if(this._distance=o,t.length<=2)return this.getLineCurve(t,o);if(0===o)return ym.copyCoordinates(t);var n=this.getSegGen(o);return this.computeRingBufferCurve(t,e,n),n.getCoordinates()},ym.prototype.computeOffsetCurve=function(t,e,o){var n=this.simplifyTolerance(this._distance);if(e){var r=sm.simplify(t,-n),i=r.length-1;o.initSideSegments(r[i],r[i-1],lb.LEFT),o.addFirstSegment();for(var l=i-2;l>=0;l--)o.addNextSegment(r[l],!0)}else{var a=sm.simplify(t,n),s=a.length-1;o.initSideSegments(a[0],a[1],lb.LEFT),o.addFirstSegment();for(var u=2;u<=s;u++)o.addNextSegment(a[u],!0)}o.addLastSegment()},ym.prototype.getSegGen=function(t){return new gm(this._precisionModel,this._bufParams,t)},ym.prototype.interfaces_=function(){return[]},ym.prototype.getClass=function(){return ym},ym.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),o=0;o<e.length;o++)e[o]=new Wy(t[o]);return e};var Sm=function(){this._subgraphs=null,this._seg=new Zb,this._cga=new ES;var t=arguments[0];this._subgraphs=t},dm={DepthSegment:{configurable:!0}};Sm.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new HS,o=this._subgraphs.iterator();o.hasNext();){var n=o.next(),r=n.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,n.getDirectedEdges(),e)}return e}if(3===arguments.length)if($y(arguments[2],XS)&&arguments[0]instanceof Wy&&arguments[1]instanceof _b)for(var i=arguments[0],l=arguments[1],a=arguments[2],s=l.getEdge().getCoordinates(),u=0;u<s.length-1;u++){if(this._seg.p0=s[u],this._seg.p1=s[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<i.x||this._seg.isHorizontal()||i.y<this._seg.p0.y||i.y>this._seg.p1.y||ES.computeOrientation(this._seg.p0,this._seg.p1,i)===ES.RIGHT)){var p=l.getDepth(lb.LEFT);this._seg.p0.equals(s[u])||(p=l.getDepth(lb.RIGHT));var c=new bm(this._seg,p);a.add(c)}}else if($y(arguments[2],XS)&&arguments[0]instanceof Wy&&$y(arguments[1],XS))for(var f=arguments[0],h=arguments[1],g=arguments[2],P=h.iterator();P.hasNext();){var y=P.next();y.isForward()&&this.findStabbedSegments(f,y,g)}},Sm.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:jb.min(e)._leftDepth},Sm.prototype.interfaces_=function(){return[]},Sm.prototype.getClass=function(){return Sm},dm.DepthSegment.get=function(){return bm},Object.defineProperties(Sm,dm);var bm=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new Zb(t),this._leftDepth=e};bm.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var o=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==o?o:0!==(o=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?o:this._upwardSeg.compareTo(e._upwardSeg)},bm.prototype.compareX=function(t,e){var o=t.p0.compareTo(e.p0);return 0!==o?o:t.p1.compareTo(e.p1)},bm.prototype.toString=function(){return this._upwardSeg.toString()},bm.prototype.interfaces_=function(){return[zy]},bm.prototype.getClass=function(){return bm};var mm=function(t,e,o){this.p0=t||null,this.p1=e||null,this.p2=o||null};mm.prototype.area=function(){return mm.area(this.p0,this.p1,this.p2)},mm.prototype.signedArea=function(){return mm.signedArea(this.p0,this.p1,this.p2)},mm.prototype.interpolateZ=function(t){if(null===t)throw new Yy("Supplied point is null.");return mm.interpolateZ(t,this.p0,this.p1,this.p2)},mm.prototype.longestSideLength=function(){return mm.longestSideLength(this.p0,this.p1,this.p2)},mm.prototype.isAcute=function(){return mm.isAcute(this.p0,this.p1,this.p2)},mm.prototype.circumcentre=function(){return mm.circumcentre(this.p0,this.p1,this.p2)},mm.prototype.area3D=function(){return mm.area3D(this.p0,this.p1,this.p2)},mm.prototype.centroid=function(){return mm.centroid(this.p0,this.p1,this.p2)},mm.prototype.inCentre=function(){return mm.inCentre(this.p0,this.p1,this.p2)},mm.prototype.interfaces_=function(){return[]},mm.prototype.getClass=function(){return mm},mm.area=function(t,e,o){return Math.abs(((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2)},mm.signedArea=function(t,e,o){return((o.x-t.x)*(e.y-t.y)-(e.x-t.x)*(o.y-t.y))/2},mm.det=function(t,e,o,n){return t*n-e*o},mm.interpolateZ=function(t,e,o,n){var r=e.x,i=e.y,l=o.x-r,a=n.x-r,s=o.y-i,u=n.y-i,p=l*u-a*s,c=t.x-r,f=t.y-i,h=(u*c-a*f)/p,g=(-s*c+l*f)/p;return e.z+h*(o.z-e.z)+g*(n.z-e.z)},mm.longestSideLength=function(t,e,o){var n=t.distance(e),r=e.distance(o),i=o.distance(t),l=n;return r>l&&(l=r),i>l&&(l=i),l},mm.isAcute=function(t,e,o){return!!fm.isAcute(t,e,o)&&(!!fm.isAcute(e,o,t)&&!!fm.isAcute(o,t,e))},mm.circumcentre=function(t,e,o){var n=o.x,r=o.y,i=t.x-n,l=t.y-r,a=e.x-n,s=e.y-r,u=2*mm.det(i,l,a,s),p=mm.det(l,i*i+l*l,s,a*a+s*s),c=mm.det(i,i*i+l*l,a,a*a+s*s);return new Wy(n-p/u,r+c/u)},mm.perpendicularBisector=function(t,e){var o=e.x-t.x,n=e.y-t.y,r=new gS(t.x+o/2,t.y+n/2,1),i=new gS(t.x-n+o/2,t.y+o+n/2,1);return new gS(r,i)},mm.angleBisector=function(t,e,o){var n=e.distance(t),r=n/(n+e.distance(o)),i=o.x-t.x,l=o.y-t.y;return new Wy(t.x+r*i,t.y+r*l)},mm.area3D=function(t,e,o){var n=e.x-t.x,r=e.y-t.y,i=e.z-t.z,l=o.x-t.x,a=o.y-t.y,s=o.z-t.z,u=r*s-i*a,p=i*l-n*s,c=n*a-r*l,f=u*u+p*p+c*c,h=Math.sqrt(f)/2;return h},mm.centroid=function(t,e,o){var n=(t.x+e.x+o.x)/3,r=(t.y+e.y+o.y)/3;return new Wy(n,r)},mm.inCentre=function(t,e,o){var n=e.distance(o),r=t.distance(o),i=t.distance(e),l=n+r+i,a=(n*t.x+r*e.x+i*o.x)/l,s=(n*t.y+r*e.y+i*o.y)/l;return new Wy(a,s)};var vm=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new HS;var t=arguments[0],e=arguments[1],o=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=o};vm.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,Zy.EXTERIOR,Zy.INTERIOR)},vm.prototype.addPolygon=function(t){var e=this._distance,o=lb.LEFT;this._distance<0&&(e=-this._distance,o=lb.RIGHT);var n=t.getExteriorRing(),r=ZS.removeRepeatedPoints(n.getCoordinates());if(this._distance<0&&this.isErodedCompletely(n,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,o,Zy.EXTERIOR,Zy.INTERIOR);for(var i=0;i<t.getNumInteriorRing();i++){var l=t.getInteriorRingN(i),a=ZS.removeRepeatedPoints(l.getCoordinates());this._distance>0&&this.isErodedCompletely(l,-this._distance)||this.addPolygonRing(a,e,lb.opposite(o),Zy.INTERIOR,Zy.EXTERIOR)}},vm.prototype.isTriangleErodedCompletely=function(t,e){var o=new mm(t[0],t[1],t[2]),n=o.inCentre();return ES.distancePointLine(n,o.p0,o.p1)<Math.abs(e)},vm.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=ZS.removeRepeatedPoints(t.getCoordinates()),o=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(o,Zy.EXTERIOR,Zy.INTERIOR)},vm.prototype.addCurve=function(t,e,o){if(null===t||t.length<2)return null;var n=new Jb(t,new Pb(0,Zy.BOUNDARY,e,o));this._curveList.add(n)},vm.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},vm.prototype.addPolygonRing=function(t,e,o,n,r){if(0===e&&t.length<Nd.MINIMUM_VALID_SIZE)return null;var i=n,l=r;t.length>=Nd.MINIMUM_VALID_SIZE&&ES.isCCW(t)&&(i=r,l=n,o=lb.opposite(o));var a=this._curveBuilder.getRingCurve(t,o,e);this.addCurve(a,i,l)},vm.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Cd?this.addPolygon(t):t instanceof Td?this.addLineString(t):t instanceof Rd?this.addPoint(t):t instanceof jd?this.addCollection(t):t instanceof Od?this.addCollection(t):t instanceof Dd?this.addCollection(t):t instanceof Ad&&this.addCollection(t)},vm.prototype.isErodedCompletely=function(t,e){var o=t.getCoordinates();if(o.length<4)return e<0;if(4===o.length)return this.isTriangleErodedCompletely(o,e);var n=t.getEnvelopeInternal(),r=Math.min(n.getHeight(),n.getWidth());return e<0&&2*Math.abs(e)>r},vm.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var o=t.getGeometryN(e);this.add(o)}},vm.prototype.interfaces_=function(){return[]},vm.prototype.getClass=function(){return vm};var Mm=function(){};Mm.prototype.locate=function(t){},Mm.prototype.interfaces_=function(){return[]},Mm.prototype.getClass=function(){return Mm};var Am=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Am.prototype.next=function(){if(this._atStart)return this._atStart=!1,Am.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new WS;var t=this._parent.getGeometryN(this._index++);return t instanceof Ad?(this._subcollectionIterator=new Am(t),this._subcollectionIterator.next()):t},Am.prototype.remove=function(){throw new Error(this.getClass().getName())},Am.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Am.prototype.interfaces_=function(){return[qS]},Am.prototype.getClass=function(){return Am},Am.isAtomic=function(t){return!(t instanceof Ad)};var Om=function(){this._geom=null;var t=arguments[0];this._geom=t};Om.prototype.locate=function(t){return Om.locate(t,this._geom)},Om.prototype.interfaces_=function(){return[Mm]},Om.prototype.getClass=function(){return Om},Om.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&ES.isPointInRing(t,e.getCoordinates())},Om.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var o=e.getExteriorRing();if(!Om.isPointInRing(t,o))return!1;for(var n=0;n<e.getNumInteriorRing();n++){var r=e.getInteriorRingN(n);if(Om.isPointInRing(t,r))return!1}return!0},Om.containsPoint=function(t,e){if(e instanceof Cd)return Om.containsPointInPolygon(t,e);if(e instanceof Ad)for(var o=new Am(e);o.hasNext();){var n=o.next();if(n!==e&&Om.containsPoint(t,n))return!0}return!1},Om.locate=function(t,e){return e.isEmpty()?Zy.EXTERIOR:Om.containsPoint(t,e)?Zy.INTERIOR:Zy.EXTERIOR};var _m=function(){this._edgeMap=new hd,this._edgeList=null,this._ptInAreaLocation=[Zy.NONE,Zy.NONE]};_m.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),o=e-1;return 0===e&&(o=this._edgeList.size()-1),this._edgeList.get(o)},_m.prototype.propagateSideLabels=function(t){for(var e=Zy.NONE,o=this.iterator();o.hasNext();){var n=o.next().getLabel();n.isArea(t)&&n.getLocation(t,lb.LEFT)!==Zy.NONE&&(e=n.getLocation(t,lb.LEFT))}if(e===Zy.NONE)return null;for(var r=e,i=this.iterator();i.hasNext();){var l=i.next(),a=l.getLabel();if(a.getLocation(t,lb.ON)===Zy.NONE&&a.setLocation(t,lb.ON,r),a.isArea(t)){var s=a.getLocation(t,lb.LEFT),u=a.getLocation(t,lb.RIGHT);if(u!==Zy.NONE){if(u!==r)throw new cb("side location conflict",l.getCoordinate());s===Zy.NONE&&OS.shouldNeverReachHere("found single null side (at "+l.getCoordinate()+")"),r=s}else OS.isTrue(a.getLocation(t,lb.LEFT)===Zy.NONE,"found single null side"),a.setLocation(t,lb.RIGHT,r),a.setLocation(t,lb.LEFT,r)}}},_m.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},_m.prototype.print=function(t){hS.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}},_m.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},_m.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var o=e.size()-1,n=e.get(o).getLabel().getLocation(t,lb.LEFT);OS.isTrue(n!==Zy.NONE,"Found unlabelled area edge");for(var r=n,i=this.iterator();i.hasNext();){var l=i.next().getLabel();OS.isTrue(l.isArea(t),"Found non-area edge");var a=l.getLocation(t,lb.LEFT),s=l.getLocation(t,lb.RIGHT);if(a===s)return!1;if(s!==r)return!1;r=a}return!0},_m.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++){if(this._edgeList.get(e)===t)return e}return-1},_m.prototype.iterator=function(){return this.getEdges().iterator()},_m.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new HS(this._edgeMap.values())),this._edgeList},_m.prototype.getLocation=function(t,e,o){return this._ptInAreaLocation[t]===Zy.NONE&&(this._ptInAreaLocation[t]=Om.locate(e,o[t].getGeometry())),this._ptInAreaLocation[t]},_m.prototype.toString=function(){var t=new oS;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var o=e.next();t.append(o),t.append("\n")}return t.toString()},_m.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}},_m.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],o=this.iterator();o.hasNext();)for(var n=o.next().getLabel(),r=0;r<2;r++)n.isLine(r)&&n.getLocation(r)===Zy.BOUNDARY&&(e[r]=!0);for(var i=this.iterator();i.hasNext();)for(var l=i.next(),a=l.getLabel(),s=0;s<2;s++)if(a.isAnyNull(s)){var u=Zy.NONE;if(e[s])u=Zy.EXTERIOR;else{var p=l.getCoordinate();u=this.getLocation(s,p,t)}a.setAllLocationsIfNull(s,u)}},_m.prototype.getDegree=function(){return this._edgeMap.size()},_m.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},_m.prototype.interfaces_=function(){return[]},_m.prototype.getClass=function(){return _m};var Lm=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,o=this._SCANNING_FOR_INCOMING,n=0;n<this._resultAreaEdgeList.size();n++){var r=this._resultAreaEdgeList.get(n),i=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),o){case this._SCANNING_FOR_INCOMING:if(!i.isInResult())continue;e=i,o=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),o=this._SCANNING_FOR_INCOMING}}if(o===this._LINKING_TO_OUTGOING){if(null===t)throw new cb("no outgoing dirEdge found",this.getCoordinate());OS.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var o=t.get(0);if(1===e)return o;var n=t.get(e-1),r=o.getQuadrant(),i=n.getQuadrant();return Mb.isNorthern(r)&&Mb.isNorthern(i)?o:Mb.isNorthern(r)||Mb.isNorthern(i)?0!==o.getDy()?o:0!==n.getDy()?n:(OS.shouldNeverReachHere("found two horizontal edges incident on node"),null):n},e.prototype.print=function(t){hS.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var o=e.next();t.print("out "),o.print(t),t.println(),t.print("in "),o.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new HS;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var o=e.next().getLabel();o.setAllLocationsIfNull(0,t.getLocation(0)),o.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,o=this._edgeList.size()-1;o>=0;o--){var n=this._edgeList.get(o),r=n.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=n}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),o=t.getDepth(lb.LEFT),n=t.getDepth(lb.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),o);if(this.computeDepths(0,e,r)!==n)throw new cb("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var i=arguments[0],l=arguments[1],a=arguments[2],s=i;s<l;s++){var u=this._edgeList.get(s);u.setEdgeDepths(lb.RIGHT,a),a=u.getDepth(lb.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,o=null,n=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var i=this._resultAreaEdgeList.get(r),l=i.getSym();switch(null===e&&i.getEdgeRing()===t&&(e=i),n){case this._SCANNING_FOR_INCOMING:if(l.getEdgeRing()!==t)continue;o=l,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(i.getEdgeRing()!==t)continue;o.setNextMin(i),n=this._SCANNING_FOR_INCOMING}}n===this._LINKING_TO_OUTGOING&&(OS.isTrue(null!==e,"found null for first outgoing dirEdge"),OS.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),o.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){e.next().isInResult()&&t++}return t}if(1===arguments.length){for(var o=arguments[0],n=0,r=this.iterator();r.hasNext();){r.next().getEdgeRing()===o&&n++}return n}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Zy.NONE,e=this.iterator();e.hasNext();){var o=e.next(),n=o.getSym();if(!o.isLineEdge()){if(o.isInResult()){t=Zy.INTERIOR;break}if(n.isInResult()){t=Zy.EXTERIOR;break}}}if(t===Zy.NONE)return null;for(var r=t,i=this.iterator();i.hasNext();){var l=i.next(),a=l.getSym();l.isLineEdge()?l.getEdge().setCovered(r===Zy.INTERIOR):(l.isInResult()&&(r=Zy.EXTERIOR),a.isInResult()&&(r=Zy.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Pb(Zy.NONE);for(var o=this.iterator();o.hasNext();)for(var n=o.next().getEdge().getLabel(),r=0;r<2;r++){var i=n.getLocation(r);i!==Zy.INTERIOR&&i!==Zy.BOUNDARY||this._label.setLocation(r,Zy.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(_m),wm=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new mb(t,new Lm)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Lb),xm=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};xm.prototype.compareTo=function(t){var e=t;return xm.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},xm.prototype.interfaces_=function(){return[zy]},xm.prototype.getClass=function(){return xm},xm.orientation=function(t){return 1===ZS.increasingDirection(t)},xm.compareOriented=function(t,e,o,n){for(var r=e?1:-1,i=n?1:-1,l=e?t.length:-1,a=n?o.length:-1,s=e?0:t.length-1,u=n?0:o.length-1;;){var p=t[s].compareTo(o[u]);if(0!==p)return p;var c=(s+=r)===l,f=(u+=i)===a;if(c&&!f)return-1;if(!c&&f)return 1;if(c&&f)return 0}};var Um=function(){this._edges=new HS,this._ocaMap=new hd};Um.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var o=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var n=o.getCoordinates(),r=0;r<n.length;r++)r>0&&t.print(","),t.print(n[r].x+" "+n[r].y);t.println(")")}t.print(")  ")},Um.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Um.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Um.prototype.iterator=function(){return this._edges.iterator()},Um.prototype.getEdges=function(){return this._edges},Um.prototype.get=function(t){return this._edges.get(t)},Um.prototype.findEqualEdge=function(t){var e=new xm(t.getCoordinates());return this._ocaMap.get(e)},Um.prototype.add=function(t){this._edges.add(t);var e=new xm(t.getCoordinates());this._ocaMap.put(e,t)},Um.prototype.interfaces_=function(){return[]},Um.prototype.getClass=function(){return Um};var Em=function(){};Em.prototype.processIntersections=function(t,e,o,n){},Em.prototype.isDone=function(){},Em.prototype.interfaces_=function(){return[]},Em.prototype.getClass=function(){return Em};var Tm=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Tm.prototype.isTrivialIntersection=function(t,e,o,n){if(t===o&&1===this._li.getIntersectionNum()){if(Tm.isAdjacentSegments(e,n))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&n===r||0===n&&e===r)return!0}}return!1},Tm.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Tm.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Tm.prototype.getLineIntersector=function(){return this._li},Tm.prototype.hasProperIntersection=function(){return this._hasProper},Tm.prototype.processIntersections=function(t,e,o,n){if(t===o&&e===n)return null;this.numTests++;var r=t.getCoordinates()[e],i=t.getCoordinates()[e+1],l=o.getCoordinates()[n],a=o.getCoordinates()[n+1];this._li.computeIntersection(r,i,l,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,o,n)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),o.addIntersections(this._li,n,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Tm.prototype.hasIntersection=function(){return this._hasIntersection},Tm.prototype.isDone=function(){return!1},Tm.prototype.hasInteriorIntersection=function(){return this._hasInterior},Tm.prototype.interfaces_=function(){return[Em]},Tm.prototype.getClass=function(){return Tm},Tm.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Vm=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],o=arguments[2];this.coord=new Wy(t),this.segmentIndex=e,this.dist=o};Vm.prototype.getSegmentIndex=function(){return this.segmentIndex},Vm.prototype.getCoordinate=function(){return this.coord},Vm.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Vm.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Vm.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Vm.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Vm.prototype.getDistance=function(){return this.dist},Vm.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Vm.prototype.interfaces_=function(){return[zy]},Vm.prototype.getClass=function(){return Vm};var Rm=function(){this._nodeMap=new hd,this.edge=null;var t=arguments[0];this.edge=t};Rm.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},Rm.prototype.iterator=function(){return this._nodeMap.values().iterator()},Rm.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),o=e.next();e.hasNext();){var n=e.next(),r=this.createSplitEdge(o,n);t.add(r),o=n}},Rm.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Rm.prototype.createSplitEdge=function(t,e){var o=e.segmentIndex-t.segmentIndex+2,n=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(n);r||o--;var i=new Array(o).fill(null),l=0;i[l++]=new Wy(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)i[l++]=this.edge.pts[a];return r&&(i[l]=e.coord),new Dm(i,new Pb(this.edge._label))},Rm.prototype.add=function(t,e,o){var n=new Vm(t,e,o),r=this._nodeMap.get(n);return null!==r?r:(this._nodeMap.put(n,n),n)},Rm.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1},Rm.prototype.interfaces_=function(){return[]},Rm.prototype.getClass=function(){return Rm};var Im=function(){};Im.prototype.getChainStartIndices=function(t){var e=0,o=new HS;o.add(new nS(e));do{var n=this.findChainEnd(t,e);o.add(new nS(n)),e=n}while(e<t.length-1);return Im.toIntArray(o)},Im.prototype.findChainEnd=function(t,e){for(var o=Mb.quadrant(t[e],t[e+1]),n=e+1;n<t.length;){if(Mb.quadrant(t[n-1],t[n])!==o)break;n++}return n-1},Im.prototype.interfaces_=function(){return[]},Im.prototype.getClass=function(){return Im},Im.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),o=0;o<e.length;o++)e[o]=t.get(o).intValue();return e};var Cm=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new PS,this.env2=new PS;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Im;this.startIndex=e.getChainStartIndices(this.pts)};Cm.prototype.getCoordinates=function(){return this.pts},Cm.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e>o?e:o},Cm.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,o=this.pts[this.startIndex[t+1]].x;return e<o?e:o},Cm.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],o=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[o],e.startIndex[o+1],n)}else if(6===arguments.length){var r=arguments[0],i=arguments[1],l=arguments[2],a=arguments[3],s=arguments[4],u=arguments[5],p=this.pts[r],c=this.pts[i],f=l.pts[a],h=l.pts[s];if(i-r==1&&s-a==1)return u.addIntersections(this.e,r,l.e,a),null;if(this.env1.init(p,c),this.env2.init(f,h),!this.env1.intersects(this.env2))return null;var g=Math.trunc((r+i)/2),P=Math.trunc((a+s)/2);r<g&&(a<P&&this.computeIntersectsForChain(r,g,l,a,P,u),P<s&&this.computeIntersectsForChain(r,g,l,P,s,u)),g<i&&(a<P&&this.computeIntersectsForChain(g,i,l,a,P,u),P<s&&this.computeIntersectsForChain(g,i,l,P,s,u))}},Cm.prototype.getStartIndexes=function(){return this.startIndex},Cm.prototype.computeIntersects=function(t,e){for(var o=0;o<this.startIndex.length-1;o++)for(var n=0;n<t.startIndex.length-1;n++)this.computeIntersectsForChain(o,t,n,e)},Cm.prototype.interfaces_=function(){return[]},Cm.prototype.getClass=function(){return Cm};var jm=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var o=0;o<3;o++)this._depth[e][o]=t.NULL_VALUE},Nm={NULL_VALUE:{configurable:!0}};jm.prototype.getDepth=function(t,e){return this._depth[t][e]},jm.prototype.setDepth=function(t,e,o){this._depth[t][e]=o},jm.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==jm.NULL_VALUE)return!1;return!0}if(1===arguments.length){var o=arguments[0];return this._depth[o][1]===jm.NULL_VALUE}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this._depth[n][r]===jm.NULL_VALUE}},jm.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var o=1;o<3;o++){var n=0;this._depth[t][o]>e&&(n=1),this._depth[t][o]=n}}},jm.prototype.getDelta=function(t){return this._depth[t][lb.RIGHT]-this._depth[t][lb.LEFT]},jm.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Zy.EXTERIOR:Zy.INTERIOR},jm.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},jm.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var o=1;o<3;o++){var n=t.getLocation(e,o);n!==Zy.EXTERIOR&&n!==Zy.INTERIOR||(this.isNull(e,o)?this._depth[e][o]=jm.depthAtLocation(n):this._depth[e][o]+=jm.depthAtLocation(n))}else if(3===arguments.length){var r=arguments[0],i=arguments[1];arguments[2]===Zy.INTERIOR&&this._depth[r][i]++}},jm.prototype.interfaces_=function(){return[]},jm.prototype.getClass=function(){return jm},jm.depthAtLocation=function(t){return t===Zy.EXTERIOR?0:t===Zy.INTERIOR?1:jm.NULL_VALUE},Nm.NULL_VALUE.get=function(){return-1},Object.defineProperties(jm,Nm);var Dm=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Rm(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new jm,this._depthDelta=0,1===arguments.length){var o=arguments[0];e.call(this,o,null)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.pts=n,this._label=r}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Pb.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var o=t;if(this.pts.length!==o.pts.length)return!1;for(var n=!0,r=!0,i=this.pts.length,l=0;l<this.pts.length;l++)if(this.pts[l].equals2D(o.pts[l])||(n=!1),this.pts[l].equals2D(o.pts[--i])||(r=!1),!n&&!r)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Cm(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new PS;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,o,n){var r=new Wy(t.getIntersection(n)),i=e,l=t.getEdgeDistance(o,n),a=i+1;if(a<this.pts.length){var s=this.pts[a];r.equals2D(s)&&(i=a,l=0)}this.eiList.add(r,i,l)},e.prototype.toString=function(){var t=new oS;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,o){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,o,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],o=arguments[1];o.setAtLeastIfValid(e.getLocation(0,lb.ON),e.getLocation(1,lb.ON),1),e.isArea()&&(o.setAtLeastIfValid(e.getLocation(0,lb.LEFT),e.getLocation(1,lb.LEFT),2),o.setAtLeastIfValid(e.getLocation(0,lb.RIGHT),e.getLocation(1,lb.RIGHT),2))},e}(bb),Bm=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Um,this._bufParams=t||null};Bm.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Bm.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var o=e.getLabel(),n=t.getLabel();e.isPointwiseEqual(t)||(n=new Pb(t.getLabel())).flip(),o.merge(n);var r=Bm.depthDelta(n),i=e.getDepthDelta()+r;e.setDepthDelta(i)}else this._edgeList.add(t),t.setDepthDelta(Bm.depthDelta(t.getLabel()))},Bm.prototype.buildSubgraphs=function(t,e){for(var o=new HS,n=t.iterator();n.hasNext();){var r=n.next(),i=r.getRightmostCoordinate(),l=new Sm(o).getDepth(i);r.computeDepth(l),r.findResultEdges(),o.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},Bm.prototype.createSubgraphs=function(t){for(var e=new HS,o=t.getNodes().iterator();o.hasNext();){var n=o.next();if(!n.isVisited()){var r=new hb;r.create(n),e.add(r)}}return jb.sort(e,jb.reverseOrder()),e},Bm.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Bm.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new rm,o=new wS;return o.setPrecisionModel(t),e.setSegmentIntersector(new Tm(o)),e},Bm.prototype.buffer=function(t,e){var o=this._workingPrecisionModel;null===o&&(o=t.getPrecisionModel()),this._geomFact=t.getFactory();var n=new ym(o,this._bufParams),r=new vm(t,e,n).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,o),this._graph=new wb(new wm),this._graph.addEdges(this._edgeList.getEdges());var i=this.createSubgraphs(this._graph),l=new xb(this._geomFact);this.buildSubgraphs(i,l);var a=l.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},Bm.prototype.computeNodedEdges=function(t,e){var o=this.getNoder(e);o.computeNodes(t);for(var n=o.getNodedSubstrings().iterator();n.hasNext();){var r=n.next(),i=r.getCoordinates();if(2!==i.length||!i[0].equals2D(i[1])){var l=r.getData(),a=new Dm(r.getCoordinates(),new Pb(l));this.insertUniqueEdge(a)}}},Bm.prototype.setNoder=function(t){this._workingNoder=t},Bm.prototype.interfaces_=function(){return[]},Bm.prototype.getClass=function(){return Bm},Bm.depthDelta=function(t){var e=t.getLocation(0,lb.LEFT),o=t.getLocation(0,lb.RIGHT);return e===Zy.INTERIOR&&o===Zy.EXTERIOR?1:e===Zy.EXTERIOR&&o===Zy.INTERIOR?-1:0},Bm.convertSegStrings=function(t){for(var e=new $d,o=new HS;t.hasNext();){var n=t.next(),r=e.createLineString(n.getCoordinates());o.add(r)}return e.buildGeometry(o)};var Ym=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this._noder=o,this._scaleFactor=n,this._offsetX=r,this._offsetY=i,this._isScaled=!this.isIntegerPrecision()}};Ym.prototype.rescale=function(){if($y(arguments[0],zS))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],n=0;n<o.length;n++)o[n].x=o[n].x/this._scaleFactor+this._offsetX,o[n].y=o[n].y/this._scaleFactor+this._offsetY;2===o.length&&o[0].equals2D(o[1])&&hS.out.println(o)}},Ym.prototype.scale=function(){if($y(arguments[0],zS)){for(var t=arguments[0],e=new HS,o=t.iterator();o.hasNext();){var n=o.next();e.add(new Jb(this.scale(n.getCoordinates()),n.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],i=new Array(r.length).fill(null),l=0;l<r.length;l++)i[l]=new Wy(Math.round((r[l].x-this._offsetX)*this._scaleFactor),Math.round((r[l].y-this._offsetY)*this._scaleFactor),r[l].z);return ZS.removeRepeatedPoints(i)}},Ym.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Ym.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Ym.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Ym.prototype.interfaces_=function(){return[om]},Ym.prototype.getClass=function(){return Ym};var km=function(){this._li=new wS,this._segStrings=null;var t=arguments[0];this._segStrings=t},Fm={fact:{configurable:!0}};km.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var o=arguments[0],n=arguments[1].iterator();n.hasNext();)for(var r=n.next().getCoordinates(),i=1;i<r.length-1;i++)if(r[i].equals(o))throw new MS("found endpt/interior pt intersection at index "+i+" :pt "+o)},km.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),o=this._segStrings.iterator();o.hasNext();){var n=o.next();this.checkInteriorIntersections(e,n)}else if(2===arguments.length)for(var r=arguments[0],i=arguments[1],l=r.getCoordinates(),a=i.getCoordinates(),s=0;s<l.length-1;s++)for(var u=0;u<a.length-1;u++)this.checkInteriorIntersections(r,s,i,u);else if(4===arguments.length){var p=arguments[0],c=arguments[1],f=arguments[2],h=arguments[3];if(p===f&&c===h)return null;var g=p.getCoordinates()[c],P=p.getCoordinates()[c+1],y=f.getCoordinates()[h],S=f.getCoordinates()[h+1];if(this._li.computeIntersection(g,P,y,S),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,P)||this.hasInteriorIntersection(this._li,y,S)))throw new MS("found non-noded intersection at "+g+"-"+P+" and "+y+"-"+S)}},km.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},km.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var o=arguments[0].getCoordinates(),n=0;n<o.length-2;n++)this.checkCollapse(o[n],o[n+1],o[n+2])},km.prototype.hasInteriorIntersection=function(t,e,o){for(var n=0;n<t.getIntersectionNum();n++){var r=t.getIntersection(n);if(!r.equals(e)&&!r.equals(o))return!0}return!1},km.prototype.checkCollapse=function(t,e,o){if(t.equals(o))throw new MS("found non-noded collapse at "+km.fact.createLineString([t,e,o]))},km.prototype.interfaces_=function(){return[]},km.prototype.getClass=function(){return km},Fm.fact.get=function(){return new $d},Object.defineProperties(km,Fm);var zm=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],o=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=o,e<=0)throw new Yy("Scale factor must be non-zero");1!==e&&(this._pt=new Wy(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Wy,this._p1Scaled=new Wy),this.initCorners(this._pt)},Gm={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};zm.prototype.intersectsScaled=function(t,e){var o=Math.min(t.x,e.x),n=Math.max(t.x,e.x),r=Math.min(t.y,e.y),i=Math.max(t.y,e.y),l=this._maxx<o||this._minx>n||this._maxy<r||this._miny>i;if(l)return!1;var a=this.intersectsToleranceSquare(t,e);return OS.isTrue(!(l&&a),"Found bad envelope test"),a},zm.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new Wy(this._maxx,this._maxy),this._corner[1]=new Wy(this._minx,this._maxy),this._corner[2]=new Wy(this._minx,this._miny),this._corner[3]=new Wy(this._maxx,this._miny)},zm.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},zm.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},zm.prototype.getCoordinate=function(){return this._originalPt},zm.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},zm.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=zm.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new PS(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},zm.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},zm.prototype.intersectsToleranceSquare=function(t,e){var o=!1,n=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||(!(!o||!n)||(!!t.equals(this._pt)||!!e.equals(this._pt))))))},zm.prototype.addSnappedNode=function(t,e){var o=t.getCoordinate(e),n=t.getCoordinate(e+1);return!!this.intersects(o,n)&&(t.addIntersection(this.getCoordinate(),e),!0)},zm.prototype.interfaces_=function(){return[]},zm.prototype.getClass=function(){return zm},Gm.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(zm,Gm);var qm=function(){this.tempEnv1=new PS,this.selectedSegment=new Zb};qm.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},qm.prototype.interfaces_=function(){return[]},qm.prototype.getClass=function(){return qm};var Xm=function(){this._index=null;var t=arguments[0];this._index=t},Wm={HotPixelSnapAction:{configurable:!0}};Xm.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],o=arguments[1],n=arguments[2],r=e.getSafeEnvelope(),i=new Hm(e,o,n);return this._index.query(r,{interfaces_:function(){return[Vb]},visitItem:function(t){t.select(r,i)}}),i.isNodeAdded()}},Xm.prototype.interfaces_=function(){return[]},Xm.prototype.getClass=function(){return Xm},Wm.HotPixelSnapAction.get=function(){return Hm},Object.defineProperties(Xm,Wm);var Hm=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],o=arguments[1],n=arguments[2];this._hotPixel=e,this._parentEdge=o,this._hotPixelVertexIndex=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],o=arguments[1],n=e.getContext();if(null!==this._parentEdge&&n===this._parentEdge&&o===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,o)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qm),Km=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new HS};Km.prototype.processIntersections=function(t,e,o,n){if(t===o&&e===n)return null;var r=t.getCoordinates()[e],i=t.getCoordinates()[e+1],l=o.getCoordinates()[n],a=o.getCoordinates()[n+1];if(this._li.computeIntersection(r,i,l,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var s=0;s<this._li.getIntersectionNum();s++)this._interiorIntersections.add(this._li.getIntersection(s));t.addIntersections(this._li,e,0),o.addIntersections(this._li,n,1)}},Km.prototype.isDone=function(){return!1},Km.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Km.prototype.interfaces_=function(){return[Em]},Km.prototype.getClass=function(){return Km};var Jm=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new wS,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Jm.prototype.checkCorrectness=function(t){var e=Jb.getNodedSubstrings(t),o=new km(e);try{o.checkValid()}catch(t){if(!(t instanceof cS))throw t;t.printStackTrace()}},Jm.prototype.getNodedSubstrings=function(){return Jb.getNodedSubstrings(this._nodedSegStrings)},Jm.prototype.snapRound=function(t,e){var o=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(o),this.computeVertexSnaps(t)},Jm.prototype.findInteriorIntersections=function(t,e){var o=new Km(e);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(t),o.getInteriorIntersections()},Jm.prototype.computeVertexSnaps=function(){if($y(arguments[0],zS))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Jb)for(var o=arguments[0],n=o.getCoordinates(),r=0;r<n.length;r++){var i=new zm(n[r],this._scaleFactor,this._li);this._pointSnapper.snap(i,o,r)&&o.addIntersection(n[r],r)}},Jm.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new rm,this._pointSnapper=new Xm(this._noder.getIndex()),this.snapRound(t,this._li)},Jm.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),n=new zm(o,this._scaleFactor,this._li);this._pointSnapper.snap(n)}},Jm.prototype.interfaces_=function(){return[om]},Jm.prototype.getClass=function(){return Jm};var Zm=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new lm,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],o=arguments[1];this._argGeom=e,this._bufParams=o}},Qm={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Zm.prototype.bufferFixedPrecision=function(t){var e=new Ym(new Jm(new Kd(1)),t.getScale()),o=new Bm(this._bufParams);o.setWorkingPrecisionModel(t),o.setNoder(e),this._resultGeometry=o.buffer(this._argGeom,this._distance)},Zm.prototype.bufferReducedPrecision=function(){if(0===arguments.length){for(var t=Zm.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof cb))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var e=arguments[0],o=Zm.precisionScaleFactor(this._argGeom,this._distance,e),n=new Kd(o);this.bufferFixedPrecision(n)}},Zm.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Kd.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Zm.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Zm.prototype.bufferOriginalPrecision=function(){try{var t=new Bm(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof MS))throw t;this._saveException=t}},Zm.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Zm.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Zm.prototype.interfaces_=function(){return[]},Zm.prototype.getClass=function(){return Zm},Zm.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Zm(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof RS&&"number"==typeof arguments[1]){var o=arguments[0],n=arguments[1],r=arguments[2],i=new Zm(o);return i.setQuadrantSegments(r),i.getResultGeometry(n)}if(arguments[2]instanceof lm&&arguments[0]instanceof RS&&"number"==typeof arguments[1]){var l=arguments[0],a=arguments[1],s=arguments[2];return new Zm(l,s).getResultGeometry(a)}}else if(4===arguments.length){var u=arguments[0],p=arguments[1],c=arguments[2],f=arguments[3],h=new Zm(u);return h.setQuadrantSegments(c),h.setEndCapStyle(f),h.getResultGeometry(p)}},Zm.precisionScaleFactor=function(t,e,o){var n=t.getEnvelopeInternal(),r=tS.max(Math.abs(n.getMaxX()),Math.abs(n.getMaxY()),Math.abs(n.getMinX()),Math.abs(n.getMinY()))+2*(e>0?e:0),i=o-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,i)},Qm.CAP_ROUND.get=function(){return lm.CAP_ROUND},Qm.CAP_BUTT.get=function(){return lm.CAP_FLAT},Qm.CAP_FLAT.get=function(){return lm.CAP_FLAT},Qm.CAP_SQUARE.get=function(){return lm.CAP_SQUARE},Qm.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Zm,Qm);var $m=function(){this._pt=[new Wy,new Wy],this._distance=ky.NaN,this._isNull=!0};$m.prototype.getCoordinates=function(){return this._pt},$m.prototype.getCoordinate=function(t){return this._pt[t]},$m.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var n=e.distance(o);n<this._distance&&this.initialize(e,o,n)}},$m.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(o),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},$m.prototype.getDistance=function(){return this._distance},$m.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var n=e.distance(o);n>this._distance&&this.initialize(e,o,n)}},$m.prototype.interfaces_=function(){return[]},$m.prototype.getClass=function(){return $m};var tv=function(){};tv.prototype.interfaces_=function(){return[]},tv.prototype.getClass=function(){return tv},tv.computeDistance=function(){if(arguments[2]instanceof $m&&arguments[0]instanceof Td&&arguments[1]instanceof Wy)for(var t=arguments[0],e=arguments[1],o=arguments[2],n=t.getCoordinates(),r=new Zb,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var l=r.closestPoint(e);o.setMinimum(l,e)}else if(arguments[2]instanceof $m&&arguments[0]instanceof Cd&&arguments[1]instanceof Wy){var a=arguments[0],s=arguments[1],u=arguments[2];tv.computeDistance(a.getExteriorRing(),s,u);for(var p=0;p<a.getNumInteriorRing();p++)tv.computeDistance(a.getInteriorRingN(p),s,u)}else if(arguments[2]instanceof $m&&arguments[0]instanceof RS&&arguments[1]instanceof Wy){var c=arguments[0],f=arguments[1],h=arguments[2];if(c instanceof Td)tv.computeDistance(c,f,h);else if(c instanceof Cd)tv.computeDistance(c,f,h);else if(c instanceof Ad)for(var g=c,P=0;P<g.getNumGeometries();P++){var y=g.getGeometryN(P);tv.computeDistance(y,f,h)}else h.setMinimum(c.getCoordinate(),f)}else if(arguments[2]instanceof $m&&arguments[0]instanceof Zb&&arguments[1]instanceof Wy){var S=arguments[0],d=arguments[1],b=arguments[2],m=S.closestPoint(d);b.setMinimum(m,d)}};var ev=function(t){this._maxPtDist=new $m,this._inputGeom=t||null},ov={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};ev.prototype.computeMaxMidpointDistance=function(t){var e=new rv(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},ev.prototype.computeMaxVertexDistance=function(t){var e=new nv(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},ev.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},ev.prototype.getDistancePoints=function(){return this._maxPtDist},ev.prototype.interfaces_=function(){return[]},ev.prototype.getClass=function(){return ev},ov.MaxPointDistanceFilter.get=function(){return nv},ov.MaxMidpointDistanceFilter.get=function(){return rv},Object.defineProperties(ev,ov);var nv=function(t){this._maxPtDist=new $m,this._minPtDist=new $m,this._geom=t||null};nv.prototype.filter=function(t){this._minPtDist.initialize(),tv.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},nv.prototype.getMaxPointDistance=function(){return this._maxPtDist},nv.prototype.interfaces_=function(){return[jS]},nv.prototype.getClass=function(){return nv};var rv=function(t){this._maxPtDist=new $m,this._minPtDist=new $m,this._geom=t||null};rv.prototype.filter=function(t,e){if(0===e)return null;var o=t.getCoordinate(e-1),n=t.getCoordinate(e),r=new Wy((o.x+n.x)/2,(o.y+n.y)/2);this._minPtDist.initialize(),tv.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},rv.prototype.isDone=function(){return!1},rv.prototype.isGeometryChanged=function(){return!1},rv.prototype.getMaxPointDistance=function(){return this._maxPtDist},rv.prototype.interfaces_=function(){return[Md]},rv.prototype.getClass=function(){return rv};var iv=function(t){this._comps=t||null};iv.prototype.filter=function(t){t instanceof Cd&&this._comps.add(t)},iv.prototype.interfaces_=function(){return[vd]},iv.prototype.getClass=function(){return iv},iv.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return iv.getPolygons(t,new HS)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof Cd?o.add(e):e instanceof Ad&&e.apply(new iv(o)),o}};var lv=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],o=arguments[1];this._lines=e,this._isForcedToLineString=o}};lv.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Nd){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Td&&this._lines.add(t)},lv.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},lv.prototype.interfaces_=function(){return[VS]},lv.prototype.getClass=function(){return lv},lv.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(lv.getLines(t))}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().buildGeometry(lv.getLines(e,o))}},lv.getLines=function(){if(1===arguments.length){var t=arguments[0];return lv.getLines(t,!1)}if(2===arguments.length){if($y(arguments[0],zS)&&$y(arguments[1],zS)){for(var e=arguments[0],o=arguments[1],n=e.iterator();n.hasNext();){var r=n.next();lv.getLines(r,o)}return o}if(arguments[0]instanceof RS&&"boolean"==typeof arguments[1]){var i=arguments[0],l=arguments[1],a=new HS;return i.apply(new lv(a,l)),a}if(arguments[0]instanceof RS&&$y(arguments[1],zS)){var s=arguments[0],u=arguments[1];return s instanceof Td?u.add(s):s.apply(new lv(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&$y(arguments[0],zS)&&$y(arguments[1],zS)){for(var p=arguments[0],c=arguments[1],f=arguments[2],h=p.iterator();h.hasNext();){var g=h.next();lv.getLines(g,c,f)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof RS&&$y(arguments[1],zS)){var P=arguments[0],y=arguments[1],S=arguments[2];return P.apply(new lv(y,S)),y}}};var av=function(){if(this._boundaryRule=NS.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Yy("Rule must be non-null");this._boundaryRule=t}};av.prototype.locateInternal=function(){if(arguments[0]instanceof Wy&&arguments[1]instanceof Cd){var t=arguments[0],e=arguments[1];if(e.isEmpty())return Zy.EXTERIOR;var o=e.getExteriorRing(),n=this.locateInPolygonRing(t,o);if(n===Zy.EXTERIOR)return Zy.EXTERIOR;if(n===Zy.BOUNDARY)return Zy.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r),l=this.locateInPolygonRing(t,i);if(l===Zy.INTERIOR)return Zy.EXTERIOR;if(l===Zy.BOUNDARY)return Zy.BOUNDARY}return Zy.INTERIOR}if(arguments[0]instanceof Wy&&arguments[1]instanceof Td){var a=arguments[0],s=arguments[1];if(!s.getEnvelopeInternal().intersects(a))return Zy.EXTERIOR;var u=s.getCoordinates();return s.isClosed()||!a.equals(u[0])&&!a.equals(u[u.length-1])?ES.isOnLine(a,u)?Zy.INTERIOR:Zy.EXTERIOR:Zy.BOUNDARY}if(arguments[0]instanceof Wy&&arguments[1]instanceof Rd){var p=arguments[0];return arguments[1].getCoordinate().equals2D(p)?Zy.INTERIOR:Zy.EXTERIOR}},av.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?ES.locatePointInRing(t,e.getCoordinates()):Zy.EXTERIOR},av.prototype.intersects=function(t,e){return this.locate(t,e)!==Zy.EXTERIOR},av.prototype.updateLocationInfo=function(t){t===Zy.INTERIOR&&(this._isIn=!0),t===Zy.BOUNDARY&&this._numBoundaries++},av.prototype.computeLocation=function(t,e){if(e instanceof Rd&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Td)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Cd)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Od)for(var o=e,n=0;n<o.getNumGeometries();n++){var r=o.getGeometryN(n);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Dd)for(var i=e,l=0;l<i.getNumGeometries();l++){var a=i.getGeometryN(l);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof Ad)for(var s=new Am(e);s.hasNext();){var u=s.next();u!==e&&this.computeLocation(t,u)}},av.prototype.locate=function(t,e){return e.isEmpty()?Zy.EXTERIOR:e instanceof Td?this.locateInternal(t,e):e instanceof Cd?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Zy.BOUNDARY:this._numBoundaries>0||this._isIn?Zy.INTERIOR:Zy.EXTERIOR)},av.prototype.interfaces_=function(){return[]},av.prototype.getClass=function(){return av};var sv=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],o=arguments[1];t.call(this,e,t.INSIDE_AREA,o)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._component=n,this._segIndex=r,this._pt=i}},uv={INSIDE_AREA:{configurable:!0}};sv.prototype.isInsideArea=function(){return this._segIndex===sv.INSIDE_AREA},sv.prototype.getCoordinate=function(){return this._pt},sv.prototype.getGeometryComponent=function(){return this._component},sv.prototype.getSegmentIndex=function(){return this._segIndex},sv.prototype.interfaces_=function(){return[]},sv.prototype.getClass=function(){return sv},uv.INSIDE_AREA.get=function(){return-1},Object.defineProperties(sv,uv);var pv=function(t){this._pts=t||null};pv.prototype.filter=function(t){t instanceof Rd&&this._pts.add(t)},pv.prototype.interfaces_=function(){return[vd]},pv.prototype.getClass=function(){return pv},pv.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Rd?jb.singletonList(t):pv.getPoints(t,new HS)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e instanceof Rd?o.add(e):e instanceof Ad&&e.apply(new pv(o)),o}};var cv=function(){this._locations=null;var t=arguments[0];this._locations=t};cv.prototype.filter=function(t){(t instanceof Rd||t instanceof Td||t instanceof Cd)&&this._locations.add(new sv(t,0,t.getCoordinate()))},cv.prototype.interfaces_=function(){return[vd]},cv.prototype.getClass=function(){return cv},cv.getLocations=function(t){var e=new HS;return t.apply(new cv(e)),e};var fv=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new av,this._minDistanceLocation=null,this._minDistance=ky.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=o,this._geom[1]=n,this._terminateDistance=r}};fv.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],n=1-e,r=iv.getPolygons(this._geom[e]);if(r.size()>0){var i=cv.getLocations(this._geom[n]);if(this.computeContainmentDistance(i,r,o),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[n]=o[0],this._minDistanceLocation[e]=o[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&$y(arguments[0],XS)&&$y(arguments[1],XS)){for(var l=arguments[0],a=arguments[1],s=arguments[2],u=0;u<l.size();u++)for(var p=l.get(u),c=0;c<a.size();c++)if(this.computeContainmentDistance(p,a.get(c),s),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof sv&&arguments[1]instanceof Cd){var f=arguments[0],h=arguments[1],g=arguments[2],P=f.getCoordinate();if(Zy.EXTERIOR!==this._ptLocator.locate(P,h))return this._minDistance=0,g[0]=f,g[1]=new sv(h,P),null}},fv.prototype.computeMinDistanceLinesPoints=function(t,e,o){for(var n=0;n<t.size();n++)for(var r=t.get(n),i=0;i<e.size();i++){var l=e.get(i);if(this.computeMinDistance(r,l,o),this._minDistance<=this._terminateDistance)return null}},fv.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=lv.getLines(this._geom[0]),o=lv.getLines(this._geom[1]),n=pv.getPoints(this._geom[0]),r=pv.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(o,n,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(n,r,t),void this.updateMinDistance(t,!1))))},fv.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},fv.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},fv.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},fv.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Td&&arguments[1]instanceof Rd){var t=arguments[0],e=arguments[1],o=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var n=t.getCoordinates(),r=e.getCoordinate(),i=0;i<n.length-1;i++){var l=ES.distancePointLine(r,n[i],n[i+1]);if(l<this._minDistance){this._minDistance=l;var a=new Zb(n[i],n[i+1]).closestPoint(r);o[0]=new sv(t,i,a),o[1]=new sv(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Td&&arguments[1]instanceof Td){var s=arguments[0],u=arguments[1],p=arguments[2];if(s.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var c=s.getCoordinates(),f=u.getCoordinates(),h=0;h<c.length-1;h++)for(var g=0;g<f.length-1;g++){var P=ES.distanceLineLine(c[h],c[h+1],f[g],f[g+1]);if(P<this._minDistance){this._minDistance=P;var y=new Zb(c[h],c[h+1]),S=new Zb(f[g],f[g+1]),d=y.closestPoints(S);p[0]=new sv(s,h,d[0]),p[1]=new sv(u,g,d[1])}if(this._minDistance<=this._terminateDistance)return null}}},fv.prototype.computeMinDistancePoints=function(t,e,o){for(var n=0;n<t.size();n++)for(var r=t.get(n),i=0;i<e.size();i++){var l=e.get(i),a=r.getCoordinate().distance(l.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,o[0]=new sv(r,0,r.getCoordinate()),o[1]=new sv(l,0,l.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},fv.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Yy("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},fv.prototype.computeMinDistanceLines=function(t,e,o){for(var n=0;n<t.size();n++)for(var r=t.get(n),i=0;i<e.size();i++){var l=e.get(i);if(this.computeMinDistance(r,l,o),this._minDistance<=this._terminateDistance)return null}},fv.prototype.interfaces_=function(){return[]},fv.prototype.getClass=function(){return fv},fv.distance=function(t,e){return new fv(t,e).distance()},fv.isWithinDistance=function(t,e,o){return new fv(t,e,o).distance()<=o},fv.nearestPoints=function(t,e){return new fv(t,e).nearestPoints()};var hv=function(){this._pt=[new Wy,new Wy],this._distance=ky.NaN,this._isNull=!0};hv.prototype.getCoordinates=function(){return this._pt},hv.prototype.getCoordinate=function(t){return this._pt[t]},hv.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var n=e.distance(o);n<this._distance&&this.initialize(e,o,n)}},hv.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(o),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},hv.prototype.toString=function(){return vS.toLineString(this._pt[0],this._pt[1])},hv.prototype.getDistance=function(){return this._distance},hv.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],o=arguments[1];if(this._isNull)return this.initialize(e,o),null;var n=e.distance(o);n>this._distance&&this.initialize(e,o,n)}},hv.prototype.interfaces_=function(){return[]},hv.prototype.getClass=function(){return hv};var gv=function(){};gv.prototype.interfaces_=function(){return[]},gv.prototype.getClass=function(){return gv},gv.computeDistance=function(){if(arguments[2]instanceof hv&&arguments[0]instanceof Td&&arguments[1]instanceof Wy)for(var t=arguments[0],e=arguments[1],o=arguments[2],n=new Zb,r=t.getCoordinates(),i=0;i<r.length-1;i++){n.setCoordinates(r[i],r[i+1]);var l=n.closestPoint(e);o.setMinimum(l,e)}else if(arguments[2]instanceof hv&&arguments[0]instanceof Cd&&arguments[1]instanceof Wy){var a=arguments[0],s=arguments[1],u=arguments[2];gv.computeDistance(a.getExteriorRing(),s,u);for(var p=0;p<a.getNumInteriorRing();p++)gv.computeDistance(a.getInteriorRingN(p),s,u)}else if(arguments[2]instanceof hv&&arguments[0]instanceof RS&&arguments[1]instanceof Wy){var c=arguments[0],f=arguments[1],h=arguments[2];if(c instanceof Td)gv.computeDistance(c,f,h);else if(c instanceof Cd)gv.computeDistance(c,f,h);else if(c instanceof Ad)for(var g=c,P=0;P<g.getNumGeometries();P++){var y=g.getGeometryN(P);gv.computeDistance(y,f,h)}else h.setMinimum(c.getCoordinate(),f)}else if(arguments[2]instanceof hv&&arguments[0]instanceof Zb&&arguments[1]instanceof Wy){var S=arguments[0],d=arguments[1],b=arguments[2],m=S.closestPoint(d);b.setMinimum(m,d)}};var Pv=function(){this._g0=null,this._g1=null,this._ptDist=new hv,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},yv={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Pv.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Pv.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Yy("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Pv.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Pv.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Pv.prototype.computeOrientedDistance=function(t,e,o){var n=new Sv(e);if(t.apply(n),o.setMaximum(n.getMaxPointDistance()),this._densifyFrac>0){var r=new dv(e,this._densifyFrac);t.apply(r),o.setMaximum(r.getMaxPointDistance())}},Pv.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Pv.prototype.interfaces_=function(){return[]},Pv.prototype.getClass=function(){return Pv},Pv.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Pv(t,e).distance()}if(3===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[2],i=new Pv(o,n);return i.setDensifyFraction(r),i.distance()}},yv.MaxPointDistanceFilter.get=function(){return Sv},yv.MaxDensifiedByFractionDistanceFilter.get=function(){return dv},Object.defineProperties(Pv,yv);var Sv=function(){this._maxPtDist=new hv,this._minPtDist=new hv,this._euclideanDist=new gv,this._geom=null;var t=arguments[0];this._geom=t};Sv.prototype.filter=function(t){this._minPtDist.initialize(),gv.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Sv.prototype.getMaxPointDistance=function(){return this._maxPtDist},Sv.prototype.interfaces_=function(){return[jS]},Sv.prototype.getClass=function(){return Sv};var dv=function(){this._maxPtDist=new hv,this._minPtDist=new hv,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};dv.prototype.filter=function(t,e){if(0===e)return null;for(var o=t.getCoordinate(e-1),n=t.getCoordinate(e),r=(n.x-o.x)/this._numSubSegs,i=(n.y-o.y)/this._numSubSegs,l=0;l<this._numSubSegs;l++){var a=o.x+l*r,s=o.y+l*i,u=new Wy(a,s);this._minPtDist.initialize(),gv.computeDistance(this._geom,u,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},dv.prototype.isDone=function(){return!1},dv.prototype.isGeometryChanged=function(){return!1},dv.prototype.getMaxPointDistance=function(){return this._maxPtDist},dv.prototype.interfaces_=function(){return[Md]},dv.prototype.getClass=function(){return dv};var bv=function(t,e,o){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=o||null},mv={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};bv.prototype.checkMaximumDistance=function(t,e,o){var n=new Pv(e,t);if(n.setDensifyFraction(.25),this._maxDistanceFound=n.orientedDistance(),this._maxDistanceFound>o){this._isValid=!1;var r=n.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+vS.toLineString(r[0],r[1])+")"}},bv.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=bv.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),bv.VERBOSE&&hS.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},bv.prototype.checkNegativeValid=function(){if(!(this._input instanceof Cd||this._input instanceof Dd||this._input instanceof Ad))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},bv.prototype.getErrorIndicator=function(){return this._errorIndicator},bv.prototype.checkMinimumDistance=function(t,e,o){var n=new fv(t,e,o);if(this._minDistanceFound=n.distance(),this._minDistanceFound<o){this._isValid=!1;var r=n.nearestPoints();this._errorLocation=n.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+vS.toLineString(r[0],r[1])+" )"}},bv.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},bv.prototype.getErrorLocation=function(){return this._errorLocation},bv.prototype.getPolygonLines=function(t){for(var e=new HS,o=new lv(e),n=iv.getPolygons(t).iterator();n.hasNext();){n.next().apply(o)}return t.getFactory().buildGeometry(e)},bv.prototype.getErrorMessage=function(){return this._errMsg},bv.prototype.interfaces_=function(){return[]},bv.prototype.getClass=function(){return bv},mv.VERBOSE.get=function(){return!1},mv.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(bv,mv);var vv=function(t,e,o){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=o||null},Mv={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};vv.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},vv.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*vv.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new PS(this._input.getEnvelopeInternal());e.expandBy(this._distance);var o=new PS(this._result.getEnvelopeInternal());o.expandBy(t),o.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(o)),this.report("Envelope")},vv.prototype.checkDistance=function(){var t=new bv(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},vv.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},vv.prototype.checkPolygonal=function(){this._result instanceof Cd||this._result instanceof Dd||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},vv.prototype.getErrorIndicator=function(){return this._errorIndicator},vv.prototype.getErrorLocation=function(){return this._errorLocation},vv.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},vv.prototype.report=function(t){if(!vv.VERBOSE)return null;hS.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},vv.prototype.getErrorMessage=function(){return this._errorMsg},vv.prototype.interfaces_=function(){return[]},vv.prototype.getClass=function(){return vv},vv.isValidMsg=function(t,e,o){var n=new vv(t,e,o);return n.isValid()?null:n.getErrorMessage()},vv.isValid=function(t,e,o){return!!new vv(t,e,o).isValid()},Mv.VERBOSE.get=function(){return!1},Mv.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(vv,Mv);var Av=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Av.prototype.getCoordinates=function(){return this._pts},Av.prototype.size=function(){return this._pts.length},Av.prototype.getCoordinate=function(t){return this._pts[t]},Av.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Av.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Wb.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Av.prototype.setData=function(t){this._data=t},Av.prototype.getData=function(){return this._data},Av.prototype.toString=function(){return vS.toLineString(new Gd(this._pts))},Av.prototype.interfaces_=function(){return[Hb]},Av.prototype.getClass=function(){return Av};var Ov=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new HS,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Ov.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Ov.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Ov.prototype.getIntersectionSegments=function(){return this._intSegments},Ov.prototype.count=function(){return this._intersectionCount},Ov.prototype.getIntersections=function(){return this._intersections},Ov.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Ov.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Ov.prototype.processIntersections=function(t,e,o,n){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===o&&e===n)return null;if(this._isCheckEndSegmentsOnly&&!(this.isEndSegment(t,e)||this.isEndSegment(o,n)))return null;var r=t.getCoordinates()[e],i=t.getCoordinates()[e+1],l=o.getCoordinates()[n],a=o.getCoordinates()[n+1];this._li.computeIntersection(r,i,l,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=i,this._intSegments[2]=l,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Ov.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Ov.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Ov.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Ov.prototype.interfaces_=function(){return[Em]},Ov.prototype.getClass=function(){return Ov},Ov.createAllIntersectionsFinder=function(t){var e=new Ov(t);return e.setFindAllIntersections(!0),e},Ov.createAnyIntersectionFinder=function(t){return new Ov(t)},Ov.createIntersectionCounter=function(t){var e=new Ov(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var _v=function(){this._li=new wS,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};_v.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},_v.prototype.getIntersections=function(){return this._segInt.getIntersections()},_v.prototype.isValid=function(){return this.execute(),this._isValid},_v.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},_v.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ov(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new rm;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},_v.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new cb(this.getErrorMessage(),this._segInt.getInteriorIntersection())},_v.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+vS.toLineString(t[0],t[1])+" and "+vS.toLineString(t[2],t[3])},_v.prototype.interfaces_=function(){return[]},_v.prototype.getClass=function(){return _v},_v.computeIntersections=function(t){var e=new _v(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Lv=function t(){this._nv=null;var e=arguments[0];this._nv=new _v(t.toSegmentStrings(e))};Lv.prototype.checkValid=function(){this._nv.checkValid()},Lv.prototype.interfaces_=function(){return[]},Lv.prototype.getClass=function(){return Lv},Lv.toSegmentStrings=function(t){for(var e=new HS,o=t.iterator();o.hasNext();){var n=o.next();e.add(new Av(n.getCoordinates(),n))}return e},Lv.checkValid=function(t){new Lv(t).checkValid()};var wv=function(t){this._mapOp=t};wv.prototype.map=function(t){for(var e=new HS,o=0;o<t.getNumGeometries();o++){var n=this._mapOp.map(t.getGeometryN(o));n.isEmpty()||e.add(n)}return t.getFactory().createGeometryCollection($d.toGeometryArray(e))},wv.prototype.interfaces_=function(){return[]},wv.prototype.getClass=function(){return wv},wv.map=function(t,e){return new wv(e).map(t)};var xv=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new HS,this._resultLineList=new HS;var t=arguments[0],e=arguments[1],o=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=o};xv.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next();this.collectLineEdge(o,t,this._lineEdgesList),this.collectBoundaryTouchEdge(o,t,this._lineEdgesList)}},xv.prototype.labelIsolatedLine=function(t,e){var o=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,o)},xv.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},xv.prototype.collectLineEdge=function(t,e,o){var n=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!sM.isResultOfOp(n,e)||r.isCovered()||(o.add(r),t.setVisitedEdge(!0)))},xv.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){t.next().getEdges().findCoveredLineEdges()}for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var o=e.next(),n=o.getEdge();if(o.isLineEdge()&&!n.isCoveredSet()){var r=this._op.isCoveredByA(o.getCoordinate());n.setCovered(r)}}},xv.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next(),n=o.getLabel();o.isIsolated()&&(n.isNull(0)?this.labelIsolatedLine(o,0):this.labelIsolatedLine(o,1))}},xv.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var o=e.next(),n=this._geometryFactory.createLineString(o.getCoordinates());this._resultLineList.add(n),o.setInResult(!0)}},xv.prototype.collectBoundaryTouchEdge=function(t,e,o){var n=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(OS.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(sM.isResultOfOp(n,e)&&e===sM.INTERSECTION&&(o.add(t.getEdge()),t.setVisitedEdge(!0))))},xv.prototype.interfaces_=function(){return[]},xv.prototype.getClass=function(){return xv};var Uv=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new HS;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Uv.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var o=this._geometryFactory.createPoint(e);this._resultPointList.add(o)}},Uv.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var o=e.next();if(!o.isInResult()&&(!o.isIncidentEdgeInResult()&&(0===o.getEdges().getDegree()||t===sM.INTERSECTION))){var n=o.getLabel();sM.isResultOfOp(n,t)&&this.filterCoveredNodeToPoint(o)}}},Uv.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Uv.prototype.interfaces_=function(){return[]},Uv.prototype.getClass=function(){return Uv};var Ev=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Ev.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Ev.prototype.transformPolygon=function(t,e){var o=!0,n=this.transformLinearRing(t.getExteriorRing(),t);null!==n&&n instanceof Nd&&!n.isEmpty()||(o=!1);for(var r=new HS,i=0;i<t.getNumInteriorRing();i++){var l=this.transformLinearRing(t.getInteriorRingN(i),t);null===l||l.isEmpty()||(l instanceof Nd||(o=!1),r.add(l))}if(o)return this._factory.createPolygon(n,r.toArray([]));var a=new HS;return null!==n&&a.add(n),a.addAll(r),this._factory.buildGeometry(a)},Ev.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Ev.prototype.getInputGeometry=function(){return this._inputGeom},Ev.prototype.transformMultiLineString=function(t,e){for(var o=new HS,n=0;n<t.getNumGeometries();n++){var r=this.transformLineString(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||o.add(r))}return this._factory.buildGeometry(o)},Ev.prototype.transformCoordinates=function(t,e){return this.copy(t)},Ev.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Ev.prototype.transformMultiPoint=function(t,e){for(var o=new HS,n=0;n<t.getNumGeometries();n++){var r=this.transformPoint(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||o.add(r))}return this._factory.buildGeometry(o)},Ev.prototype.transformMultiPolygon=function(t,e){for(var o=new HS,n=0;n<t.getNumGeometries();n++){var r=this.transformPolygon(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||o.add(r))}return this._factory.buildGeometry(o)},Ev.prototype.copy=function(t){return t.copy()},Ev.prototype.transformGeometryCollection=function(t,e){for(var o=new HS,n=0;n<t.getNumGeometries();n++){var r=this.transform(t.getGeometryN(n));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||o.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection($d.toGeometryArray(o)):this._factory.buildGeometry(o)},Ev.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Rd)return this.transformPoint(t,null);if(t instanceof jd)return this.transformMultiPoint(t,null);if(t instanceof Nd)return this.transformLinearRing(t,null);if(t instanceof Td)return this.transformLineString(t,null);if(t instanceof Od)return this.transformMultiLineString(t,null);if(t instanceof Cd)return this.transformPolygon(t,null);if(t instanceof Dd)return this.transformMultiPolygon(t,null);if(t instanceof Ad)return this.transformGeometryCollection(t,null);throw new Yy("Unknown Geometry subtype: "+t.getClass().getName())},Ev.prototype.transformLinearRing=function(t,e){var o=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===o)return this._factory.createLinearRing(null);var n=o.size();return n>0&&n<4&&!this._preserveType?this._factory.createLineString(o):this._factory.createLinearRing(o)},Ev.prototype.interfaces_=function(){return[]},Ev.prototype.getClass=function(){return Ev};var Tv=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Zb,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Td&&"number"==typeof arguments[1]){var e=arguments[0],o=arguments[1];t.call(this,e.getCoordinates(),o)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Tv.prototype.snapVertices=function(t,e){for(var o=this._isClosed?t.size()-1:t.size(),n=0;n<o;n++){var r=t.get(n),i=this.findSnapForVertex(r,e);null!==i&&(t.set(n,new Wy(i)),0===n&&this._isClosed&&t.set(t.size()-1,new Wy(i)))}},Tv.prototype.findSnapForVertex=function(t,e){for(var o=0;o<e.length;o++){if(t.equals2D(e[o]))return null;if(t.distance(e[o])<this._snapTolerance)return e[o]}return null},Tv.prototype.snapTo=function(t){var e=new JS(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Tv.prototype.snapSegments=function(t,e){if(0===e.length)return null;var o=e.length;e[0].equals2D(e[e.length-1])&&(o=e.length-1);for(var n=0;n<o;n++){var r=e[n],i=this.findSegmentIndexToSnap(r,t);i>=0&&t.add(i+1,new Wy(r),!1)}},Tv.prototype.findSegmentIndexToSnap=function(t,e){for(var o=ky.MAX_VALUE,n=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var i=this._seg.distance(t);i<this._snapTolerance&&i<o&&(o=i,n=r)}return n},Tv.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Tv.prototype.interfaces_=function(){return[]},Tv.prototype.getClass=function(){return Tv},Tv.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Vv=function(t){this._srcGeom=t||null},Rv={SNAP_PRECISION_FACTOR:{configurable:!0}};Vv.prototype.snapTo=function(t,e){var o=this.extractTargetCoordinates(t);return new Iv(e,o).transform(this._srcGeom)},Vv.prototype.snapToSelf=function(t,e){var o=this.extractTargetCoordinates(this._srcGeom),n=new Iv(t,o,!0).transform(this._srcGeom),r=n;return e&&$y(r,Id)&&(r=n.buffer(0)),r},Vv.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Vv.prototype.extractTargetCoordinates=function(t){for(var e=new yd,o=t.getCoordinates(),n=0;n<o.length;n++)e.add(o[n]);return e.toArray(new Array(0).fill(null))},Vv.prototype.computeMinimumSegmentLength=function(t){for(var e=ky.MAX_VALUE,o=0;o<t.length-1;o++){var n=t[o].distance(t[o+1]);n<e&&(e=n)}return e},Vv.prototype.interfaces_=function(){return[]},Vv.prototype.getClass=function(){return Vv},Vv.snap=function(t,e,o){var n=new Array(2).fill(null),r=new Vv(t);n[0]=r.snapTo(e,o);var i=new Vv(e);return n[1]=i.snapTo(n[0],o),n},Vv.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Vv.computeSizeBasedSnapTolerance(t),o=t.getPrecisionModel();if(o.getType()===Kd.FIXED){var n=1/o.getScale()*2/1.415;n>e&&(e=n)}return e}if(2===arguments.length){var r=arguments[0],i=arguments[1];return Math.min(Vv.computeOverlaySnapTolerance(r),Vv.computeOverlaySnapTolerance(i))}},Vv.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Vv.SNAP_PRECISION_FACTOR},Vv.snapToSelf=function(t,e,o){return new Vv(t).snapToSelf(e,o)},Rv.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Vv,Rv);var Iv=function(t){function e(e,o,n){t.call(this),this._snapTolerance=e||null,this._snapPts=o||null,this._isSelfSnap=void 0!==n&&n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var o=new Tv(t,this._snapTolerance);return o.setAllowSnappingToSourceVertices(this._isSelfSnap),o.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var o=t.toCoordinateArray(),n=this.snapLine(o,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ev),Cv=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Cv.prototype.getCommon=function(){return ky.longBitsToDouble(this._commonBits)},Cv.prototype.add=function(t){var e=ky.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Cv.signExpBits(this._commonBits),this._isFirst=!1,null):Cv.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Cv.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Cv.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Cv.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=ky.longBitsToDouble(t),o="0000000000000000000000000000000000000000000000000000000000000000"+ky.toBinaryString(t),n=o.substring(o.length-64);return n.substring(0,1)+"  "+n.substring(1,12)+"(exp) "+n.substring(12)+" [ "+e+" ]"}},Cv.prototype.interfaces_=function(){return[]},Cv.prototype.getClass=function(){return Cv},Cv.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Cv.signExpBits=function(t){return t>>52},Cv.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Cv.numCommonMostSigMantissaBits=function(t,e){for(var o=0,n=52;n>=0;n--){if(Cv.getBit(t,n)!==Cv.getBit(e,n))return o;o++}return 52};var jv=function(){this._commonCoord=null,this._ccFilter=new Dv},Nv={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};jv.prototype.addCommonBits=function(t){var e=new Bv(this._commonCoord);t.apply(e),t.geometryChanged()},jv.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new Wy(this._commonCoord);e.x=-e.x,e.y=-e.y;var o=new Bv(e);return t.apply(o),t.geometryChanged(),t},jv.prototype.getCommonCoordinate=function(){return this._commonCoord},jv.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},jv.prototype.interfaces_=function(){return[]},jv.prototype.getClass=function(){return jv},Nv.CommonCoordinateFilter.get=function(){return Dv},Nv.Translater.get=function(){return Bv},Object.defineProperties(jv,Nv);var Dv=function(){this._commonBitsX=new Cv,this._commonBitsY=new Cv};Dv.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Dv.prototype.getCommonCoordinate=function(){return new Wy(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Dv.prototype.interfaces_=function(){return[jS]},Dv.prototype.getClass=function(){return Dv};var Bv=function(){this.trans=null;var t=arguments[0];this.trans=t};Bv.prototype.filter=function(t,e){var o=t.getOrdinate(e,0)+this.trans.x,n=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,o),t.setOrdinate(e,1,n)},Bv.prototype.isDone=function(){return!1},Bv.prototype.isGeometryChanged=function(){return!0},Bv.prototype.interfaces_=function(){return[Md]},Bv.prototype.getClass=function(){return Bv};var Yv=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Yv.prototype.selfSnap=function(t){return new Vv(t).snapTo(t,this._snapTolerance)},Yv.prototype.removeCommonBits=function(t){this._cbr=new jv,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Yv.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Yv.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),o=sM.overlayOp(e[0],e[1],t);return this.prepareResult(o)},Yv.prototype.checkValid=function(t){t.isValid()||hS.out.println("Snapped geometry is invalid")},Yv.prototype.computeSnapTolerance=function(){this._snapTolerance=Vv.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Yv.prototype.snap=function(t){var e=this.removeCommonBits(t);return Vv.snap(e[0],e[1],this._snapTolerance)},Yv.prototype.interfaces_=function(){return[]},Yv.prototype.getClass=function(){return Yv},Yv.overlayOp=function(t,e,o){return new Yv(t,e).getResultGeometry(o)},Yv.union=function(t,e){return Yv.overlayOp(t,e,sM.UNION)},Yv.intersection=function(t,e){return Yv.overlayOp(t,e,sM.INTERSECTION)},Yv.symDifference=function(t,e){return Yv.overlayOp(t,e,sM.SYMDIFFERENCE)},Yv.difference=function(t,e){return Yv.overlayOp(t,e,sM.DIFFERENCE)};var kv=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};kv.prototype.getResultGeometry=function(t){var e=null,o=!1,n=null;try{e=sM.overlayOp(this._geom[0],this._geom[1],t);o=!0}catch(t){if(!(t instanceof MS))throw t;n=t}if(!o)try{e=Yv.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof MS?n:t}return e},kv.prototype.interfaces_=function(){return[]},kv.prototype.getClass=function(){return kv},kv.overlayOp=function(t,e,o){return new kv(t,e).getResultGeometry(o)},kv.union=function(t,e){return kv.overlayOp(t,e,sM.UNION)},kv.intersection=function(t,e){return kv.overlayOp(t,e,sM.INTERSECTION)},kv.symDifference=function(t,e){return kv.overlayOp(t,e,sM.SYMDIFFERENCE)},kv.difference=function(t,e){return kv.overlayOp(t,e,sM.DIFFERENCE)};var Fv=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};Fv.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Fv.prototype.interfaces_=function(){return[]},Fv.prototype.getClass=function(){return Fv};var zv=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],o=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=o}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._eventType=t.INSERT,this._label=n,this._xValue=r,this._obj=i}},Gv={INSERT:{configurable:!0},DELETE:{configurable:!0}};zv.prototype.isDelete=function(){return this._eventType===zv.DELETE},zv.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},zv.prototype.getObject=function(){return this._obj},zv.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},zv.prototype.getInsertEvent=function(){return this._insertEvent},zv.prototype.isInsert=function(){return this._eventType===zv.INSERT},zv.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},zv.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},zv.prototype.interfaces_=function(){return[zy]},zv.prototype.getClass=function(){return zv},Gv.INSERT.get=function(){return 1},Gv.DELETE.get=function(){return 2},Object.defineProperties(zv,Gv);var qv=function(){};qv.prototype.interfaces_=function(){return[]},qv.prototype.getClass=function(){return qv};var Xv=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],o=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=o};Xv.prototype.isTrivialIntersection=function(t,e,o,n){if(t===o&&1===this._li.getIntersectionNum()){if(Xv.isAdjacentSegments(e,n))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&n===r||0===n&&e===r)return!0}}return!1},Xv.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Xv.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Xv.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Xv.prototype.isBoundaryPointInternal=function(t,e){for(var o=e.iterator();o.hasNext();){var n=o.next().getCoordinate();if(t.isIntersection(n))return!0}return!1},Xv.prototype.hasProperIntersection=function(){return this._hasProper},Xv.prototype.hasIntersection=function(){return this._hasIntersection},Xv.prototype.isDone=function(){return this._isDone},Xv.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},Xv.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Xv.prototype.addIntersections=function(t,e,o,n){if(t===o&&e===n)return null;this.numTests++;var r=t.getCoordinates()[e],i=t.getCoordinates()[e+1],l=o.getCoordinates()[n],a=o.getCoordinates()[n+1];this._li.computeIntersection(r,i,l,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),o.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,o,n)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),o.addIntersections(this._li,n,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Xv.prototype.interfaces_=function(){return[]},Xv.prototype.getClass=function(){return Xv},Xv.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Wv=function(t){function e(){t.call(this),this.events=new HS,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){jb.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var o=this.events.get(e);if(o.isInsert()&&this.processOverlaps(e,o.getDeleteEventIndex(),o,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Xv&&$y(arguments[0],XS)&&$y(arguments[1],XS)){var n=arguments[0],r=arguments[1],i=arguments[2];this.addEdges(n,n),this.addEdges(r,r),this.computeIntersections(i)}else if("boolean"==typeof arguments[2]&&$y(arguments[0],XS)&&arguments[1]instanceof Xv){var l=arguments[0],a=arguments[1];arguments[2]?this.addEdges(l,null):this.addEdges(l),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var o=t.getMonotoneChainEdge(),n=o.getStartIndexes(),r=0;r<n.length-1;r++){var i=new Fv(o,r),l=new zv(e,o.getMinX(r),i);this.events.add(l),this.events.add(new zv(o.getMaxX(r),l))}},e.prototype.processOverlaps=function(t,e,o,n){for(var r=o.getObject(),i=t;i<e;i++){var l=this.events.get(i);if(l.isInsert()){var a=l.getObject();o.isSameLabel(l)||(r.computeIntersections(a,n),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var o=arguments[0],n=arguments[1],r=o.iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qv),Hv=function(){this._min=ky.POSITIVE_INFINITY,this._max=ky.NEGATIVE_INFINITY},Kv={NodeComparator:{configurable:!0}};Hv.prototype.getMin=function(){return this._min},Hv.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Hv.prototype.getMax=function(){return this._max},Hv.prototype.toString=function(){return vS.toLineString(new Wy(this._min,0),new Wy(this._max,0))},Hv.prototype.interfaces_=function(){return[]},Hv.prototype.getClass=function(){return Hv},Kv.NodeComparator.get=function(){return Jv},Object.defineProperties(Hv,Kv);var Jv=function(){};Jv.prototype.compare=function(t,e){var o=t,n=e,r=(o._min+o._max)/2,i=(n._min+n._max)/2;return r<i?-1:r>i?1:0},Jv.prototype.interfaces_=function(){return[qy]},Jv.prototype.getClass=function(){return Jv};var Zv=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],o=arguments[1],n=arguments[2];this._min=e,this._max=o,this._item=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,o){if(!this.intersects(t,e))return null;o.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Hv),Qv=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],o=arguments[1];this._node1=e,this._node2=o,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,o){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,o),null!==this._node2&&this._node2.query(t,e,o)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Hv),$v=function(){this._leaves=new HS,this._root=null,this._level=0};$v.prototype.buildTree=function(){jb.sort(this._leaves,new Hv.NodeComparator);for(var t=this._leaves,e=null,o=new HS;;){if(this.buildLevel(t,o),1===o.size())return o.get(0);e=t,t=o,o=e}},$v.prototype.insert=function(t,e,o){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Zv(t,e,o))},$v.prototype.query=function(t,e,o){this.init(),this._root.query(t,e,o)},$v.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},$v.prototype.printNode=function(t){hS.out.println(vS.toLineString(new Wy(t._min,this._level),new Wy(t._max,this._level)))},$v.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},$v.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var o=0;o<t.size();o+=2){var n=t.get(o);if(null===(o+1<t.size()?t.get(o):null))e.add(n);else{var r=new Qv(t.get(o),t.get(o+1));e.add(r)}}},$v.prototype.interfaces_=function(){return[]},$v.prototype.getClass=function(){return $v};var tM=function(){this._items=new HS};tM.prototype.visitItem=function(t){this._items.add(t)},tM.prototype.getItems=function(){return this._items},tM.prototype.interfaces_=function(){return[Vb]},tM.prototype.getClass=function(){return tM};var eM=function(){this._index=null;var t=arguments[0];if(!$y(t,Id))throw new Yy("Argument must be Polygonal");this._index=new rM(t)},oM={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};eM.prototype.locate=function(t){var e=new US(t),o=new nM(e);return this._index.query(t.y,t.y,o),e.getLocation()},eM.prototype.interfaces_=function(){return[Mm]},eM.prototype.getClass=function(){return eM},oM.SegmentVisitor.get=function(){return nM},oM.IntervalIndexedGeometry.get=function(){return rM},Object.defineProperties(eM,oM);var nM=function(){this._counter=null;var t=arguments[0];this._counter=t};nM.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},nM.prototype.interfaces_=function(){return[Vb]},nM.prototype.getClass=function(){return nM};var rM=function(){this._index=new $v;var t=arguments[0];this.init(t)};rM.prototype.init=function(t){for(var e=lv.getLines(t).iterator();e.hasNext();){var o=e.next().getCoordinates();this.addLine(o)}},rM.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var o=new Zb(t[e-1],t[e]),n=Math.min(o.p0.y,o.p1.y),r=Math.max(o.p0.y,o.p1.y);this._index.insert(n,r,o)}},rM.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new tM;return this._index.query(t,e,o),o.getItems()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._index.query(n,r,i)}},rM.prototype.interfaces_=function(){return[]},rM.prototype.getClass=function(){return rM};var iM=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Hd,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new av,2===arguments.length){var e=arguments[0],o=arguments[1],n=NS.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=o,this._boundaryNodeRule=n,null!==o&&this.add(o)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],l=arguments[2];this._argIndex=r,this._parentGeom=i,this._boundaryNodeRule=l,null!==i&&this.add(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,o){var n=this._nodes.addNode(o).getLabel(),r=1;Zy.NONE;n.getLocation(t,lb.ON)===Zy.BOUNDARY&&r++;var i=e.determineBoundary(this._boundaryNodeRule,r);n.setLocation(t,i)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var o=arguments[0],n=arguments[1],r=arguments[2],i=new Xv(o,!0,!1);i.setIsDoneIfProperInt(r);var l=this.createEdgeSetIntersector(),a=this._parentGeom instanceof Nd||this._parentGeom instanceof Cd||this._parentGeom instanceof Dd,s=n||!a;return l.computeIntersections(this._edges,i,s),this.addSelfIntersectionNodes(this._argIndex),i}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}},e.prototype.computeEdgeIntersections=function(t,e,o){var n=new Xv(e,o,!0);return n.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,n),n},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Rd){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Zy.INTERIOR)}else if(arguments[0]instanceof Wy){var e=arguments[0];this.insertPoint(this._argIndex,e,Zy.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Zy.EXTERIOR,Zy.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var o=t.getInteriorRingN(e);this.addPolygonRing(o,Zy.INTERIOR,Zy.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Zy.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Zy.BOUNDARY)},e.prototype.addLineString=function(t){var e=ZS.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var o=new Dm(e,new Pb(this._argIndex,Zy.INTERIOR));this._lineEdgeMap.put(t,o),this.insertEdge(o),OS.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),o=0,n=t.iterator();n.hasNext();){var r=n.next();e[o++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,o){if(this.isBoundaryNode(t,e))return null;o===Zy.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,o)},e.prototype.addPolygonRing=function(t,e,o){if(t.isEmpty())return null;var n=ZS.removeRepeatedPoints(t.getCoordinates());if(n.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=n[0],null;var r=e,i=o;ES.isCCW(n)&&(r=o,i=e);var l=new Dm(n,new Pb(this._argIndex,Zy.BOUNDARY,r,i));this._lineEdgeMap.put(t,l),this.insertEdge(l),this.insertPoint(this._argIndex,n[0],Zy.BOUNDARY)},e.prototype.insertPoint=function(t,e,o){var n=this._nodes.addNode(e),r=n.getLabel();null===r?n._label=new Pb(t,o):r.setLocation(t,o)},e.prototype.createEdgeSetIntersector=function(){return new Wv},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var o=e.next(),n=o.getLabel().getLocation(t),r=o.eiList.iterator();r.hasNext();){var i=r.next();this.addSelfIntersectionNode(t,i.coord,n)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Dd&&(this._useBoundaryDeterminationRule=!1),e instanceof Cd)this.addPolygon(e);else if(e instanceof Td)this.addLineString(e);else if(e instanceof Rd)this.addPoint(e);else if(e instanceof jd)this.addCollection(e);else if(e instanceof Od)this.addCollection(e);else if(e instanceof Dd)this.addCollection(e);else{if(!(e instanceof Ad))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var o=t.getGeometryN(e);this.add(o)}},e.prototype.locate=function(t){return $y(this._parentGeom,Id)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new eM(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Zy.BOUNDARY:Zy.INTERIOR},e}(wb),lM=function(){if(this._li=new wS,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new iM(0,t)}else if(2===arguments.length){var e=arguments[0],o=arguments[1],n=NS.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new iM(0,e,n),this._arg[1]=new iM(1,o,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],l=arguments[2];r.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new iM(0,r,l),this._arg[1]=new iM(1,i,l)}};lM.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},lM.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},lM.prototype.interfaces_=function(){return[]},lM.prototype.getClass=function(){return lM};var aM=function(){};aM.prototype.interfaces_=function(){return[]},aM.prototype.getClass=function(){return aM},aM.map=function(){if(arguments[0]instanceof RS&&$y(arguments[1],aM.MapOp)){for(var t=arguments[0],e=arguments[1],o=new HS,n=0;n<t.getNumGeometries();n++){var r=e.map(t.getGeometryN(n));null!==r&&o.add(r)}return t.getFactory().buildGeometry(o)}if($y(arguments[0],zS)&&$y(arguments[1],aM.MapOp)){for(var i=arguments[0],l=arguments[1],a=new HS,s=i.iterator();s.hasNext();){var u=s.next(),p=l.map(u);null!==p&&a.add(p)}return a}},aM.MapOp=function(){};var sM=function(t){function e(){var e=arguments[0],o=arguments[1];t.call(this,e,o),this._ptLocator=new av,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Um,this._resultPolyList=new HS,this._resultLineList=new HS,this._resultPointList=new HS,this._graph=new wb(new wm),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var o=e.getLabel(),n=t.getLabel();e.isPointwiseEqual(t)||(n=new Pb(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(o),r.add(n),o.merge(n)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),o=e.getSym();e.isInResult()&&o.isInResult()&&(e.setInResult(!1),o.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,o,n,r){var i=new HS;return i.addAll(t),i.addAll(o),i.addAll(n),i.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(i)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().mergeSymLabels()}},e.prototype.isCovered=function(t,e){for(var o=e.iterator();o.hasNext();){var n=o.next();if(this._ptLocator.locate(t,n)!==Zy.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new HS,e=this._edgeList.iterator();e.hasNext();){var o=e.next();o.isCollapsed()&&(e.remove(),t.add(o.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),o=e.getEdges().getLabel();e.getLabel().merge(o)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var o=e.next();this.insertUniqueEdge(o)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new HS;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Lv.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var o=new xb(this._geomFact);o.add(this._graph),this._resultPolyList=o.getPolygons();var n=new xv(this,this._geomFact,this._ptLocator);this._resultLineList=n.build(t);var r=new Uv(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var o=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,o)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var o=e.next();this._graph.addNode(o.getCoordinate()).setLabel(t,o.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var o=this._graph.getEdgeEnds().iterator();o.hasNext();){var n=o.next(),r=n.getLabel();r.isArea()&&!n.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,lb.RIGHT),r.getLocation(1,lb.RIGHT),t)&&n.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),o=e.getLabel(),n=e.getDepth();if(!n.isNull()){n.normalize();for(var r=0;r<2;r++)o.isNull(r)||!o.isArea()||n.isNull(r)||(0===n.getDelta(r)?o.toLine(r):(OS.isTrue(!n.isNull(r,lb.LEFT),"depth of LEFT side has not been initialized"),o.setLocation(r,lb.LEFT,n.getLocation(r,lb.LEFT)),OS.isTrue(!n.isNull(r,lb.RIGHT),"depth of RIGHT side has not been initialized"),o.setLocation(r,lb.RIGHT,n.getLocation(r,lb.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().computeLabelling(this._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),o=e.getLabel();e.isIsolated()&&(o.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(o)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(lM);sM.overlayOp=function(t,e,o){return new sM(t,e).getResultGeometry(o)},sM.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return sM.createEmptyResult(sM.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var o=e;return wv.map(t,{interfaces_:function(){return[aM.MapOp]},map:function(t){return t.intersection(o)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),kv.overlayOp(t,e,sM.INTERSECTION)},sM.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return sM.createEmptyResult(sM.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),kv.overlayOp(t,e,sM.SYMDIFFERENCE)},sM.resultDimension=function(t,e,o){var n=e.getDimension(),r=o.getDimension(),i=-1;switch(t){case sM.INTERSECTION:i=Math.min(n,r);break;case sM.UNION:i=Math.max(n,r);break;case sM.DIFFERENCE:i=n;break;case sM.SYMDIFFERENCE:i=Math.max(n,r)}return i},sM.createEmptyResult=function(t,e,o,n){var r=null;switch(sM.resultDimension(t,e,o)){case-1:r=n.createGeometryCollection(new Array(0).fill(null));break;case 0:r=n.createPoint();break;case 1:r=n.createLineString();break;case 2:r=n.createPolygon()}return r},sM.difference=function(t,e){return t.isEmpty()?sM.createEmptyResult(sM.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),kv.overlayOp(t,e,sM.DIFFERENCE))},sM.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=t.getLocation(0),n=t.getLocation(1);return sM.isResultOfOp(o,n,e)}if(3===arguments.length){var r=arguments[0],i=arguments[1],l=arguments[2];switch(r===Zy.BOUNDARY&&(r=Zy.INTERIOR),i===Zy.BOUNDARY&&(i=Zy.INTERIOR),l){case sM.INTERSECTION:return r===Zy.INTERIOR&&i===Zy.INTERIOR;case sM.UNION:return r===Zy.INTERIOR||i===Zy.INTERIOR;case sM.DIFFERENCE:return r===Zy.INTERIOR&&i!==Zy.INTERIOR;case sM.SYMDIFFERENCE:return r===Zy.INTERIOR&&i!==Zy.INTERIOR||r!==Zy.INTERIOR&&i===Zy.INTERIOR}return!1}},sM.INTERSECTION=1,sM.UNION=2,sM.DIFFERENCE=3,sM.SYMDIFFERENCE=4;var uM=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new av,this._seg=new Zb;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};uM.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var o=this._linework.getGeometryN(e).getCoordinateSequence(),n=0;n<o.size()-1;n++){if(o.getCoordinate(n,this._seg.p0),o.getCoordinate(n+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0}return!1},uM.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Zy.BOUNDARY:this._ptLocator.locate(t,this._g)},uM.prototype.extractLinework=function(t){var e=new pM;t.apply(e);var o=e.getLinework(),n=$d.toLineStringArray(o);return t.getFactory().createMultiLineString(n)},uM.prototype.interfaces_=function(){return[]},uM.prototype.getClass=function(){return uM};var pM=function(){this._linework=null,this._linework=new HS};pM.prototype.getLinework=function(){return this._linework},pM.prototype.filter=function(t){if(t instanceof Cd){var e=t;this._linework.add(e.getExteriorRing());for(var o=0;o<e.getNumInteriorRing();o++)this._linework.add(e.getInteriorRingN(o))}},pM.prototype.interfaces_=function(){return[vd]},pM.prototype.getClass=function(){return pM};var cM=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};cM.prototype.extractPoints=function(t,e,o){for(var n=t.getCoordinates(),r=0;r<n.length-1;r++)this.computeOffsetPoints(n[r],n[r+1],e,o)},cM.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},cM.prototype.getPoints=function(t){for(var e=new HS,o=lv.getLines(this._g).iterator();o.hasNext();){var n=o.next();this.extractPoints(n,t,e)}return e},cM.prototype.computeOffsetPoints=function(t,e,o,n){var r=e.x-t.x,i=e.y-t.y,l=Math.sqrt(r*r+i*i),a=o*r/l,s=o*i/l,u=(e.x+t.x)/2,p=(e.y+t.y)/2;if(this._doLeft){var c=new Wy(u-s,p+a);n.add(c)}if(this._doRight){var f=new Wy(u+s,p-a);n.add(f)}},cM.prototype.interfaces_=function(){return[]},cM.prototype.getClass=function(){return cM};var fM=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new HS;var e=arguments[0],o=arguments[1],n=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,o),this._geom=[e,o,n],this._locFinder=[new uM(this._geom[0],this._boundaryDistanceTolerance),new uM(this._geom[1],this._boundaryDistanceTolerance),new uM(this._geom[2],this._boundaryDistanceTolerance)]},hM={TOLERANCE:{configurable:!0}};fM.prototype.reportResult=function(t,e,o){hS.out.println("Overlay result invalid - A:"+Zy.toLocationSymbol(e[0])+" B:"+Zy.toLocationSymbol(e[1])+" expected:"+(o?"i":"e")+" actual:"+Zy.toLocationSymbol(e[2]))},fM.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var e=this.checkValid(t);return e},fM.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var o=this._testCoords.get(e);if(!this.checkValid(t,o))return this._invalidLocation=o,!1}return!0}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!fM.hasLocation(this._location,Zy.BOUNDARY)||this.isValidResult(n,this._location)}},fM.prototype.addTestPts=function(t){var e=new cM(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},fM.prototype.isValidResult=function(t,e){var o=sM.isResultOfOp(e[0],e[1],t),n=!(o^e[2]===Zy.INTERIOR);return n||this.reportResult(t,e,o),n},fM.prototype.getInvalidLocation=function(){return this._invalidLocation},fM.prototype.interfaces_=function(){return[]},fM.prototype.getClass=function(){return fM},fM.hasLocation=function(t,e){for(var o=0;o<3;o++)if(t[o]===e)return!0;return!1},fM.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Vv.computeSizeBasedSnapTolerance(t),Vv.computeSizeBasedSnapTolerance(e))},fM.isValid=function(t,e,o,n){return new fM(t,e,n).isValid(o)},hM.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(fM,hM);var gM=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};gM.prototype.extractElements=function(t,e){if(null===t)return null;for(var o=0;o<t.getNumGeometries();o++){var n=t.getGeometryN(o);this._skipEmpty&&n.isEmpty()||e.add(n)}},gM.prototype.combine=function(){for(var t=new HS,e=this._inputGeoms.iterator();e.hasNext();){var o=e.next();this.extractElements(o,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},gM.prototype.interfaces_=function(){return[]},gM.prototype.getClass=function(){return gM},gM.combine=function(){if(1===arguments.length){var t=arguments[0];return new gM(t).combine()}if(2===arguments.length){var e=arguments[0],o=arguments[1];return new gM(gM.createList(e,o)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return new gM(gM.createList(n,r,i)).combine()}},gM.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},gM.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],o=new HS;return o.add(t),o.add(e),o}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],l=new HS;return l.add(n),l.add(r),l.add(i),l}};var PM=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new HS)},yM={STRTREE_NODE_CAPACITY:{configurable:!0}};PM.prototype.reduceToGeometries=function(t){for(var e=new HS,o=t.iterator();o.hasNext();){var n=o.next(),r=null;$y(n,XS)?r=this.unionTree(n):n instanceof RS&&(r=n),e.add(r)}return e},PM.prototype.extractByEnvelope=function(t,e,o){for(var n=new HS,r=0;r<e.getNumGeometries();r++){var i=e.getGeometryN(r);i.getEnvelopeInternal().intersects(t)?n.add(i):o.add(i)}return this._geomFactory.buildGeometry(n)},PM.prototype.unionOptimized=function(t,e){var o=t.getEnvelopeInternal(),n=e.getEnvelopeInternal();if(!o.intersects(n))return gM.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=o.intersection(n);return this.unionUsingEnvelopeIntersection(t,e,r)},PM.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Fb(PM.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var o=e.next();t.insert(o.getEnvelopeInternal(),o)}this._inputPolys=null;var n=t.itemsTree();return this.unionTree(n)},PM.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],o=arguments[1],n=arguments[2];if(n-o<=1){var r=PM.getGeometry(e,o);return this.unionSafe(r,null)}if(n-o==2)return this.unionSafe(PM.getGeometry(e,o),PM.getGeometry(e,o+1));var i=Math.trunc((n+o)/2),l=this.binaryUnion(e,o,i),a=this.binaryUnion(e,i,n);return this.unionSafe(l,a)}},PM.prototype.repeatedUnion=function(t){for(var e=null,o=t.iterator();o.hasNext();){var n=o.next();e=null===e?n.copy():e.union(n)}return e},PM.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},PM.prototype.unionActual=function(t,e){return PM.restrictToPolygons(t.union(e))},PM.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},PM.prototype.unionUsingEnvelopeIntersection=function(t,e,o){var n=new HS,r=this.extractByEnvelope(o,t,n),i=this.extractByEnvelope(o,e,n),l=this.unionActual(r,i);return n.add(l),gM.combine(n)},PM.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],o=arguments[1];return e.getFactory().createGeometryCollection([e,o]).buffer(0)}},PM.prototype.interfaces_=function(){return[]},PM.prototype.getClass=function(){return PM},PM.restrictToPolygons=function(t){if($y(t,Id))return t;var e=iv.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon($d.toPolygonArray(e))},PM.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},PM.union=function(t){return new PM(t).union()},yM.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(PM,yM);var SM=function(){};function dM(){return new bM}function bM(){this.reset()}SM.prototype.interfaces_=function(){return[]},SM.prototype.getClass=function(){return SM},SM.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return sM.createEmptyResult(sM.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),kv.overlayOp(t,e,sM.UNION)},bM.prototype={constructor:bM,reset:function(){this.s=this.t=0},add:function(t){vM(mM,t,this.t),vM(this,mM.s,this.s),this.s?this.t+=mM.t:this.s=mM.t},valueOf:function(){return this.s}};var mM=new bM;function vM(t,e,o){var n=t.s=e+o,r=n-e,i=n-r;t.t=e-i+(o-r)}var MM=1e-6,AM=Math.PI,OM=AM/2,_M=AM/4,LM=2*AM,wM=AM/180,xM=Math.abs,UM=Math.atan,EM=Math.atan2,TM=Math.cos,VM=(Math.ceil,Math.exp),RM=(Math.floor,Math.log),IM=(Math.pow,Math.sin),CM=(Math.sign,Math.sqrt),jM=Math.tan;function NM(t){return t>1?OM:t<-1?-OM:Math.asin(t)}function DM(){}dM(),dM();function BM(t){var e=t[0],o=t[1],n=TM(o);return[n*TM(e),n*IM(e),IM(o)]}function YM(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function kM(t){var e=CM(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}dM();function FM(t,e){return[t>AM?t-LM:t<-AM?t+LM:t,e]}function zM(t,e,o,n){this.x=t,this.z=e,this.o=o,this.e=n,this.v=!1,this.n=this.p=null}function GM(t,e,o,n,r){var i,l,a=[],s=[];if(t.forEach(function(t){if(!(t.length-1<=0)){var e,o,n=t[0],l=t[e];if(l,xM(n[0]-p[0])<MM&&xM(u[1]-p[1])<MM){for(r.lineStart(),0;i<e;++i)r.point(t[i][0],n[1]);r.lineEnd()}else{var u,p;a.push(new zM(n,t,null,!0)),s.push(o.o=new zM(n,null,o,!1)),a.push(new zM(l,t,null,!1)),s.push(o.o=new zM(l,null,o,!0))}}}),a.length){for(s.sort(e),qM(a),qM(s),0,s.length;i<l;++i)s[i].e=!o;for(var u,p,c=a[0];;){for(var f=c,h=!0;f.v;)if(f.n===c)return;f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(0,u.length;i<l;++i)r.point(u[i][0],p[1]);else n(f.x,f.n.x,1,r);f.n}else{if(h)for(f.p.z,u.length-1;i>=0;--i)r.point(u[i][0],p[1]);else n(f.x,f.p.x,-1,r);f.p}f.o.z,!h}while(!f.v);r.lineEnd()}}}function qM(t){if(t.length){for(var e,o,n=0,r=t[0];++n<e;)r.n=t[n],o.p=r,o;r.n=t[0],o.p=r}}function XM(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}FM.invert=FM;1===(WM=XM).length&&(HM=WM,WM=function(t,e){return XM(HM(t),e)});var WM,HM,KM=Array.prototype;KM.slice,KM.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var JM=dM();function ZM(t,e){var o=e[0],n=e[1],r=[IM(o),-TM(o),0],i=0,l=0;JM.reset();for(var a=0,s=t.length;a<s;++a)if(t[a].length)for(var u,p,c=u[p-1],f=c[0],h=c[1]/2+_M,g=IM(h),P=TM(h),y=0;y<p;0,d,m,v,S){var S=u[y],d=S[0],b=S[1]/2+_M,m=IM(b),v=TM(b),M=d-f,A=M>=0?1:-1,O=A*M,_=O>AM,L=g*m;if(JM.add(EM(L*A*IM(O),P*v+L*TM(O))),_?M+A*LM:M,_^f>=o^d>=o){var w=YM(BM(c),BM(S));kM(w);var x=YM(r,w);kM(x);var U=(_^M>=0?-1:1)*NM(x[2]);(n>U||n===U&&(w[0]||w[1]))&&(_^M>=0?1:-1)}}return(i<-MM||i<MM&&JM<-MM)^1&l}dM();dM(),dM();dM();function QM(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function $M(t){return t.length>1}function tA(t,e){return(t.x[0]<0?t[1]-OM-MM:OM-t[1])-(e.x[0]<0?e[1]-OM-MM:OM-e[1])}QM(4.5);function eA(t){return function(e){var o=new oA;for(var n in t)o[n]=t[n];return o.stream=e,o}}function oA(){}oA.prototype={constructor:oA,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};TM(30*wM);eA({point:function(t,e){this.stream.point(t*wM,e*wM)}});function nA(t){return function(e,o){var n=TM(e),r=TM(o),i=t(n*r);return[i*r*IM(e),i*IM(o)]}}function rA(t){return function(e,o){var n=CM(e*e+o*o),r=t(n),i=IM(r),l=TM(r);return[EM(e*i,n*l),NM(n&&o*i/n)]}}var iA=nA(function(t){return CM(2/(1+t))});iA.invert=rA(function(t){return 2*NM(t/2)});var lA=nA(function(t){return(t=(e=t)>1?0:e<-1?AM:Math.acos(e))&&t/IM(t);var e});function aA(t,e){return[t,RM(jM((OM+e)/2))]}function sA(t,e){return[t,e]}function uA(t,e){var o=TM(e),n=TM(t)*o;return[o*IM(t)/n,IM(e)/n]}function pA(t,e){var o=e*e,n=o*o;return[t*(.8707-.131979*o+n*(n*(.003971*o-.001529*n)-.013791)),e*(1.007226+o*(.015085+n*(.028874*o-.044475-.005916*n)))]}function cA(t,e){return[TM(e)*IM(t),IM(e)]}function fA(t,e){var o=TM(e),n=1+TM(t)*o;return[o*IM(t)/n,IM(e)/n]}function hA(t,e){return[RM(jM((OM+e)/2)),-t]}lA.invert=rA(function(t){return t}),aA.invert=function(t,e){return[t,2*UM(VM(e))-OM]},sA.invert=sA,uA.invert=rA(UM),pA.invert=function(t,e){var o,n=e,r=25;do{var i=n*n,l=i*i;n-=o=(n*(1.007226+i*(.015085+l*(.028874*i-.044475-.005916*l)))-e)/(1.007226+i*(.045255+l*(.259866*i-.311325-.005916*11*l)))}while(xM(o)>MM&&--r>0);return[t/(.8707+(i=n*n)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),n]},cA.invert=rA(NM),fA.invert=rA(function(t){return 2*UM(t)}),hA.invert=function(t,e){return[-e,2*UM(VM(t))-OM]};function gA(t){"@babel/helpers - typeof";return(gA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PA(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yA(t,e){return(yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function SA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dA(t);if(e){var r=dA(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dA(t){return(dA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yA(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=SA(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(.125),e.scaleValues.push(Math.PI/2)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);if(0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues[0]=.5,this.scaleValues[1]=.125,this.scaleValues[2]=.125,this.scaleValues[3]=Math.PI/2):1===this.scaleValues.length?(this.scaleValues.push(.125),this.scaleValues.push(.125),this.scaleValues.push(Math.PI/2)):2===this.scaleValues.length&&(this.scaleValues.push(.125),this.scaleValues.push(Math.PI/2)),!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n,this.scaleValues[2]=n}var r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r);for(var i=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(i,r),a=0;a<l.length;a++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[a]);var s=e*this.scaleValues[0],u=this.scaleValues[3]*SuperMapAlgoPlot.PlottingUtil.RTOD,p=(this.scaleValues[0],e*this.scaleValues[1]),c=e*this.getSubSymbolScaleValue(),f=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,s);if(-1!==f.index){var h=f.pt,g=new SuperMapAlgoPlot.Point(r[f.index].x,r[f.index].y),P=new SuperMapAlgoPlot.Point(r[f.index+1].x,r[f.index+1].y),y=SuperMapAlgoPlot.PlottingUtil.dirAngle(g,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,y+u);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[h,S],{surroundLineLimit:!0,lineTypeLimit:!0});var d=SuperMapAlgoPlot.PlottingUtil.dirAngle(h,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,b=SuperMapAlgoPlot.PlottingUtil.findPoint(S,h,.15*p,0),m=new SuperMapAlgoPlot.Point(-.2*p,.05*p),v=new SuperMapAlgoPlot.Point(-.2*p,-.05*p),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,m,d),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,v,d);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[M,S,A,b],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var O=e*this.scaleValues[2],_=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,y+u+180),L=new SuperMapAlgoPlot.Point(0,-.6*c);L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(h,L,y),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],_,O,y+u-180),this.addScalePoint(h,0),this.addScalePoint(S,0);var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(_,.5*O,.5*O,y+u+90);this.addScalePoint(w,0),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){for(var i=-1,l=0,a=new SuperMapAlgoPlot.Point(0,0),s=0;s<n.length-1;s++){var u=[];u.push(n[s]),u.push(n[s+1]);var p=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,u[0],u[1]),c=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(p,u);if(-1!=c.index){var f=c.pt,h=SuperMapAlgoPlot.PlottingUtil.distance(e,f);-1==i?(i=s,a=f,l=h):l>h&&(i=s,a=f,l=h)}}if(-1==i||i>n.length-1)return;for(var g=0,P=0;P<i;P++)g+=SuperMapAlgoPlot.PlottingUtil.distance(n[P],n[P+1]);var y=n[i];if((g+=SuperMapAlgoPlot.PlottingUtil.distance(y,a))<0||g>r)return;var S=g/r;this.scaleValues[0]=S}else if(1==t){var d=r*this.scaleValues[0];if(-1==(v=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,d)).index)return;var b=SuperMapAlgoPlot.PlottingUtil.dirAngle(n[v.index],n[v.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,m=(SuperMapAlgoPlot.PlottingUtil.dirAngle(v.pt,e)*SuperMapAlgoPlot.PlottingUtil.RTOD-b)*SuperMapAlgoPlot.PlottingUtil.DTOR;this.scaleValues[3]=m}else if(2==t){m=this.scaleValues[3]*SuperMapAlgoPlot.PlottingUtil.RTOD;var v,M=r*this.scaleValues[0];g=r*this.scaleValues[1];if(-1==(v=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,M)).index)return;var A=SuperMapAlgoPlot.PlottingUtil.dirAngle(n[v.index],n[v.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,O=SuperMapAlgoPlot.PlottingUtil.circlePoint(v.pt,g,g,A+m+180),_=2*SuperMapAlgoPlot.PlottingUtil.distance(e,O)/r;this.scaleValues[2]=_}}}}])&&PA(e.prototype,o),n&&PA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mA(t){"@babel/helpers - typeof";return(mA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vA(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MA(t,e){return(MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function AA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=OA(t);if(e){var r=OA(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function OA(t){return(OA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31803=bA;var _A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=AA(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=t[0],n=t[1];e=2==t.length?n:t[2];var r=new SuperMapAlgoPlot.Point((o.x+n.x)/2,(o.y+n.y)/2),i=SuperMapAlgoPlot.PlottingUtil.distance(r,e),l=.5*i,a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,r,e),s=a.pntLeft,u=a.pntRight,p=!(r.x>e.x),c=[];p?(c.push(o),c.push(s)):(c.push(o),c.push(u)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var f=[];p?(f.push(n),f.push(u)):(f.push(n),f.push(s)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var h,g,P,y,S=.37*i,d=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,S),b=.09*i,m=[];m.push(d),m.push(new SuperMapAlgoPlot.Point(d.x,d.y+b)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,m,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE}),p?(h=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(b,r,d)).pntLeft,g=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*b,r,d)).pntLeft,P=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(b,h,g)).pntRight,y=a.pntLeft):(h=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(b,r,d)).pntRight,g=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*b,r,d)).pntRight,P=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(b,h,g)).pntRight,y=a.pntLeft);var v=[];v.push(h),v.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE});var M=[];M.push(P),M.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE}),this.finish()}}}])&&vA(e.prototype,o),n&&vA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function LA(t){"@babel/helpers - typeof";return(LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wA(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xA(t,e){return(xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function UA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=EA(t);if(e){var r=EA(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===LA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function EA(t){return(EA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol32300=_A;var TA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xA(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=UA(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.03),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],60*SuperMapAlgoPlot.PlottingUtil.DTOR,new SuperMapAlgoPlot.Point(t[1].x,t[1].y));t.push(e)}var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getSubSymbolScaleValue(o);(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n}if(t.length>0&&t.length>2){var r=[];(r=r.concat(t)).push(r[0]);for(var i=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(i,r),a=0;a<l.length;a++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[a])}else 2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t):0==this.dashLines.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=s,p=o*this.scaleValues[0],c=this.scaleValues[1],f=c,h=this.scaleValues[3],g=this.scaleValues[4];u.x=s.x+h*o,u.y=s.y+g*o,this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],u,p,f),this.addScalePoint(u,0);var P=new SuperMapAlgoPlot.Point(u.x,u.y),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,p,p,0);this.addScalePoint(y,1);var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,2*p,2*p,c);this.addScalePoint(S,2),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(2==(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length){var n=SuperMapAlgoPlot.PlottingUtil.rotateAngle(o[0],60*SuperMapAlgoPlot.PlottingUtil.DTOR,new SuperMapAlgoPlot.Point(o[1].x,o[1].y));o.push(n)}var r,i,l,a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t&&(r=(e.x-a.x)/s,this.scaleValues[3]=r,i=(e.y-a.y)/s,this.scaleValues[4]=i),1===t){r=this.scaleValues[3],i=this.scaleValues[4],l=new SuperMapAlgoPlot.Point(a.x+r*s,a.y+i*s);var u=SuperMapAlgoPlot.PlottingUtil.distance(l,e)/s;this.scaleValues[0]=u}if(2===t){r=this.scaleValues[3],i=this.scaleValues[4],l=new SuperMapAlgoPlot.Point(a.x+r*s,a.y+i*s);var p=SuperMapAlgoPlot.PlottingUtil.radian(l,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[1]=p}}}}])&&wA(e.prototype,o),n&&wA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function VA(t){"@babel/helpers - typeof";return(VA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RA(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IA(t,e){return(IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jA(t);if(e){var r=jA(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===VA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jA(t){return(jA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol32900=TA;var NA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=CA(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125),this.scaleValues.push(0)),this.scaleValues.length<6&&this.scaleValues.push(.1);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o,n,r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(((r=this.getDefaultSubSymbolSize()/i)>.3||r<=0)&&(r=.3),this.scaleValues[5]=r);var l=1.5*this.scaleValues[5];2==t.length?(this.isEdit||(this.scaleValues[3]=this.scaleValues[2]+l),o=this.scaleValues[2],n=this.scaleValues[3]):(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[4],0)&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125)),this.isEdit||(this.scaleValues[4]=this.scaleValues[3]+l,((r=this.getDefaultSubSymbolSize()/i)>.3||r<=0)&&(r=.3),this.scaleValues[5]=r),o=this.scaleValues[3],n=this.scaleValues[4]);var a=i*o,s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(s.bfind){var u=s.index,p=s.pts,c=i*n;if((s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(c,e)).bfind){for(var f=s.index,h=s.pts,g=new SuperMapAlgoPlot.Point(p.x,p.y),P=new SuperMapAlgoPlot.Point(h.x,h.y),y=SuperMapAlgoPlot.PlottingUtil.radian(g,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[],d=0;d<=u;d++)S.push(e[d]);for(S.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),(S=[]).push(h),d=f+1;d<e.length;d++)S.push(e[d]);for(var b=this.mergeDashLine(this.dashLines,[]),m=this.computeDashLine(b,S),v=0;v<m.length;v++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m[v]);if(0==m.length)this.addArrow([S[S.length-2],S[S.length-1]],.5*this.scaleValues[5]);else for(var M=0;M<m.length;M++)m.length-1==M&&(m[M].length>=2?this.addArrow(m[M],.5*this.scaleValues[5]):this.addArrow([S[S.length-2],S[S.length-1]],.5*this.scaleValues[5]));var A=SuperMapAlgoPlot.PlottingUtil.distance(g,P),O=new SuperMapAlgoPlot.Point(2/3*A,.5/3*A),_=new SuperMapAlgoPlot.Point(0,.5/3*A),L=new SuperMapAlgoPlot.Point(0,-.5/3*A),w=new SuperMapAlgoPlot.Point(2/3*A,-.5/3*A),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,O,y),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,_,y),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,L,y),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,w,y);(S=[]).push(x),S.push(U),S.push(E),S.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{surroundLineLimit:!0,lineTypeLimit:!0});var V=A/3*2,R=SuperMapAlgoPlot.PlottingUtil.radian(P,x)*SuperMapAlgoPlot.PlottingUtil.RTOD,I=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,V,V,R),C=SuperMapAlgoPlot.PlottingUtil.radian(P,T)*SuperMapAlgoPlot.PlottingUtil.RTOD,j=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,V,V,C);(S=[]).push(I),S.push(h),S.push(j),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{surroundLineLimit:!0,lineTypeLimit:!0}),this.scalePoints=[],this.addScalePoint(h);var N=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,A/2,A/2,y+90);this.addScalePoint(N),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),a=0,s=0;if(2==o.length?(a=this.scaleValues[2],s=this.scaleValues[3]):(a=this.scaleValues[3],s=this.scaleValues[4]),0==t){for(var u=s-a,p=e.clone(),c=[],f=0;f<n.length;f++)c.push(n[f].clone());for(var h,g=-1,P=0,y=0;y<c.length-1;y++){var S=[];S.push(c[y]),S.push(c[y+1]);var d=SuperMapAlgoPlot.PlottingUtil.projectPoint(p,c[y],c[y+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(d,S).isOnPolyLine){var b=SuperMapAlgoPlot.PlottingUtil.distance(p,d);-1==g?(g=y,h=d,P=b):P>b&&(g=y,h=d,P=b)}}if(-1==g||g>c.length-1)return;r=0;for(var m=0;m<g;m++)r+=SuperMapAlgoPlot.PlottingUtil.distance(n[m],n[m+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(n[g],h))<0||r>l)return;if((i=r/l)>.7||i-u<0)return;2==o.length?(this.scaleValues[2]=i-u,this.scaleValues[3]=i):(this.scaleValues[3]=i-u,this.scaleValues[4]=i)}else if(1==t){r=l*a;var v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,n);if(!v.bfind)return;var M=v.pts;if(.7<(i=(2*SuperMapAlgoPlot.PlottingUtil.distance(M,e)+r)/l))return;2==o.length?this.scaleValues[3]=i:this.scaleValues[4]=i}}}}])&&RA(e.prototype,o),n&&RA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function DA(t){"@babel/helpers - typeof";return(DA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BA(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YA(t,e){return(YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=FA(t);if(e){var r=FA(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===DA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FA(t){return(FA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol33400=NA;var zA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=kA(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),r=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),i=SuperMapAlgoPlot.PlottingUtil.radian(n,r)*SuperMapAlgoPlot.PlottingUtil.RTOD,l=.02*o,a=[];for(e=0;e<360;e+=10)a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),l,l,e));a.push(a[0]);var s=[],u=new SuperMapAlgoPlot.Point(.1*o,0),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,u,i);for(e=0;e<a.length;e++)s.push(new SuperMapAlgoPlot.Point(a[e].x+p.x,a[e].y+p.y));var c={lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s,c);var f=new SuperMapAlgoPlot.Point(.25*o,0),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,f,i);for(s=[],e=0;e<a.length;e++)s.push(new SuperMapAlgoPlot.Point(a[e].x+h.x,a[e].y+h.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s,c);var g=new SuperMapAlgoPlot.Point(.4*o,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,g,i);for(s=[],e=0;e<a.length;e++)s.push(new SuperMapAlgoPlot.Point(a[e].x+P.x,a[e].y+P.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s,c);var y=new SuperMapAlgoPlot.Point(.6*o,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,y,i);for(s=[],e=0;e<a.length;e++)s.push(new SuperMapAlgoPlot.Point(a[e].x+S.x,a[e].y+S.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s,c);var d=new SuperMapAlgoPlot.Point(.5*o,.05*o),b=new SuperMapAlgoPlot.Point(.7*o,.05*o),m=new SuperMapAlgoPlot.Point(.75*o,0),v=new SuperMapAlgoPlot.Point(.7*o,-.05*o),M=new SuperMapAlgoPlot.Point(.5*o,-.05*o),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,d,i),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,b,i),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,m,i),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,v,i),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,M,i);(s=[]).push(A),s.push(O),s.push(_),s.push(L),s.push(w),s.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,{surroundLineLimit:!0,lineTypeLimit:!0}),this.finish()}}}])&&BA(e.prototype,o),n&&BA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function GA(t){"@babel/helpers - typeof";return(GA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qA(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XA(t,e){return(XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=HA(t);if(e){var r=HA(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===GA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function HA(t){return(HA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34300=zA;var KA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=WA(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.radian(o,n)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=this.scaleValues[0],l=this.scaleValues[1];if(!(i<0||l<0)){var a=i*e,s=1-l*(5/4);s<0&&(s=0),s>1&&(s=1);var u,p,c=e*s,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,c,c,r),h=[];h.push(t[0].clone()),h.push(f),u=SuperMapAlgoPlot.PlottingUtil.paraLine(h,a,!0),p=SuperMapAlgoPlot.PlottingUtil.paraLine(h,a,!1);var g,P=[];for(g=0;g<u.length;g++)P.push(u[g]);var y=[];for(g=0;g<p.length;g++)y.push(p[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var S=l*e,d=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,S/2,S/2,r);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],d,S/2,r+180);for(var b=[],m=.1*c,v=[],M=0;M<P.length;M++)v.push(P[M].clone());var A=[];for(g=0;g<y.length;g++)A.push(y[g].clone());var O=SuperMapAlgoPlot.PlottingUtil.distance(A[0],A[1]);if(!(m>=O)){for(var _=m;_<c-a;_+=m){var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(A[0],_,_,r),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,O,O,r+45),x=SuperMapAlgoPlot.PlottingUtil.intersectLines(L,w,v[0],v[1]);if(x.isIntersectLines){var U=x.intersectPoint;if(!SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(U,v).isOnPolyLine)break;(b=[]).push(L),b.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{lineTypeLimit:!0,surroundLineLimit:!0})}}this.scalePoints=[];var E=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,a,a,r+90);this.addScalePoint(E);var T=S/2,V=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,T,T,r+90);this.addScalePoint(V),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);0==t?(n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/r,this.scaleValues[0]=n):1==t&&(n=2*SuperMapAlgoPlot.PlottingUtil.distance(o[1],e)/r,this.scaleValues[1]=n)}}}])&&qA(e.prototype,o),n&&qA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function JA(t){"@babel/helpers - typeof";return(JA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZA(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QA(t,e){return(QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tO(t);if(e){var r=tO(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===JA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tO(t){return(tO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34400=KA;var eO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=$A(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.radian(o,n)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=new SuperMapAlgoPlot.Point(0,0),l=new SuperMapAlgoPlot.Point(.475*e,0),a=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,i,r),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,l,r),u=[];u.push(a),u.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0});var p=new SuperMapAlgoPlot.Point(.525*e,0),c=new SuperMapAlgoPlot.Point(.725*e,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,p,r),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,c,r);(u=[]).push(f),u.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0});var g=new SuperMapAlgoPlot.Point(.775*e,0),P=new SuperMapAlgoPlot.Point(.95*e,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,g,r),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,P,r);(u=[]).push(y),u.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0});var d=new SuperMapAlgoPlot.Point(e,.0125*e),b=new SuperMapAlgoPlot.Point(e,-.0125*e),m=new SuperMapAlgoPlot.Point(.75*e+.2*e,0),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,d,r),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,b,r),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,m,r);(u=[]).push(v),u.push(A),u.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0});var O=new SuperMapAlgoPlot.Point(.75*e+.025*e,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,O,r);(u=[]).push(A),u.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0});var L=new SuperMapAlgoPlot.Point(.75*e+.15*e,0),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,.075*e,.1*e,150),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,.075*e,.1*e,210),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,L,r),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,w,r),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,x,r);(u=[]).push(E),u.push(U),u.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0});var V=new SuperMapAlgoPlot.Point(.75*e+.05*e,.025*e),R=new SuperMapAlgoPlot.Point(.75*e+.05*e,-.025*e),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,V,r),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,R,r);(u=[]).push(I),u.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0});var j=new SuperMapAlgoPlot.Point(.75*e+.0125*e,0),N=new SuperMapAlgoPlot.Point(.75*e+.0125*e,.0125*e),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,j,r),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,N,r);(u=[]).push(D),u.push(B),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,u,{lineTypeLimit:!0}),this.finish()}}}])&&ZA(e.prototype,o),n&&ZA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function oO(t){"@babel/helpers - typeof";return(oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nO(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rO(t,e){return(rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=lO(t);if(e){var r=lO(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===oO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lO(t){return(lO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34500=eO;var aO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rO(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=iO(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts||t.length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.radian(o,n)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=new SuperMapAlgoPlot.Point(0,0),l=new SuperMapAlgoPlot.Point(.475*e,0),a=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,i,r),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,l,r),u=[];u.push(a),u.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0});var p=new SuperMapAlgoPlot.Point(.525*e,0),c=new SuperMapAlgoPlot.Point(.725*e,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,p,r),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,c,r);(u=[]).push(f),u.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0});var g=new SuperMapAlgoPlot.Point(.775*e,0),P=new SuperMapAlgoPlot.Point(.95*e,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,g,r),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,P,r);if((u=[]).push(y),u.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0}),this.subSymbols.length>0){var d=.2*e,b=new SuperMapAlgoPlot.Point(t[1].x,t[1].y+d/2);this.computeSubSymbol(this.subSymbols[0],b,d,0)}this.finish()}}}])&&nO(e.prototype,o),n&&nO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function sO(t){"@babel/helpers - typeof";return(sO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uO(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pO(t,e){return(pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=fO(t);if(e){var r=fO(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===sO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fO(t){return(fO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34501=aO;var hO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pO(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=cO(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.08,e.scaleValues[1]=.03),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.08),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=.5*e,n=e*this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o,t),i=r.pts,l=r.index,a=(r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o+n,t)).index;if(!(l<0||a<0)){var s,u,p;if(l!=a)s=new SuperMapAlgoPlot.Point(t[l+1].x,t[l+1].y),u=new SuperMapAlgoPlot.Point(t[l].x,t[l].y),(p=SuperMapAlgoPlot.PlottingUtil.distance(s,u))<=2*n?(n=p/2,i.x=(t[l+1].x+t[l].x)/2,i.y=(t[l+1].y+t[l].y)/2):i=SuperMapAlgoPlot.PlottingUtil.linePnt(t[l+1],t[l],n);else if(s=new SuperMapAlgoPlot.Point(t[l+1].x,t[l+1].y),u=new SuperMapAlgoPlot.Point(t[l].x,t[l].y),(p=SuperMapAlgoPlot.PlottingUtil.distance(s,u))<=2*n)n=p/2,i.x=(t[l+1].x+t[l].x)/2,i.y=(t[l+1].y+t[l].y)/2;else s=new SuperMapAlgoPlot.Point(t[l].x,t[l].y),u=new SuperMapAlgoPlot.Point(i.x,i.y),SuperMapAlgoPlot.PlottingUtil.distance(s,u)<n&&(i=SuperMapAlgoPlot.PlottingUtil.linePnt(t[l],t[l],n));var c,f,h,g=[];for(c=0;c<l+1;c++)g.push(t[c]);f=SuperMapAlgoPlot.PlottingUtil.linePnt(i,t[l],n),g.push(f),h=SuperMapAlgoPlot.PlottingUtil.linePnt(i,t[l+1],n);var P=[];P.push(h);var y=t.length;for(c=l+1;c<y;++c)P.push(t[c]);var S=[];S.push(0),S.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(t,f)/e),S.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(t,h)/e),S.push(1);for(var d=this.mergeDashLine(this.dashLines,S),b=this.computeDashLine(d,t),m=0;m<b.length;m++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b[m]);var v=[],M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n/2,f,h);v.push(f),v.push(M.pntRight),v.push(M.pntLeft);var A=(M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,f,i)).pntRight;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,v,{lineTypeLimit:!0,surroundLineLimit:!0});var O,_,L,w,x=t[0].clone(),U=t[1].clone(),E=t[t.length-2].clone(),T=t[t.length-1].clone(),V=e*this.scaleValues[1];_=(M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(V,U,x)).pntRight,O=M.pntLeft,w=(M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(V,E,T)).pntRight,L=M.pntLeft;var R=[];R.push(_),R.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,{lineTypeLimit:!0,surroundLineLimit:!0});var I=[];I.push(w),I.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(A),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var r=.5*n,i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,o).pts,l=SuperMapAlgoPlot.PlottingUtil.distance(e,i)/n;l>.5&&(l=.5),this.scaleValues[0]=l}}}}])&&uO(e.prototype,o),n&&uO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function gO(t){"@babel/helpers - typeof";return(gO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PO(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yO(t,e){return(yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function SO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dO(t);if(e){var r=dO(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dO(t){return(dO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34700=hO;var bO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yO(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=SO(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[],o=t[0].clone(),n=t[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.distance(o,n),i=0;for(i=15;i<=165;i+=4)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r,r,i));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,165)&&(i=165,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r,r,i)));var l=[];for(i=e.length-1;i>=0;i--)l.push(e[i]);for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),e=[],i=195;i<=345;i+=4)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r,r,i));for(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,345)&&(i=345,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r,r,i))),l=[],i=e.length-1;i>=0;i--)l.push(e[i]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var a=.8*r;(e=[]).push(new SuperMapAlgoPlot.Point(o.x-a,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x+a,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),(e=[]).push(new SuperMapAlgoPlot.Point(o.x-.4*r,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x-.4*r,o.y+.4*r)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&PO(e.prototype,o),n&&PO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mO(t){"@babel/helpers - typeof";return(mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vO(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MO(t,e){return(MO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function AO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=OO(t);if(e){var r=OO(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function OO(t){return(OO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34800=bO;var _O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MO(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=AO(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.4),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[],o=t[0].clone(),n=t[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.distance(o,n),i=0;for(i=15;i<=165;i+=4)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r,r,i));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,165)&&(i=165,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r,r,i)));var l=[];for(i=e.length-1;i>=0;i--)l.push(e[i]);for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),e=[],i=195;i<=345;i+=4)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r,r,i));for(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,345)&&(i=345,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r,r,i))),l=[],i=e.length-1;i>=0;i--)l.push(e[i]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var a=2*this.scaleValues[0]*r;(e=[]).push(new SuperMapAlgoPlot.Point(o.x-a,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x-.4*a,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),(e=[]).push(new SuperMapAlgoPlot.Point(o.x-.2*a,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x+.4*a,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),(e=[]).push(new SuperMapAlgoPlot.Point(o.x+.6*a,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x+a,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),(e=[]).push(new SuperMapAlgoPlot.Point(o.x-this.scaleValues[0]*r,o.y)),e.push(new SuperMapAlgoPlot.Point(o.x-this.scaleValues[0]*r,o.y+this.scaleValues[0]*r)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&vO(e.prototype,o),n&&vO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function LO(t){"@babel/helpers - typeof";return(LO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wO(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xO(t,e){return(xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function UO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=EO(t);if(e){var r=EO(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===LO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function EO(t){return(EO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34801=_O;var TO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xO(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=UO(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(-1!==SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,o/2).index){if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n,this.scaleValues[1]=.5*n}for(var r=this.mergeDashLine(this.dashLines,[]),i=this.computeDashLine(r,e),l=0;l<i.length;l++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i[l]);if(0==i.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[1]);else for(var a=0;a<i.length;a++)a==i.length-1&&(i[a].length>=2?this.addArrow(i[a],this.scaleValues[1]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[1]));var s=o*this.scaleValues[0],u=new SuperMapAlgoPlot.Point(e[0].x,e[0].y),p=new SuperMapAlgoPlot.Point(e[1].x,e[1].y),c=SuperMapAlgoPlot.PlottingUtil.radian(p,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=new SuperMapAlgoPlot.Point(0,.5*s),h=new SuperMapAlgoPlot.Point(s,.5*s),g=new SuperMapAlgoPlot.Point(1.5*s,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,f,c),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,h,c),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,g,c);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[e[0],P,y,S],{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}}])&&wO(e.prototype,o),n&&wO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function VO(t){"@babel/helpers - typeof";return(VO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RO(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IO(t,e){return(IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jO(t);if(e){var r=jO(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===VO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jO(t){return(jO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34900=TO;var NO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IO(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=CO(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o/2,e);if(n.bfind){var r=n.index,i=n.pts;if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=.5*l}var a,s=o*this.scaleValues[0],u=[];for(u.push(i),a=r;a>=0;a--)u.push(e[a]);if((n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,u)).bfind){var p=n.index,c=n.pts,f=[];for(a=u.length-1;a>p;a--)f.push(u[a]);f.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var h=[];for(h.push(i),a=r+1;a<e.length;a++)h.push(e[a]);if((n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,h)).bfind){var g=n.index,P=n.pts;for((f=[]).push(P),a=g+1;a<h.length;a++)f.push(h[a]);this.addArrow(f,this.scaleValues[1]);var y=.1*s,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,y,y,0);(f=[]).push(i),f.push(S);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,f,{surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0});var d=e[0].clone(),b=e[1].clone(),m=SuperMapAlgoPlot.PlottingUtil.radian(b,d)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=new SuperMapAlgoPlot.Point(0,.5*s),M=new SuperMapAlgoPlot.Point(s,.5*s),A=new SuperMapAlgoPlot.Point(1.5*s,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,v,m),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,M,m),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,A,m);(f=[]).push(e[0]),f.push(O),f.push(_),f.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}}}}])&&RO(e.prototype,o),n&&RO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function DO(t){"@babel/helpers - typeof";return(DO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BO(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YO(t,e){return(YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=FO(t);if(e){var r=FO(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===DO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FO(t){return(FO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34901=NO;var zO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YO(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=kO(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o/2,e);if(n.bfind){var r=n.index,i=n.pts;if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=.5*l}var a,s=o*this.scaleValues[0],u=[];for(u.push(i),a=r;a>=0;a--)u.push(e[a]);if((n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,u)).bfind){var p=n.index,c=n.pts,f=[];for(a=u.length-1;a>p;a--)f.push(u[a]);f.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var h=[];for(h.push(i),a=r+1;a<e.length;a++)h.push(e[a]);if((n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,h)).bfind){var g=n.index,P=n.pts;for((f=[]).push(P),a=g+1;a<h.length;a++)f.push(h[a]);this.addArrow(f,this.scaleValues[1]);var y=.1*s,S=c,d=P,b=SuperMapAlgoPlot.PlottingUtil.radian(S,d)*SuperMapAlgoPlot.PlottingUtil.RTOD,m=new SuperMapAlgoPlot.Point((S.x+d.x)/2,(S.y+d.y)/2),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,2*y,2*y,b),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,2*y,2*y,b+180),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(v,y,y,0);(f=[]).push(v),f.push(A);var O={surroundLineLimit:!0,lineTypeLimit:!0,fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,f,O);var _=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,y,y,0);(f=[]).push(M),f.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,f,O);var L=e[0].clone(),w=e[1].clone(),x=SuperMapAlgoPlot.PlottingUtil.radian(w,L)*SuperMapAlgoPlot.PlottingUtil.RTOD,U=new SuperMapAlgoPlot.Point(0,.5*s),E=new SuperMapAlgoPlot.Point(s,.5*s),T=new SuperMapAlgoPlot.Point(1.5*s,0),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(L,U,x),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(L,E,x),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(L,T,x);(f=[]).push(e[0]),f.push(V),f.push(R),f.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}}}}])&&BO(e.prototype,o),n&&BO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function GO(t){"@babel/helpers - typeof";return(GO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qO(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XO(t,e){return(XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=HO(t);if(e){var r=HO(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===GO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function HO(t){return(HO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34902=zO;var KO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XO(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=WO(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.03),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.03),!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var a=e[0],s=e[1],u=e[e.length-1],p=e[e.length-2],c=SuperMapAlgoPlot.PlottingUtil.radian(a,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=SuperMapAlgoPlot.PlottingUtil.radian(p,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=this.scaleValues[0],g=i*h,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,g,g,c+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,g,g,c+270),S=[];S.push(P),S.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(y);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,g,g,f+90),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,g,g,f+270);(S=[]).push(d),S.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{lineTypeLimit:!0,surroundLineLimit:!0});var m,v,M=t.length;if(this.scaleValues.length<=M){for(this.scaleValues=[],this.scaleValues.push(h),v=1/M,m=0;m<M-1;m++)this.scaleValues.push(v*(m+1));this.scaleValues.push(h)}for(m=0;m<M-1;m++){var A=(v=this.scaleValues[m+1])*i,O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(A,e);if(!O.bfind)return;var _=O.pts,L=O.index,w=i*h,x=.3*w,U=SuperMapAlgoPlot.PlottingUtil.radian(e[L],e[L+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,E=new SuperMapAlgoPlot.Point(w,-x),T=new SuperMapAlgoPlot.Point(-w,-x),V=new SuperMapAlgoPlot.Point(-w,0),R=new SuperMapAlgoPlot.Point(w,0),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,E,U),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,T,U),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,V,U),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,R,U);(S=[]).push(I),S.push(C),S.push(j),S.push(N),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{lineTypeLimit:!0,fillLimit:!0,fill:!0,surroundLineLimit:!0}),this.addScalePoint(_)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>=this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var l=(r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]))/i;this.scaleValues[0]=l}else{var a,s=e,u=[];for(a=0;a<n.length;a++)u.push(n[a]);var p=-1,c=0,f=new SuperMapAlgoPlot.Point(0,0);for(a=0;a<u.length-1;a++){var h=[];h.push(u[a]),h.push(u[a+1]);var g=SuperMapAlgoPlot.PlottingUtil.projectPoint(s,u[a],u[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(g,h).isOnPolyLine){var P=SuperMapAlgoPlot.PlottingUtil.distance(s,g);-1==p?(p=a,f=g,c=P):c>P&&(p=a,f=g,c=P)}}if(-1==p||p>u.length-1)return;for(r=0,a=0;a<p;a++)r+=SuperMapAlgoPlot.PlottingUtil.distance(n[a],n[a+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(n[p],f))<0||r>i)return;var y=r/i;this.scaleValues[t]=y}}}}])&&qO(e.prototype,o),n&&qO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function JO(t){"@babel/helpers - typeof";return(JO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZO(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QO(t,e){return(QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=t_(t);if(e){var r=t_(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===JO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function t_(t){return(t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35000=KO;var e_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QO(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=$O(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05),!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e}if(t.length>2){var o=t;o.push(t[0]);for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i])}else 2==t.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),s=l*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,s,0),this.scalePoints=[];var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,s,s,90);this.addScalePoint(u),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0==t){var i=.5*SuperMapAlgoPlot.PlottingUtil.distance(e,r)/n;this.scaleValues[0]=i}}}}])&&ZO(e.prototype,o),n&&ZO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function o_(t){"@babel/helpers - typeof";return(o_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n_(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r_(t,e){return(r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function i_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=l_(t);if(e){var r=l_(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===o_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function l_(t){return(l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35200=e_;var a_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=i_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=0),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05,this.scaleValues[1]=0),!this.isEdit){var e=[];e.push(this.subSymbols[0]),this.scaleValues[0]=this.getSubSymbolScaleValue(),this.subSymbols=[];for(var o=0;o<t.length;o++)this.subSymbols.push(e[0])}var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],i=[];for(n=0;n<t.length;n++)i.push(t[n]);for(i.push(i[0]),n=0;n<i.length-1;n++){var l=i[n],a=i[n+1],s=SuperMapAlgoPlot.PlottingUtil.radian(l,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;s+=90;var u=.5*r,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,u,u,s),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,s);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,c])}this.scalePoints=[];var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],1.2*r,1.2*r,270);for(this.addScalePoint(f),n=0;n<t.length;n++){var h=i[n];2*(n+1)>=this.scaleValues.length&&this.scaleValues.push(0);var g=this.scaleValues[2*(n+1)];2*(n+1)+1>=this.scaleValues.length&&this.scaleValues.push(1);var P=g;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[n],h,r,P);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,1.5*r,1.5*r,P+90);this.addScalePoint(y)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;if(0==t){for(var n=[],r=0;r<o.length;r++)n.push(o[r]);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),l=SuperMapAlgoPlot.PlottingUtil.distance(n[0],e)/1.2;this.scaleValues[0]=l/i}else{var a=o[t-1],s=SuperMapAlgoPlot.PlottingUtil.radian(a,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;0>(s-=90)&&(s+=360),this.scaleValues[2*t]=s}}}},{key:"GetCodeByScaleValue",value:function(t){switch(Math.floor(t)){case 0:return 35300;case 1:return 35301;case 2:return 35302;case 3:return 35303;case 4:return 35400;case 5:return 35401;case 6:return 35402;case 7:return 35403;default:return-1}}}])&&n_(e.prototype,o),n&&n_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function s_(t){"@babel/helpers - typeof";return(s_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u_(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p_(t,e){return(p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=f_(t);if(e){var r=f_(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===s_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function f_(t){return(f_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35304=a_;var h_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=c_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1);var e=t[0],o=t[1],n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=n*this.scaleValues[0],i=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*n),l=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e,r),a=SuperMapAlgoPlot.PlottingUtil.linePnt(i,o,r),s=[],u=[];s.push(t[0]),s.push(l),u.push(a),u.push(t[1]);var p=SuperMapAlgoPlot.PlottingUtil.paraLine(s,.5*r,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.5*r,!0),f=[],h=[];f.push(p[0]),f.push(p[1]),h.push(c[0]),h.push(c[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1});var g=[],P=[],y=SuperMapAlgoPlot.PlottingUtil.paraLine(s,.5*r,!1),S=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.5*r,!1);g.push(y[0]),g.push(y[1]),P.push(S[0]),P.push(S[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1});var d=SuperMapAlgoPlot.PlottingUtil.linePnt(f[1],h[0],.2*r),b=SuperMapAlgoPlot.PlottingUtil.linePnt(h[0],f[1],.2*r),m=SuperMapAlgoPlot.PlottingUtil.linePnt(g[1],P[0],.2*r),v=SuperMapAlgoPlot.PlottingUtil.linePnt(P[0],g[1],.2*r),M=[];M.push(d),M.push(b),M.push(v),M.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var A=SuperMapAlgoPlot.PlottingUtil.linePnt(m,d,1.2*r),O=SuperMapAlgoPlot.PlottingUtil.linePnt(d,m,1.2*r),_=[];_.push(A),_.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_,{lineTypeLimit:!0,surroundLineLimit:!0});var L=SuperMapAlgoPlot.PlottingUtil.linePnt(v,b,1.2*r),w=SuperMapAlgoPlot.PlottingUtil.linePnt(b,v,1.2*r),x=[];x.push(L),x.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(y[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[0]=2*r/n}}}}])&&u_(e.prototype,o),n&&u_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function g_(t){"@babel/helpers - typeof";return(g_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P_(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y_(t,e){return(y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function S_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=d_(t);if(e){var r=d_(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===g_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function d_(t){return(d_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35500=h_;var b_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y_(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=S_(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);this.finish()}}}])&&P_(e.prototype,o),n&&P_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function m_(t){"@babel/helpers - typeof";return(m_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v_(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M_(t,e){return(M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function A_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=O_(t);if(e){var r=O_(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===m_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function O_(t){return(O_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36400=b_;var __=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=A_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.03),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[1]=.25*e}var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=.5*o,r=o*this.scaleValues[0],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),l=i.index,a=i.pts,s=(i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n+r,t)).index;if(!(l<0||s<0)){var u;if(l!=s)(u=SuperMapAlgoPlot.PlottingUtil.distance(t[l+1],t[l]))<=2*r?(r=u/2,a.x=(t[l+1].x+t[l].x)/2,a.y=(t[l+1].y+t[l].y)/2):a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[l+1],t[l],r);else if((u=SuperMapAlgoPlot.PlottingUtil.distance(t[l+1],t[l]))<=2*r)r=u/2,a.x=(t[l+1].x+t[l].x)/2,a.y=(t[l+1].y+t[l].y)/2;else SuperMapAlgoPlot.PlottingUtil.distance(t[l],a)<r&&(a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[l],t[l+1],r));var p,c=[];for(p=0;p<l+1;p++)c.push(t[p]);var f=SuperMapAlgoPlot.PlottingUtil.linePnt(a,t[l],.5*r),h=SuperMapAlgoPlot.PlottingUtil.linePnt(a,t[l+1],.5*r),g=[];g.push(0),g.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(t,f)/o),g.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(t,h)/o),g.push(1);for(var P=this.mergeDashLine(this.dashLines,g),y=this.computeDashLine(P,t),S=0;S<y.length;S++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y[S]);var d=t[0],b=t[1],m=t[t.length-2],v=t[t.length-1],M=o*this.scaleValues[1],A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,b,d),O=A.pntRight,_=A.pntLeft,L=(A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,m,v)).pntRight,w=A.pntLeft,x=[];x.push(O),x.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x,{lineTypeLimit:!0,surroundLineLimit:!0});var U=[];U.push(L),U.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0});var E=SuperMapAlgoPlot.PlottingUtil.dirAngle(h,f)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,.8*r,E-90),this.scalePoints=[];var T=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,r,r,E-90);this.addScalePoint(T),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=e,i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,o).pts,l=SuperMapAlgoPlot.PlottingUtil.distance(r,i)/n;l>.49&&(l=.49),this.scaleValues[0]=l}}}}])&&v_(e.prototype,o),n&&v_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function L_(t){"@babel/helpers - typeof";return(L_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w_(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x_(t,e){return(x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function U_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=E_(t);if(e){var r=E_(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===L_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function E_(t){return(E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36401=__;var T_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=U_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[1]=e}var o,n=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,i=this.scaleValues[0],l=this.scaleValues[1],a=i*n,s=[],u=[];for(o=90;o<=270;o+=3)s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,o+r));for(o=-90;o<=90;o+=3)u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,o+r));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s.concat(u));var p=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2),c=SuperMapAlgoPlot.PlottingUtil.dirAngle(s[0],u[u.length-1])*SuperMapAlgoPlot.PlottingUtil.RTOD,f=n*l;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,f,c+90),this.scalePoints=[],this.addScalePoint(s[s.length-1]);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,f,f,c+90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;this.scaleValues[0]=r}else if(1==t){var i=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),l=SuperMapAlgoPlot.PlottingUtil.distance(i,e)/n;l>=.8&&(l=.8),this.scaleValues[1]=l}}}}])&&w_(e.prototype,o),n&&w_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function V_(t){"@babel/helpers - typeof";return(V_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R_(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function I_(t,e){return(I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function C_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=j_(t);if(e){var r=j_(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===V_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function j_(t){return(j_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36600=T_;var N_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=C_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.04,e.scaleValues[1]=.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n,this.scaleValues[1]=n,this.scaleValues[2]=.5*n}var r=this.getLinePts(e,this.scaleValues[0]),i=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),l=SuperMapAlgoPlot.PlottingUtil.dirAngle(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],i,.7*a,l-90);for(var s=[],u=[],p=0;p<=r.startIndex;p++)s.push(e[p]);if(s.push(r.startPt),this.addArrow(s.reverse(),this.scaleValues[2]),r.endIndex<=e.length){u.push(r.endPt);for(var c=r.endIndex+1;c<=e.length-1;c++)u.push(e[c]);this.addArrow(u,this.scaleValues[2])}for(var f=[],h=0;h<e.length;h++)f.push(e[h]);var g=o*this.scaleValues[1],P=SuperMapAlgoPlot.PlottingUtil.paraLine(f,g,!0),y=SuperMapAlgoPlot.PlottingUtil.paraLine(f,g,!1),S=[];for(h=0;h<P.length;h++)S.push(P[h]);var d=[];for(h=0;h<y.length;h++)d.push(y[h]);S=SuperMapAlgoPlot.PlottingUtil.clearSamePts(S),d=SuperMapAlgoPlot.PlottingUtil.clearSamePts(d);var b=this.mergeDashLine(this.dashLines,[]),m=this.computeDashLine(b,S),v=this.mergeDashLine(this.dashLines,[]),M=this.computeDashLine(v,d);if(m.length>1)for(var A=0;A<m.length;A++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m[A]);else 1==m.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);if(M.length>1)for(var O=0;O<M.length;O++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M[O]);else 1==M.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var _=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(_.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,l+90);this.addScalePoint(L,0),this.addScalePoint(y[0],1),this.finish()}}},{key:"addStartPtArrow",value:function(t,e){if(t.length<2)return t;var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints)*e,n=t[0];if(t.length>=2){for(var r=-1,i=0;i<t.length-1;i++)if(o<SuperMapAlgoPlot.PlottingUtil.distance(n,t[i])){r=i;break}t.splice(1,r)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var l=t[1],a=t[0],s=o,u=SuperMapAlgoPlot.PlottingUtil.radian(a,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,1.2*s,1.2*s,u-9.59),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,1.2*s,1.2*s,u+9.59),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,s,s,0);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[p,t[0],c,f],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0)}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(o.length<this.minEditPts)return;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*r,n);if(-1===i.index)return;var l=2*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)/r;this.scaleValues[0]=l<=.4?l:.4}if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[1]=a/r}}}}])&&R_(e.prototype,o),n&&R_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function D_(t){"@babel/helpers - typeof";return(D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B_(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y_(t,e){return(Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function k_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=F_(t);if(e){var r=F_(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===D_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function F_(t){return(F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36700=N_;var z_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=k_(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05),!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e}var o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var n=.1*o,r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),i=r.pntRight,l=r.pntLeft,a=(r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1])).pntRight,s=r.pntLeft,u=[];u.push(i),u.push(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0,surroundLineLimit:!0});var p=[];p.push(a),p.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0,surroundLineLimit:!0});var c=[];c.push(i),c.push(s);for(var f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c)/11,h=f,g=0,P=0,y=null,S=null,d=0;d<11;d++){if(0==d)g=0,y=i.clone();else{var b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h-f,c);if(!b.bfind)continue;g=b.index,y=b.pts}if(10==d)P=0,S=s.clone();else{if(!(b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,c)).bfind)continue;P=b.index,S=b.pts}if(d%2==0){var m=[];m.push(y);for(var v=g+1;v<=P;v++)m.push(c[v]);m.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0})}h+=f}this.finish()}}}])&&B_(e.prototype,o),n&&B_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function G_(t){"@babel/helpers - typeof";return(G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q_(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function X_(t,e){return(X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function W_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=H_(t);if(e){var r=H_(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===G_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function H_(t){return(H_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36800=z_;var K_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=W_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2);var e,o,n=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,i=this.scaleValues[0],l=this.scaleValues[1],a=i*n,s=[];for(e=270;e>=90;e-=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+r),s.push(o);var u=[];for(e=90;e>=-90;e-=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+r),u.push(o);var p=n*l,c=new SuperMapAlgoPlot.Point((s[s.length-1].x+u[0].x)/2,(s[s.length-1].y+u[0].y)/2),f=SuperMapAlgoPlot.PlottingUtil.linePnt(s[s.length-1],u[0],.5*(n-1.2*p)),h=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],s[s.length-1],.5*(n-1.2*p)),g=[];g.push(h),(g=(g=g.concat(u)).concat(s)).push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var P=SuperMapAlgoPlot.PlottingUtil.dirAngle(h,f)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,p,P-90),this.scalePoints=[],this.addScalePoint(s[s.length-1]);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,p,p,P+90);this.addScalePoint(y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;this.scaleValues[0]=r}else if(1==t){var i=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),l=SuperMapAlgoPlot.PlottingUtil.distance(i,e)/n;l>=.8&&(l=.8),this.scaleValues[1]=l}}}}])&&q_(e.prototype,o),n&&q_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function J_(t){"@babel/helpers - typeof";return(J_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z_(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q_(t,e){return(Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tL(t);if(e){var r=tL(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===J_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tL(t){return(tL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37100=K_;var eL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol27100);var e,o,n,r=$_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2);var e,o,n=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,i=this.scaleValues[0],l=this.scaleValues[1],a=i*n,s=[];for(e=270;e>=90;e-=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+r),s.push(o);var u=[];for(e=90;e>=-90;e-=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+r),u.push(o);var p=n*l,c=new SuperMapAlgoPlot.Point((s[s.length-1].x+u[0].x)/2,(s[s.length-1].y+u[0].y)/2),f=SuperMapAlgoPlot.PlottingUtil.linePnt(s[s.length-1],u[0],.5*(n-1.2*p)),h=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],s[s.length-1],.5*(n-1.2*p)),g=SuperMapAlgoPlot.PlottingUtil.radian(h,f)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=[];P.push(h),(P=(P=P.concat(u)).concat(s)).push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,p,g-90),this.scalePoints=[],this.addScalePoint(s[s.length-1]);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,p,p,g+90);this.addScalePoint(y),this.finish()}}}])&&Z_(e.prototype,o),n&&Z_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function oL(t){"@babel/helpers - typeof";return(oL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nL(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rL(t,e){return(rL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=lL(t);if(e){var r=lL(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===oL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lL(t){return(lL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37200=eL;var aL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rL(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=iL(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.03,e.scaleValues[1]=.35,e.scaleValues[2]=0,e.scaleValues[3]=.02),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.5*n,this.scaleValues[this.scaleValues.length-1]=.5*n}var r=o*this.scaleValues[1],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,r),l=i.index;if(-1!=l){var a=i.pt,s=o*this.scaleValues[0],u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,e[l],a),p=this.scaleValues[2],c=null;0==p?c=u.pntLeft:1==p&&(c=u.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[c,a],{fill:!1,fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});for(var f=this.mergeDashLine(this.dashLines,[]),h=this.computeDashLine(f,e),g=0;g<h.length;g++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h[g]);for(var P=0;P<h.length;P++)h.length-1==P&&(h[P].length>=2?this.addArrow(h[P],this.scaleValues[3]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3]));this.scalePoints=[],this.addScalePoint(c,0);s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3];var y=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],s);this.addScalePoint(y),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0==t){for(var i=-1,l=null,a=0;a<n.length-1;a++){var s=SuperMapAlgoPlot.PlottingUtil.ptOnPolyLine(e,n[a],n[a+1]),u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[a],n[a+1]);if(s){l=e,i=a;break}if(u.isOnline){l=u.projectPoint,i=a;break}}if(-1==i)return;var p=n.slice(0,i+1);p.push(l);var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p);this.scaleValues[1]=c/r;var f=SuperMapAlgoPlot.PlottingUtil.distance(e,l);this.scaleValues[0]=f/r;var h=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(n[i],n[i+1],e);this.scaleValues[2]=h?1:0}else if(1==t){var g=.5*SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<g)return;this.scaleValues[3]=g}}}}])&&nL(e.prototype,o),n&&nL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function sL(t){"@babel/helpers - typeof";return(sL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uL(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pL(t,e){return(pL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=fL(t);if(e){var r=fL(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===sL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fL(t){return(fL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37300=aL;var hL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pL(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=cL(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.03),e.scaleValues.push(.25),e.scaleValues.push(.8),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);4!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.03),this.scaleValues.push(.25),this.scaleValues.push(.8),this.scaleValues.push(.02));var n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(this.scaleValues[1]*o,e);if(n.bfind){var r=this.scaleValues[0]*o,i=n.pts,l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[n.index],n.pts),a=l.pntRight,s=l.pntLeft,u=[];if(u.push(a),u.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0,surroundLineLimit:!0}),(n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(this.scaleValues[2]*o,e)).bfind){var p=n.pts,c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[n.index],n.pts),f=c.pntRight,h=c.pntLeft;(u=[]).push(f),u.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{lineTypeLimit:!0,surroundLineLimit:!0});for(var g=this.mergeDashLine(this.dashLines,[]),P=this.computeDashLine(g,e),y=0;y<P.length;y++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[y]);for(var S=0;S<P.length;S++)P.length-1==S&&(P[S].length>=2?this.addArrow(P[S],this.scaleValues[3]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3]));this.scalePoints=[],this.addScalePoint(i),this.addScalePoint(p),this.addScalePoint(s),this.addScalePoint(h);var d=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3],b=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],d);this.addScalePoint(b),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0==t){for(var i=0,l=-1,a=null,s=0;s<n.length-1;s++){var u=null;(u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[s],n[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e)<i)&&(a=u,l=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,u.projectPoint))}if(-1==l)return;var p=[];for(s=0;s<l+1;s++)p.push(n[s]);p.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y)),(c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p)/r)>=1-this.scaleValues[3]&&(c=1-this.scaleValues[3]),this.scaleValues[1]=c}else if(1==t){var c;for(i=0,l=-1,a=null,s=0;s<n.length-1;s++){u=null;(u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[s],n[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e)<i)&&(a=u,l=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,u.projectPoint))}if(-1==l)return;for(p=[],s=0;s<l+1;s++)p.push(n[s]);p.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y)),(c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p)/r)>=1-this.scaleValues[3]&&(c=1-this.scaleValues[3]),this.scaleValues[2]=c}else if(2==t){if(!(f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(this.scaleValues[1]*r,n)).bfind)return;(h=SuperMapAlgoPlot.PlottingUtil.distance(f.pts,e)/r)<=.3&&(this.scaleValues[0]=h)}else if(3==t){var f,h;if(!(f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(this.scaleValues[2]*r,n)).bfind)return;(h=SuperMapAlgoPlot.PlottingUtil.distance(f.pts,e)/r)<=.3&&(this.scaleValues[0]=h)}else if(4==t){var g=.5*SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<g)return;this.scaleValues[3]=g}}}}])&&uL(e.prototype,o),n&&uL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function gL(t){"@babel/helpers - typeof";return(gL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PL(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yL(t,e){return(yL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function SL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dL(t);if(e){var r=dL(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dL(t){return(dL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37301=hL;var bL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yL(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=SL(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/l;(a>.15||a<=0)&&(a=.15),this.scaleValues[0]=a}var s=l*this.scaleValues[2],u=l*this.scaleValues[3],p=new SuperMapAlgoPlot.Point(i.x+s,i.y+u),c=l*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,c,0),this.scalePoints=[];var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,c,c,180);this.addScalePoint(f),this.addScalePoint(p),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),n=[];if(n=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n)).length)return;var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n);if(0==t){var l=r*this.scaleValues[2],a=r*this.scaleValues[3],s=new SuperMapAlgoPlot.Point(i.x+l,i.y+a),u=SuperMapAlgoPlot.PlottingUtil.distance(e,s)/r;this.scaleValues[0]=u}else if(1==t){var p=(e.x-i.x)/r,c=(e.y-i.y)/r;this.scaleValues[2]=p,this.scaleValues[3]=c}}}}])&&PL(e.prototype,o),n&&PL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mL(t){"@babel/helpers - typeof";return(mL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vL(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ML(t,e){return(ML=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function AL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=OL(t);if(e){var r=OL(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function OL(t){return(OL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37600=bL;var _L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ML(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=AL(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),a=i*this.scaleValues[2],s=i*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(l.x+a,l.y+s);if(!this.isEdit){var p=this.getDefaultSubSymbolSize()/i;(p>.3||p<=0)&&(p=.3),this.scaleValues[0]=p}var c=i*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],u,c,90),this.scalePoints=[];var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,c,c,180);this.addScalePoint(f),this.addScalePoint(u),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),n=[];if(n=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n)).length)return;var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n);if(0==t){var l=r*this.scaleValues[2],a=r*this.scaleValues[3],s=new SuperMapAlgoPlot.Point(i.x+l,i.y+a),u=SuperMapAlgoPlot.PlottingUtil.distance(e,s)/r;this.scaleValues[0]=u}else if(1==t){var p=(e.x-i.x)/r,c=(e.y-i.y)/r;this.scaleValues[2]=p,this.scaleValues[3]=c}}}}])&&vL(e.prototype,o),n&&vL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function LL(t){"@babel/helpers - typeof";return(LL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wL(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xL(t,e){return(xL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function UL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=EL(t);if(e){var r=EL(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===LL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function EL(t){return(EL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37601=_L;var TL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xL(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,n,r=UL(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/l;(a>.2||a<=0)&&(a=.2),this.scaleValues[0]=a}var s=this.scaleValues[0],u=this.scaleValues[2],p=this.scaleValues[3],c=l*s,f=new SuperMapAlgoPlot.Point(i.x+l*u,i.y+l*p);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,c,0),this.addScalePoint(f);var h=c,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,h,h,90);this.addScalePoint(g),this.finish()}}}])&&wL(e.prototype,o),n&&wL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function VL(t){"@babel/helpers - typeof";return(VL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RL(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IL(t,e){return(IL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jL(t);if(e){var r=jL(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===VL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jL(t){return(jL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37700=TL;var NL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IL(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=CL(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.04,e.scaleValues[2]=.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05,this.scaleValues[1]=.04),2===this.scaleValues.length&&this.scaleValues.push(.1),!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n,this.scaleValues[1]=n,this.scaleValues[2]=.5*n}var r=this.getLinePts(e,this.scaleValues[0]),i=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),l=180*SuperMapAlgoPlot.PlottingUtil.radian(r.startPt,r.endPt)/Math.PI,a=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],i,.8*a,l-90);var s=[];s.push(0),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.startPt)/o),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.endPt)/o),s.push(1);for(var u=this.mergeDashLine(this.dashLines,s),p=this.computeDashLine(u,e),c=0;c<p.length;c++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[c]);if(0==p.length)this.addArrow(e[e.length-2],e[e.length-1],this.scaleValues[2]);else for(var f=0;f<p.length;f++)p.length-1==f&&(p[f].length>=2?this.addArrow(p[f],this.scaleValues[2]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[2]));for(var h=[],g=0;g<e.length;g++)h.push(e[g]);var P=o*this.scaleValues[1],y=SuperMapAlgoPlot.PlottingUtil.paraLine(h,P,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(h,P,!1),d=[];for(g=0;g<y.length;g++)d.push(y[g]);var b=[];for(g=0;g<S.length;g++)b.push(S[g]);d=SuperMapAlgoPlot.PlottingUtil.clearSamePts(d);for(var m=this.mergeDashLine(this.dashLines,[]),v=this.computeDashLine(m,d),M=0;M<p.length;M++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v[M]);b=SuperMapAlgoPlot.PlottingUtil.clearSamePts(b);for(var A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,b),_=0;_<p.length;_++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[_]);var L=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(L.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,l+90);this.addScalePoint(w,0),this.addScalePoint(S[0],1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(o.length<this.minEditPts)return;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*r,n);if(-1===i.index)return;var l=2*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)/r;this.scaleValues[0]=l<=.4?l:.4}if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[1]=a/r}}}}])&&RL(e.prototype,o),n&&RL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function DL(t){"@babel/helpers - typeof";return(DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BL(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YL(t,e){return(YL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=FL(t);if(e){var r=FL(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===DL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FL(t){return(FL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol38600=NL;var zL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YL(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=kL(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=Math.PI/4,e.scaleValues[1]=Math.PI/4,e.scaleValues[2]=.3,e.scaleValues[3]=.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<4&&(this.scaleValues=[],this.scaleValues[0]=Math.PI/4,this.scaleValues[1]=Math.PI/4,this.scaleValues[2]=.3,this.scaleValues[3]=.1);var e=t[0],o=t[1],n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD;if(!this.isEdit){var i=this.getDefaultSubSymbolSize()/n;(i>.3||i<=0)&&(i=.3),this.scaleValues[2]=i}var l=this.scaleValues[0],a=this.scaleValues[1],s=this.scaleValues[2],u=this.scaleValues[3],p=l*SuperMapAlgoPlot.PlottingUtil.RTOD,c=r-p,f=r+p,h=this.GetArcPts(c,f,e,n);if(!(2>h.length)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var g=n*s,P=r-90,y=n*u,S=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,y),d=SuperMapAlgoPlot.PlottingUtil.radian(S,o)*SuperMapAlgoPlot.PlottingUtil.RTOD-30,b=SuperMapAlgoPlot.PlottingUtil.distance(S,o),m=0,v=t[0].clone(),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,b,b,d),A=null;if(this.subSymbols.length>0&&null!=(A=this.computeSubSymbol(this.subSymbols[0],S,g,P,0,-.5)))for(var O=0;O<A.length;O++)if(!(2>A[O].positionPoints))for(var _=0;_<A[O].positionPoints.length-1;_++){var L=A[O].positionPoints[_],w=A[O].positionPoints[_+1],x=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(S,M,L,w,x)&&(0==m?v=x:SuperMapAlgoPlot.PlottingUtil.distance(S,x)>SuperMapAlgoPlot.PlottingUtil.distance(S,v)&&(v=x),m++)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[v,M],{lineTypeLimit:!0,surroundLineLimit:!0});var U=SuperMapAlgoPlot.PlottingUtil.radian(M,v)*SuperMapAlgoPlot.PlottingUtil.RTOD,E=SuperMapAlgoPlot.PlottingUtil.distance(v,M),T=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,.1*E,.1*E,U-15),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,.1*E,.1*E,U+15),R=SuperMapAlgoPlot.PlottingUtil.findPoint(M,v,.08*E,0),I=[];I.push(T),I.push(M),I.push(V),I.push(R),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,I,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var C=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,n,n,f);this.addScalePoint(C);var j=SuperMapAlgoPlot.PlottingUtil.linePnt(S,o,n*s);if(this.addScalePoint(j),this.addScalePoint(S),3==t.length){var N=t[2],D=SuperMapAlgoPlot.PlottingUtil.distance(e,N),B=a*SuperMapAlgoPlot.PlottingUtil.RTOD,Y=r-B,k=r+B,F=this.GetArcPts(Y,k,e,D);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,F);var z=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,D,D,k);this.addScalePoint(z);var G=M,q=SuperMapAlgoPlot.PlottingUtil.distance(e,N)-n,X=SuperMapAlgoPlot.PlottingUtil.circlePoint(G,q,q,d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[G,X],{lineTypeLimit:!0,surroundLineLimit:!0});var W=SuperMapAlgoPlot.PlottingUtil.circlePoint(X,.1*q,.1*q,U-15),H=SuperMapAlgoPlot.PlottingUtil.circlePoint(X,.1*q,.1*q,U+15),K=(R=SuperMapAlgoPlot.PlottingUtil.findPoint(X,G,.08*q,0),[]);K.push(W),K.push(X),K.push(H),K.push(R),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,K,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>3)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=e,r=o[0],i=o[1],l=SuperMapAlgoPlot.PlottingUtil.distance(r,i),a=SuperMapAlgoPlot.PlottingUtil.radian(r,i);if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.radian(r,n),u=Math.abs(s-a);this.scaleValues[0]=u}else if(1==t){var p=l*this.scaleValues[3],c=SuperMapAlgoPlot.PlottingUtil.linePnt(r,i,p),f=SuperMapAlgoPlot.PlottingUtil.distance(n,c)/l;this.scaleValues[2]=f}else if(2==t){var h=SuperMapAlgoPlot.PlottingUtil.distance(n,r)/l;if(h>=1)return;this.scaleValues[3]=h}else if(3==t){var g=SuperMapAlgoPlot.PlottingUtil.radian(r,n),P=Math.abs(g-a);this.scaleValues[1]=P}}}},{key:"GetArcPts",value:function(t,e,o,n){var r,i=[],l=0;for(l=e;l>=t;l-=4)r=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,l),i.push(r);return l!=t&&(r=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,t),i.push(r)),i}}])&&BL(e.prototype,o),n&&BL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function GL(t){"@babel/helpers - typeof";return(GL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qL(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XL(t,e){return(XL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=HL(t);if(e){var r=HL(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===GL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function HL(t){return(HL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol38700=zL;var KL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XL(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=WL(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.08),e.scaleValues.push(.05),e.scaleValues.push(-.08),e.scaleValues.push(-.08),e.scaleValues.push(.05),e.scaleValues.push(.08),e.scaleValues.push(-.08)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(0===this.scaleValues.length&&(this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(.08),this.scaleValues.push(.05),this.scaleValues.push(-.08),this.scaleValues.push(-.08),this.scaleValues.push(.05),this.scaleValues.push(.08),this.scaleValues.push(-.08)),!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=1.6*e,this.scaleValues[3]=e,this.scaleValues[4]=-.8*e,this.scaleValues[5]=-.5*e,this.scaleValues[6]=e,this.scaleValues[7]=.8*e,this.scaleValues[8]=-.5*e}var o=this.scaleValues[1],n=this.scaleValues[2],r=this.scaleValues[4],i=this.scaleValues[5],l=this.scaleValues[7],a=this.scaleValues[8],s=[];if(s=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),s=SuperMapAlgoPlot.PlottingUtil.clearSamePts(s),!(this.minEditPts>s.length)){for(var u=this.mergeDashLine(this.dashLines,[]),p=this.computeDashLine(u,s),c=0;c<p.length;c++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[c]);var f=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),g=new SuperMapAlgoPlot.Point(f.x+h*o,f.y+h*n),P=new SuperMapAlgoPlot.Point(f.x+h*r,f.y+h*i),y=new SuperMapAlgoPlot.Point(f.x+h*l,f.y+h*a),S=h*this.scaleValues[0],d=h*this.scaleValues[3],b=h*this.scaleValues[6];this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],g,S,0),this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],P,d,0),this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[2],y,b,0),this.addScalePoint(g);var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,S,S,180);this.addScalePoint(m),this.addScalePoint(P);var v=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,d,d,180);this.addScalePoint(v),this.addScalePoint(y);var M=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,b,b,180);this.addScalePoint(M),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;0===this.scaleValues.length&&(this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(.08),this.scaleValues.push(.05),this.scaleValues.push(-.08),this.scaleValues.push(-.08),this.scaleValues.push(.05),this.scaleValues.push(.08),this.scaleValues.push(-.08));var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],l=this.scaleValues[3],a=this.scaleValues[4],s=this.scaleValues[5],u=this.scaleValues[6],p=this.scaleValues[7],c=this.scaleValues[8],f=[];if(f=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),f=SuperMapAlgoPlot.PlottingUtil.clearSamePts(f),this.minEditPts>f.length)return;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f);var h=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)r=(e.x-h.x)/g,this.scaleValues[1]=r,i=(e.y-h.y)/g,this.scaleValues[2]=i;else if(1===t){r=this.scaleValues[1],i=this.scaleValues[2];var P=new SuperMapAlgoPlot.Point(h.x+g*r,h.y+g*i);n=SuperMapAlgoPlot.PlottingUtil.distance(P,e)/g,this.scaleValues[0]=n}if(2===t)a=(e.x-h.x)/g,this.scaleValues[4]=a,s=(e.y-h.y)/g,this.scaleValues[5]=s;else if(3===t){a=this.scaleValues[4],s=this.scaleValues[5];var y=new SuperMapAlgoPlot.Point(h.x+g*a,h.y+g*s);l=SuperMapAlgoPlot.PlottingUtil.distance(y,e)/g,this.scaleValues[3]=l}if(4===t)p=(e.x-h.x)/g,this.scaleValues[7]=p,c=(e.y-h.y)/g,this.scaleValues[8]=c;else if(5===t){p=this.scaleValues[7],c=this.scaleValues[8];var S=new SuperMapAlgoPlot.Point(h.x+g*p,h.y+g*c);u=SuperMapAlgoPlot.PlottingUtil.distance(S,e)/g,this.scaleValues[6]=u}}}}])&&qL(e.prototype,o),n&&qL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function JL(t){"@babel/helpers - typeof";return(JL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZL(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QL(t,e){return(QL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tw(t);if(e){var r=tw(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===JL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tw(t){return(tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39000=KL;var ew=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QL(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=$L(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/i;(a>.1||a<=0)&&(a=.1),this.scaleValues[0]=a}var s=i*this.scaleValues[2],u=i*this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l.x+s,l.y+u),c=i*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,c,0),this.scalePoints=[];var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,c,c,180);this.addScalePoint(f),this.addScalePoint(p),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=[];if(n=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n)).length)return;var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n);if(0==t){var l=r*this.scaleValues[2],a=r*this.scaleValues[3],s=new SuperMapAlgoPlot.Point(i.x+l,i.y+a),u=SuperMapAlgoPlot.PlottingUtil.distance(e,s)/r;this.scaleValues[0]=u}else if(1==t){var p=(e.x-i.x)/r,c=(e.y-i.y)/r;this.scaleValues[2]=p,this.scaleValues[3]=c}}}}])&&ZL(e.prototype,o),n&&ZL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ow(t){"@babel/helpers - typeof";return(ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nw(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rw(t,e){return(rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=lw(t);if(e){var r=lw(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ow(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lw(t){return(lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39101=ew;var aw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=iw(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.08),e.scaleValues.push(.181818),e.scaleValues.push(.285714),e.scaleValues.push(.285714)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.08),this.scaleValues.push(.181818),this.scaleValues.push(.285714),this.scaleValues.push(.285714));var e=t[0].clone(),o=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=this.scaleValues[0],i=new SuperMapAlgoPlot.Point(0,-n*r),l=new SuperMapAlgoPlot.Point(0,n*r),a=this.scaleValues[1],s=this.scaleValues[3],u=new SuperMapAlgoPlot.Point(n*(1-s),-n*a),p=new SuperMapAlgoPlot.Point(n*(1-s),n*a),c=this.scaleValues[2],f=this.scaleValues[4],h=new SuperMapAlgoPlot.Point(n*(1-f),-n*c),g=new SuperMapAlgoPlot.Point(n*(1-f),n*c),P=new SuperMapAlgoPlot.Point(n,0),y=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(i),S.push(u),S.push(h),S.push(P),S.push(g),S.push(p),S.push(l);for(var d=[],b=0;b<S.length;b++){var m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[b],y);d.push(m)}for(var v=[],M=d.length-1;M>=0;--M)v.push(d[M]);var A=[];A.push(d[0]),A.push(d[1]);for(var O=this.mergeDashLine(this.dashLines,[]),_=this.computeDashLine(O,A),L=0;L<_.length;L++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_[L]);var w=[];w.push(d[d.length-2]),w.push(d[d.length-1]);for(var x=this.mergeDashLine(this.dashLines,[]),U=this.computeDashLine(x,w),E=0;E<U.length;E++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U[E]);var T=[];T.push(d[1]);for(var V=1;V<d.length-1;V++)T.push(d[V]);T.push(d[d.length-2]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var R=t[0],I=t[0],C=t[1],j=SuperMapAlgoPlot.PlottingUtil.radian(I,C)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,N=.2*n;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],R,N,j),this.scalePoints=[],this.addScalePoint(d[d.length-1]),this.addScalePoint(d[d.length-2]),this.addScalePoint(d[d.length-3]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n,r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),i=o[0].clone(),l=o[1].clone(),a=e.clone();if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.distance(a,i)/r;this.scaleValues[0]=s}else if(1==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var u=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[1]=u;var p=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[3]=p}else if(2==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var c=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[2]=c;var f=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[4]=f}}}}])&&nw(e.prototype,o),n&&nw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function sw(t){"@babel/helpers - typeof";return(sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uw(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pw(t,e){return(pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=fw(t);if(e){var r=fw(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===sw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fw(t){return(fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39500=aw;var hw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol38600);var e,o,n,r=cw(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.03,e.scaleValues[1]=.05,e.scaleValues[2]=.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=n,this.scaleValues[1]=n,this.scaleValues[2]=.5*n}var r=this.getLinePts(e,this.scaleValues[0]),i=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),l=SuperMapAlgoPlot.PlottingUtil.dirAngle(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],i,a,l-90);var s=[];s.push(0),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.startPt)/o),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r.endPt)/o),s.push(1);for(var u=this.mergeDashLine(this.dashLines,s),p=this.computeDashLine(u,e),c=0;c<p.length;c++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[c]);if(0==p.length)this.addArrow(e[e.length-2],e[e.length-1],this.scaleValues[2]);else for(var f=0;f<p.length;f++)p.length-1==f&&(p[f].length>=2?this.addArrow(p[f],this.scaleValues[2]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[2]));for(var h=[],g=0;g<e.length;g++)h.push(e[g]);var P=o*this.scaleValues[1],y=SuperMapAlgoPlot.PlottingUtil.paraLine(h,P,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(h,P,!1),d=[];for(g=0;g<y.length;g++)d.push(y[g]);var b=[];for(g=0;g<S.length;g++)b.push(S[g]);d=SuperMapAlgoPlot.PlottingUtil.clearSamePts(d);for(var m=this.mergeDashLine(this.dashLines,[]),v=this.computeDashLine(m,d),M=0;M<p.length;M++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v[M]);b=SuperMapAlgoPlot.PlottingUtil.clearSamePts(b);for(var A=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(A,b),_=0;_<p.length;_++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[_]);var L=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(L.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,l+90);this.addScalePoint(w,0),this.addScalePoint(S[0],1),this.finish()}}}])&&uw(e.prototype,o),n&&uw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function gw(t){"@babel/helpers - typeof";return(gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pw(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yw(t,e){return(yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dw(t);if(e){var r=dw(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dw(t){return(dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39600=hw;var bw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Sw(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[];if(t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var n=0;n<o.scalePoints.length;n++)this.addScalePoint(o.scalePoints[n]);e=o.beizerPoints}if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),!(e.length<=0)){this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(.5*this.getSubSymbolScaleValue()));var r=0;t.length>2&&(r=t.length-1);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)*this.scaleValues[4*r],a=i*this.scaleValues[4*r+1]/1.667,s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e);if(s.bfind){var u=s.index,p=s.pts,c=3.6*a,f=l-c,h=l+c;if((s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var g,P=s.pts,y=[];if(0==(u=s.index))y.push(e[0]);else for(g=0;g<u;g++)y.push(e[g]);if(y.push(P),(s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,e)).bfind){var S=s.pts;u=s.index;var d=[];for(d.push(S),g=u+1;g<e.length;g++)d.push(e[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var b=SuperMapAlgoPlot.PlottingUtil.radian(P,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,m=SuperMapAlgoPlot.PlottingUtil.distance(P,S),v=new SuperMapAlgoPlot.Point((P.x+S.x)/2,(P.y+S.y)/2);if(this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],v,m,b),!(y.length<2)){var M=y[0],A=y[1],O=SuperMapAlgoPlot.PlottingUtil.radian(M,A)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,a,a,O+90),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,a,a,O+270),w=[];if(w.push(_),w.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0}),!(d.length<2)){var x=d[d.length-1],U=d[d.length-2],E=SuperMapAlgoPlot.PlottingUtil.radian(x,U)*SuperMapAlgoPlot.PlottingUtil.RTOD,T=SuperMapAlgoPlot.PlottingUtil.circlePoint(x,a,a,E+90),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(x,a,a,E+270);(w=[]).push(T),w.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0});var R=SuperMapAlgoPlot.PlottingUtil.paraLine(e,a,!1),I=SuperMapAlgoPlot.PlottingUtil.polylineDistance(R)/11,C=I;for(g=0;g<11;g++)if((s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(C-I,R)).bfind){var j=s.index,N=s.pts;if((s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(C,R)).bfind){var D=s.pts,B=s.index;if(g%2==0){var Y=[];Y.push(N);for(var k=j+1;k<=B;k++)Y.push(R[k]);Y.push(D),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Y,{surroundLineLimit:!0,lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1})}C+=I}}this.addScalePoint(p),this.addScalePoint(_),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var l,a=e,s=[];for(l=0;l<n.length;l++)s.push(n[l]);var u,p=-1,c=0;for(l=0;l<s.length-1;l++){var f=[];f.push(s[l]),f.push(s[l+1]);var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,s[l],s[l+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(h,f).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,h);-1==p?(p=l,u=h,c=g):c>g&&(p=l,u=h,c=g)}}if(-1==p||p>s.length-1)return;var P=0;for(l=0;l<p;l++){var y=n[l],S=n[l+1];P+=SuperMapAlgoPlot.PlottingUtil.distance(y,S)}var d=n[p];if((P+=SuperMapAlgoPlot.PlottingUtil.distance(d,u))<0||P>i)return;var b=P/i;if(b>.8||b<.2)return;2==o.length?this.scaleValues[0]=b:this.scaleValues[2*t]=b}else if(2*o.length-1==t||2==o.length&&1==t){var m=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/r;2==o.length?this.scaleValues[1]=m:this.scaleValues[2*t-1]=m}else{var v=-1;v=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var M=(e.x-o[v].x)/r,A=(e.y-o[v].y)/r;this.scaleValues[2*t]=M,this.scaleValues[2*t+1]=A}}}}])&&Pw(e.prototype,o),n&&Pw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mw(t){"@babel/helpers - typeof";return(mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vw(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mw(t,e){return(Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Aw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ow(t);if(e){var r=Ow(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ow(t){return(Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39800=bw;var _w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Aw(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[];if(t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var n=0;n<o.scalePoints.length;n++)this.addScalePoint(o.scalePoints[n]);e=o.beizerPoints}var r=e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);if(!(e.length<=0)){if(!this.isEdit||this.scaleValues.length==4*(t.length-1)||2==t.length&&0==this.scaleValues.length){this.scaleValues.push(.5);var i=this.getSubSymbolScaleValue();(i>.3||i<=0)&&(i=.3),this.scaleValues.push(.5*i)}var l=0;l=2==t.length?0:t.length-1;var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),u=s*this.scaleValues[4*l],p=a*this.scaleValues[4*l+1]/1.667,c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,e);if(c.bfind){c.index;var f=c.pts,h=3*p,g=u-h,P=u+h;if((c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,e)).bfind){var y=c.pts;if(c.index,(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e)).bfind){var S=c.pts;c.index;var d=[];d.push(0),d.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,y)/s),d.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,S)/s),d.push(1);for(var b=this.mergeDashLine(this.dashLines,d),m=this.computeDashLine(b,e),v=0;v<m.length;v++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m[v]);var M=SuperMapAlgoPlot.PlottingUtil.dirAngle(y,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=SuperMapAlgoPlot.PlottingUtil.distance(y,S),O=new SuperMapAlgoPlot.Point((y.x+S.x)/2,(y.y+S.y)/2);if(this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],O,A,M),!(r.length<2)){var _=r[0],L=r[1],w=SuperMapAlgoPlot.PlottingUtil.dirAngle(_,L)*SuperMapAlgoPlot.PlottingUtil.RTOD,x=SuperMapAlgoPlot.PlottingUtil.circlePoint(_,p,p,w+90),U=SuperMapAlgoPlot.PlottingUtil.circlePoint(_,p,p,w+270),E=[];if(E.push(x),E.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E,{lineTypeLimit:!0,surroundLineLimit:!0}),!(r.length<2)){var T=r[r.length-1],V=r[r.length-2],R=SuperMapAlgoPlot.PlottingUtil.dirAngle(T,V)*SuperMapAlgoPlot.PlottingUtil.RTOD,I=SuperMapAlgoPlot.PlottingUtil.circlePoint(T,p,p,R+90),C=SuperMapAlgoPlot.PlottingUtil.circlePoint(T,p,p,R+270);(E=[]).push(I),E.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(f),this.addScalePoint(x),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var l,a=e,s=[];for(l=0;l<n.length;l++)s.push(n[l]);var u,p=-1,c=0;for(l=0;l<s.length-1;l++){var f=[];f.push(s[l]),f.push(s[l+1]);var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,s[l],s[l+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(h,f).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,h);-1==p?(p=l,u=h,c=g):c>g&&(p=l,u=h,c=g)}}if(-1==p||p>s.length-1)return;var P=0;for(l=0;l<p;l++){var y=n[l],S=n[l+1];P+=SuperMapAlgoPlot.PlottingUtil.distance(y,S)}var d=n[p];if((P+=SuperMapAlgoPlot.PlottingUtil.distance(d,u))<0||P>i)return;var b=P/i;if(b>.8||b<.2)return;2==o.length?this.scaleValues[0]=b:this.scaleValues[2*t]=b}else if(2*o.length-1==t||2==o.length&&1==t){var m=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/r;2==o.length?this.scaleValues[1]=m:this.scaleValues[2*t-1]=m}else{var v=-1;v=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var M=(e.x-o[v].x)/r,A=(e.y-o[v].y)/r;this.scaleValues[2*t]=M,this.scaleValues[2*t+1]=A}}}}])&&vw(e.prototype,o),n&&vw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Lw(t){"@babel/helpers - typeof";return(Lw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ww(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xw(t,e){return(xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Uw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ew(t);if(e){var r=Ew(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Lw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ew(t){return(Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39801=_w;var Tw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Uw(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[];if(t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var n=0;n<o.scalePoints.length;n++)this.addScalePoint(o.scalePoints[n]);e=o.beizerPoints}if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),!(e.length<=0)){this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(.5*this.getSubSymbolScaleValue()));var r=0;t.length>2&&(r=t.length-1);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)*this.scaleValues[4*r],a=i*this.scaleValues[4*r+1]/1.667,s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e);if(s.bfind){var u=s.index,p=s.pts,c=3*a,f=l-c,h=l+c;if((s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var g,P=s.pts,y=[];if(0==(u=s.index))y.push(e[0]);else for(g=0;g<u;g++)y.push(e[g]);if(y.push(P),(s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,e)).bfind){var S=s.pts;u=s.index;var d=[];for(d.push(S),g=u+1;g<e.length;g++)d.push(e[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var b=SuperMapAlgoPlot.PlottingUtil.radian(P,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,m=SuperMapAlgoPlot.PlottingUtil.distance(P,S),v=new SuperMapAlgoPlot.Point((P.x+S.x)/2,(P.y+S.y)/2);if(this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],v,m,b),!(y.length<2)){var M=y[0],A=y[1],O=SuperMapAlgoPlot.PlottingUtil.radian(M,A)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,a,a,O+90),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,a,a,O+270),w=[];if(w.push(_),w.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0}),!(d.length<2)){var x=d[d.length-1],U=d[d.length-2],E=SuperMapAlgoPlot.PlottingUtil.radian(x,U)*SuperMapAlgoPlot.PlottingUtil.RTOD,T=SuperMapAlgoPlot.PlottingUtil.circlePoint(x,a,a,E+90),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(x,a,a,E+270);(w=[]).push(T),w.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0});var R=SuperMapAlgoPlot.PlottingUtil.paraLine(e,a,!1),I=SuperMapAlgoPlot.PlottingUtil.polylineDistance(R)/11,C=I;for(g=0;g<11;g++)if((s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(C-I,R)).bfind){var j=s.index,N=s.pts;if((s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(C,R)).bfind){var D=s.pts,B=s.index;if(g%2==0){var Y=[];Y.push(N);for(var k=j+1;k<=B;k++)Y.push(R[k]);Y.push(D),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Y,{surroundLineLimit:!0,lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1})}C+=I}}var F;F=SuperMapAlgoPlot.PlottingUtil.paraLine(e,3.5*a,!1),SuperMapAlgoPlot.PlottingUtil.clearSamePts(F);for(var z=this.mergeDashLine(this.dashLines,[]),G=this.computeDashLine(z,F),q=0;q<G.length;q++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,G[q]);var X;X=SuperMapAlgoPlot.PlottingUtil.paraLine(e,3.5*a,!0),SuperMapAlgoPlot.PlottingUtil.clearSamePts(X);for(var W=this.mergeDashLine(this.dashLines,[]),H=this.computeDashLine(W,X),K=0;K<H.length;K++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,H[K]);this.addScalePoint(p),this.addScalePoint(_),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var l,a=e,s=[];for(l=0;l<n.length;l++)s.push(n[l]);var u,p=-1,c=0;for(l=0;l<s.length-1;l++){var f=[];f.push(s[l]),f.push(s[l+1]);var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,s[l],s[l+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(h,f).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,h);-1==p?(p=l,u=h,c=g):c>g&&(p=l,u=h,c=g)}}if(-1==p||p>s.length-1)return;var P=0;for(l=0;l<p;l++){var y=n[l],S=n[l+1];P+=SuperMapAlgoPlot.PlottingUtil.distance(y,S)}var d=n[p];if((P+=SuperMapAlgoPlot.PlottingUtil.distance(d,u))<0||P>i)return;var b=P/i;if(b>.8||b<.2)return;2==o.length?this.scaleValues[0]=b:this.scaleValues[2*t]=b}else if(2*o.length-1==t||2==o.length&&1==t){var m=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/r;2==o.length?this.scaleValues[1]=m:this.scaleValues[2*t-1]=m}else{var v=-1;v=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var M=(e.x-o[v].x)/r,A=(e.y-o[v].y)/r;this.scaleValues[2*t]=M,this.scaleValues[2*t+1]=A}}}}])&&ww(e.prototype,o),n&&ww(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Vw(t){"@babel/helpers - typeof";return(Vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rw(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Iw(t,e){return(Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jw(t);if(e){var r=jw(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Vw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jw(t){return(jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol39802=Tw;var Nw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Cw(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[];if(t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var n=0;n<o.scalePoints.length;n++)this.addScalePoint(o.scalePoints[n]);e=o.beizerPoints}if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),!(e.length<=0)){if(!this.isEdit||this.scaleValues.length==4*(t.length-1)||2==t.length&&0==this.scaleValues.length){this.scaleValues.push(.5);var r=this.getSubSymbolScaleValue();(r>.3||r<=0)&&(r=.3),this.scaleValues.push(.5*r)}var i=0;t.length>2&&(i=t.length-1);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),s=a*this.scaleValues[4*i],u=l*this.scaleValues[4*i+1]/1.667,p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,e);if(p.bfind){var c=p.index,f=p.pts,h=3.6*u,g=s-h,P=s+h;if((p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,e)).bfind){var y,S=p.pts,d=[];if(0==(c=p.index))d.push(e[0]);else for(y=0;y<c;y++)d.push(e[y]);if(d.push(S),(p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e)).bfind){var b=p.pts;c=p.index;var m=[];for(m.push(b),y=c+1;y<e.length;y++)m.push(e[y]);var v={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},M=[];M.push(0),M.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,S)/a),M.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,b)/a),M.push(1);for(var A=this.mergeDashLine(this.dashLines,M),O=this.computeDashLine(A,e),_=0;_<O.length;_++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[_],v);if(!(e.length<2)){var L=e[0],w=e[1],x=SuperMapAlgoPlot.PlottingUtil.dirAngle(L,w)*SuperMapAlgoPlot.PlottingUtil.RTOD,U=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,u,u,x+90),E=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,u,u,x+270),T={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,lineTypeLimit:!0,surroundLineLimit:!0},V=[];if(V.push(U),V.push(E),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V,T),!(e.length<2)){var R=e[e.length-1],I=e[e.length-2],C=SuperMapAlgoPlot.PlottingUtil.dirAngle(R,I)*SuperMapAlgoPlot.PlottingUtil.RTOD,j=SuperMapAlgoPlot.PlottingUtil.circlePoint(R,u,u,C+90),N=SuperMapAlgoPlot.PlottingUtil.circlePoint(R,u,u,C+270);(V=[]).push(j),V.push(N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V,T);var D=SuperMapAlgoPlot.PlottingUtil.dirAngle(S,b)*SuperMapAlgoPlot.PlottingUtil.RTOD,B=SuperMapAlgoPlot.PlottingUtil.distance(S,b),Y=new SuperMapAlgoPlot.Point((S.x+b.x)/2,(S.y+b.y)/2);if(this.subSymbols.length>0){var k=this.computeSubSymbol(this.subSymbols[0],Y,B,D);if(null!=k)for(var F=0;F<k.length;F++)k[F].style.lineColorLimit=!0,k[F].style.strokeColor="#0000ff",k[F].style.color="#0000ff"}var z=SuperMapAlgoPlot.PlottingUtil.findPointInLine(S,b,.4*B),G=SuperMapAlgoPlot.PlottingUtil.circlePoint(z,.75*B,.75*B,D+135),q=SuperMapAlgoPlot.PlottingUtil.circlePoint(z,.75*B,.75*B,D+315),X=SuperMapAlgoPlot.PlottingUtil.distance(G,q);(V=[]).push(G),V.push(q),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V,{lineTypeLimit:!0,surroundLineLimit:!0});var W=SuperMapAlgoPlot.PlottingUtil.findPointInLine(G,q,1.2*X),H=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.06*X,G,q),K=SuperMapAlgoPlot.PlottingUtil.linePnt(G,q,1.1*X);(V=[]).push(H.pntRight),V.push(W),V.push(H.pntLeft),V.push(K),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,V,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(f),this.addScalePoint(U),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var l,a=e,s=[];for(l=0;l<n.length;l++)s.push(n[l]);var u,p=-1,c=0;for(l=0;l<s.length-1;l++){var f=[];f.push(s[l]),f.push(s[l+1]);var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,s[l],s[l+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(h,f).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,h);-1==p?(p=l,u=h,c=g):c>g&&(p=l,u=h,c=g)}}if(-1==p||p>s.length-1)return;var P=0;for(l=0;l<p;l++){var y=n[l],S=n[l+1];P+=SuperMapAlgoPlot.PlottingUtil.distance(y,S)}var d=n[p];if((P+=SuperMapAlgoPlot.PlottingUtil.distance(d,u))<0||P>i)return;var b=P/i;if(b>.9||b<.1)return;2==o.length?this.scaleValues[0]=b:this.scaleValues[2*t]=b}else if(2*o.length-1==t||2==o.length&&1==t){var m=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/r;m>=.3&&(m=.3),2==o.length?this.scaleValues[1]=m:this.scaleValues[2*t-1]=m}else{var v=-1;v=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var M=(e.x-o[v].x)/r,A=(e.y-o[v].y)/r;this.scaleValues[2*t]=M,this.scaleValues[2*t+1]=A}}}}])&&Rw(e.prototype,o),n&&Rw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Dw(t){"@babel/helpers - typeof";return(Dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bw(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yw(t,e){return(Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Fw(t);if(e){var r=Fw(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Dw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Fw(t){return(Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40000=Nw;var zw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=kw(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/i;(a>.3||a<=0)&&(a=.3),this.scaleValues[0]=.4*a}var s=i*this.scaleValues[0],u=i*this.scaleValues[2],p=i*this.scaleValues[3],c=new SuperMapAlgoPlot.Point(l.x+u,l.y+p),f=.6*s,h=new SuperMapAlgoPlot.Point(c.x+s,c.y),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,f,f,0),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,f,f,180),y=[];y.push(g),y.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0});var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,f,f,90),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,f,f,270);(y=[]).push(S),y.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0});var b=new SuperMapAlgoPlot.Point(c.x-s,c.y),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,.5*s,.5*s,270),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,s,s,240),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,s,s,90),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,s,s,300);(y=[]).push(m),y.push(v),y.push(M),y.push(A),y.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var O=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,0);this.addScalePoint(O),this.addScalePoint(c),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),n=[];if(n=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n)).length)return;var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n);if(0==t){var l=r*this.scaleValues[2],a=r*this.scaleValues[3],s=new SuperMapAlgoPlot.Point(i.x+l,i.y+a),u=SuperMapAlgoPlot.PlottingUtil.distance(e,s)/r;this.scaleValues[0]=u}else if(1==t){var p=(e.x-i.x)/r,c=(e.y-i.y)/r;this.scaleValues[2]=p,this.scaleValues[3]=c}}}}])&&Bw(e.prototype,o),n&&Bw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Gw(t){"@babel/helpers - typeof";return(Gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qw(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xw(t,e){return(Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ww(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Hw(t);if(e){var r=Hw(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Gw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hw(t){return(Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40100=zw;var Kw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ww(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var a=this.getSubSymbolScaleValue();(a>.3||a<=0)&&(a=.3),this.scaleValues[0]=.2*a}var s=i*this.scaleValues[0],u=i*this.scaleValues[2],p=i*this.scaleValues[3],c=new SuperMapAlgoPlot.Point(l.x+u,l.y+p),f=[];f.push(c),f.push(new SuperMapAlgoPlot.Point(c.x+s,c.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,f,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});for(var h=18*s,g=new SuperMapAlgoPlot.Point(c.x+h,c.y),P=[],y=135;y<180;y+=3)P.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(g,h,h,y));P.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(g,h,h,180)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,0);this.addScalePoint(S),this.addScalePoint(c),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),n=[];if(n=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n)).length)return;var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n);if(0==t){var l=r*this.scaleValues[2],a=r*this.scaleValues[3],s=new SuperMapAlgoPlot.Point(i.x+l,i.y+a),u=SuperMapAlgoPlot.PlottingUtil.distance(e,s)/r;this.scaleValues[0]=u}else if(1==t){var p=(e.x-i.x)/r,c=(e.y-i.y)/r;this.scaleValues[2]=p,this.scaleValues[3]=c}}}}])&&qw(e.prototype,o),n&&qw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Jw(t){"@babel/helpers - typeof";return(Jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zw(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qw(t,e){return(Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tx(t);if(e){var r=tx(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Jw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tx(t){return(tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40101=Kw;var ex=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=$w(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(t.length<3)e.push(t[0]),e.push(t[1]);else{var n=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=n.scaleValues;for(var r=0;r<n.scalePoints.length;r++)this.addScalePoint(n.scalePoints[r]);e=n.beizerPoints}SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(this.getSubSymbolScaleValue())),!(e.length<=0)){var l;l=2==t.length?0:t.length-1;var a=i*this.scaleValues[4*l],s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(s.bfind){var u=s.index,p=s.pts,c=o*this.scaleValues[4*l+1],f=a-c,h=a+c;if((s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var g,P=s.pts,y=[];if(0==(u=s.index))y.push(e[0]);else for(g=0;g<u;g++)y.push(e[g]);if(y.push(P),(s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,e)).bfind){var S=s.pts;u=s.index;var d=[];for(d.push(S),g=u+1;g<e.length;g++)d.push(e[g]);var b=[];b.push(0),b.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,P)/i),b.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,S)/i),b.push(1);for(var m=this.mergeDashLine(this.dashLines,b),v=this.computeDashLine(m,e),M=0;M<v.length;M++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v[M]);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[p,S],{lineTypeLimit:!0,surroundLineLimit:!0});var A=o*this.scaleValues[4*l+1]/1.667;if(!(y.length<2)){var O=y[0],_=y[1],L=SuperMapAlgoPlot.PlottingUtil.radian(O,_)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,A,A,L+90),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,A,A,L+270),U=[];if(U.push(w),U.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0}),!(d.length<2)){var E=d[d.length-1],T=d[d.length-2],V=SuperMapAlgoPlot.PlottingUtil.radian(E,T)*SuperMapAlgoPlot.PlottingUtil.RTOD,R=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,A,A,V+90),I=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,A,A,V+270);(U=[]).push(R),U.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(p),this.addScalePoint(w),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var l,a=e,s=[];for(l=0;l<n.length;l++)s.push(n[l]);var u,p=-1,c=0;for(l=0;l<s.length-1;l++){var f=[];f.push(s[l]),f.push(s[l+1]);var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,s[l],s[l+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(h,f).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,h);-1==p?(p=l,u=h,c=g):c>g&&(p=l,u=h,c=g)}}if(-1==p||p>s.length-1)return;var P=0;for(l=0;l<p;l++){var y=n[l],S=n[l+1];P+=SuperMapAlgoPlot.PlottingUtil.distance(y,S)}var d=n[p];if((P+=SuperMapAlgoPlot.PlottingUtil.distance(d,u))<0||P>i)return;var b=P/i;if(b>.8||b<.2)return;2==o.length?this.scaleValues[0]=b:this.scaleValues[2*t]=b}else if(2*o.length-1==t||2==o.length&&1==t){var m=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/r;2==o.length?this.scaleValues[1]=m:this.scaleValues[2*t-1]=m}else{var v=-1;v=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var M=(e.x-o[v].x)/r,A=(e.y-o[v].y)/r;this.scaleValues[2*t]=M,this.scaleValues[2*t+1]=A}}}}])&&Zw(e.prototype,o),n&&Zw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ox(t){"@babel/helpers - typeof";return(ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nx(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rx(t,e){return(rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ix(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=lx(t);if(e){var r=lx(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===ox(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lx(t){return(lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40900=ex;var ax=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rx(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ix(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.5),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&this.scaleValues.push(.5);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=e/o/2,r=.1*e;this.isEdit||(this.scaleValues[0]=n);var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]-.4*e,t);if(i.bfind){var l=i.pts,a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]+.4*e,t);if(a.bfind){var s=a.pts,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]-.3*e,t);if(u.bfind){var p=u.pts,c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]+.3*e,t);if(c.bfind){var f=c.pts,h=0,g=0,P=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(l,t);P.isOnPolyLine&&(h=P.index);var y=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(s,t);y.isOnPolyLine&&(g=y.index);var S=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],t);if(S.bfind){var d=S.pts,b=[];if(b.push(p),h!==g)for(var m=h+1;m<=g;m++)b.push(t[m]);b.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(b));for(var v=[],M=0;M<=i.index;M++)v.push(t[M]);v.push(l),v=SuperMapAlgoPlot.PlottingUtil.inverse(v);var A=[];if(a.index<=t.length){A.push(s);for(var O=a.index+1;O<=t.length-1;O++)A.push(t[O])}A=SuperMapAlgoPlot.PlottingUtil.inverse(A);for(var _=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(d,b),L=0,w=0;w<_.index;w++)L+=SuperMapAlgoPlot.PlottingUtil.distance(b[w],b[w+1]);L+=SuperMapAlgoPlot.PlottingUtil.distance(d,b[_.index]);var x=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(L-.1,b);if(x.bfind){var U=x.pts,E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.42*e,U,d),T=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.48*e,U,d),V=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.6*e,U,d),R=E.pntLeft,I=T.pntLeft,C=V.pntLeft;this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[d,R]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[I,C]);var j=SuperMapAlgoPlot.PlottingUtil.polylineDistance([I,C]),N=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*j,I,C).pntRight;if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[C,N]),t.length>this.minEditPts){for(var D,B,Y,k,F,z,G,q,X,W=1;W<t.length-1;W++){for(D=t[W],B=t[W+1],Y=t[W-1],F=180*SuperMapAlgoPlot.PlottingUtil.radian(D,B)/Math.PI,z=180*SuperMapAlgoPlot.PlottingUtil.radian(D,Y)/Math.PI-F;z<0;)z+=360;k=z/2,G=t[W+1].clone(),G=SuperMapAlgoPlot.PlottingUtil.rotateAngle(D,k*Math.PI/180,G),q=SuperMapAlgoPlot.PlottingUtil.linePnt(D,G,r),(X=[]).push(t[W]),X.push(q),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,X,{surroundLineLimit:!0,lineTypeLimit:!0},!0)}var H=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[t.length-2],t[t.length-1]),K=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[1],t[0]),J=H.pntLeft,Z=K.pntRight;v.push(Z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v),A.splice(0,0,J),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A)}else{var Q=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[0],t[1]),$=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[1],t[0]),tt=Q.pntLeft,et=$.pntRight;v.push(et),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v),A.splice(0,0,tt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A)}this.addScalePoint(d,0),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(o.length<this.minEditPts)return;for(var r=-1,i=new SuperMapAlgoPlot.Point(0,0),l=0;l<o.length-1;l++){var a=[];a.push(o[l]),a.push(o[l+1]);var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[l],o[l+1]);SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(s,a).isOnPolyLine&&(r=l,i=s)}if(-1===r||r>o.length-1)return;for(var u=0,p=0;p<r;p++)u+=SuperMapAlgoPlot.PlottingUtil.distance(o[p],o[p+1]);var c=o[r];if((u+=SuperMapAlgoPlot.PlottingUtil.distance(c,i))<0||u>n)return;var f=u/n,h=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1])/n;f<.4*h&&(f=.4*h),f>1-.4*h&&(f=1-.4*h),this.scaleValues[0]=f}}}])&&nx(e.prototype,o),n&&nx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function sx(t){"@babel/helpers - typeof";return(sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ux(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function px(t,e){return(px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=fx(t);if(e){var r=fx(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===sx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fx(t){return(fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41100=ax;var hx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&px(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=cx(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var n=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*n/e}var r=this.scaleValues[0],i=this.scaleValues[1],l=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),s=new SuperMapAlgoPlot.Point(a.x+r*e,a.y+i*e),u=l*e,p=new SuperMapAlgoPlot.Point(s.x,s.y),c=new SuperMapAlgoPlot.Point(s.x-u,s.y-u),f=new SuperMapAlgoPlot.Point(s.x+u,s.y-u),h=new SuperMapAlgoPlot.Point(s.x-u,s.y+u),g=new SuperMapAlgoPlot.Point(s.x+u,s.y+u),P=[];P.push(p),P.push(c),P.push(f),P.push(p),P.push(h),P.push(g),P.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(s);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,90);this.addScalePoint(y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==n)return;var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)r=(a.x-l.x)/n,this.scaleValues[0]=r,i=(a.y-l.y)/n,this.scaleValues[1]=i;else if(1==t){r=this.scaleValues[0],i=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(l.x+r*n,l.y+i*n),u=SuperMapAlgoPlot.PlottingUtil.distance(a,s)/n;this.scaleValues[2]=u}}}}])&&ux(e.prototype,o),n&&ux(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function gx(t){"@babel/helpers - typeof";return(gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Px(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yx(t,e){return(yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dx(t);if(e){var r=dx(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dx(t){return(dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41200=hx;var bx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Sx(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(0!==e){var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var n=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*n/e}var r=this.scaleValues[0],i=this.scaleValues[1],l=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),s=new SuperMapAlgoPlot.Point(a.x+r*e,a.y+i*e),u=l*e,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,210),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,330),h=[];h.push(p),h.push(c),h.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{fill:!1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(s);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,90);this.addScalePoint(g),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==n)return;var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)r=(a.x-l.x)/n,this.scaleValues[0]=r,i=(a.y-l.y)/n,this.scaleValues[1]=i;else if(1==t){r=this.scaleValues[0],i=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(l.x+r*n,l.y+i*n),u=SuperMapAlgoPlot.PlottingUtil.distance(a,s)/n;this.scaleValues[2]=u}}}}])&&Px(e.prototype,o),n&&Px(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mx(t){"@babel/helpers - typeof";return(mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vx(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mx(t,e){return(Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ax(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ox(t);if(e){var r=Ox(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ox(t){return(Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41201=bx;var _x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mx(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ax(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(0!=e){var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var n=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*n/e}var r=this.scaleValues[0],i=this.scaleValues[1],l=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),s=new SuperMapAlgoPlot.Point(a.x+r*e,a.y+i*e),u=l*e,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,270),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,30),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,150),h=[];h.push(p),h.push(c),h.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{fill:!1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(s);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,90);this.addScalePoint(g),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==n)return;var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)r=(a.x-l.x)/n,this.scaleValues[0]=r,i=(a.y-l.y)/n,this.scaleValues[1]=i;else if(1==t){r=this.scaleValues[0],i=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(l.x+r*n,l.y+i*n),u=SuperMapAlgoPlot.PlottingUtil.distance(a,s)/n;this.scaleValues[2]=u}}}}])&&vx(e.prototype,o),n&&vx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Lx(t){"@babel/helpers - typeof";return(Lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wx(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xx(t,e){return(xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ux(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Ex(t);if(e){var r=Ex(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Lx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ex(t){return(Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41202=_x;var Tx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xx(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Ux(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o={fillLimit:!0,fill:!1,surroundLineFlag:!1},n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,e),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i],o);var l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var s=this.getDefaultSubSymbolSize()/a;(s>.2||s<=0)&&(s=.2),this.scaleValues[0]=s}var u=this.scaleValues[0],p=this.scaleValues[2],c=this.scaleValues[3],f=a*u,h=new SuperMapAlgoPlot.Point(l.x+a*p,l.y+a*c);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],h,f,0),this.addScalePoint(h);var g=f,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,g,g,90);this.addScalePoint(P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=[];n=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)r=(e.x-l.x)/a,this.scaleValues[2]=r,i=(e.y-l.y)/a,this.scaleValues[3]=i;else if(1===t){r=this.scaleValues[2],i=this.scaleValues[3];var s=new SuperMapAlgoPlot.Point(l.x+a*r,l.y+a*i),u=SuperMapAlgoPlot.PlottingUtil.distance(s,e)/a;this.scaleValues[0]=u}}}}])&&wx(e.prototype,o),n&&wx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Vx(t){"@babel/helpers - typeof";return(Vx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rx(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ix(t,e){return(Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jx(t);if(e){var r=jx(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Vx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jx(t){return(jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42200=Tx;var Nx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ix(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Cx(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/i;(a>.3||a<=0)&&(a=.3),this.scaleValues[0]=.5*a}var s=i*this.scaleValues[0],u=i*this.scaleValues[2],p=i*this.scaleValues[3],c=[];c.push(new SuperMapAlgoPlot.Point(l.x+u,l.y+p)),c.push(new SuperMapAlgoPlot.Point(l.x+u+s,l.y+p)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,{fill:!1,surroundLineLimit:!0,lineTypeLimit:!0}),this.scalePoints=[],this.addScalePoint(new SuperMapAlgoPlot.Point(l.x+u+s,l.y+p)),this.addScalePoint(new SuperMapAlgoPlot.Point(l.x+u,l.y+p)),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=[];if(n=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n)).length)return;var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n);if(0==t){var l=r*this.scaleValues[2],a=r*this.scaleValues[3],s=new SuperMapAlgoPlot.Point(i.x+l,i.y+a),u=SuperMapAlgoPlot.PlottingUtil.distance(e,s)/r;this.scaleValues[0]=u}else if(1==t){var p=(e.x-i.x)/r,c=(e.y-i.y)/r;this.scaleValues[2]=p,this.scaleValues[3]=c}}}}])&&Rx(e.prototype,o),n&&Rx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Dx(t){"@babel/helpers - typeof";return(Dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bx(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yx(t,e){return(Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Fx(t);if(e){var r=Fx(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Dx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Fx(t){return(Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42400=Nx;var zx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yx(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=kx(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.285714),e.scaleValues.push(.5),e.scaleValues.push(.333333),e.scaleValues.push(.333333)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.285714),this.scaleValues.push(.5),this.scaleValues.push(.333333));var e=t[0].clone(),o=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=this.scaleValues[0],i=new SuperMapAlgoPlot.Point(0,-n*r),l=new SuperMapAlgoPlot.Point(0,n*r),a=this.scaleValues[1],s=this.scaleValues[3],u=new SuperMapAlgoPlot.Point(n*(1-s),-n*a),p=new SuperMapAlgoPlot.Point(n*(1-s),n*a),c=this.scaleValues[2],f=this.scaleValues[4],h=new SuperMapAlgoPlot.Point(n*(1-f),-n*c),g=new SuperMapAlgoPlot.Point(n*(1-f),n*c),P=new SuperMapAlgoPlot.Point(n,0),y=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(l),S.push(p),S.push(g),S.push(P),S.push(h),S.push(u),S.push(i);for(var d=[],b=0;b<S.length;b++){var m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[b],y);d.push(m)}var v=[];v.push(d[0]),v.push(d[1]);for(var M=this.mergeDashLine(this.dashLines,[]),A=this.computeDashLine(M,v),O=0;O<A.length;O++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A[O]);var _=[];_.push(d[d.length-2]),_.push(d[d.length-1]);for(var L=this.mergeDashLine(this.dashLines,[]),w=this.computeDashLine(L,_),x=0;x<w.length;x++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w[x]);var U=[];U.push(A[A.length-1]);for(var E=1;E<d.length-1;E++)U.push(d[E]);U.push(w[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U);var T,V,R,I=!0;e.x>o.x&&(I=!1);var C,j=(R=.1*n)+(V=.12*n/2);T=1==I?(C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(j,o,e)).pntRight:(C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(j,o,e)).pntLeft;var N,D,B,Y,k,F,z,G,q=[];q.push(T),q.push(new SuperMapAlgoPlot.Point(T.x+V,T.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,q,{lineTypeLimit:!0,surroundLineLimit:!0}),1==I?(N=(C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.85*R,o,e)).pntRight,Y=C.pntLeft,D=(C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(R,N,Y)).pntRight,B=C.pntLeft):(N=(C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.85*R,o,e)).pntLeft,Y=C.pntRight,D=(C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(R,N,Y)).pntLeft,B=C.pntRight),(q=[]).push(N),q.push(D),q.push(B),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,q,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*V,D,B),G=1==I?C.pntRight:C.pntLeft,C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*V,B,D),F=1==I?C.pntLeft:C.pntRight;var X=SuperMapAlgoPlot.PlottingUtil.intersectLines(N,F,B,D);X.isIntersectLines&&(k=X.intersectPoint,(X=SuperMapAlgoPlot.PlottingUtil.intersectLines(N,G,B,D)).isIntersectLines&&(z=X.intersectPoint,(q=[]).push(k),q.push(F),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,q,{lineTypeLimit:!0,surroundLineLimit:!0}),(q=[]).push(z),q.push(G),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,q,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(d[0]),this.addScalePoint(d[1]),this.addScalePoint(d[2]),this.finish()))}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n,r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),i=o[0].clone(),l=o[1].clone(),a=e.clone();if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.distance(a,i)/r;this.scaleValues[0]=s}else if(1==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var u=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[1]=u;var p=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[3]=p}else if(2==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var c=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[2]=c;var f=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[4]=f}}}}])&&Bx(e.prototype,o),n&&Bx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Gx(t){"@babel/helpers - typeof";return(Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qx(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xx(t,e){return(Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=Hx(t);if(e){var r=Hx(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Gx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hx(t){return(Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42500=zx;var Kx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xx(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=Wx(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.04),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}if(2==t.length)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);else{var o=[];(o=o.concat(t)).push(o[0]);for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i],{fill:!1})}var l,a,s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue(u)),a=u*this.scaleValues[0];var p=u*this.scaleValues[0],c=p+a;l=new SuperMapAlgoPlot.Point(s.x,s.y+c);var f=[];f.push(l),f.push(new SuperMapAlgoPlot.Point(l.x+a,l.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0});var h=new SuperMapAlgoPlot.Point(s.x,s.y+.8*p),g=new SuperMapAlgoPlot.Point(s.x-p,s.y-p),P=new SuperMapAlgoPlot.Point(s.x+p,s.y-p);(f=[]).push(h),f.push(g),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var y=new SuperMapAlgoPlot.Point(s.x-.5*p,s.y-p),S=new SuperMapAlgoPlot.Point(g.x,g.y-2*a),d=new SuperMapAlgoPlot.Point(s.x+.5*p,s.y-p),b=new SuperMapAlgoPlot.Point(P.x,P.y-2*a);(f=[]).push(y),f.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0}),(f=[]).push(d),f.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&qx(e.prototype,o),n&&qx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Jx(t){"@babel/helpers - typeof";return(Jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zx(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qx(t,e){return(Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tU(t);if(e){var r=tU(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===Jx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tU(t){return(tU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42700=Kx;var eU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qx(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=$x(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=[];for(e=75;e>=15;e-=5)n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),n=[],e=165;e>=105;e-=5)n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),n=[],e=255;e>=195;e-=5)n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),n=[],e=345;e>=285;e-=5)n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);var r,i,l,a,s,u=.2*o,p=new SuperMapAlgoPlot.Point(t[0].x-u,t[0].y),c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,t[0],p);r=c.pntRight,i=c.pntLeft,l=(c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*u,r,i)).pntLeft;var f=new SuperMapAlgoPlot.Point(r.x+2*u,r.y);a=(c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,r,f)).pntRight,s=c.pntLeft,(n=[]).push(l),n.push(i),n.push(r),n.push(s),n.push(a),n.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.finish()}}}])&&Zx(e.prototype,o),n&&Zx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function oU(t){"@babel/helpers - typeof";return(oU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nU(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rU(t,e){return(rU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=lU(t);if(e){var r=lU(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===oU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lU(t){return(lU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol43500=eU;var aU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rU(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=iU(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.105263),e.scaleValues.push(.181818),e.scaleValues.push(.285714),e.scaleValues.push(.285714)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.105263),this.scaleValues.push(.181818),this.scaleValues.push(.285714),this.scaleValues.push(.285714));var e=t[0].clone(),o=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=this.scaleValues[0],i=new SuperMapAlgoPlot.Point(0,-n*r),l=new SuperMapAlgoPlot.Point(0,n*r),a=this.scaleValues[1],s=this.scaleValues[3],u=new SuperMapAlgoPlot.Point(n*(1-s),-n*a),p=new SuperMapAlgoPlot.Point(n*(1-s),n*a),c=this.scaleValues[2],f=this.scaleValues[4],h=new SuperMapAlgoPlot.Point(n*(1-f),-n*c),g=new SuperMapAlgoPlot.Point(n*(1-f),n*c),P=new SuperMapAlgoPlot.Point(n,0),y=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(l),S.push(u),S.push(h),S.push(P),S.push(g),S.push(p),S.push(i);for(var d=[],b=0;b<S.length;b++){var m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[b],y);d.push(m)}for(var v=[],M=d.length-1;M>=0;--M)v.push(d[M]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v);var A=[],O=.06*n,_=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O,o,e),L=_.pntRight,w=_.pntLeft;A.push(L),A.push(w),O=.15*n;var x=new SuperMapAlgoPlot.Point(O,0),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,x,y);A.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,{lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,fillLimit:!0,fill:!0,fillColorLimit:!0,fillColor:"#0000FF",fillOpacity:1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(d[d.length-1]),this.addScalePoint(d[d.length-2]),this.addScalePoint(d[d.length-3]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n,r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),i=o[0].clone(),l=o[1].clone(),a=e.clone();if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.distance(a,i)/r;this.scaleValues[0]=s}else if(1==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var u=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[1]=u;var p=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[3]=p}else if(2==t){n=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,i,l);var c=SuperMapAlgoPlot.PlottingUtil.distance(n,a)/r;this.scaleValues[2]=c;var f=SuperMapAlgoPlot.PlottingUtil.distance(n,l)/r;this.scaleValues[4]=f}}}}])&&nU(e.prototype,o),n&&nU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function sU(t){"@babel/helpers - typeof";return(sU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uU(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pU(t,e){return(pU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=fU(t);if(e){var r=fU(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===sU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fU(t){return(fU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44100=aU;var hU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pU(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=cU(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(90)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=this.GetGoPts();if(!(t.length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(90));var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue(o);(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n}var r=this.scaleValues[0],i=this.scaleValues[1],l=this.scaleValues[2],a=o*r,s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(s.bfind){var u=s.pts,p=u,c=i*o,f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a-.5*c,e),h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a+.5*c,e),g=f.pts,P=h.pts,y=f.index,S=h.index;l+=180*SuperMapAlgoPlot.PlottingUtil.dirAngle(g,P)/Math.PI;var d=new SuperMapAlgoPlot.Point(c,-.5*c),b=new SuperMapAlgoPlot.Point(c,.5*c),m=new SuperMapAlgoPlot.Point(-c,.5*c),v=new SuperMapAlgoPlot.Point(-c,-.5*c),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,d,l),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,b,l),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,m,l),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,v,l),L=[];L.push(M),L.push(A),L.push(O),L.push(_),L.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,{lineTypeLimit:!0,surroundLineLimit:!0});var w=new SuperMapAlgoPlot.Point(.5*c,-.2*c),x=new SuperMapAlgoPlot.Point(.7*c,.2*c),U=new SuperMapAlgoPlot.Point(.3*c,.2*c),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,w,l),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,U,l),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,x,l),R=[];R.push(E),R.push(T),R.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,R,{lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var I=new SuperMapAlgoPlot.Point(c,0),C=new SuperMapAlgoPlot.Point(2.2*c,0),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,I,l),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,C,l);(R=[]).push(j),R.push(N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,{lineTypeLimit:!0,surroundLineLimit:!0});var D=new SuperMapAlgoPlot.Point(2*c,.15*c),B=new SuperMapAlgoPlot.Point(2*c,-.15*c),Y=new SuperMapAlgoPlot.Point(2.6*c,0),k=new SuperMapAlgoPlot.Point(2.2*c,0),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,D,l),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,B,l),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,Y,l),q=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,k,l);(R=[]).push(F),R.push(G),R.push(z),R.push(q),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,R,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var X,W=[],H=[];for(X=0;X<=y;X++)W.push(e[X]);for(W.push(g),H.push(P),X=S+1;X<e.length;X++)H.push(e[X]);var K=[];K.push(0),K.push(r-.5*i),K.push(r+.5*i),K.push(1);for(var J=this.mergeDashLine(this.dashLines,K),Z=this.computeDashLine(J,e),Q=0;Q<Z.length;Q++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Z[Q]);this.scalePoints=[],this.addScalePoint(u),this.addScalePoint(N),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0==t){for(var a=e.clone(),s=-1,u=0,p=0;p<n.length-1;p++){var c=[];c.push(n[p]),c.push(n[p+1]);var f=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,n[p],n[p+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,c).isOnPolyLine){var h=SuperMapAlgoPlot.PlottingUtil.distance(a,f);-1==s?(s=p,u=h):u>h&&(s=p,u=h)}}if(-1==s)return SuperMapAlgoPlot.PlottingUtil.distance(a,n[0])>SuperMapAlgoPlot.PlottingUtil.distance(a,n[n.length-1])?void(s=n.length-1):void(s=0);if(r=0,0===s)r=SuperMapAlgoPlot.PlottingUtil.distance(n[0],f);else for(var g=0;g<s;g++)r+=SuperMapAlgoPlot.PlottingUtil.distance(n[g],n[g+1]);if(r<0||r>l)return;i=r/l,this.scaleValues[0]=i}else if(1==t){r=this.scaleValues[0]*l;var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,n);if(!P.bfind)return;var y=P.pts;i=.5*SuperMapAlgoPlot.PlottingUtil.distance(y,e)/l,this.scaleValues[1]=i;for(var S,d,b=y,m=1.2*i,v=[],M=[],A=0;A<P.index;A++)v.push(n[A]);v.push(b),M.push(b);for(A=P.index+1;A<n.length;A++)M.push(n[A]);var O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r-m,v);S=O.pts,O.bfind||(S=n[0]),d=(O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(m,M)).pts,O.bfind||(d=n[n.length-1]);var _=SuperMapAlgoPlot.PlottingUtil.dirAngle(S,d)*SuperMapAlgoPlot.PlottingUtil.RTOD,L=SuperMapAlgoPlot.PlottingUtil.dirAngle(y,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=L-_}}}},{key:"GetGoPts",value:function(){var t=[];return this.controlPoints.length<this.minEditPts?t:(t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),1==(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length&&(t=[]),t)}}])&&uU(e.prototype,o),n&&uU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function gU(t){"@babel/helpers - typeof";return(gU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PU(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yU(t,e){return(yU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function SU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dU(t);if(e){var r=dU(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dU(t){return(dU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44200=hU;var bU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yU(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=SU(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var a=this.scaleValues[0],s=this.scaleValues[2],u=this.scaleValues[3];i.x=i.x+s*l,i.y=i.y+u*l;var p=l*a,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,p,p,90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,p,p,210),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,p,p,330),g=[];g.push(c),g.push(f),g.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,{lineTypeLimit:!0,lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineLimit:!0,fillLimit:!0,fill:!0}),this.scalePoints=[],this.addScalePoint(c),this.addScalePoint(i),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=[];if(n=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n)).length)return;var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n);if(0===t){var l=r*this.scaleValues[2],a=r*this.scaleValues[3],s=new SuperMapAlgoPlot.Point(i.x+l,i.y+a),u=SuperMapAlgoPlot.PlottingUtil.distance(e,s)/r;this.scaleValues[0]=u}else if(1===t){var p=(e.x-i.x)/r,c=(e.y-i.y)/r;this.scaleValues[2]=p,this.scaleValues[3]=c}}}}])&&PU(e.prototype,o),n&&PU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mU(t){"@babel/helpers - typeof";return(mU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vU(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MU(t,e){return(MU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function AU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=OU(t);if(e){var r=OU(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function OU(t){return(OU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44300=bU;var _U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MU(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=AU(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=0,e.scaleValues[1]=0,e.scaleValues[2]=.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=0,this.scaleValues[1]=0,this.scaleValues[2]=.1);var o=[];(o=o.concat(t)).push(o[0]);for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,o),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i],{fill:!1});var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),s=this.scaleValues[0],u=this.scaleValues[1],p=l*this.scaleValues[2],c=new SuperMapAlgoPlot.Point(a.x+l*s,a.y+l*u),f=new SuperMapAlgoPlot.Point(c.x+1,c.y),h=[];t.push(t[0].clone());for(var g=0;g<t.length-1;g++){var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(c,f,t[g],t[g+1]);P.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(P.intersectPoint,t[g],t[g+1])&&h.push(P.intersectPoint))}if(!(0>=h.length)){var y=h[0].clone(),S=h[0].clone();for(g=0;g<h.length;g++)y.x>h[g].x&&(y=h[g].clone()),S.x<h[g].x&&(S=h[g].clone());var d=[],b=new SuperMapAlgoPlot.Point(c.x-p/2,y.y);b.x<=S.x&&b.x>=y.x&&((d=[]).push(y),d.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0}));var m=new SuperMapAlgoPlot.Point(c.x+p/2,S.y);m.x<=S.x&&m.x>=y.x&&((d=[]).push(S),d.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0})),this.scalePoints=[];var v=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,p/2,p/2,90);if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,c))return this.addScalePoint(c,0),this.addScalePoint(v,1),c.x<y.x?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[y,c]):this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S,c]),void this.finish();this.addScalePoint(c,0),this.addScalePoint(v,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;if(0===SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o))return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t&&(n=(a.x-l.x)/i,this.scaleValues[0]=n,r=(a.y-l.y)/i,this.scaleValues[1]=r),1==t){n=this.scaleValues[0],r=this.scaleValues[1];var s=new SuperMapAlgoPlot.Point(l.x+n*i,l.y+r*i),u=2*SuperMapAlgoPlot.PlottingUtil.distance(a,s)/i;this.scaleValues[2]=u}}}}])&&vU(e.prototype,o),n&&vU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function LU(t){"@babel/helpers - typeof";return(LU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wU(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xU(t,e){return(xU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function UU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=EU(t);if(e){var r=EU(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===LU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function EU(t){return(EU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44400=_U;var TU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xU(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=UU(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=new SuperMapAlgoPlot.Point(n.x,0);if(!1===this.polylineConnectLocationPoint){for(var i=0,l=-1,a=0;a<o.length-1;a++){var s=SuperMapAlgoPlot.PlottingUtil.intersectLines(n,new SuperMapAlgoPlot.Point(n.x,n.y+1),o[a],o[a+1]);s.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,o[a],o[a+1])&&r.x===s.intersectPoint.x&&(0==i?(r.y=s.intersectPoint.y,l=a):r.y<s.intersectPoint.y&&(r.y=s.intersectPoint.y,l=a),i++))}var u=this.getSubSymbolScaleValue()*e,p=[];p.push(r);for(var c=l+1;c<o.length-1;c++)p.push(new SuperMapAlgoPlot.Point(o[c].x,o[c].y));for(var f=0;f<=l;f++)p.push(new SuperMapAlgoPlot.Point(o[f].x,o[f].y));var h=.8*u,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,h);if(-1===g.index)return;var P=[];P.push(g.pt);for(var y=g.index+1;y<p.length;y++)P.push(p[y]);p=[];for(var S=P.length-1;S>0;S--)p.push(P[S]);var d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,h);if(-1===d.index)return;(P=[]).push(d.pt);for(var b=d.index+1;b<p.length;b++)P.push(p[b]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbolC(this.subSymbols[0],r,u,0)}else{var m=t[0],v=t[1],M=SuperMapAlgoPlot.PlottingUtil.distance(m,v),A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.2*M,[m,v]);if(-1===A.index)return;var O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*M,[m,v]);if(-1===O.index)return;var _=[];_.push(t[0]),_.push(A.pts),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_),(_=[]).push(O.pts);for(var L=1;L<t.length;L++)_.push(t[L]);_.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_);var w=new SuperMapAlgoPlot.Point((A.pts.x+O.pts.x)/2,(A.pts.y+O.pts.y)/2);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbolC(this.subSymbols[0],w,.1*M,0)}this.finish()}}},{key:"computeSubSymbolC",value:function(t,e,o,n,r,i){if(null==t.symbolData||null==t.symbolData.innerCells)return null;void 0===r&&(r=0),void 0===i&&(i=0);for(var l=SuperMapAlgoPlot.AnalysisSymbol.analysisSymbolCells(t.symbolData,!0),a=0,s=0,u=0,p=0,c=0;c<l.length;c++){null!=l[c].polybezierClose&&(l[c].type===SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL||l[c].type===SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL?(l[c].type,SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL,l[c].positionPoints=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(l[c].positionPoints),l[c].isClosed&&l[c].positionPoints[0]!==l[c].positionPoints[symbolCell.positionPoints.length-1]&&l[c].positionPoints.push(l[c].positionPoints[0])):l[c].type===SuperMapAlgoPlot.SymbolType.KIDNEY&&(l[c].positionPoints=SuperMapAlgoPlot.Primitives.getSpatialData(l[c].type,l[c].positionPoints)));for(var f=SuperMapAlgoPlot.Primitives.getSpatialData(l[c].type,l[c].positionPoints,l[c].textContent,0,l[c].isCalculate),h=0,g=f.length;h<g;h++)a<f[h].x&&(a=f[h].x),s<f[h].y&&(s=f[h].y),u>f[h].x&&(u=f[h].x),p>f[h].y&&(p=f[h].y)}var P=new SuperMapAlgoPlot.Point(a,s),y=new SuperMapAlgoPlot.Point(u,p),S=(P.y-y.y)/o,d=(P.x-y.x)/o,b=d>S?d:S,m=new SuperMapAlgoPlot.Point(.5*(P.x+y.x),.5*(P.y+y.y));m.x+=r*(P.x-y.x),m.y+=i*(P.y-y.y);for(var v=0,M=l.length;v<M;v++){for(var A=0,O=l[v].positionPoints.length;A<O;A++)l[v].positionPoints[A].x-=m.x,l[v].positionPoints[A].y-=m.y,l[v].positionPoints[A].x/=b,l[v].positionPoints[A].y/=b,SuperMapAlgoPlot.PlottingUtil.rotateAngle(new SuperMapAlgoPlot.Point(0,0),n*Math.PI/180,l[v].positionPoints[A]),l[v].positionPoints[A].x+=e.x,l[v].positionPoints[A].y+=e.y;l[v].type===SuperMapAlgoPlot.SymbolType.TEXTSYMBOL&&(l[v].style.fontSize/=10*b,l[v].style.labelRotation=-n,l[v].style.sizeFixed=!1),l[v].isCalculate=!1,l[v].style.surroundLineType=0,l[v].style.surroundLineLimit=!0,this.components.push(l[v])}var _=l[0].positionPoints[3].x-l[0].positionPoints[0].x,L=l[0].positionPoints[1].y-l[0].positionPoints[2].y,w=new SuperMapAlgoPlot.Point(l[0].positionPoints[3].x+2*_,l[0].positionPoints[3].y+1.25*L),x=new SuperMapAlgoPlot.Point(l[0].positionPoints[3].x-2*_,l[0].positionPoints[3].y+1.25*L),U=[];return U.push(w),U.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U),l}}])&&wU(e.prototype,o),n&&wU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function VU(t){"@babel/helpers - typeof";return(VU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RU(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IU(t,e){return(IU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jU(t);if(e){var r=jU(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===VU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jU(t){return(jU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2730101=TU;var NU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IU(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=CU(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(0),e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(-.05)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4>=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(0),this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(-.05));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);else for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var a=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[0]=a/l*.8,this.scaleValues[3]=a/l*.8}var s=this.scaleValues[0],u=this.scaleValues[1],p=this.scaleValues[3],c=this.scaleValues[4],f=this.scaleValues[6],h=this.scaleValues[7],g=this.scaleValues[8],P=this.scaleValues[9],y=new SuperMapAlgoPlot.Point(i.x+l*f,i.y+l*h),S=new SuperMapAlgoPlot.Point(i.x+l*g,i.y+l*P),d=l*s,b=u;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],y,d,b);var m=l*p,v=c;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],S,m,v),this.addScalePoint(y);var M=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,d,d,b);this.addScalePoint(M),this.addScalePoint(S);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,m,m,v);this.addScalePoint(A),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(0),this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(-.05));var n=[];n=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l,a,s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),p=e;if(0==t)r=(p.x-s.x)/u,this.scaleValues[6]=r,i=(p.y-s.y)/u,this.scaleValues[7]=i;else if(1==t){r=this.scaleValues[6],i=this.scaleValues[7];var c=new SuperMapAlgoPlot.Point(s.x+u*r,s.y+u*i),f=SuperMapAlgoPlot.PlottingUtil.distance(c,p)/u;this.scaleValues[0]=f;var h=180*SuperMapAlgoPlot.PlottingUtil.radian(c,p)/Math.PI;this.scaleValues[1]=h,this.scaleValues[2]=0<=h&&h<90?1:90<=h&&h<180?2:180<=h&&h<270?3:4}else if(2==t)l=(p.x-s.x)/u,this.scaleValues[8]=l,a=(p.y-s.y)/u,this.scaleValues[9]=a;else if(3==t){l=this.scaleValues[8],a=this.scaleValues[9];var g=new SuperMapAlgoPlot.Point(s.x+u*l,s.y+u*a),P=SuperMapAlgoPlot.PlottingUtil.distance(g,p)/u;this.scaleValues[3]=P;var y=180*SuperMapAlgoPlot.PlottingUtil.radian(g,p)/Math.PI;this.scaleValues[4]=y,this.scaleValues[5]=0<=y&&y<90?1:90<=y&&y<180?2:180<=y&&y<270?3:4}}}}])&&RU(e.prototype,o),n&&RU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function DU(t){"@babel/helpers - typeof";return(DU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BU(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YU(t,e){return(YU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=FU(t);if(e){var r=FU(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===DU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FU(t){return(FU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2350001=NU;var zU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YU(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=kU(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.subText="禁航",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);var i=(n-o)/50;if(0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);else{var l=[];(l=l.concat(t)).push(t[0]);for(var a=this.mergeDashLine(this.dashLines,[]),s=this.computeDashLine(a,l),u=0;u<s.length;u++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s[u])}var p={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},c=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),f=10*i;t.push(t[0]);var h=!0,g=c.x;for(c.x;h;){h=!1;for(var P,y,S,d,b=[],m=new SuperMapAlgoPlot.Point(g,c.y),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(m,10,10,60),M=0;M<t.length-1;M++){var A=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,v,t[M],t[M+1]);A.isIntersectLines&&(P=A.intersectPoint,(y=[]).push(t[M]),y.push(t[M+1]),SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(P,y).isOnPolyLine&&b.push(P))}if(1<b.length){this.sortPts2D(b);for(var O=0;O<b.length-1;O++)d=new SuperMapAlgoPlot.Point((b[O].x+b[O+1].x)/2,(b[O].y+b[O+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,d)&&((S=[]).push(b[O]),S.push(b[O+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,p,!0))}b.length>0&&(h=!0),g-=f}if(""==!this.subText.toString()){var _=c,L=(n-o)*this.scaleValues[0],w=new SuperMapAlgoPlot.Point(_.x+L,_.y),x=new SuperMapAlgoPlot.Point((_.x+w.x)/2,(_.y+w.y)/2),U=this.subText;this.addText(U,x,L,0)}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var n=0;n<t.length-1-o;n++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)?t[n].y>t[n+1].y&&(e=t[n],t[n]=t[n+1],t[n+1]=e):t[n].x>t[n+1].x&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t}}])&&BU(e.prototype,o),n&&BU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function GU(t){"@babel/helpers - typeof";return(GU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qU(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XU(t,e){return(XU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=HU(t);if(e){var r=HU(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===GU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function HU(t){return(HU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2570201=zU;var KU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XU(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=WU(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.subText="禁飞",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);var i=(n-o)/50;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),s=10*i;t.push(t[0]);var u=!0,p=a.x;for(a.x;u;){u=!1;for(var c,f,h,g,P=[],y=new SuperMapAlgoPlot.Point(p,a.y),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,10,10,60),d=0;d<t.length-1;d++){var b=SuperMapAlgoPlot.PlottingUtil.intersectLines(y,S,t[d],t[d+1]);b.isIntersectLines&&(c=b.intersectPoint,(f=[]).push(t[d]),f.push(t[d+1]),SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(c,f).isOnPolyLine&&P.push(c))}if(1<P.length){this.sortPts2D(P);for(var m=0;m<P.length-1;m++)g=new SuperMapAlgoPlot.Point((P[m].x+P[m+1].x)/2,(P[m].y+P[m+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,g)&&((h=[]).push(P[m]),h.push(P[m+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,l,!0))}P.length>0&&(u=!0),p-=s}if(""==!this.subText.toString()){var v=a,M=(n-o)*this.scaleValues[0],A=new SuperMapAlgoPlot.Point(v.x+M,v.y),O=new SuperMapAlgoPlot.Point((v.x+A.x)/2,(v.y+A.y)/2),_=this.subText;this.addText(_,O,M,0)}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var n=0;n<t.length-1-o;n++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)?t[n].y>t[n+1].y&&(e=t[n],t[n]=t[n+1],t[n+1]=e):t[n].x>t[n+1].x&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t}}])&&qU(e.prototype,o),n&&qU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function JU(t){"@babel/helpers - typeof";return(JU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZU(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QU(t,e){return(QU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tE(t);if(e){var r=tE(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===JU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tE(t){return(tE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2570301=KU;var eE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QU(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=$U(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.subText="慑阻",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);var i=(n-o)/50;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),s=10*i;t.push(t[0]);var u=!0,p=a.x;for(a.x;u;){u=!1;for(var c,f,h,g,P=[],y=new SuperMapAlgoPlot.Point(p,a.y),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,10,10,60),d=0;d<t.length-1;d++){var b=SuperMapAlgoPlot.PlottingUtil.intersectLines(y,S,t[d],t[d+1]);b.isIntersectLines&&(c=b.intersectPoint,(f=[]).push(t[d]),f.push(t[d+1]),SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(c,f).isOnPolyLine&&P.push(c))}if(1<P.length){this.sortPts2D(P);for(var m=0;m<P.length-1;m++)g=new SuperMapAlgoPlot.Point((P[m].x+P[m+1].x)/2,(P[m].y+P[m+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,g)&&((h=[]).push(P[m]),h.push(P[m+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,l,!0))}P.length>0&&(u=!0),p-=s}if(""==!this.subText.toString()){var v=a,M=(n-o)*this.scaleValues[0],A=new SuperMapAlgoPlot.Point(v.x+M,v.y),O=new SuperMapAlgoPlot.Point((v.x+A.x)/2,(v.y+A.y)/2),_=this.subText;this.addText(_,O,M,0)}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var n=0;n<t.length-1-o;n++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)?t[n].y>t[n+1].y&&(e=t[n],t[n]=t[n+1],t[n+1]=e):t[n].x>t[n+1].x&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t}}])&&ZU(e.prototype,o),n&&ZU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function oE(t){"@babel/helpers - typeof";return(oE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nE(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rE(t,e){return(rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=lE(t);if(e){var r=lE(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===oE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lE(t){return(lE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2570401=eE;var aE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=iE(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.subText="封控",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,n=t[0].x,r=0;r<t.length;r++)o>t[r].x&&(o=t[r].x),n<t[r].x&&(n=t[r].x);var i=(n-o)/50;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var l={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),s=10*i;t.push(t[0]);var u=!0,p=a.x;for(a.x;u;){u=!1;for(var c,f,h,g,P=[],y=new SuperMapAlgoPlot.Point(p,a.y),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,10,10,60),d=0;d<t.length-1;d++){var b=SuperMapAlgoPlot.PlottingUtil.intersectLines(y,S,t[d],t[d+1]);b.isIntersectLines&&(c=b.intersectPoint,(f=[]).push(t[d]),f.push(t[d+1]),SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(c,f).isOnPolyLine&&P.push(c))}if(1<P.length){this.sortPts2D(P);for(var m=0;m<P.length-1;m++)g=new SuperMapAlgoPlot.Point((P[m].x+P[m+1].x)/2,(P[m].y+P[m+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,g)&&((h=[]).push(P[m]),h.push(P[m+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,l,!0))}P.length>0&&(u=!0),p-=s}if(""==!this.subText.toString()){var v=a,M=(n-o)*this.scaleValues[0],A=new SuperMapAlgoPlot.Point(v.x+M,v.y),O=new SuperMapAlgoPlot.Point((v.x+A.x)/2,(v.y+A.y)/2),_=this.subText;this.addText(_,O,M,0)}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var n=0;n<t.length-1-o;n++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)?t[n].y>t[n+1].y&&(e=t[n],t[n]=t[n+1],t[n+1]=e):t[n].x>t[n+1].x&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t}}])&&nE(e.prototype,o),n&&nE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function sE(t){"@babel/helpers - typeof";return(sE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uE(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pE(t,e){return(pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=fE(t);if(e){var r=fE(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===sE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fE(t){return(fE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2570501=aE;var hE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=cE(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(180)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){3!==this.scaleValues.length&&(this.scaleValues=[.5,.05,180]);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n}var r=this.scaleValues[0],i=this.scaleValues[1],l=this.scaleValues[2],a=o*r,s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(-1!==s.index){var u=o*i,p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a-.5*u,e),c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a+.5*u,e),f=p.pts,h=c.pts;p.index,c.index;l+=SuperMapAlgoPlot.PlottingUtil.dirAngle(f,h)*SuperMapAlgoPlot.PlottingUtil.RTOD;var g=f,P=h,y=new SuperMapAlgoPlot.Point((g.x+P.x)/2,(g.y+P.y)/2);s.x=y.x,s.y=y.y;var S=u,d=new SuperMapAlgoPlot.Point(.5*S,S),b=new SuperMapAlgoPlot.Point(.5*S,-S),m=new SuperMapAlgoPlot.Point(-.5*S,-S),v=new SuperMapAlgoPlot.Point(-.5*S,S),M=[],A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,d,l),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,b,l),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,m,l),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,v,l);M.push(A),M.push(O),M.push(_),M.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,{surroundLineLimit:!0,lineTypeLimit:!0});var w=new SuperMapAlgoPlot.Point(0,-2*S),x=new SuperMapAlgoPlot.Point(.15*S,-1.6*S),U=new SuperMapAlgoPlot.Point(-.15*S,-1.6*S),E=new SuperMapAlgoPlot.Point(0,-1.7*S),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,w,l),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,x,l),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,U,l),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,E,l),C=[];C.push(V),C.push(T),C.push(R),C.push(I);var j={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,C,j);var N=new SuperMapAlgoPlot.Point(0,-S),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,N,l);(C=[]).push(D),C.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C,{surroundLineLimit:!0,lineTypeLimit:!0}),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],y,1.5*S,l+90);var B=[];B.push(0),B.push(this.scaleValues[0]-.5*this.scaleValues[1]),B.push(this.scaleValues[0]+.5*this.scaleValues[1]),B.push(1);for(var Y=this.mergeDashLine(this.dashLines,B),k=this.computeDashLine(Y,e),F=0;F<k.length;F++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,k[F]);for(var z=.02*o,G=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(z,e[1],e[0]),q=.5*SuperMapAlgoPlot.PlottingUtil.distance(e[0],G.pntLeft),X=new SuperMapAlgoPlot.Point((e[0].x+G.pntLeft.x)/2,(e[0].y+G.pntLeft.y)/2),W=SuperMapAlgoPlot.PlottingUtil.radian(e[1],e[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,H=[],K=360+W;K>=270+W;K-=5)H.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(X,q,q,K));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,H),d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(z,e[e.length-2],e[e.length-1]);for(var J=new SuperMapAlgoPlot.Point((e[e.length-1].x+d.pntRight.x)/2,(e[e.length-1].y+d.pntRight.y)/2),Z=SuperMapAlgoPlot.PlottingUtil.radian(e[e.length-1],d.pntRight)*SuperMapAlgoPlot.PlottingUtil.RTOD,Q=[],$=180+Z;$>=90+Z;$-=5)Q.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(J,q,q,$));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Q),this.scalePoints=[],this.addScalePoint(y,0);var tt=new SuperMapAlgoPlot.Point(0,-2*u),et=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,tt,l);this.addScalePoint(et,1),this.finish()}}}},{key:"GetSymbolPt",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){3!==this.scaleValues.length&&(this.scaleValues=[.5,.05,0]);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=this.scaleValues[0],r=this.scaleValues[1],i=o*n,l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i,e);if(-1!==l.index){for(var a=[],s=0;s<=l.index;s++)a.push(e[s]);var u,p,c,f,h=o*r,g=[];if(i-SuperMapAlgoPlot.PlottingUtil.polylineDistance(a)>(h*=.5)){u=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,e[l.index],h),a.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),p=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,e[l.index+1],h),g.push(p);for(var P=e.length,y=l.index+1;y<P;++y)g.push(e[y])}else{for(var S=-1,d=a.length-1;d>=0;d--)if(c=new SuperMapAlgoPlot.Point(a[d].x,a[d].y),f=new SuperMapAlgoPlot.Point(l.pts.x,l.pts.y),SuperMapAlgoPlot.PlottingUtil.distance(c,f)>h){S=d;break}if(-1===S)return;a.splice(S+1,a.length-1-S),u=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,e[S],h),a.push(u);for(var b=-1,m=l.index;m<e.length;m++)if(c=new SuperMapAlgoPlot.Point(e[m].x,e[m].y),f=new SuperMapAlgoPlot.Point(l.pts.x,l.pts.y),SuperMapAlgoPlot.PlottingUtil.distance(c,f)>h){b=m;break}if(-1===b)return;p=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,e[b],h),g.push(p);for(var v=b+1;v<e.length;++v)g.push(e[v])}var M=g[0],A=a[a.length-1];return new SuperMapAlgoPlot.Point((M.x+A.x)/2,(M.y+A.y)/2)}}}},{key:"computeScaleValues",value:function(t,e){if((0===t||1===t)&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l,a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0===t){r=new SuperMapAlgoPlot.Point(e.x,e.y);for(var s=[],u=0;u<n.length;u++)s.push(n[u]);for(var p=-1,c=0,f=new SuperMapAlgoPlot.Point(0,0),h=0;h<s.length-1;h++){var g=[];g.push(s[h]),g.push(s[h+1]);var P=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,s[h],s[h+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(P,g).index){var y=SuperMapAlgoPlot.PlottingUtil.distance(r,P);-1===p?(p=h,f=P,c=y):c>y&&(p=h,f=P,c=y)}}if(-1===p||p>s.length-1)return;i=0;for(var S=0;S<p;S++){var d=new SuperMapAlgoPlot.Point(n[S].x,n[S].y),b=new SuperMapAlgoPlot.Point(n[S+1].x,n[S+1].y);i+=SuperMapAlgoPlot.PlottingUtil.distance(d,b)}var m=new SuperMapAlgoPlot.Point(n[p].x,n[p].y);l=(i+=SuperMapAlgoPlot.PlottingUtil.distance(m,f))/a;var v=.4-this.scaleValues[1]+.5,M=.5-(.4-this.scaleValues[1]);l>=v&&(l=v),l<=M&&(l=M),this.scaleValues[0]=l}else if(1===t){r=new SuperMapAlgoPlot.Point(e.x,e.y);var A=this.scaleValues[0],O=(this.scaleValues[1],a*A),_=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,O);if(_.index<0)return;l=(i=SuperMapAlgoPlot.PlottingUtil.distance(r,_.pt))/a;var L=this.scaleValues[0]<.4?this.scaleValues[0]:1-this.scaleValues[0];l>=L&&(l=L),this.scaleValues[1]=.5*l;var w=a*this.scaleValues[1],x=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,O-.5*w),U=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,O+.5*w),E=SuperMapAlgoPlot.PlottingUtil.dirAngle(_.pt,r)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=E-270-SuperMapAlgoPlot.PlottingUtil.dirAngle(x.pt,U.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD}}}}])&&uE(e.prototype,o),n&&uE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function gE(t){"@babel/helpers - typeof";return(gE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PE(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yE(t,e){return(yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function SE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dE(t);if(e){var r=dE(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dE(t){return(dE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2890001=hE;var bE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=SE(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.35,e.scaleValues[2]=.65,e.scaleValues[3]=.02),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(0===this.scaleValues.length&&(this.scaleValues[0]=.05,this.scaleValues[1]=.35,this.scaleValues[2]=.65,this.scaleValues[3]=.02),!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[3]=.5*e}SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=n*this.scaleValues[0],i=(this.scaleValues[1],this.scaleValues[2],this.getLinePts(o,this.scaleValues[0]/2,this.scaleValues[1])),l=this.getLinePts(o,this.scaleValues[0]/2,this.scaleValues[2]),a=new SuperMapAlgoPlot.Point((i.startPt.x+i.endPt.x)/2,(i.startPt.y+i.endPt.y)/2),s=180*SuperMapAlgoPlot.PlottingUtil.radian(i.startPt,i.endPt)/Math.PI;this.createSubSymbol1(a,r,s);var u=new SuperMapAlgoPlot.Point((l.startPt.x+l.endPt.x)/2,(l.startPt.y+l.endPt.y)/2),p=180*SuperMapAlgoPlot.PlottingUtil.radian(l.startPt,l.endPt)/Math.PI;this.createSubSymbol2(u,r,p);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,.5*r,.5*r,s+90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,.5*r,.5*r,p+90);this.scalePoints=[],this.addScalePoint(a,0),this.addScalePoint(u,0),this.addScalePoint(c,0),this.addScalePoint(f,0);var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3],g=SuperMapAlgoPlot.PlottingUtil.linePnt(o[o.length-1],o[o.length-2],h);this.addScalePoint(g);var P=[];P.push(0),this.scaleValues[1]<this.scaleValues[2]?(P.push(this.scaleValues[1]-.5*this.scaleValues[0]),P.push(this.scaleValues[1]+.5*this.scaleValues[0]),P.push(this.scaleValues[2]-.5*this.scaleValues[0]),P.push(this.scaleValues[2]+.5*this.scaleValues[0])):(P.push(this.scaleValues[2]-.5*this.scaleValues[0]),P.push(this.scaleValues[2]+.5*this.scaleValues[0]),P.push(this.scaleValues[1]-.5*this.scaleValues[0]),P.push(this.scaleValues[1]+.5*this.scaleValues[0])),P.push(1);var y=this.mergeDashLine(this.dashLines,P),S=this.computeDashLine(y,o);if(0==S.length)this.addArrow([o[o.length-2],o[o.length-1]],this.scaleValues[3]);else for(var d=0;d<S.length;d++)S.length-1==d&&(S[S.length-1].length>=2?this.addArrow(S[d],this.scaleValues[3]):this.addArrow([o[o.length-2],o[o.length-1]],this.scaleValues[3])),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S[d]);this.finish()}}},{key:"createSubSymbol1",value:function(t,e,o){var n=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,n)}},{key:"createSubSymbol2",value:function(t,e,o){var n=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,n)}},{key:"createSubSymbol",value:function(t,e,o,n){for(var r=[],i=0;i<n.length;i++){var l=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,n[i],o);r.push(l)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,{lineTypeLimit:!0,surroundLineLimit:!0})}},{key:"getSubSymbolPts",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0==t){for(var i=0,l=-1,a=null,s=0;s<n.length-1;s++){var u=null;(u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[s],n[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e)<i)&&(a=u,l=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,u.projectPoint))}if(-1==l)return;var p=[];for(s=0;s<l+1;s++)p.push(n[s]);p.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y)),(c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p)/r)<(f=this.scaleValues[0])/2&&(c=f),c>1-f/2-this.scaleValues[3]&&(c=1-f/2-this.scaleValues[3]),this.scaleValues[1]=c}else if(1==t){var c,f;for(i=0,l=-1,a=null,s=0;s<n.length-1;s++){u=null;(u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[s],n[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e)<i)&&(a=u,l=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,u.projectPoint))}if(-1==l)return;for(p=[],s=0;s<l+1;s++)p.push(n[s]);p.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y)),(c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p)/r)<(f=this.scaleValues[0])/2&&(c=f/2),c>1-f/2-this.scaleValues[3]&&(c=1-f/2-this.scaleValues[3]),this.scaleValues[2]=c}else if(2==t){var h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[1],n),g=2*SuperMapAlgoPlot.PlottingUtil.distance(h.pts,e)/r;this.scaleValues[1]<g/2||this.scaleValues[1]>1-g/2-this.scaleValues[3]?(this.scaleValues[1]<g/2?this.scaleValues[1]=g/2:this.scaleValues[1]=1-g/2-this.scaleValues[3],this.scaleValues[0]=g):this.scaleValues[0]=g}else if(3==t){h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[2],n),g=2*SuperMapAlgoPlot.PlottingUtil.distance(h.pts,e)/r;this.scaleValues[2]<g/2||this.scaleValues[2]>1-g/2-this.scaleValues[3]?(this.scaleValues[2]<g/2?this.scaleValues[2]=g/2:this.scaleValues[2]=1-g/2-this.scaleValues[3],this.scaleValues[0]=g):this.scaleValues[0]=g}else if(4==t){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<P)return;this.scaleValues[3]=P}}}}])&&PE(e.prototype,o),n&&PE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mE(t){"@babel/helpers - typeof";return(mE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vE(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ME(t,e){return(ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function AE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=OE(t);if(e){var r=OE(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function OE(t){return(OE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010102=bE;var _E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol3010102);var e,o,n,r=AE(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"createSubSymbol1",value:function(t,e,o){var n=this.getSubSymbolPts1(e);this.createSubSymbol(t,e,o,n)}},{key:"createSubSymbol2",value:function(t,e,o){var n=this.getSubSymbolPts2(e);this.createSubSymbol(t,e,o,n)}},{key:"getSubSymbolPts1",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(-2*e,-e)),o.push(new SuperMapAlgoPlot.Point(2*e,-e)),o.push(new SuperMapAlgoPlot.Point(e,e)),o.push(new SuperMapAlgoPlot.Point(-2*e,e)),o}},{key:"getSubSymbolPts2",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o}}])&&vE(e.prototype,o),n&&vE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function LE(t){"@babel/helpers - typeof";return(LE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wE(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xE(t,e){return(xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function UE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=EE(t);if(e){var r=EE(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===LE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function EE(t){return(EE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010103=_E;var TE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol3010102);var e,o,n,r=UE(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"getSubSymbolPts",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o.push(new SuperMapAlgoPlot.Point(-e,-e)),o.push(new SuperMapAlgoPlot.Point(e,-e)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o}}])&&wE(e.prototype,o),n&&wE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function VE(t){"@babel/helpers - typeof";return(VE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RE(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IE(t,e){return(IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jE(t);if(e){var r=jE(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===VE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jE(t){return(jE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010104=TE;var NE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IE(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol3010102);var e,o,n,r=CE(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"getSubSymbolPts",value:function(t){var e=t/4,o=[];o.push(new SuperMapAlgoPlot.Point(-2*e,-e)),o.push(new SuperMapAlgoPlot.Point(e,-e));for(var n=-90;n<=90;n+=5)o.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(e,0),e,e,n));return o.push(new SuperMapAlgoPlot.Point(e,e)),o.push(new SuperMapAlgoPlot.Point(-2*e,e)),o}}])&&RE(e.prototype,o),n&&RE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function DE(t){"@babel/helpers - typeof";return(DE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BE(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YE(t,e){return(YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=FE(t);if(e){var r=FE(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===DE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FE(t){return(FE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010105=NE;var zE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=kE(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.35),e.scaleValues.push(.65),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3);var r=this.getSubSymbolScaleValue(o);(r>.3||r<=0)&&(r=.3),this.scaleValues[0]=.8*r,this.scaleValues[3]=.5*n}var i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,o*this.scaleValues[1]);if(-1!==i.index){var l=i.pt,a=i.index,s=o*this.scaleValues[0]*.5,u=SuperMapAlgoPlot.PlottingUtil.radian(l,e[a+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,s,s,u+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,s,s,u-90),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,l,p),h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,l,c),g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*s,p,l);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f.pntLeft,f.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[h.pntLeft,h.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[g.pntLeft,g.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0});var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,o*this.scaleValues[2]);if(-1!==P.index){var y=P.pt,S=P.index,d=SuperMapAlgoPlot.PlottingUtil.radian(y,e[S+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,s,s,d+90),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,s,s,d-90),v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,y,b),M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,y,m),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*s,b,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[v.pntLeft,v.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[M.pntLeft,M.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[A.pntLeft,A.pntRight],{lineTypeLimit:!0,surroundLineLimit:!0});var O=[];O.push(0),this.scaleValues[1]<this.scaleValues[2]?(O.push(this.scaleValues[1]-this.scaleValues[0]),O.push(this.scaleValues[1]+this.scaleValues[0]),O.push(this.scaleValues[2]-this.scaleValues[0]),O.push(this.scaleValues[2]+this.scaleValues[0])):(O.push(this.scaleValues[2]-this.scaleValues[0]),O.push(this.scaleValues[2]+this.scaleValues[0]),O.push(this.scaleValues[1]-this.scaleValues[0]),O.push(this.scaleValues[1]+this.scaleValues[0])),O.push(1);var _=this.mergeDashLine(this.dashLines,O),L=this.computeDashLine(_,e);if(0==L.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3]);else for(var w=0;w<L.length;w++)L.length-1==w&&(L[L.length-1].length>=2?this.addArrow(L[w],this.scaleValues[3]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3])),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L[w]);this.addScalePoint(l),this.addScalePoint(y);var x=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,2*s,2*s,d+90),U=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,2*s,2*s,d+90);this.addScalePoint(x),this.addScalePoint(U);var E=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3],T=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],E);this.addScalePoint(T,0),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0==t){for(var i=0,l=-1,a=null,s=0;s<n.length-1;s++){(c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[s],n[s+1])).isOnline&&(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0)||SuperMapAlgoPlot.PlottingUtil.distance(e,c.projectPoint)<i)&&(a=c.projectPoint,l=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,a))}if(-1==l)return;var u=[];(u=n.slice(0,l+1)).push(a);SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);(f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u)/r)<(h=this.scaleValues[0])&&(f=h),f>1-h-this.scaleValues[3]&&(f=1-h-this.scaleValues[3]),this.scaleValues[1]=f}else if(1==t){i=0,l=-1,a=null;for(var p=0;p<n.length-1;p++){var c;(c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[p],n[p+1])).isOnline&&(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0)||SuperMapAlgoPlot.PlottingUtil.distance(e,c.projectPoint)<i)&&(a=c.projectPoint,l=p,i=SuperMapAlgoPlot.PlottingUtil.distance(e,a))}if(-1==l)return;u=[];(u=n.slice(0,l+1)).push(a);var f,h;SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);(f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u)/r)<(h=this.scaleValues[0])&&(f=h),f>1-h-this.scaleValues[3]&&(f=1-h-this.scaleValues[3]),this.scaleValues[2]=f}else if(2==t){var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[1],n);(P=SuperMapAlgoPlot.PlottingUtil.distance(g.pts,e)/r)>=(y=.3)&&(P=y),this.scaleValues[1]<P||this.scaleValues[1]>1-P-this.scaleValues[3]?(this.scaleValues[1]<P?this.scaleValues[1]=P:this.scaleValues[1]=1-P-this.scaleValues[3],this.scaleValues[0]=P):this.scaleValues[0]=P}else if(3==t){var P,y;g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[2],n);(P=SuperMapAlgoPlot.PlottingUtil.distance(g.pts,e)/r)>=(y=.3)&&(P=y),this.scaleValues[2]<P||this.scaleValues[2]>1-P-this.scaleValues[3]?(this.scaleValues[2]<P?this.scaleValues[2]=P:this.scaleValues[2]=1-P-this.scaleValues[3],this.scaleValues[0]=P):this.scaleValues[0]=P}else if(4==t){var S=SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<S)return;this.scaleValues[3]=S}}}}])&&BE(e.prototype,o),n&&BE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function GE(t){"@babel/helpers - typeof";return(GE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qE(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XE(t,e){return(XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=HE(t);if(e){var r=HE(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===GE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function HE(t){return(HE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010106=zE;var KE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=WE(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.5,e.scaleValues[1]=.05,e.scaleValues[2]=.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0==this.scaleValues.length&&(this.scaleValues[1]=.05,this.scaleValues[2]=.05),!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3);var r=this.getSubSymbolScaleValue(o);(r>.3||r<=0)&&(r=.3),this.scaleValues[1]=r,this.scaleValues[2]=.5*n}var i=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),l=new SuperMapAlgoPlot.Point((i.startPt.x+i.endPt.x)/2,(i.startPt.y+i.endPt.y)/2),a=180*SuperMapAlgoPlot.PlottingUtil.radian(i.startPt,i.endPt)/Math.PI,s=SuperMapAlgoPlot.PlottingUtil.distance(i.startPt,i.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],l,s,a-90);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),p=[];p.push(0),p.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,i.startPt)/u),p.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,i.endPt)/u),p.push(1);for(var c=this.mergeDashLine(this.dashLines,p),f=this.computeDashLine(c,e),h=0;h<f.length;h++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[h]);if(0==f.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[2]);else for(var g=0;g<f.length;g++)f.length-1==g&&(f[f.length-1].length>=2?this.addArrow(f[g],this.scaleValues[2]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[2])),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[g]);var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],e),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,.5*s,.5*s,a+90);this.addScalePoint(P.pts,0),this.addScalePoint(y,0);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[2],d=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],S);this.addScalePoint(d,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(!0===e.isScalePoint)if(0===t){for(var i=0,l=-1,a=null,s=0;s<n.length-1;s++){var u;(u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,n[s],n[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e)<i)&&(a=u,l=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,u.projectPoint))}if(-1==l)return;var p=[];for(s=0;s<l+1;s++)p.push(n[s]);p.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y));var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p)/r,f=this.scaleValues[1];c<f&&(c=f),c>1-f-this.scaleValues[2]&&(c=1-f-this.scaleValues[2]),this.scaleValues[0]=c}else if(1===t){var h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[0],n),g=SuperMapAlgoPlot.PlottingUtil.distance(h.pts,e)/r;g>=.3&&(g=.3),this.scaleValues[0]<g||this.scaleValues[0]>1-g-this.scaleValues[2]?(this.scaleValues[0]<g?this.scaleValues[0]=g:this.scaleValues[0]=1-g-this.scaleValues[2],this.scaleValues[1]=g):this.scaleValues[1]=g}else if(2===t){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<P)return;this.scaleValues[2]=P}}}}])&&qE(e.prototype,o),n&&qE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function JE(t){"@babel/helpers - typeof";return(JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZE(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QE(t,e){return(QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tT(t);if(e){var r=tT(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===JE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tT(t){return(tT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010107=KE;var eT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol3010107);var e,o,n,r=$E(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.5,e.scaleValues[1]=.05,e.scaleValues[2]=.05),e}return e=i,o&&ZE(e.prototype,o),n&&ZE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function oT(t){"@babel/helpers - typeof";return(oT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nT(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rT(t,e){return(rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=lT(t);if(e){var r=lT(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===oT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lT(t){return(lT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010108=eT;var aT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rT(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,n,r=iT(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).subText="调",e}return e=i,o&&nT(e.prototype,o),n&&nT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function sT(t){"@babel/helpers - typeof";return(sT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uT(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pT(t,e){return(pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=fT(t);if(e){var r=fT(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===sT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fT(t){return(fT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010301=aT;var hT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pT(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,n,r=cT(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).subText="冲",e}return e=i,o&&uT(e.prototype,o),n&&uT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function gT(t){"@babel/helpers - typeof";return(gT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PT(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yT(t,e){return(yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ST(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dT(t);if(e){var r=dT(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dT(t){return(dT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010302=hT;var bT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yT(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=ST(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.05));var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);2===this.controlPoints.length&&t.splice(1,0,new SuperMapAlgoPlot.Point(t[0].x+e,t[0].y));var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),i=e,l=180*SuperMapAlgoPlot.PlottingUtil.radian(o,n)/Math.PI%360,a=180*SuperMapAlgoPlot.PlottingUtil.radian(o,r)/Math.PI%360;if(l>a&&(a+=360),!this.isEdit){var s=.5*this.getDefaultSubSymbolSize()/i;s>.1&&(s=.1),this.scaleValues[0]=s}var u=i*this.scaleValues[0],p=180*Math.atan(.5*u/i)/Math.PI,c=(a-l)/3,f=(a-l)/50,h=this.getArcPts(t[0],i,l,l+c-1.8*p,f);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var g=this.getArcPts(t[0],i,l+c+1.8*p,l+2*c-1.8*p,f);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var P=this.getArcPts(t[0],i,l+2*c+1.8*p,a,f);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var y=l+c+90,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,e,l+c);this.createSubSymbol(S,u,y);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,e,l+2*c),b=l+2*c+90;this.createSubSymbol(d,u,b);var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e+u,e+u,l+c);this.addScalePoint(m),3===this.controlPoints.length&&(this.controlPoints[2]=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,e,a)),this.finish()}}},{key:"getArcPts",value:function(t,e,o,n,r){void 0!==r&&null!==r||(r=1);for(var i=[],l=n;l>o;l-=r){var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l);i.push(a)}var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,o);return i.push(s),i}},{key:"createSubSymbol",value:function(t,e,o){for(var n=this.getSubSymbolPts(e),r=0;r<n.length;r++){for(var i=n[r],l=[],a=0;a<i.length;a++){var s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,i[a],o);l.push(s)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l,{surroundLineLimit:!0})}}},{key:"getSubSymbolPts",value:function(t){var e=[],o=[];o.push(new SuperMapAlgoPlot.Point(-t/2,0)),o.push(new SuperMapAlgoPlot.Point(t/2,0)),e.push(o);var n=[];return n.push(new SuperMapAlgoPlot.Point(0,-t/2)),n.push(new SuperMapAlgoPlot.Point(0,0)),e.push(n),e}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);2===this.controlPoints.length&&o.splice(1,0,new SuperMapAlgoPlot.Point(o[0].x+n,o[0].y));var r=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),i=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),l=new SuperMapAlgoPlot.Point(o[2].x,o[2].y),a=SuperMapAlgoPlot.PlottingUtil.distance(r,i),s=180*SuperMapAlgoPlot.PlottingUtil.radian(r,i)/Math.PI%360,u=180*SuperMapAlgoPlot.PlottingUtil.radian(r,l)/Math.PI%360;s>u&&(u+=360);var p=(u-s)/3,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],n,n,s+p),f=SuperMapAlgoPlot.PlottingUtil.distance(c,e)/a;f<=.6&&(this.scaleValues[0]=f)}}}])&&PT(e.prototype,o),n&&PT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mT(t){"@babel/helpers - typeof";return(mT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vT(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MT(t,e){return(MT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function AT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=OT(t);if(e){var r=OT(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function OT(t){return(OT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020400=bT;var _T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MT(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol6020400);var e,o,n,r=AT(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.apply(this,arguments)}return e=i,(o=[{key:"getSubSymbolPts",value:function(t){var e=[],o=[];o.push(new SuperMapAlgoPlot.Point(-t/2,0)),o.push(new SuperMapAlgoPlot.Point(t/2,0)),e.push(o);var n=[];return n.push(new SuperMapAlgoPlot.Point(0,-t/2)),n.push(new SuperMapAlgoPlot.Point(0,t/2)),e.push(n),e}}])&&vT(e.prototype,o),n&&vT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function LT(t){"@babel/helpers - typeof";return(LT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wT(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xT(t,e){return(xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function UT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ET(t);if(e){var r=ET(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===LT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ET(t){return(ET=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020401=_T;var TT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xT(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol6020400);var e,o,n,r=UT(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.apply(this,arguments)}return e=i,(o=[{key:"getSubSymbolPts",value:function(t){var e=[],o=[];o.push(new SuperMapAlgoPlot.Point(-t/2,0)),o.push(new SuperMapAlgoPlot.Point(t/2,0)),e.push(o);var n=[];return n.push(new SuperMapAlgoPlot.Point(0,0)),n.push(new SuperMapAlgoPlot.Point(0,t/2)),e.push(n),e}}])&&wT(e.prototype,o),n&&wT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function VT(t){"@babel/helpers - typeof";return(VT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RT(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IT(t,e){return(IT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jT(t);if(e){var r=jT(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===VT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jT(t){return(jT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020402=TT;var NT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IT(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,n,r=CT(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).subText="出",e}return e=i,o&&RT(e.prototype,o),n&&RT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function DT(t){"@babel/helpers - typeof";return(DT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BT(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YT(t,e){return(YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=FT(t);if(e){var r=FT(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===DT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FT(t){return(FT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010303=NT;var zT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YT(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,n,r=kT(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).subText="协",e}return e=i,(o=[{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;this.scaleValues[0]=r}}}])&&BT(e.prototype,o),n&&BT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function GT(t){"@babel/helpers - typeof";return(GT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qT(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XT(t,e){return(XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=HT(t);if(e){var r=HT(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===GT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function HT(t){return(HT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010304=zT;var KT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XT(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=WT(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(2==t.length){var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.distance(o,n),i=180*SuperMapAlgoPlot.PlottingUtil.radian(o,n)/Math.PI,l=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r,r,i+60);e.push(t[0]),e.push(n),e.push(l),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e)}else{t.push(t[0]);for(var a=this.mergeDashLine(this.dashLines,[]),s=this.computeDashLine(a,t),u=0;u<s.length;u++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s[u]);for(var p=0;p<t.length;p++)e.push(t[p])}var c=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var h=this.scaleValues[0],g=this.scaleValues[1],P=this.scaleValues[2],y=new SuperMapAlgoPlot.Point(c.x+f*h,c.y+f*g),S=f*P;if(0<this.subSymbols.length){this.computeSubSymbol(this.subSymbols[0],y,S,0),this.addScalePoint(y.clone());var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,.5*S,.5*S,90);this.addScalePoint(d)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=[];if(2==o.length){var r=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),i=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),l=SuperMapAlgoPlot.PlottingUtil.distance(r,i),a=180*SuperMapAlgoPlot.PlottingUtil.radian(r,i)/Math.PI,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+60);n.push(o[0]),n.push(i),n.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var u=0;u<o.length;u++)n.push(o[u])}var p=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)this.scaleValues[0]=(e.x-p.x)/c,this.scaleValues[1]=(e.y-p.y)/c;else if(1===t){var f=new SuperMapAlgoPlot.Point(p.x+c*this.scaleValues[0],p.y+c*this.scaleValues[1]),h=2*SuperMapAlgoPlot.PlottingUtil.distance(e,f)/c;h<.5&&(this.scaleValues[2]=h)}}}}])&&qT(e.prototype,o),n&&qT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function JT(t){"@babel/helpers - typeof";return(JT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZT(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QT(t,e){return(QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tV(t);if(e){var r=tV(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===JT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tV(t){return(tV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3020901=KT;var eV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QT(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol23600);var e,o,n,r=$T(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(-.1),e.scaleValues.push(0),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,o&&ZT(e.prototype,o),n&&ZT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function oV(t){"@babel/helpers - typeof";return(oV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nV(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rV(t,e){return(rV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=lV(t);if(e){var r=lV(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===oV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lV(t){return(lV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3032000=eV;var aV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rV(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,n,r=iV(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o,n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var i=(o=1.5*this.getDefaultSubSymbolSize())/r;i>.2&&(i=.2),this.scaleValues[0]=i}var l=this.scaleValues[0],a=this.scaleValues[2],s=this.scaleValues[3];o=r*l;var u=new SuperMapAlgoPlot.Point(n.x+r*a,n.y+r*s);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],u,o,0);for(var p=0;p<this.components.length;p++)this.components[p].style.strokeColor="#0000ff",this.components[p].style.lineColorLimit=!0,this.components[p].style.strokeOpacity=1,this.components[p].style.color="#0000ff",this.components[p].style.opacity=1;for(var c=this.mergeDashLine(this.dashLines,[]),f=this.computeDashLine(c,e),h=0;h<f.length;h++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[h]);this.addScalePoint(u);var g=o,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,g,g,90);this.addScalePoint(P),this.finish()}}}])&&nV(e.prototype,o),n&&nV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function sV(t){"@babel/helpers - typeof";return(sV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uV(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pV(t,e){return(pV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=fV(t);if(e){var r=fV(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===sV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fV(t){return(fV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4010800=aV;var hV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pV(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol4010800);var e,o,n,r=cV(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this,t)}return e=i,o&&uV(e.prototype,o),n&&uV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function gV(t){"@babel/helpers - typeof";return(gV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PV(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yV(t,e){return(yV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function SV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dV(t);if(e){var r=dV(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dV(t){return(dV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4010801=hV;var bV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yV(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=SV(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.333333),e.scaleValues.push(.333333),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=[];if(2==t.length){var n=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),r=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r);e=SuperMapAlgoPlot.PlottingUtil.dirAngle(n,r)*SuperMapAlgoPlot.PlottingUtil.RTOD;var l=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,e+60);o.push(n),o.push(r),o.push(l);var a=[];a.push(t[0]),a.push(r),a.push(l),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);for(var s=0;s<t.length;s++)o.push(t[s])}var u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);o.push(o[0]);var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),c=this.scaleValues[0],f=this.scaleValues[1],h=this.scaleValues[2],g=this.scaleValues[3],P=this.ComputeSubSymbolPt(c,f,o,u),y=p*h;e=g-90;var S=new SuperMapAlgoPlot.Point(P.x,P.y);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],S,y,e),this.addScalePoint(S);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,y,y,g);this.addScalePoint(d),this.finish()}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,n){var r,i,l=o[0],a=o[1],s=o[2],u=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(s,l,a)*t,p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,l,s)*e,c=[];if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,a,n)?((r=[]).push(l),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,u,!1)):((r=[]).push(l),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,u,!0)),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,s,n)?((r=[]).push(l),r.push(s),i=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!1)):((r=[]).push(l),r.push(s),i=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!0)),2>c.length||2>i.length)return n;var f=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],i[0],i[1]);return f.isIntersectLines?f.intersectPoint:n}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var n,r,i,l=[];if(2==o.length){n=o[0],r=o[1];var a=SuperMapAlgoPlot.PlottingUtil.distance(n,r),s=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI;i=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,a,a,s+60),l.push(n),l.push(r),l.push(i)}else l=l.concat(o);n=l[0],r=l[1],i=l[2];var u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);l.push(l[0]);var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),c=e;if(0==t){var f=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(i,n,r),h=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(r,n,i),g=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(c,n,r)/f,P=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(c,n,i)/h;g>1&&(g=1),P>1&&(P=1),this.scaleValues[0]=g,this.scaleValues[1]=P}else if(1==t){var y=this.scaleValues[0],S=this.scaleValues[1],d=this.ComputeSubSymbolPt(y,S,l,u),b=SuperMapAlgoPlot.PlottingUtil.distance(d,c)/p;this.scaleValues[2]=b;var m=SuperMapAlgoPlot.PlottingUtil.dirAngle(d,c)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[3]=m}}}}])&&PV(e.prototype,o),n&&PV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mV(t){"@babel/helpers - typeof";return(mV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vV(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MV(t,e){return(MV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function AV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=OV(t);if(e){var r=OV(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function OV(t){return(OV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4010905=bV;var _V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MV(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=AV(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(-.1),e.scaleValues.push(0),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var a=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[0]=a/l,this.scaleValues[3]=a/l}var s=this.scaleValues[0],u=this.scaleValues[1],p=this.scaleValues[3],c=this.scaleValues[4],f=this.scaleValues[6],h=this.scaleValues[7],g=this.scaleValues[8],P=this.scaleValues[9],y=new SuperMapAlgoPlot.Point(i.x+l*f,i.y+l*h),S=new SuperMapAlgoPlot.Point(i.x+l*g,i.y+l*P),d=[],b=.15*SuperMapAlgoPlot.PlottingUtil.distance(y,S),m=SuperMapAlgoPlot.PlottingUtil.linePnt(y,S,b),v=SuperMapAlgoPlot.PlottingUtil.linePnt(S,y,b);d.push(m),d.push(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{surroundLineLimit:!0,lineTypeLimit:!0});var M=l*s,A=u;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],y,M,A-90);var O=l*p,_=c;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],S,O,_-90),this.addScalePoint(y);var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,.5*M,.5*M,A);this.addScalePoint(L),this.addScalePoint(S);var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,.5*O,.5*O,_);this.addScalePoint(w),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var n=[];n=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l,a,s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),p=e;if(0==t)r=(p.x-s.x)/u,this.scaleValues[6]=r,i=(p.y-s.y)/u,this.scaleValues[7]=i;else if(1==t){r=this.scaleValues[6],i=this.scaleValues[7];var c=new SuperMapAlgoPlot.Point(s.x+u*r,s.y+u*i),f=2*SuperMapAlgoPlot.PlottingUtil.distance(c,p)/u;this.scaleValues[0]=f;var h=180*SuperMapAlgoPlot.PlottingUtil.radian(c,p)/Math.PI;this.scaleValues[1]=h,this.scaleValues[2]=0<=h&&h<90?1:90<=h&&h<180?2:180<=h&&h<270?3:4}else if(2==t)l=(p.x-s.x)/u,this.scaleValues[8]=l,a=(p.y-s.y)/u,this.scaleValues[9]=a;else if(3==t){l=this.scaleValues[8],a=this.scaleValues[9];var g=new SuperMapAlgoPlot.Point(s.x+u*l,s.y+u*a),P=2*SuperMapAlgoPlot.PlottingUtil.distance(g,p)/u;this.scaleValues[3]=P;var y=180*SuperMapAlgoPlot.PlottingUtil.radian(g,p)/Math.PI;this.scaleValues[4]=y,this.scaleValues[5]=0<=y&&y<90?1:90<=y&&y<180?2:180<=y&&y<270?3:4}}}}])&&vV(e.prototype,o),n&&vV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function LV(t){"@babel/helpers - typeof";return(LV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wV(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xV(t,e){return(xV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function UV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=EV(t);if(e){var r=EV(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===LV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function EV(t){return(EV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4011100=_V;var TV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xV(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=UV(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(1),e.scaleValues.push(-.1),e.scaleValues.push(0),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var a=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[0]=a/l,this.scaleValues[3]=a/l}var s=this.scaleValues[0],u=this.scaleValues[1],p=this.scaleValues[3],c=this.scaleValues[4],f=this.scaleValues[6],h=this.scaleValues[7],g=this.scaleValues[8],P=this.scaleValues[9],y=new SuperMapAlgoPlot.Point(i.x+l*f,i.y+l*h),S=new SuperMapAlgoPlot.Point(i.x+l*g,i.y+l*P),d=[],b=.15*SuperMapAlgoPlot.PlottingUtil.distance(y,S),m=SuperMapAlgoPlot.PlottingUtil.linePnt(y,S,b),v=SuperMapAlgoPlot.PlottingUtil.linePnt(S,y,b);d.push(m),d.push(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{surroundLineLimit:!0,lineTypeLimit:!0});var M=l*s,A=u;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],y,M,A+90);var O=l*p,_=c;this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],S,O,_+90),this.addScalePoint(y);var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,.5*M,.5*M,A);this.addScalePoint(L),this.addScalePoint(S);var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,.5*O,.5*O,_);this.addScalePoint(w),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;10>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(-.1),this.scaleValues.push(0),this.scaleValues.push(.1),this.scaleValues.push(0));var n=[];n=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l,a,s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(n),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),p=e;if(0==t)r=(p.x-s.x)/u,this.scaleValues[6]=r,i=(p.y-s.y)/u,this.scaleValues[7]=i;else if(1==t){r=this.scaleValues[6],i=this.scaleValues[7];var c=new SuperMapAlgoPlot.Point(s.x+u*r,s.y+u*i),f=2*SuperMapAlgoPlot.PlottingUtil.distance(c,p)/u;this.scaleValues[0]=f;var h=180*SuperMapAlgoPlot.PlottingUtil.radian(c,p)/Math.PI;this.scaleValues[1]=h,this.scaleValues[2]=0<=h&&h<90?1:90<=h&&h<180?2:180<=h&&h<270?3:4}else if(2==t)l=(p.x-s.x)/u,this.scaleValues[8]=l,a=(p.y-s.y)/u,this.scaleValues[9]=a;else if(3==t){l=this.scaleValues[8],a=this.scaleValues[9];var g=new SuperMapAlgoPlot.Point(s.x+u*l,s.y+u*a),P=2*SuperMapAlgoPlot.PlottingUtil.distance(g,p)/u;this.scaleValues[3]=P;var y=180*SuperMapAlgoPlot.PlottingUtil.radian(g,p)/Math.PI;this.scaleValues[4]=y,this.scaleValues[5]=0<=y&&y<90?1:90<=y&&y<180?2:180<=y&&y<270?3:4}}}}])&&wV(e.prototype,o),n&&wV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function VV(t){"@babel/helpers - typeof";return(VV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RV(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IV(t,e){return(IV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jV(t);if(e){var r=jV(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===VV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jV(t){return(jV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4011101=TV;var NV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IV(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=CV(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.14),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(Math.PI/2),this.scaleValues.push(.069485),this.scaleValues.push(.14),this.scaleValues.push(.1));var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var n=this.getSubSymbolScaleValue(o);(n>.3||n<=0)&&(n=.3),this.scaleValues[2]=1.5*n,this.scaleValues[4]=n}var r=o*this.scaleValues[4],i=this.scaleValues[0]-this.scaleValues[3];i<0&&(i=0);var l=this.scaleValues[0]+this.scaleValues[3];l>1&&(l=1);var a=this.getLinePts(e,this.scaleValues[4]/2,i),s=this.getLinePts(e,this.scaleValues[4]/2,l),u=new SuperMapAlgoPlot.Point((a.startPt.x+a.endPt.x)/2,(a.startPt.y+a.endPt.y)/2),p=SuperMapAlgoPlot.PlottingUtil.radian(a.startPt,a.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.createSubSymbol1(u,r,p);var c=new SuperMapAlgoPlot.Point((s.startPt.x+s.endPt.x)/2,(s.startPt.y+s.endPt.y)/2),f=SuperMapAlgoPlot.PlottingUtil.radian(s.startPt,s.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.createSubSymbol2(c,r,f);for(var h=[],g=[],P=[],y=0;y<=a.startIndex;y++)h.push(e[y]);if(h.push(a.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),a.endIndex<=s.startIndex){g.push(a.endPt);for(var S=a.endIndex+1;S<=s.startIndex;S++)g.push(e[S]);g.push(s.startPt),2===e.length&&SuperMapAlgoPlot.PlottingUtil.distance(e[0],a.endPt)<=SuperMapAlgoPlot.PlottingUtil.distance(e[0],s.startPt)&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),e.length>2&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}P.push(s.endPt);for(var d=s.endIndex+1;d<e.length;d++)P.push(e[d]);var b=o*this.scaleValues[0],m=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,v=o*this.scaleValues[2],M=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,b);if(-1!==M.index){var A=M.pt,O=new SuperMapAlgoPlot.Point(e[M.index].x,e[M.index].y),_=new SuperMapAlgoPlot.Point(e[M.index+1].x,e[M.index+1].y),L=SuperMapAlgoPlot.PlottingUtil.radian(O,_)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,v,v,m+L-180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[A,w],{surroundLineLimit:!0,lineTypeLimit:!0});var x=SuperMapAlgoPlot.PlottingUtil.radian(A,w)*SuperMapAlgoPlot.PlottingUtil.RTOD,U=new SuperMapAlgoPlot.Point(-.2*v,.05*v),E=new SuperMapAlgoPlot.Point(-.2*v,-.05*v),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,U,x),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,E,x),R=SuperMapAlgoPlot.PlottingUtil.findPoint(w,A,.15*v,0);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[T,w,V,R],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addScalePoint(M.pt,0),this.addScalePoint(w,1),this.addScalePoint(u,2),this.addScalePoint(a.startPt,3),this.finish()}}}},{key:"createSubSymbol1",value:function(t,e,o){var n=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,n)}},{key:"createSubSymbol2",value:function(t,e,o){var n=this.getSubSymbolPts1(e);this.createSubSymbol(t,e,o,n)}},{key:"createSubSymbol",value:function(t,e,o,n){for(var r=[],i=0;i<n.length;i++){var l=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,n[i],o);r.push(l)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,{lineTypeLimit:!0,surroundLineLimit:!0})}},{key:"getSubSymbolPts",value:function(t){var e=t/2,o=[];return o.push(new SuperMapAlgoPlot.Point(0,2*e)),o.push(new SuperMapAlgoPlot.Point(-e,0)),o.push(new SuperMapAlgoPlot.Point(0,-2*e)),o.push(new SuperMapAlgoPlot.Point(e,0)),o}},{key:"getSubSymbolPts1",value:function(t){var e=t/2,o=[];return o.push(new SuperMapAlgoPlot.Point(e,2*e)),o.push(new SuperMapAlgoPlot.Point(-e,2*e)),o.push(new SuperMapAlgoPlot.Point(-e,-2*e)),o.push(new SuperMapAlgoPlot.Point(e,-e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r,i,l,a,s,u,p,c,f,h,g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(0===t){r=-1,i=0,l=new SuperMapAlgoPlot.Point(0,0);for(var P=0;P<n.length-1;P++)(a=[]).push(n[P]),a.push(n[P+1]),s=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,n[P],n[P+1]),-1!==(u=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(s,a)).index&&(p=SuperMapAlgoPlot.PlottingUtil.distance(e,s),-1==r?(r=P,l=s,i=p):i>p&&(r=P,l=s,i=p));if(-1==r||r>n.length-1)return;c=0;for(var y=0;y<r;y++)c+=SuperMapAlgoPlot.PlottingUtil.distance(n[y],n[y+1]);if((c+=SuperMapAlgoPlot.PlottingUtil.distance(n[r],l))<0||c>g)return;var S=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(this.scalePoints[0],n),d=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(this.scalePoints[3],n),b=0;S.index===d.index&&(b=SuperMapAlgoPlot.PlottingUtil.distance(this.scalePoints[0],this.scalePoints[3]));for(var m=d.index;m<S.index;m++)b+=SuperMapAlgoPlot.PlottingUtil.distance(n[m],n[m+1]);c<b+.5?c=b+.5:c>g-b-.5&&(c=g-b-.5),this.scaleValues[0]=c/g}else if(1===t){var v=g*this.scaleValues[0],M=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,v);if(-1===M.index)return;var A=n[M.index],O=n[M.index+1],_=SuperMapAlgoPlot.PlottingUtil.radian(A,O),L=SuperMapAlgoPlot.PlottingUtil.radian(M.pt,e);this.scaleValues[1]=L-_-Math.PI;var w=SuperMapAlgoPlot.PlottingUtil.distance(M.pt,e);this.scaleValues[2]=w/g}else if(2===t){r=-1,i=0,l=new SuperMapAlgoPlot.Point(0,0);for(var x=0;x<n.length-1;x++)(a=[]).push(n[x]),a.push(n[x+1]),s=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,n[x],n[x+1]),-1!==(u=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(s,a)).index&&(p=SuperMapAlgoPlot.PlottingUtil.distance(e,s),-1==r?(r=x,l=s,i=p):i>p&&(r=x,l=s,i=p));if(-1!==r&&r<=n.length-1){c=0;for(var U=0;U<r;U++)c+=SuperMapAlgoPlot.PlottingUtil.distance(n[U],n[U+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(n[r],l);var E=this.getLinePts(n,this.scaleValues[4],5/14),T=SuperMapAlgoPlot.PlottingUtil.distance(E.startPt,E.endPt)/3*2/g;if(c>0&&c<g){var V=c/g;V<T&&(V=T),V>1-T&&(V=1-T),this.scaleValues[3]=Math.abs(V-this.scaleValues[0])}}}else if(3===t){var R=(g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o))*(f=this.scaleValues[0]-this.scaleValues[3]);-1!==(u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,R)).index&&((h=2*SuperMapAlgoPlot.PlottingUtil.distance(u.pt,e)/g)>f&&(h=f),this.scaleValues[4]=h)}}}}])&&RV(e.prototype,o),n&&RV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function DV(t){"@babel/helpers - typeof";return(DV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BV(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YV(t,e){return(YV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=FV(t);if(e){var r=FV(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===DV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FV(t){return(FV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4020303=NV;var zV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YV(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol30100);var e,o,n,r=kV(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(1.570796),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);for(var r=this.mergeDashLine(this.dashLines,[]),i=this.computeDashLine(r,n),l=0;l<i.length;l++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i[l]);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var a=e*this.scaleValues[0],s=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,u=e*this.scaleValues[2],p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,a);if(-1!==p.index){var c=p.pt,f=p.index,h=c,g=n[f],P=n[f+1],y=SuperMapAlgoPlot.PlottingUtil.radian(g,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,1.5*u,1.5*u,y+s);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c,S],{surroundLineLimit:!0,lineTypeLimit:!0});var d=SuperMapAlgoPlot.PlottingUtil.radian(h,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,b=new SuperMapAlgoPlot.Point(-.2*u,.05*u),m=new SuperMapAlgoPlot.Point(-.2*u,-.05*u),v=SuperMapAlgoPlot.PlottingUtil.findPoint(S,h,.15*u,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,b,d),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,m,d);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[M,S,A,v],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var O=new SuperMapAlgoPlot.Point(.6*u,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(h,O,d),L=.4*u*this.scaleValues[5],w=.4*u*this.scaleValues[6],x=new SuperMapAlgoPlot.Point(0,-.9*(L-.25*w)),U=new SuperMapAlgoPlot.Point(0,.9*(L-.25*w)),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,x,d),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,U,d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[E,T],{surroundLineLimit:!0,lineTypeLimit:!0});var V=new SuperMapAlgoPlot.Point(0,L),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,V,d),I=new SuperMapAlgoPlot.Point(.5*w,-.25*w),C=new SuperMapAlgoPlot.Point(-.5*w,-.25*w),j=new SuperMapAlgoPlot.Point(-.5*w,.25*w),N=new SuperMapAlgoPlot.Point(.25*w,.25*w),D=new SuperMapAlgoPlot.Point(.5*w,0),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,I,d+180),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,C,d+180),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,j,d+180),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,N,d+180),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,D,d+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[B,Y,k,F,B],{surroundLineLimit:!0,lineTypeLimit:!0});var G=new SuperMapAlgoPlot.Point(0,-L),q=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,G,d),X=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(q,I,d+180),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(q,C,d+180),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(q,j,d+180),K=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(q,N,d+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[X,W,H,K,X],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(c,0),this.addScalePoint(S,1);var J=new SuperMapAlgoPlot.Point(0,-L),Z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,J,d);this.addScalePoint(Z,2),this.addScalePoint(z,3),this.finish()}}}}])&&BV(e.prototype,o),n&&BV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function GV(t){"@babel/helpers - typeof";return(GV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qV(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XV(t,e){return(XV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=HV(t);if(e){var r=HV(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===GV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function HV(t){return(HV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4020401=zV;var KV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XV(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol30102);var e,o,n,r=WV(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);for(var r=this.mergeDashLine(this.dashLines,[]),i=this.computeDashLine(r,n),l=0;l<i.length;l++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i[l]);e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(!this.isEdit){var a=this.getSubSymbolScaleValue(e);(a>.3||a<=0)&&(a=.3),this.scaleValues[2]=a}var s=e*this.scaleValues[0],u=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,p=e*this.scaleValues[2],c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,s);if(-1!==c.index){var f=c.index,h=c.pt,g=new SuperMapAlgoPlot.Point(n[f].x,n[f].y),P=new SuperMapAlgoPlot.Point(n[f+1].x,n[f+1].y),y=SuperMapAlgoPlot.PlottingUtil.dirAngle(g,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p/2,p/2,y+u),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,y+u+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S,d],{surroundLineLimit:!0,lineTypeLimit:!0});var b=180*SuperMapAlgoPlot.PlottingUtil.radian(h,S)/Math.PI,m=new SuperMapAlgoPlot.Point(-.2*p,.05*p),v=new SuperMapAlgoPlot.Point(-.2*p,-.05*p),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,m,b),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,v,b),O=SuperMapAlgoPlot.PlottingUtil.findPoint(S,h,.15*p,0);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[M,S,A,O],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var _=.4*p*this.scaleValues[5],L=.4*p*this.scaleValues[6],w=new SuperMapAlgoPlot.Point(0,-.9*(_-.25*L)),x=new SuperMapAlgoPlot.Point(0,.9*(_-.25*L)),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,w,b),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,x,b);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[U,E],{surroundLineLimit:!0,lineTypeLimit:!0});var T=new SuperMapAlgoPlot.Point(0,-_),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,T,b),R=new SuperMapAlgoPlot.Point(.5*L,-.25*L),I=new SuperMapAlgoPlot.Point(-.25*L,-.25*L),C=new SuperMapAlgoPlot.Point(-.5*L,.25*L),j=new SuperMapAlgoPlot.Point(.5*L,.25*L),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,R,b),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,I,b),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,C,b),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(V,j,b);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[N,D,B,Y,N],{surroundLineLimit:!0,lineTypeLimit:!0});var k=new SuperMapAlgoPlot.Point(0,_),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,k,b),z=new SuperMapAlgoPlot.Point(0,.25*L),G=new SuperMapAlgoPlot.Point(.5*L,0),q=new SuperMapAlgoPlot.Point(0,-.25*L),X=new SuperMapAlgoPlot.Point(-.5*L,0),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(F,z,b),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(F,G,b),K=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(F,q,b),J=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(F,X,b);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[W,H,K,J,W],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(h,0);var Z=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,y+u);this.addScalePoint(Z,1);var Q=new SuperMapAlgoPlot.Point(0,-_),$=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,Q,b);this.addScalePoint($,2);var tt=new SuperMapAlgoPlot.Point(-.5*L,0),et=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(F,tt,b);this.addScalePoint(et,3),this.finish()}}}}])&&qV(e.prototype,o),n&&qV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function JV(t){"@babel/helpers - typeof";return(JV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZV(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QV(t,e){return(QV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tR(t);if(e){var r=tR(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===JV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tR(t){return(tR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4020402=KV;var eR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QV(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,n,r=$V(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,o&&ZV(e.prototype,o),n&&ZV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}();function oR(t){"@babel/helpers - typeof";return(oR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nR(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rR(t,e){return(rR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=lR(t);if(e){var r=lR(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===oR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lR(t){return(lR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4022100=eR;var aR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rR(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,n,r=iR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var a=this.scaleValues[0],s=this.scaleValues[2],u=this.scaleValues[3],p=l*a,c=new SuperMapAlgoPlot.Point(i.x+l*s,i.y+l*u);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,p,0);var f=new SuperMapAlgoPlot.Point(c.x+p,c.y+p/2),h=new SuperMapAlgoPlot.Point(c.x+p,c.y-p/2),g=.3*p,P=SuperMapAlgoPlot.PlottingUtil.radian(f,h)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,g,g,P+157.5),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,g,g,P+202.5),d=new SuperMapAlgoPlot.Point((y.x+S.x)/2,(y.y+S.y)/2),b=SuperMapAlgoPlot.PlottingUtil.findPoint(h,f,.25*p,0),m=[];m.push(f),m.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,{surroundLineLimit:!0,lineTypeLimit:!0});this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[y,h,S,b],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(c);var v=p,M=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,v,v,90);this.addScalePoint(M),this.finish(),this.finish()}}}])&&nR(e.prototype,o),n&&nR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function sR(t){"@babel/helpers - typeof";return(sR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uR(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pR(t,e){return(pR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=fR(t);if(e){var r=fR(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===sR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fR(t){return(fR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4022101=aR;var hR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pR(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,n,r=cR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(o,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var a=this.scaleValues[0],s=this.scaleValues[2],u=this.scaleValues[3],p=l*a,c=new SuperMapAlgoPlot.Point(i.x+l*s,i.y+l*u);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,p,0);var f=new SuperMapAlgoPlot.Point(c.x+p,c.y+p/2),h=new SuperMapAlgoPlot.Point(c.x+p,c.y-p/2),g=.3*p,P=SuperMapAlgoPlot.PlottingUtil.radian(h,f)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,g,g,P+157.5),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,g,g,P+202.5),d=new SuperMapAlgoPlot.Point((y.x+S.x)/2,(y.y+S.y)/2),b=SuperMapAlgoPlot.PlottingUtil.findPoint(f,h,.25*p,0),m=[];m.push(h),m.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,{surroundLineLimit:!0,lineTypeLimit:!0});this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[y,f,S,b],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(c);var v=p,M=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,v,v,90);this.addScalePoint(M),this.finish(),this.finish()}}}])&&uR(e.prototype,o),n&&uR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function gR(t){"@babel/helpers - typeof";return(gR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PR(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yR(t,e){return(yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function SR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=dR(t);if(e){var r=dR(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===gR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dR(t){return(dR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4022102=hR;var bR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yR(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=SR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues[0]=1.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(1.05));var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);2===this.controlPoints.length&&t.splice(1,0,new SuperMapAlgoPlot.Point(t[0].x+e,t[0].y));var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),i=SuperMapAlgoPlot.PlottingUtil.distance(o,n),l=i*this.scaleValues[0],a=180*SuperMapAlgoPlot.PlottingUtil.radian(o,n)/Math.PI%360,s=180*SuperMapAlgoPlot.PlottingUtil.radian(o,r)/Math.PI%360;a>s&&(s+=360);var u=(s-a)/50,p=this.getArcPts(t[0],i,a,s,u),c=this.getArcPts(t[0],l,a,s,u);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineLimit:!0}),3===this.controlPoints.length&&(this.controlPoints[2]=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,e,s)),this.addScalePoint(new SuperMapAlgoPlot.Point(c[c.length-1].x,c[c.length-1].y),0),this.finish()}}},{key:"getArcPts",value:function(t,e,o,n,r){void 0!==r&&null!==r||(r=1);for(var i=[],l=o;l<n;l+=r){var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l);i.push(a)}var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,n);return i.push(s),i}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n;r>=1.01&&(this.scaleValues[0]=r)}}}])&&PR(e.prototype,o),n&&PR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mR(t){"@babel/helpers - typeof";return(mR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vR(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MR(t,e){return(MR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function AR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=OR(t);if(e){var r=OR(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===mR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function OR(t){return(OR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020403=bR;var _R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MR(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=AR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=.3*this.getSubSymbolScaleValue();e>.05&&(e=.05),this.scaleValues[0]=e}for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=Math.abs(o*this.scaleValues[0]),r=this.getDashLinePts(t,n),i={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},l=1,a=0;a<r.length;a++){var s=r[a];if(0==l%2)if(2===s.length&&a!==r.length-1){var u=new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*n,s[0],u),c=null;c=this.scaleValues[0]>0?p.pntLeft:p.pntRight,this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[c,s[0],s[1]],i)}else l--;r[a].length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),l++}var f=180*SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])/Math.PI;this.scaleValues[0]>0?f+=90:f-=90;var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],2*n,2*n,f);this.addScalePoint(h),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>n)return o;for(var r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=2*parseInt(n/(1.5*e)),l=0;l<i;l++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,e);if(-1!==a.index){if(0==l%2){for(var s=[],u=0;u<a.index+1;u++)s.push(r[u].clone());s.push(a.pt),o.push(s)}var p=[];p.push(a.pt);for(var c=a.index+1;c<r.length;c++)p.push(r[c]);r=(r=[]).concat(p)}}return r.length>0&&o.push(r),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=.5*SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n;r>=.05&&(r=.05),SuperMapAlgoPlot.PlottingUtil.isRight(e,o[0],o[1])&&(r=-r),this.scaleValues[0]=r}}}])&&vR(e.prototype,o),n&&vR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function LR(t){"@babel/helpers - typeof";return(LR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wR(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xR(t,e){return(xR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function UR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=ER(t);if(e){var r=ER(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===LR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ER(t){return(ER=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6020404=_R;var TR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xR(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=UR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(Math.PI/2)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.125),this.scaleValues.push(Math.PI/2));var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n,this.scaleValues[3]=n}var r=this.scaleValues[1],i=this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD,l=o*this.scaleValues[0],a=o*this.scaleValues[3],s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,l);if(-1!==s.index){var u=s.pt,p=e[s.index],c=e[s.index+1],f=SuperMapAlgoPlot.PlottingUtil.dirAngle(p,c)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,a,a,f+i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s.pt,h],{surroundLineLimit:!0,lineTypeLimit:!0});var g=SuperMapAlgoPlot.PlottingUtil.dirAngle(u,h)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=o*r,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,a,a,f+i+180);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],y,P,f+i-180);var S=[],d=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,a,a,g+30),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,a,a,g+33);S.push(h),S.push(d),S.push(b);var m=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(S);m=SuperMapAlgoPlot.PlottingUtil.clearSamePts(m);var v=SuperMapAlgoPlot.PlottingUtil.polylineDistance(m),M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*v,m);if(-1!==M.index){for(var A=[],O=0;O<M.index;O++)A.push(m[O]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var _=SuperMapAlgoPlot.PlottingUtil.dirAngle(h,d)*SuperMapAlgoPlot.PlottingUtil.RTOD,L=new SuperMapAlgoPlot.Point(-.2*a,.05*a),w=new SuperMapAlgoPlot.Point(-.2*a,-.05*a),x=new SuperMapAlgoPlot.Point(-.15*a,0),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,L,_+17),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,w,_+17),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,x,_+17),V={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[U,d,E,T],V);var R=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,a,a,g+330),I=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,a,a,g+327),C=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([h,R,I]);C=SuperMapAlgoPlot.PlottingUtil.clearSamePts(C),A=[];for(var j=0;j<M.index;j++)A.push(C[j]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var N=SuperMapAlgoPlot.PlottingUtil.dirAngle(h,R)*SuperMapAlgoPlot.PlottingUtil.RTOD,D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,L,N-17),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,w,N-17),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,x,N-17);if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[D,R,B,Y],V),this.addScalePoint(u),this.addScalePoint(h),this.subSymbols.length>0){var k=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,.5*P,.5*P,f+i+90);this.addScalePoint(k)}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);var i,l,a,s,u=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(u=SuperMapAlgoPlot.PlottingUtil.clearSamePts(u),0===t){for(var p=[],c=0;c<u.length;c++)p.push(new SuperMapAlgoPlot.Point(u[c].x,u[c].y));for(var f=-1,h=0,g=new SuperMapAlgoPlot.Point(0,0),P=0;P<p.length-1;P++){var y=[];y.push(p[P]),y.push(p[P+1]);var S=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,p[P],p[P+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(S,y).index){var d=SuperMapAlgoPlot.PlottingUtil.distance(e,S);-1==f?(f=P,g=S,h=d):h>d&&(f=P,g=S,h=d)}}if(-1==f||f>p.length-1)return;for(var b=0,m=0;m<f;m++)b+=SuperMapAlgoPlot.PlottingUtil.distance(u[m],u[m+1]);if((b+=SuperMapAlgoPlot.PlottingUtil.distance(u[f],g))<0||b>n)return;var v=b/n;this.scaleValues[0]=v}else if(2===t){var M=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u,n*this.scaleValues[0]);if(-1===M.index)return;i=M.pt,l=u[M.index],a=u[M.index+1],s=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var A=n*this.scaleValues[3],O=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,A,A,s+this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD+180),_=SuperMapAlgoPlot.PlottingUtil.distance(O,e)/n*2;this.scaleValues[1]=_}else if(1===t){var L=n*this.scaleValues[0],w=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u,L);if(-1===w.index)return;i=w.pt,l=u[w.index],a=u[w.index+1],s=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var x=(SuperMapAlgoPlot.PlottingUtil.dirAngle(i,e)*SuperMapAlgoPlot.PlottingUtil.RTOD-s)*SuperMapAlgoPlot.PlottingUtil.DTOR;this.scaleValues[2]=x}}}}])&&wR(e.prototype,o),n&&wR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function VR(t){"@babel/helpers - typeof";return(VR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RR(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IR(t,e){return(IR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=jR(t);if(e){var r=jR(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===VR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jR(t){return(jR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4021101=TR;var NR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IR(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol30800);var e,o,n,r=CR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(Math.PI/2)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.125),this.scaleValues.push(Math.PI/2));var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n,this.scaleValues[3]=n}var r=this.scaleValues[1],i=this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD,l=o*this.scaleValues[0],a=o*this.scaleValues[3],s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,l);if(-1!==s.index){var u=s.pt,p=e[s.index],c=e[s.index+1],f=SuperMapAlgoPlot.PlottingUtil.dirAngle(p,c)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,a,a,f+i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s.pt,h],{surroundLineLimit:!0,lineTypeLimit:!0});var g=SuperMapAlgoPlot.PlottingUtil.dirAngle(u,h)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=o*r,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,a,a,f+i+180);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],y,P,f+i-180);var S=[],d=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,a,a,g+30),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,a,a,g+33);S.push(h),S.push(d),S.push(b);var m=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(S);m=SuperMapAlgoPlot.PlottingUtil.clearSamePts(m);var v=SuperMapAlgoPlot.PlottingUtil.polylineDistance(m),M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*v,m);if(-1!==M.index){for(var A=[],O=0;O<M.index;O++)A.push(m[O]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var _=SuperMapAlgoPlot.PlottingUtil.dirAngle(h,d)*SuperMapAlgoPlot.PlottingUtil.RTOD,L=new SuperMapAlgoPlot.Point(-.2*a,.05*a),w=new SuperMapAlgoPlot.Point(-.2*a,-.05*a),x=new SuperMapAlgoPlot.Point(-.15*a,0),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,L,_+17),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,w,_+17),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,x,_+17),V={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[U,d,E,T],V);var R=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,a,a,g+330),I=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,a,a,g+327),C=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([h,R,I]);C=SuperMapAlgoPlot.PlottingUtil.clearSamePts(C),A=[];for(var j=0;j<M.index;j++)A.push(C[j]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var N=SuperMapAlgoPlot.PlottingUtil.dirAngle(h,R)*SuperMapAlgoPlot.PlottingUtil.RTOD,D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,L,N-17),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,w,N-17),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(R,x,N-17);if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[D,R,B,Y],V),this.addScalePoint(u),this.addScalePoint(h),this.subSymbols.length>0){var k=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,.5*P,.5*P,f+i+90);this.addScalePoint(k)}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var n=0,r=0;r<o.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(o[r],o[r+1]);var i,l,a,s,u=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(u=SuperMapAlgoPlot.PlottingUtil.clearSamePts(u),0===t){for(var p=[],c=0;c<u.length;c++)p.push(new SuperMapAlgoPlot.Point(u[c].x,u[c].y));for(var f=-1,h=0,g=new SuperMapAlgoPlot.Point(0,0),P=0;P<p.length-1;P++){var y=[];y.push(p[P]),y.push(p[P+1]);var S=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,p[P],p[P+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(S,y).index){var d=SuperMapAlgoPlot.PlottingUtil.distance(e,S);-1==f?(f=P,g=S,h=d):h>d&&(f=P,g=S,h=d)}}if(-1==f||f>p.length-1)return;for(var b=0,m=0;m<f;m++)b+=SuperMapAlgoPlot.PlottingUtil.distance(u[m],u[m+1]);if((b+=SuperMapAlgoPlot.PlottingUtil.distance(u[f],g))<0||b>n)return;var v=b/n;this.scaleValues[0]=v}else if(2===t){var M=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u,n*this.scaleValues[0]);if(-1===M.index)return;i=M.pt,l=u[M.index],a=u[M.index+1],s=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var A=n*this.scaleValues[3],O=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,A,A,s+this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD+180),_=SuperMapAlgoPlot.PlottingUtil.distance(O,e)/n*2;this.scaleValues[1]=_}else if(1===t){var L=n*this.scaleValues[0],w=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(u,L);if(-1===w.index)return;i=w.pt,l=u[w.index],a=u[w.index+1],s=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var x=(SuperMapAlgoPlot.PlottingUtil.dirAngle(i,e)*SuperMapAlgoPlot.PlottingUtil.RTOD-s)*SuperMapAlgoPlot.PlottingUtil.DTOR;this.scaleValues[2]=x}}}}])&&RR(e.prototype,o),n&&RR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function DR(t){"@babel/helpers - typeof";return(DR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BR(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YR(t,e){return(YR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=FR(t);if(e){var r=FR(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===DR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FR(t){return(FR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4021102=NR;var zR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YR(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=kR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=r*this.scaleValues[2],l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,i),a=4*o,s=[],u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[l.index],l.pt);s.push(new SuperMapAlgoPlot.Point(u.pntLeft.x,u.pntLeft.y)),s.push(new SuperMapAlgoPlot.Point(u.pntRight.x,u.pntRight.y)),i=r*this.scaleValues[3],l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,i);var p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[l.index],l.pt);s.push(new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y)),s.push(new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y));for(var c=r*this.scaleValues[1],f=this.getDashLinePts(n,c),h={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},g=0;g<f.length;g++){var P=f[g];SuperMapAlgoPlot.PlottingUtil.clearSamePts(P);var y=SuperMapAlgoPlot.PlottingUtil.paraLine(P,o,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(P,o,!1);1!=g?(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,h)):(y.unshift(s[0]),y.push(s[2]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,h),S.unshift(s[1]),S.push(s[3]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,h))}a=2*o;var d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.05*r),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.15*r);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt),v=[];v.push(b.pntLeft),v.push(m.pntRight),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),(v=[]).push(b.pntRight),v.push(m.pntLeft),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.45*r);var M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.55*r);var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);(v=[]).push(M.pntLeft),v.push(A.pntRight),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),(v=[]).push(M.pntRight),v.push(A.pntLeft),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.85*r);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.95*r);var _=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);(v=[]).push(O.pntLeft),v.push(_.pntRight),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),(v=[]).push(O.pntRight),v.push(_.pntLeft),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,0);var L=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1.5*a,n[d.index+1],d.pt);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.5*r);var w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(3*a,n[d.index],d.pt);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r);var x=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1.5*a,n[d.index],d.pt);(v=[]).push(L.pntLeft),v.push(w.pntRight),v.push(x.pntRight);var U=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(v);U=SuperMapAlgoPlot.PlottingUtil.clearSamePts(U),h={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,h),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>n)return o;for(var r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=2*parseInt(n/(1.5*e)),l=0;l<i;l++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,e);if(-1!==a.index){if(0==l%2){for(var s=[],u=0;u<a.index+1;u++)s.push(r[u].clone());s.push(a.pt),o.push(s)}var p=[];p.push(a.pt);for(var c=a.index+1;c<r.length;c++)p.push(r[c]);r=(r=[]).concat(p)}}return r.length>0&&o.push(r),o}}])&&BR(e.prototype,o),n&&BR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function GR(t){"@babel/helpers - typeof";return(GR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qR(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XR(t,e){return(XR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function WR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=HR(t);if(e){var r=HR(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===GR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function HR(t){return(HR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1770101=zR;var KR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XR(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=WR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=r*this.scaleValues[2],l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,i),a=4*o,s=[],u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[l.index],l.pt);s.push(new SuperMapAlgoPlot.Point(u.pntLeft.x,u.pntLeft.y)),s.push(new SuperMapAlgoPlot.Point(u.pntRight.x,u.pntRight.y)),i=r*this.scaleValues[3],l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,i);var p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[l.index],l.pt);s.push(new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y)),s.push(new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y));for(var c=r*this.scaleValues[1],f=this.getDashLinePts(n,c),h={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},g=0;g<f.length;g++){var P=f[g];P=SuperMapAlgoPlot.PlottingUtil.clearSamePts(P);var y=SuperMapAlgoPlot.PlottingUtil.paraLine(P,o,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(P,o,!1);1!=g?(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,h)):(y.unshift(s[0]),y.push(s[2]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,h),S.unshift(s[1]),S.push(s[3]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,h))}a=2*o;var d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.05*r),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.15*r);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt),v=[];v.push(b.pntLeft),v.push(m.pntRight),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),(v=[]).push(b.pntRight),v.push(m.pntLeft),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.45*r);var M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.55*r);var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);(v=[]).push(M.pntLeft),v.push(A.pntRight),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),(v=[]).push(M.pntRight),v.push(A.pntLeft),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.85*r);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.95*r);var _=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[d.index],d.pt);(v=[]).push(O.pntLeft),v.push(_.pntRight),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),(v=[]).push(O.pntRight),v.push(_.pntLeft),h={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,h),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>n)return o;for(var r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=2*parseInt(n/(1.5*e)),l=0;l<i;l++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,e);if(-1!==a.index){if(0==l%2){for(var s=[],u=0;u<a.index+1;u++)s.push(r[u].clone());s.push(a.pt),o.push(s)}var p=[];p.push(a.pt);for(var c=a.index+1;c<r.length;c++)p.push(r[c]);r=(r=[]).concat(p)}}return r.length>0&&o.push(r),o}}])&&qR(e.prototype,o),n&&qR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function JR(t){"@babel/helpers - typeof";return(JR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZR(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QR(t,e){return(QR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,n=tI(t);if(e){var r=tI(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(t,e){if(e&&("object"===JR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tI(t){return(tI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1770201=KR;var eI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QR(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,n,r=$R(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=r.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1),e.scaleValues.push(.5),e.scaleValues.push(1),e.scaleValues.push(.03)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.03)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue(),this.scaleValues[7]=this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=this.scaleValues[7]*r,l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.3125*r),a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.6875*r),s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r*this.scaleValues[5]),u=(this.scaleValues[2],this.scaleValues[6],[]),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i*this.scaleValues[6],n[s.index],s.pt);u.push(new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y)),u.push(new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y));var c,f,h=SuperMapAlgoPlot.PlottingUtil.distance(l.pt,a.pt)*this.scaleValues[6];h>(i*=this.scaleValues[6])?(c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,i/2,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(u,i/2,!1)):(c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,h/2,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(u,h/2,!1));var g=[];g.push(c[0]),g.push(c[c.length-1]),g.push(f[f.length-1]),g.push(f[0]);var P={surroundLineFlag:!1,fillLimit:!0,strokeColor:"#37CECE",fillColorLimit:!0,fillColor:"#37CECE",fill:!0,fillOpacity:.7,lineColorLimit:!0,color:"#37CECE",surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,P);var y=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(g);P={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0};var S=SuperMapAlgoPlot.PlottingUtil.paraLine(n,o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,P);for(var d=r*this.scaleValues[1],b=this.getDashLinePts(n,d),m=0;m<b.length;m++){var v=b[m];v=SuperMapAlgoPlot.PlottingUtil.clearSamePts(v);var M=SuperMapAlgoPlot.PlottingUtil.paraLine(v,o,!0);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,P)}this.addScalePoint(y),this.addScalePoint(u[1]),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>n)return o;for(var r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=2*parseInt(n/(1.5*e)),l=0;l<i;l++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,e);if(-1!==a.index){if(0==l%2){for(var s=[],u=0;u<a.index+1;u++)s.push(r[u].clone());s.push(a.pt),o.push(s)}var p=[];p.push(a.pt);for(var c=a.index+1;c<r.length;c++)p.push(r[c]);r=(r=[]).concat(p)}}return r.length>0&&o.push(r),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);for(var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=0,l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*r,n),a=SuperMapAlgoPlot.PlottingUtil.distance(n[0],e),s=0,u=1;u<n.length;u++){var p=SuperMapAlgoPlot.PlottingUtil.distance(n[u],e);p<a&&(a=p,s=u)}var c=[];for(u=0;u<n.length;u++)u<=s&&c.push(n[u]);var f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c);if(0===t)if(n.length<=3){if(0===(i=SuperMapAlgoPlot.PlottingUtil.distance(l.pts,e)))return;var h=.5;e.x-l.pts.x<0?((h=-1*i/r+.5)<0&&(h=0),this.scaleValues[5]=h):((h=i/r+.5)>1&&(h=1),this.scaleValues[5]=h)}else this.scaleValues[5]=f/r;else if(1===t){l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r*this.scaleValues[5],n),i=SuperMapAlgoPlot.PlottingUtil.distance(l.pts,e);var g=this.scaleValues[7]*r;this.scaleValues[6]=i/g}}}}])&&ZR(e.prototype,o),n&&ZR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();SuperMapAlgoPlot.AlgoSymbol1770501=eI;SuperMapAlgoPlot.JBAlgoSymbolFactory=SuperMapAlgoPlot.JBAlgoSymbolFactory||{};SuperMapAlgoPlot.JBAlgoSymbolFactory.getAlgoSymbol=function(t,e,o){if(100!==t)return new SuperMapAlgoPlot.AlgoSymbol(o);switch(e){case 12500:return new SuperMapAlgoPlot.AlgoSymbol12500(o);case 12501:return new SuperMapAlgoPlot.AlgoSymbol12501(o);case 12502:return new SuperMapAlgoPlot.AlgoSymbol12502(o);case 13700:return new SuperMapAlgoPlot.AlgoSymbol13700(o);case 15200:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 15201:case 23800:return new SuperMapAlgoPlot.AlgoSymbol23800(o);case 15202:return new SuperMapAlgoPlot.AlgoSymbol15202(o);case 15800:return new SuperMapAlgoPlot.AlgoSymbol15800(o);case 15801:return new SuperMapAlgoPlot.AlgoSymbol15801(o);case 15802:return new SuperMapAlgoPlot.AlgoSymbol15802(o);case 15803:return new SuperMapAlgoPlot.AlgoSymbol15803(o);case 15804:return new SuperMapAlgoPlot.AlgoSymbol15804(o);case 15805:return new SuperMapAlgoPlot.AlgoSymbol15805(o);case 15806:return new SuperMapAlgoPlot.AlgoSymbol15806(o);case 15900:return new SuperMapAlgoPlot.AlgoSymbol15900(o);case 16e3:return new SuperMapAlgoPlot.AlgoSymbol16000(o);case 16001:return new SuperMapAlgoPlot.AlgoSymbol16001(o);case 16100:return new SuperMapAlgoPlot.AlgoSymbol16100(o);case 16200:return new SuperMapAlgoPlot.AlgoSymbol16200(o);case 16201:return new SuperMapAlgoPlot.AlgoSymbol16201(o);case 16202:return new SuperMapAlgoPlot.AlgoSymbol16202(o);case 16203:return new SuperMapAlgoPlot.AlgoSymbol16203(o);case 16500:return new SuperMapAlgoPlot.AlgoSymbol16500(o);case 16700:return new SuperMapAlgoPlot.AlgoSymbol16700(o);case 16900:return new SuperMapAlgoPlot.AlgoSymbol16900(o);case 17400:return new SuperMapAlgoPlot.AlgoSymbol17400(o);case 17401:return new SuperMapAlgoPlot.AlgoSymbol17401(o);case 17500:return new SuperMapAlgoPlot.AlgoSymbol17500(o);case 17501:return new SuperMapAlgoPlot.AlgoSymbol17501(o);case 17600:return new SuperMapAlgoPlot.AlgoSymbol17600(o);case 17700:return new SuperMapAlgoPlot.AlgoSymbol17700(o);case 1770101:return new SuperMapAlgoPlot.AlgoSymbol1770101(o);case 1770201:return new SuperMapAlgoPlot.AlgoSymbol1770201(o);case 1770501:return new SuperMapAlgoPlot.AlgoSymbol1770501(o);case 17703:return new SuperMapAlgoPlot.AlgoSymbol17703(o);case 17704:return new SuperMapAlgoPlot.AlgoSymbol17704(o);case 17800:return new SuperMapAlgoPlot.AlgoSymbol17800(o);case 17801:return new SuperMapAlgoPlot.AlgoSymbol17801(o);case 17802:return new SuperMapAlgoPlot.AlgoSymbol17802(o);case 17803:return new SuperMapAlgoPlot.AlgoSymbol17803(o);case 17804:return new SuperMapAlgoPlot.AlgoSymbol17804(o);case 17805:return new SuperMapAlgoPlot.AlgoSymbol17805(o);case 17806:return new SuperMapAlgoPlot.AlgoSymbol17806(o);case 20300:return new SuperMapAlgoPlot.AlgoSymbol20300(o);case 20301:return new SuperMapAlgoPlot.AlgoSymbol20301(o);case 21401:return new SuperMapAlgoPlot.AlgoSymbol21401(o);case 21500:return new SuperMapAlgoPlot.AlgoSymbol21500(o);case 21501:return new SuperMapAlgoPlot.AlgoSymbol21501(o);case 21502:return new SuperMapAlgoPlot.AlgoSymbol21502(o);case 21503:return new SuperMapAlgoPlot.AlgoSymbol21503(o);case 21504:return new SuperMapAlgoPlot.AlgoSymbol21504(o);case 21600:return new SuperMapAlgoPlot.AlgoSymbol21600(o);case 21800:return new SuperMapAlgoPlot.AlgoSymbol21800(o);case 21900:return new SuperMapAlgoPlot.AlgoSymbol21900(o);case 22e3:return new SuperMapAlgoPlot.AlgoSymbol22000(o);case 22103:return new SuperMapAlgoPlot.AlgoSymbol22103(o);case 22200:return new SuperMapAlgoPlot.AlgoSymbol22200(o);case 23400:return new SuperMapAlgoPlot.AlgoSymbol23400(o);case 23500:return new SuperMapAlgoPlot.AlgoSymbol23500(o);case 2350001:return new SuperMapAlgoPlot.AlgoSymbol2350001(o);case 23600:return new SuperMapAlgoPlot.AlgoSymbol23600(o);case 23700:return new SuperMapAlgoPlot.AlgoSymbol23700(o);case 23901:return new SuperMapAlgoPlot.AlgoSymbol23901(o);case 23902:return new SuperMapAlgoPlot.AlgoSymbol23902(o);case 24700:return new SuperMapAlgoPlot.AlgoSymbol24700(o);case 25e3:return new SuperMapAlgoPlot.AlgoSymbol25000(o);case 25100:return new SuperMapAlgoPlot.AlgoSymbol25100(o);case 25101:return new SuperMapAlgoPlot.AlgoSymbol25101(o);case 25200:return new SuperMapAlgoPlot.AlgoSymbol25200(o);case 21400:return new SuperMapAlgoPlot.AlgoSymbol21400(o);case 25201:return new SuperMapAlgoPlot.AlgoSymbol25201(o);case 25202:return new SuperMapAlgoPlot.AlgoSymbol25202(o);case 25300:return new SuperMapAlgoPlot.AlgoSymbol25300(o);case 25301:return new SuperMapAlgoPlot.AlgoSymbol25301(o);case 25400:return new SuperMapAlgoPlot.AlgoSymbol25400(o);case 25500:return new SuperMapAlgoPlot.AlgoSymbol25500(o);case 25501:return new SuperMapAlgoPlot.AlgoSymbol25501(o);case 25502:return new SuperMapAlgoPlot.AlgoSymbol25502(o);case 25503:return new SuperMapAlgoPlot.AlgoSymbol25503(o);case 25600:return new SuperMapAlgoPlot.AlgoSymbol25600(o);case 25601:return new SuperMapAlgoPlot.AlgoSymbol25601(o);case 25700:return new SuperMapAlgoPlot.AlgoSymbol25700(o);case 25701:return new SuperMapAlgoPlot.AlgoSymbol25701(o);case 2570201:return new SuperMapAlgoPlot.AlgoSymbol2570201(o);case 2570301:return new SuperMapAlgoPlot.AlgoSymbol2570301(o);case 2570401:return new SuperMapAlgoPlot.AlgoSymbol2570401(o);case 2570501:return new SuperMapAlgoPlot.AlgoSymbol2570501(o);case 25800:return new SuperMapAlgoPlot.AlgoSymbol25800(o);case 25801:return new SuperMapAlgoPlot.AlgoSymbol25801(o);case 25900:return new SuperMapAlgoPlot.AlgoSymbol25900(o);case 25901:return new SuperMapAlgoPlot.AlgoSymbol25901(o);case 26400:return new SuperMapAlgoPlot.AlgoSymbol26400(o);case 26500:return new SuperMapAlgoPlot.AlgoSymbol26500(o);case 26501:return new SuperMapAlgoPlot.AlgoSymbol26501(o);case 26502:return new SuperMapAlgoPlot.AlgoSymbol26502(o);case 26503:return new SuperMapAlgoPlot.AlgoSymbol26503(o);case 26600:return new SuperMapAlgoPlot.AlgoSymbol26600(o);case 26601:return new SuperMapAlgoPlot.AlgoSymbol26601(o);case 26700:return new SuperMapAlgoPlot.AlgoSymbol26700(o);case 26800:return new SuperMapAlgoPlot.AlgoSymbol26800(o);case 27100:return new SuperMapAlgoPlot.AlgoSymbol27100(o);case 27300:return new SuperMapAlgoPlot.AlgoSymbol27300(o);case 2730101:return new SuperMapAlgoPlot.AlgoSymbol2730101(o);case 27700:return new SuperMapAlgoPlot.AlgoSymbol27700(o);case 27701:return new SuperMapAlgoPlot.AlgoSymbol27701(o);case 27900:return new SuperMapAlgoPlot.AlgoSymbol27900(o);case 27901:return new SuperMapAlgoPlot.AlgoSymbol27901(o);case 27902:return new SuperMapAlgoPlot.AlgoSymbol27902(o);case 28e3:return new SuperMapAlgoPlot.AlgoSymbol28000(o);case 28100:return new SuperMapAlgoPlot.AlgoSymbol28100(o);case 28200:return new SuperMapAlgoPlot.AlgoSymbol28200(o);case 28201:return new SuperMapAlgoPlot.AlgoSymbol28201(o);case 28300:return new SuperMapAlgoPlot.AlgoSymbol28300(o);case 28301:return new SuperMapAlgoPlot.AlgoSymbol28301(o);case 28400:return new SuperMapAlgoPlot.AlgoSymbol28400(o);case 28900:return new SuperMapAlgoPlot.AlgoSymbol28900(o);case 29e3:return new SuperMapAlgoPlot.AlgoSymbol29000(o);case 29001:return new SuperMapAlgoPlot.AlgoSymbol29001(o);case 29002:return new SuperMapAlgoPlot.AlgoSymbol29002(o);case 29003:return new SuperMapAlgoPlot.AlgoSymbol29003(o);case 29100:return new SuperMapAlgoPlot.AlgoSymbol29100(o);case 29101:return new SuperMapAlgoPlot.AlgoSymbol29101(o);case 29103:return new SuperMapAlgoPlot.AlgoSymbol29103(o);case 29401:return new SuperMapAlgoPlot.AlgoSymbol29401(o);case 29800:return new SuperMapAlgoPlot.AlgoSymbol29800(o);case 29903:return new SuperMapAlgoPlot.AlgoSymbol29903(o);case 3e4:return new SuperMapAlgoPlot.AlgoSymbol30000(o);case 30001:return new SuperMapAlgoPlot.AlgoSymbol30001(o);case 30002:return new SuperMapAlgoPlot.AlgoSymbol30002(o);case 30100:case 4020400:return new SuperMapAlgoPlot.AlgoSymbol30100(o);case 30200:return new SuperMapAlgoPlot.AlgoSymbol30200(o);case 30201:return new SuperMapAlgoPlot.AlgoSymbol30201(o);case 30800:return new SuperMapAlgoPlot.AlgoSymbol30800(o);case 30102:return new SuperMapAlgoPlot.AlgoSymbol30102(o);case 31300:return new SuperMapAlgoPlot.AlgoSymbol31300(o);case 31301:return new SuperMapAlgoPlot.AlgoSymbol31301(o);case 31302:return new SuperMapAlgoPlot.AlgoSymbol31302(o);case 31303:return new SuperMapAlgoPlot.AlgoSymbol31303(o);case 31304:return new SuperMapAlgoPlot.AlgoSymbol31304(o);case 31400:return new SuperMapAlgoPlot.AlgoSymbol31400(o);case 31401:return new SuperMapAlgoPlot.AlgoSymbol31401(o);case 31600:return new SuperMapAlgoPlot.AlgoSymbol31600(o);case 31601:return new SuperMapAlgoPlot.AlgoSymbol31601(o);case 31803:return new SuperMapAlgoPlot.AlgoSymbol31803(o);case 32300:return new SuperMapAlgoPlot.AlgoSymbol32300(o);case 32900:return new SuperMapAlgoPlot.AlgoSymbol32900(o);case 33400:return new SuperMapAlgoPlot.AlgoSymbol33400(o);case 34300:return new SuperMapAlgoPlot.AlgoSymbol34300(o);case 34400:return new SuperMapAlgoPlot.AlgoSymbol34400(o);case 34500:return new SuperMapAlgoPlot.AlgoSymbol34500(o);case 34501:return new SuperMapAlgoPlot.AlgoSymbol34501(o);case 34700:return new SuperMapAlgoPlot.AlgoSymbol34700(o);case 34800:return new SuperMapAlgoPlot.AlgoSymbol34800(o);case 34801:return new SuperMapAlgoPlot.AlgoSymbol34801(o);case 34900:return new SuperMapAlgoPlot.AlgoSymbol34900(o);case 34901:return new SuperMapAlgoPlot.AlgoSymbol34901(o);case 34902:return new SuperMapAlgoPlot.AlgoSymbol34902(o);case 35e3:return new SuperMapAlgoPlot.AlgoSymbol35000(o);case 35200:return new SuperMapAlgoPlot.AlgoSymbol35200(o);case 35304:return new SuperMapAlgoPlot.AlgoSymbol35304(o);case 35500:return new SuperMapAlgoPlot.AlgoSymbol35500(o);case 36400:return new SuperMapAlgoPlot.AlgoSymbol36400(o);case 36401:return new SuperMapAlgoPlot.AlgoSymbol36401(o);case 36600:return new SuperMapAlgoPlot.AlgoSymbol36600(o);case 36700:return new SuperMapAlgoPlot.AlgoSymbol36700(o);case 36800:return new SuperMapAlgoPlot.AlgoSymbol36800(o);case 37100:return new SuperMapAlgoPlot.AlgoSymbol37100(o);case 37200:return new SuperMapAlgoPlot.AlgoSymbol37200(o);case 37300:return new SuperMapAlgoPlot.AlgoSymbol37300(o);case 37301:return new SuperMapAlgoPlot.AlgoSymbol37301(o);case 37600:return new SuperMapAlgoPlot.AlgoSymbol37600(o);case 37601:return new SuperMapAlgoPlot.AlgoSymbol37601(o);case 37700:return new SuperMapAlgoPlot.AlgoSymbol37700(o);case 38600:return new SuperMapAlgoPlot.AlgoSymbol38600(o);case 38700:return new SuperMapAlgoPlot.AlgoSymbol38700(o);case 39e3:return new SuperMapAlgoPlot.AlgoSymbol39000(o);case 39101:return new SuperMapAlgoPlot.AlgoSymbol39101(o);case 39500:return new SuperMapAlgoPlot.AlgoSymbol39500(o);case 39600:return new SuperMapAlgoPlot.AlgoSymbol39600(o);case 39800:return new SuperMapAlgoPlot.AlgoSymbol39800(o);case 39801:return new SuperMapAlgoPlot.AlgoSymbol39801(o);case 39802:return new SuperMapAlgoPlot.AlgoSymbol39802(o);case 4e4:return new SuperMapAlgoPlot.AlgoSymbol40000(o);case 40100:return new SuperMapAlgoPlot.AlgoSymbol40100(o);case 40101:return new SuperMapAlgoPlot.AlgoSymbol40101(o);case 40900:return new SuperMapAlgoPlot.AlgoSymbol40900(o);case 41100:return new SuperMapAlgoPlot.AlgoSymbol41100(o);case 41200:return new SuperMapAlgoPlot.AlgoSymbol41200(o);case 41201:return new SuperMapAlgoPlot.AlgoSymbol41201(o);case 41202:return new SuperMapAlgoPlot.AlgoSymbol41202(o);case 42200:return new SuperMapAlgoPlot.AlgoSymbol42200(o);case 42400:return new SuperMapAlgoPlot.AlgoSymbol42400(o);case 42500:return new SuperMapAlgoPlot.AlgoSymbol42500(o);case 42700:return new SuperMapAlgoPlot.AlgoSymbol42700(o);case 43500:return new SuperMapAlgoPlot.AlgoSymbol43500(o);case 44100:return new SuperMapAlgoPlot.AlgoSymbol44100(o);case 44200:return new SuperMapAlgoPlot.AlgoSymbol44200(o);case 44300:return new SuperMapAlgoPlot.AlgoSymbol44300(o);case 44400:return new SuperMapAlgoPlot.AlgoSymbol44400(o);case 2890001:return new SuperMapAlgoPlot.AlgoSymbol2890001(o);case 3010301:return new SuperMapAlgoPlot.AlgoSymbol3010301(o);case 3010302:return new SuperMapAlgoPlot.AlgoSymbol3010302(o);case 3010303:return new SuperMapAlgoPlot.AlgoSymbol3010303(o);case 3010304:return new SuperMapAlgoPlot.AlgoSymbol3010304(o);case 3010102:return new SuperMapAlgoPlot.AlgoSymbol3010102(o);case 3010103:return new SuperMapAlgoPlot.AlgoSymbol3010103(o);case 3010104:return new SuperMapAlgoPlot.AlgoSymbol3010104(o);case 3010105:return new SuperMapAlgoPlot.AlgoSymbol3010105(o);case 3010106:return new SuperMapAlgoPlot.AlgoSymbol3010106(o);case 3010107:return new SuperMapAlgoPlot.AlgoSymbol3010107(o);case 3010108:return new SuperMapAlgoPlot.AlgoSymbol3010108(o);case 3020901:return new SuperMapAlgoPlot.AlgoSymbol3020901(o);case 3032e3:return new SuperMapAlgoPlot.AlgoSymbol3032000(o);case 4010800:return new SuperMapAlgoPlot.AlgoSymbol4010800(o);case 4010801:return new SuperMapAlgoPlot.AlgoSymbol4010801(o);case 4010905:return new SuperMapAlgoPlot.AlgoSymbol4010905(o);case 4011100:return new SuperMapAlgoPlot.AlgoSymbol4011100(o);case 4011101:return new SuperMapAlgoPlot.AlgoSymbol4011101(o);case 4020303:return new SuperMapAlgoPlot.AlgoSymbol4020303(o);case 4020401:return new SuperMapAlgoPlot.AlgoSymbol4020401(o);case 4020402:return new SuperMapAlgoPlot.AlgoSymbol4020402(o);case 4021101:return new SuperMapAlgoPlot.AlgoSymbol4021101(o);case 4021102:return new SuperMapAlgoPlot.AlgoSymbol4021102(o);case 4022100:return new SuperMapAlgoPlot.AlgoSymbol4022100(o);case 4022101:return new SuperMapAlgoPlot.AlgoSymbol4022101(o);case 4022102:return new SuperMapAlgoPlot.AlgoSymbol4022102(o);case 6020400:return new SuperMapAlgoPlot.AlgoSymbol6020400(o);case 6020401:return new SuperMapAlgoPlot.AlgoSymbol6020401(o);case 6020402:return new SuperMapAlgoPlot.AlgoSymbol6020402(o);case 6020403:return new SuperMapAlgoPlot.AlgoSymbol6020403(o);case 6020404:return new SuperMapAlgoPlot.AlgoSymbol6020404(o);default:return new SuperMapAlgoPlot.AlgoSymbol(o)}},SuperMapAlgoPlot.JBAlgoSymbolFactory.isAccessServer=function(t,e){if(100!==t)return!0;switch(e){case 12500:case 12501:case 12502:case 13700:case 15200:case 15201:case 15202:case 15800:case 15801:case 15802:case 15803:case 15804:case 15805:case 15806:case 15900:case 16e3:case 16001:case 16100:case 16200:case 16201:case 16202:case 16203:case 16500:case 16700:case 16900:case 17400:case 17401:case 17500:case 17501:case 17600:case 17700:case 1770101:case 1770201:case 1770501:case 17703:case 17704:case 17800:case 17801:case 17802:case 17803:case 17804:case 17805:case 17806:case 20300:case 20301:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 21800:case 21900:case 22e3:case 22103:case 22200:case 23400:case 23500:case 23600:case 23700:case 23800:case 23901:case 23902:case 24700:case 25e3:case 25100:case 25101:case 25200:case 25201:case 25202:case 25300:case 25301:case 25400:case 25500:case 25501:case 25502:case 25503:case 25600:case 25601:case 25700:case 25701:case 2570201:case 2570301:case 2570401:case 2570501:case 25800:case 25801:case 25900:case 25901:case 26400:case 26500:case 26501:case 26502:case 26503:case 26600:case 26601:case 26700:case 26800:case 27100:case 27300:case 2730101:case 27700:case 27701:case 27900:case 27901:case 27902:case 28e3:case 28100:case 28200:case 28201:case 28300:case 28301:case 28400:case 28900:case 29e3:case 29001:case 29002:case 29003:case 29100:case 29101:case 29103:case 29401:case 29800:case 29903:case 3e4:case 30001:case 30002:case 30100:case 30200:case 30201:case 30800:case 30102:case 31300:case 31301:case 31302:case 31303:case 31304:case 31400:case 31401:case 31600:case 31601:case 31803:case 32300:case 32900:case 33400:case 34300:case 34400:case 34500:case 34501:case 34700:case 34800:case 34801:case 34900:case 34901:case 34902:case 35e3:case 35200:case 35304:case 35500:case 36400:case 36401:case 36600:case 36700:case 36800:case 37100:case 37200:case 37300:case 37301:case 37600:case 37601:case 37700:case 38600:case 38700:case 39e3:case 39101:case 39500:case 39600:case 39800:case 39801:case 39802:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 4e4:case 40100:case 40101:case 40900:case 41100:case 41200:case 41201:case 41202:case 42200:case 42400:case 42500:case 42700:case 43500:case 44100:case 44200:case 44300:case 44400:case 2350001:case 2890001:case 3010301:case 3010302:case 3010303:case 3010304:case 3020901:case 3032e3:case 4010800:case 4010801:case 4010905:case 4011100:case 4011101:case 4020303:case 4020400:case 4020401:case 4020402:case 4022100:case 4022101:case 4022102:case 6020400:case 6020401:case 6020402:case 6020403:case 6020404:case 4021101:case 4021102:return!1;default:return!0}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getSymbolWayType=function(t,e){if(100!==t)return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN;switch(e){case 15200:case 15201:case 16203:case 17703:case 17704:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 21900:case 22e3:case 22103:case 23800:case 24700:case 25201:case 25400:case 26500:case 26501:case 26502:case 26600:case 28900:case 29e3:case 29003:case 29903:case 3e4:case 30001:case 30002:case 30100:case 30102:case 30200:case 30201:case 30800:case 31803:case 33400:case 34900:case 34901:case 34902:case 35e3:case 36400:case 42200:case 44200:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 16500:case 17400:case 17401:case 17500:case 17501:case 23400:case 23500:case 23600:case 23700:case 27300:case 2730101:case 28200:case 28300:case 28400:case 37600:case 37601:case 37700:case 39e3:case 40100:case 40101:case 42400:case 2350001:case 3032e3:case 4010800:case 4010801:case 4011100:case 4011101:case 4022100:case 4022101:case 4022102:case 39101:case 44300:case 22200:case 27701:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 12500:case 12502:case 16100:case 20300:case 25501:case 25502:case 26503:case 25503:case 25601:case 25801:case 25901:case 32900:case 34700:case 35200:case 36401:case 41200:case 41201:case 41202:case 42700:case 44400:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getDefaultSubSymbols=function(t,e){var o=[];if(100!==t)return o;switch(e){case 17400:case 17401:return o.push(new SuperMapAlgoPlot.SubSymbol(100,17300)),o.push(new SuperMapAlgoPlot.SubSymbol(100,17301)),o;case 21501:case 26502:return o.push(new SuperMapAlgoPlot.SubSymbol(100,19700)),o;case 21502:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6803)),o;case 22103:case 26501:return o.push(new SuperMapAlgoPlot.SubSymbol(100,22100)),o;case 21503:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7900)),o;case 21504:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8404)),o;case 22e3:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1e3)),o;case 23500:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1300)),o;case 23600:return o.push(new SuperMapAlgoPlot.SubSymbol(100,800)),o.push(new SuperMapAlgoPlot.SubSymbol(100,800)),o;case 25300:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6302)),o.push(new SuperMapAlgoPlot.SubSymbol(100,7900)),o;case 25301:return o.push(new SuperMapAlgoPlot.SubSymbol(100,300)),o.push(new SuperMapAlgoPlot.SubSymbol(100,6200)),o;case 25503:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8402)),o;case 26400:return o.push(new SuperMapAlgoPlot.SubSymbol(100,3300)),o;case 26700:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4500)),o;case 27100:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7700)),o;case 27300:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1500)),o;case 2730101:return o.push(new SuperMap.Plot.SubSymbol(100,1500)),o;case 3032e3:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1500)),o.push(new SuperMapAlgoPlot.SubSymbol(100,1500)),o;case 28300:return o.push(new SuperMapAlgoPlot.SubSymbol(100,18600)),o;case 28301:return o.push(new SuperMapAlgoPlot.SubSymbol(100,18600)),o.push(new SuperMapAlgoPlot.SubSymbol(100,18600)),o;case 28400:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4801)),o;case 29001:return o.push(new SuperMapAlgoPlot.SubSymbol(100,5200)),o.push(new SuperMapAlgoPlot.SubSymbol(100,5200)),o;case 29002:return o.push(new SuperMapAlgoPlot.SubSymbol(100,600)),o.push(new SuperMapAlgoPlot.SubSymbol(100,5300)),o;case 23901:case 23902:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4800)),o;case 31600:case 31601:return o.push(new SuperMapAlgoPlot.SubSymbol(100,700)),o;case 29903:case 4021101:return o.push(new SuperMapAlgoPlot.SubSymbol(100,600)),o;case 32900:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6700)),o;case 35200:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6803)),o;case 37700:return o.push(new SuperMapAlgoPlot.SubSymbol(100,37800)),o;case 3010107:return o.push(new SuperMapAlgoPlot.SubSymbol(100,800)),o;case 3010108:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4600)),o;case 4010800:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1300)),o;case 4010801:case 4022100:case 4022101:case 4022102:case 4021102:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8400)),o;case 31303:case 31302:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4400)),o;case 4010905:return o.push(new SuperMapAlgoPlot.SubSymbol(100,700)),o;case 31803:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8402)),o;case 34400:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6202)),o;case 34501:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8403)),o;case 35304:return o.push(new SuperMapAlgoPlot.SubSymbol(100,35301)),o;case 36401:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7200)),o;case 36600:return o.push(new SuperMapAlgoPlot.SubSymbol(100,300)),o;case 37100:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8e3)),o;case 37200:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7101)),o;case 37600:case 37601:case 38600:case 38700:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4600)),o;case 39e3:return o.push(new SuperMapAlgoPlot.SubSymbol(100,9300)),o.push(new SuperMapAlgoPlot.SubSymbol(100,9300)),o.push(new SuperMapAlgoPlot.SubSymbol(100,9300)),o;case 39101:return o.push(new SuperMapAlgoPlot.SubSymbol(100,39100)),o;case 39500:case 39600:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8700)),o;case 39800:case 39801:case 39802:case 4e4:return o.push(new SuperMapAlgoPlot.SubSymbol(100,8900)),o;case 36700:return o.push(new SuperMapAlgoPlot.SubSymbol(100,300)),o;case 42200:return o.push(new SuperMapAlgoPlot.SubSymbol(100,20901)),o;case 4011100:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4e3)),o.push(new SuperMapAlgoPlot.SubSymbol(100,4001)),o;case 4011101:return o.push(new SuperMapAlgoPlot.SubSymbol(100,700)),o.push(new SuperMapAlgoPlot.SubSymbol(100,700)),o;case 2350001:return o.push(new SuperMapAlgoPlot.SubSymbol(100,7900)),o.push(new SuperMapAlgoPlot.SubSymbol(100,1300)),o;case 2890001:return o.push(new SuperMapAlgoPlot.SubSymbol(100,4003)),o;default:return o}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getMinEditPts=function(t,e){if(100!==t)return 0;switch(e){case 12500:case 12501:case 12502:case 13700:case 15200:case 15201:case 15202:case 15800:case 15801:case 15802:case 15803:case 15804:case 15805:case 15806:case 15900:case 16e3:case 16001:case 16200:case 16201:case 16202:case 16203:case 16500:case 16700:case 16900:case 17400:case 17401:case 17500:case 17501:case 17600:case 17700:case 1770101:case 1770201:case 1770501:case 17703:case 17704:case 17800:case 17801:case 17802:case 17803:case 17804:case 17805:case 17806:case 20300:case 20301:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 21800:case 21900:case 22e3:case 22103:case 22200:case 23400:case 23500:case 23600:case 23700:case 23800:case 23901:case 23902:case 24700:case 25e3:case 25100:case 25101:case 25201:case 25202:case 25300:case 25301:case 25400:case 26400:case 26500:case 26501:case 26502:case 26503:case 26600:case 26601:case 26700:case 26800:case 27100:case 27300:case 2730101:case 27700:case 27701:case 27900:case 27901:case 27902:case 28e3:case 28100:case 28200:case 28201:case 28300:case 28301:case 28400:case 28900:case 29e3:case 29001:case 29002:case 29003:case 29100:case 29101:case 29103:case 29401:case 29903:case 41100:case 44100:case 43500:case 42500:case 39500:case 37301:case 37300:case 37200:case 37100:case 36800:case 36600:case 35500:case 34801:case 34800:case 34501:case 34500:case 34400:case 34300:case 31600:case 31601:case 31401:case 31400:case 31304:case 31303:case 31302:case 31301:case 31300:case 44200:case 41200:case 41201:case 41202:case 31803:case 30800:case 30201:case 30200:case 44300:case 42400:case 42200:case 40900:case 40100:case 40101:case 4e4:case 39802:case 39801:case 39800:case 39600:case 39101:case 39e3:case 38600:case 37700:case 37601:case 37600:case 36700:case 36401:case 36400:case 35304:case 35200:case 35e3:case 34700:case 33400:case 30100:case 30102:case 30002:case 30001:case 3e4:case 38700:case 32300:case 42700:case 34902:case 34901:case 34900:case 32900:case 2350001:case 2890001:case 3032e3:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 3020901:case 4021101:case 4021102:case 4010800:case 4010801:case 4011100:case 4011101:case 4022101:case 4022102:case 4020303:case 4020400:case 4020401:case 4020402:case 4022100:case 4010905:case 6020400:case 6020401:case 6020402:case 6020403:case 6020404:case 25500:case 25501:case 25502:case 25503:case 25600:case 25601:case 25700:case 25701:case 2570201:case 2570301:case 2570401:case 2570501:case 25800:case 25801:case 25900:case 25901:case 44400:return 2;case 16100:case 25200:case 29800:return 3;default:return 0}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getMaxEditPts=function(t,e){if(100!==t)return 0;switch(e){case 15202:case 16202:case 20301:case 16700:case 16900:case 17600:case 25e3:case 25100:case 25101:case 25300:case 25301:case 27100:case 27700:case 27900:case 27901:case 27902:case 28100:case 28201:case 28301:case 44100:case 43500:case 42500:case 39500:case 37200:case 37100:case 36800:case 36600:case 35500:case 34801:case 34800:case 34501:case 34500:case 34400:case 34300:case 31600:case 31601:case 31401:case 31400:case 31304:case 31303:case 31302:case 31301:case 31300:case 21800:case 26700:case 29401:case 1770101:case 1770201:return 2;case 13700:case 17800:case 17801:case 17802:case 17803:case 17804:case 17805:case 17806:case 23902:case 38700:case 26800:case 29001:case 29002:case 32300:case 29101:case 29100:case 29103:case 4010905:case 6020400:case 6020401:case 6020402:case 6020403:return 3;case 28e3:return 4;case 16201:case 17400:case 17401:case 17500:case 17501:case 22200:case 23400:case 23500:case 2350001:case 23600:case 23700:case 23800:case 23901:case 25200:case 27300:case 2730101:case 27701:case 28400:case 44300:case 42400:case 42200:case 40900:case 40100:case 40101:case 4e4:case 39802:case 39801:case 39800:case 39600:case 39101:case 39e3:case 38600:case 37700:case 37601:case 37600:case 36700:case 36401:case 36400:case 35304:case 35200:case 35e3:case 34700:case 33400:case 30100:case 30102:case 30002:case 30001:case 3e4:case 29903:case 29800:case 3032e3:case 4010800:case 4010801:case 4011100:case 4011101:case 4022101:case 4022102:case 4020303:case 4020400:case 4020401:case 4020402:case 4022100:case 16500:return 30;case 42700:case 34902:case 34901:case 34900:case 32900:case 6020404:return 512;case 12500:case 12501:case 12502:case 16e3:case 16001:case 16100:case 16200:case 16203:case 17700:case 1770501:case 17703:case 17704:case 21900:case 22e3:case 22103:case 25201:case 25202:case 24700:case 25400:case 25500:case 25501:case 25502:case 25503:case 25600:case 25601:case 25700:case 25701:case 2570201:case 2570301:case 2570401:case 2570501:case 25800:case 25801:case 25900:case 25901:case 28900:case 2890001:case 44400:case 44200:case 41200:case 41201:case 41202:case 31803:case 30800:case 30201:case 30200:case 4021102:case 28300:case 28200:case 29e3:case 29003:return 1e3;case 15200:case 15201:case 15800:case 15801:case 15802:case 15803:case 15804:case 15805:case 15806:case 15900:case 20300:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 26400:case 26500:case 26501:case 26502:case 26503:case 26600:case 26601:case 37300:case 37301:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 3020901:case 4021101:case 41100:return 9999;default:return 0}},SuperMapAlgoPlot.JBAlgoSymbolFactory.getDefaultStyle=function(t,e){var o={};if(100===t)switch(e){case 34800:case 34801:case 22200:case 28e3:case 28100:case 28200:case 28201:case 44400:o.color=o.strokeColor="#0000ff";break;case 42500:case 42700:o.color=o.strokeColor="#00ff00";break;case 42400:o.color=o.strokeColor="#006600"}return o},SuperMapAlgoPlot.JBAlgoSymbolFactory.zoomInCalSymbol=function(){return!1}}()}();
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6)))

/***/ }),
/* 2 */
/***/ (function(module, exports) {

!function(){"use strict";function t(e){"@babel/helpers - typeof";return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(e){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var l,r=n(e);if(o){var i=n(this).constructor;l=Reflect.construct(r,arguments,i)}else l=r.apply(this,arguments);return function(e,o){if(o&&("object"===t(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,l)}}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,SuperMapAlgoPlot.AlgoSymbol);var n,r,i,a=l(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),0===(e=a.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return n=u,(r=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((u[0].x+p[p.length-1].x)/2,(u[0].y+p[p.length-1].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],p[p.length-1],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],u[0],.5*(l-1.2*s)),g=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=[];y.push(P),y.push.apply(y,u),y.push.apply(y,p),y.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(y)),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,.9*s,g-90),this.scalePoints=[],this.addScalePoint(u[u.length-1]);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,g+90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=this.scaleValues[0]*l,i=SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],r,r,90+i),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],r,r,90+i),p=new SuperMapAlgoPlot.Point((a.x+u.x)/2,(a.y+u.y)/2),s=SuperMapAlgoPlot.PlottingUtil.distance(p,e)/l;s>=.8&&(s=.8),this.scaleValues[1]=s}}}}])&&e(n.prototype,r),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),u}();function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=s(t);if(e){var n=s(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol27100=r;var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=p(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.03));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0];this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var l=this.scaleValues[1]*e,n=o*e,r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,n);if(-1!==r.index){for(var i=r.pt,a=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[i,new SuperMapAlgoPlot.Point(i.x+l,i.y)]),u=[],p=0;p<t.length;p++){if(p==t.length-1){u.push(t[p]);break}u.push(t[p]);var s;s=this.getLineAddCircleIntersectPts(t[p],t[p+1],a);for(var c=0;c<s.length;c++)u.push(s[c])}for(var P=[],f=0;f<u.length;f++){if(f==u.length-1){0!=P.length&&(P.push(u[f]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P));break}this.isLineInCircle(u[f],u[f+1],i,l)?0!=P.length&&(P.push(u[f]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),P=[]):P.push(u[f])}this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[i,new SuperMapAlgoPlot.Point(i.x+l,i.y)]),this.scalePoints=[];var g=i;g.isScalePoint=!0,g.tag=0,this.scalePoints.push(g);var y=new SuperMapAlgoPlot.Point(i.x+l,i.y);y.isScalePoint=!0,y.tag=1,this.scalePoints.push(y),this.finish()}}}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return l>SuperMapAlgoPlot.PlottingUtil.distance(n,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var l=o.slice();l[0].x===l[l.length-1].x&&l[0].y===l[l.length-1].y||l.push(l[0]);for(var n,r=[],i=0;i<l.length-1;i++){var a=l[i],u=l[i+1],p=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,a,u);p.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(p.intersectPoint,a,u)&&r.push(p.intersectPoint)}for(var s=0;s<r.length-1;s++)SuperMapAlgoPlot.PlottingUtil.isSamePt(r[s],r[s+1])&&(r.splice(s,1),s--);if(t.x>e.x)for(var c=0;c<r.length&&c!=r.length-1;c++)r[c].x<r[c+1].x&&(n=r[c],r[c]=r[c+1],r[c+1]=n);else if(t.x<e.x)for(var P=0;P<r.length&&P!=r.length-1;P++)r[P].x>r[P+1].x&&(n=r[P],r[P]=r[P+1],r[P+1]=n);else if(t.y>e.y)for(var f=0;f<r.length&&f!=r.length-1;f++)r[f].y<r[f+1].y&&(n=r[f],r[f]=r[f+1],r[f+1]=n);else if(t.y<e.y)for(var g=0;g<r.length&&g!=r.length-1;g++)r[g].y>r[g+1].y&&(n=r[g],r[g]=r[g+1],r[g+1]=n);return r}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){for(var n=0,r=-1,i=null,a=0;a<o.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.projectPoint,o[a],o[a+1])){var p=SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e);0==n?(n=p,r=a,i=u.projectPoint):p<n&&(n=p,r=a,i=u.projectPoint)}}if(-1==r)return;for(var s=0,c=0;c<r;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[c],o[c+1]);var P=(s+=SuperMapAlgoPlot.PlottingUtil.distance(i,o[r]))/l;P>1&&(P=1),this.scaleValues[0]=P}if(1===t){var f=this.scaleValues[0]*l,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);if(-1===g.index)return;var y=SuperMapAlgoPlot.PlottingUtil.distance(g.pt,e)/l;y>.4&&(y=.4),this.scaleValues[1]=y}}}}])&&a(e.prototype,o),l&&a(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function P(t){"@babel/helpers - typeof";return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=h(t);if(e){var n=h(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12500=c;var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=y(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.03),e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();this.scaleValues[0]=e,this.scaleValues[1]=.3*e,this.scaleValues[3]=.5*e}var o=this.scaleValues[0],l=this.scaleValues[1],n=this.scaleValues[2],r=this.scaleValues[3],i=this.getCurvePts(t,o,l),a=i.pt,u=i.scalePt;if(0!==a.length){for(var p=0,s=0;s<a.length-1;s++)p+=SuperMapAlgoPlot.PlottingUtil.distance(a[s],a[s+1]);var c=p*n,P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(a,c);if(-1!==P.index){for(var f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*r,g=[],y=0;y<360;y+=12)g.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pt,f,f,y));g.push(g[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);for(var h=[],S=[],b=0;b<a.length;b++)SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(g,a[b])?S.length>1&&(h.push(S),S=[]):S.push(a[b]);S.length>1&&h.push(S),S=[];for(var A=0;A<h.length;A++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h[A]);var d=new SuperMapAlgoPlot.Point(a[0].x,a[0].y);d.isScalePoint=!0,d.tag=0,this.scalePoints.push(d);var M=new SuperMapAlgoPlot.Point(u.x,u.y);M.isScalePoint=!0,M.tag=1,this.scalePoints.push(M);var v=new SuperMapAlgoPlot.Point(P.pt.x,P.pt.y);v.isScalePoint=!0,v.tag=2,this.scalePoints.push(v);var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(P.pt.x,P.pt.y),f,f,0),O=new SuperMapAlgoPlot.Point(m.x,m.y);O.isScalePoint=!0,O.tag=3,this.scalePoints.push(O),this.finish()}else this.finish()}else this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(null!=e&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(4>this.scaleValues.length)return;var l,n,r,i,a,u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),p=(SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),new SuperMapAlgoPlot.Point(e.x,e.y));if(0===t){var s=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),c=SuperMapAlgoPlot.PlottingUtil.distance(s,p);n=2*c/u,this.scaleValues[1]=n}else if(1===t)s=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),l=(c=SuperMapAlgoPlot.PlottingUtil.distance(s,p))/u,this.scaleValues[0]=l;else if(2==t){var P=-1,f=0;a=new SuperMapAlgoPlot.Point(0,0),l=this.scaleValues[0],n=this.scaleValues[1];(m=this.getCurvePts(o,l,n)).scalePt;for(var g=m.pt,y=0;y<g.length-1;y++){var h=g[y],S=g[y+1],b=SuperMapAlgoPlot.PlottingUtil.projectPoint(p,h,S);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(b,h,S)){var A=SuperMapAlgoPlot.PlottingUtil.distance(p,b);-1==P?(P=y,a=b,f=A):f>A&&(P=y,a=b,f=A)}}if(-1==P||P>g.length-1)return;i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g);for(var d=[],M=0;M<P;M++)d.push(g[M]);d.push(a);var v=SuperMapAlgoPlot.PlottingUtil.polylineDistance(d);if(v<0||v>i)return;r=v/i,this.scaleValues[2]=r}else if(3===t){l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2];(m=this.getCurvePts(o,l,n)).scalePt,g=m.pt;var m,O=(i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g))*r;if(-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,O)).index)return;var w=SuperMapAlgoPlot.PlottingUtil.distance(a.pt,e)/u;w>.4&&(w=.4),this.scaleValues[3]=w}}}},{key:"getCurvePts",value:function(t,e,o){for(var l,n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=r*e,a=r*o/2,u=[],p=[],s=n[0],c=!1,P=n[0],f=1;f<n.length;f++){var g=n[f],y=SuperMapAlgoPlot.PlottingUtil.distance(s,g);if(!(y<i&&f!==n.length-1)){for(var h,S=parseInt(y/i),b=0;b<S;b++){h=SuperMapAlgoPlot.PlottingUtil.linePnt(s,g,i),c||(l=h,c=!0);var A=this.GetCosPts2D(s,h,i,a);u=p.length>1&&0===b?this.ClearCurvePts2D(P,s,g,p,A,u):u.concat(A),p=(p=[]).concat(A),P=s,s=h}f===n.length-1&&(h=n[n.length-1],A=this.GetCosPts2D(s,h,i,a),u=p.length>1&&A.length>1?this.ClearCurvePts2D(P,s,g,p,A,u):u.concat(A))}}return{pt:u,scalePt:l}}},{key:"GetCosPts2D",value:function(t,e,o,l){for(var n=[],r=SuperMapAlgoPlot.PlottingUtil.distance(t,e),i=o/30,a=0;a<r;a+=i){var u=a*(2*Math.PI/o),p=l*Math.cos(u),s=new SuperMapAlgoPlot.Point(a,p),c=SuperMapAlgoPlot.PlottingUtil.dirAngle(t,e)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,s,c);n.push(P)}return n}},{key:"ClearCurvePts2D",value:function(t,e,o,l,n,r){for(var i=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,t)*SuperMapAlgoPlot.PlottingUtil.RTOD-i;a<=0;)a+=360;var u=a/2,p=o;p=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,u*SuperMapAlgoPlot.PlottingUtil.DTOR,p);for(var s=SuperMapAlgoPlot.PlottingUtil.linePnt(e,p,1),c=0,P=0;P<l.length;P++)if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,l[P])){c=P;break}if(0!=c)for(var f=0;f<l.length-c;f++)r.slice(f,r.length-1);for(var g=0;g<n.length;g++)SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,n[g])&&r.push(n[g]);return r}}])&&f(e.prototype,o),l&&f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function b(t){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=v(t);if(e){var n=v(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12501=S;var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol12500);var e,o,l,n=M(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(0===this.scaleValues.length)this.scaleValues.push(.5),this.scaleValues.push(.03);else if(1===this.scaleValues.length)this.scaleValues.push(.03);else if(2===this.scaleValues.length)this.scaleValues[0];else this.scaleValues.push(.5),this.scaleValues.push(.03);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0];if(!this.isEdit){var l=this.getSubSymbolScaleValue();this.scaleValues[1]=.5*l}for(var n=this.scaleValues[1]*e,r=o*e,i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,r-n).pt,a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,r+n).pt,u=new SuperMapAlgoPlot.Point((i.x+a.x)/2,(i.y+a.y)/2),p=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[u,new SuperMapAlgoPlot.Point(u.x+n,u.y)]),s=[],c=0;c<t.length;c++){if(c==t.length-1){s.push(t[c]);break}s.push(t[c]);var P;P=this.getLineAddCircleIntersectPts(t[c],t[c+1],p);for(var f=0;f<P.length;f++)s.push(P[f])}for(var g=[],y=0;y<s.length;y++){if(y==s.length-1){0!=g.length&&(g.push(s[y]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g));break}this.isLineInCircle(s[y],s[y+1],u,n)?0!=g.length&&(g.push(s[y]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),g=[]):g.push(s[y])}this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[u,new SuperMapAlgoPlot.Point(u.x+n,u.y)]);var h=[];h.push(i);var S=SuperMapAlgoPlot.PlottingUtil.linePnt(i,a,1.5*n);h.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var b=SuperMapAlgoPlot.PlottingUtil.dirAngle(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=[],d=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,.5*n,.5*n,b+170),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,.5*n,.5*n,b+190),v=SuperMapAlgoPlot.PlottingUtil.linePnt(i,a,1.2*n);A.push(d),A.push(S),A.push(M),A.push(v);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0}),this.addScalePoint(u,0);var m=SuperMapAlgoPlot.PlottingUtil.linePnt(u,v,n),O=SuperMapAlgoPlot.PlottingUtil.rotateAngle(u,-30,m);this.addScalePoint(O,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(null!=e&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=this.scaleValues[0],n=(this.scaleValues[1],SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)),r=l*n;SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,r).pt;if(0==t){for(var i=0,a=-1,u=null,p=0;p<o.length-1;p++){var s;(s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[p],o[p+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(s.projectPoint,e)<i)&&(u=s,a=p,i=SuperMapAlgoPlot.PlottingUtil.distance(e,s.projectPoint))}if(-1==a)return;var c=[];for(p=0;p<a+1;p++)c.push(o[p]);c.push(new SuperMapAlgoPlot.Point(u.projectPoint.x,u.projectPoint.y));var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c)/n,f=this.scaleValues[1];P<f&&(P=f),P>1-f&&(P=1-f),this.scaleValues[0]=P}if(1==t){var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[0],o),y=SuperMapAlgoPlot.PlottingUtil.distance(g.pts,e)/n;y>=.3&&(y=.3),this.scaleValues[0]<y/2||this.scaleValues[0]>1-y/2?(this.scaleValues[0]<y/2?this.scaleValues[0]=y/2:this.scaleValues[0]=1-y/2,this.scaleValues[1]=y/2):this.scaleValues[1]=y/2}}}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return l>SuperMapAlgoPlot.PlottingUtil.distance(n,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var l=o.slice();l[0].x===l[l.length-1].x&&l[0].y===l[l.length-1].y||l.push(l[0]);for(var n=[],r=0;r<l.length-1;r++){var i=l[r],a=l[r+1],u=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,i,a);u.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,i,a)&&n.push(u.intersectPoint)}for(var p=0;p<n.length-1;p++)SuperMapAlgoPlot.PlottingUtil.isSamePt(n[p],n[p+1])&&(n.splice(p,1),p--);if(t.x>e.x){for(var s=0;s<n.length&&s!=n.length-1;s++)if(n[s].x<n[s+1].x){var c=n[s];n[s]=n[s+1],n[s+1]=c}}else if(t.x<e.x){for(var P=0;P<n.length&&P!=n.length-1;P++)if(n[P].x>n[P+1].x){c=n[P];n[P]=n[P+1],n[P+1]=c}}else if(t.y>e.y){for(var f=0;f<n.length&&f!=n.length-1;f++)if(n[f].y<n[f+1].y){c=n[f];n[f]=n[f+1],n[f+1]=c}}else if(t.y<e.y)for(var g=0;g<n.length&&g!=n.length-1;g++)if(n[g].y>n[g+1].y){c=n[g];n[g]=n[g+1],n[g+1]=c}return n}}])&&A(e.prototype,o),l&&A(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function O(t){"@babel/helpers - typeof";return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function U(t,e){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=V(t);if(e){var n=V(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol12502=m;var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=L(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e;if(2===t.length)e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t);else if(3===t.length){var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n);if(0>=r)return;this.scaleValues=[];var i=SuperMapAlgoPlot.PlottingUtil.distance(o,l)/r;this.scaleValues.push(i);var a=180*SuperMapAlgoPlot.PlottingUtil.radian(o,l)/Math.PI;a>90?a-=90:a=270+a,this.scaleValues.push(a*(Math.PI/180));var u=180*SuperMapAlgoPlot.PlottingUtil.radian(o,n)/Math.PI;u>90?u-=90:u=270+u,this.scaleValues.push(u*(Math.PI/180)),e=this.scaleValues[0]*r;var p=this.scaleValues[1]*(180/Math.PI)+90,s=this.scaleValues[2]*(180/Math.PI)+90;p<s&&(p+=360);for(var c,P=[],f=p;f>=s;f-=4)c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,f),P.push(c);f!=s&&(c=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,s),P.push(c)),this.controlPoints[2]=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.controlPoints[0],e,e,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P)}this.finish()}}}])&&w(e.prototype,o),l&&w(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function j(t){"@babel/helpers - typeof";return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=x(t);if(e){var n=x(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol13700=T;var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=E(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getSubSymbolScaleValue(l);(n>.3||n<=0)&&(n=.3),this.scaleValues[2]=n,this.scaleValues[0]=.5*this.scaleValues[2]}for(var r=this.scaleValues[0]*l,i=this.scaleValues[1],a=this.scaleValues[2]*l,u=.5*r,p=o-2*a-2*u,s=a,c=0;c<2;c++){var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,e);if(-1!==P.index){var f=s+u,g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e);if(-1!==g.index){var y=[],h=[];if(y.push(P.pts),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[P.index].x,P.pts.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[P.index].y,P.pts.y)&&P.index+1<e.length){var S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[P.index+1],P.pts);0===i?y.push(new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y)):y.push(new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y))}else{S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[P.index],P.pts);0===i?y.push(new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y)):y.push(new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y))}h.push(g.pts);var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[g.index],g.pts);if(0===i?h.push(new SuperMapAlgoPlot.Point(b.pntLeft.x,b.pntLeft.y)):h.push(new SuperMapAlgoPlot.Point(b.pntRight.x,b.pntRight.y)),0===c){this.scalePoints=[];var A=new SuperMapAlgoPlot.Point(y[1].x,y[1].y);A.isScalePoint=!0,A.tag=0,this.scalePoints.push(A),(A=new SuperMapAlgoPlot.Point(y[0].x,y[0].y)).isScalePoint=!0,A.tag=1,this.scalePoints.push(A)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),s+=p+u}}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[2],l);if(!r.bfind)return;var i=SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n,a=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[r.index],r.pts,e);this.scaleValues[1]=a?1:0,this.scaleValues[0]=i}else if(1===t){for(var u=0,p=-1,s=null,c=0;c<l.length-1;c++){var P=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(P.isOnline){var f=SuperMapAlgoPlot.PlottingUtil.distance(P.projectPoint,e);0==u?(u=f,p=c,s=e):f<u&&(u=f,p=c,s=e)}}if((f=SuperMapAlgoPlot.PlottingUtil.distance(e,l[0]))<u&&(u=f,p=0,s=l[0]),(f=SuperMapAlgoPlot.PlottingUtil.distance(e,l[l.length-1]))<u&&(u=f,p=l.length-1,s=l[l.length-1]),-1==p)return void(this.scaleValues[2]=0);for(var g=0,y=0;y<p;y++)g+=SuperMapAlgoPlot.PlottingUtil.distance(l[y],l[y+1]);var h=(g+=SuperMapAlgoPlot.PlottingUtil.distance(s,l[p]))/n;h>.7&&(h=.7),this.scaleValues[2]=h}}}}])&&R(e.prototype,o),l&&R(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function C(t){"@babel/helpers - typeof";return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function I(t,e){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=N(t);if(e){var n=N(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15200=B;var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=D(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish()}}}])&&Y(e.prototype,o),l&&Y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function z(t){"@babel/helpers - typeof";return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function W(t,e){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=J(t);if(e){var n=J(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15201=k;var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=G(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1732),e.scaleValues.push(.1732),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0]*l,r=this.scaleValues[1]*l,i=this.scaleValues[2],a=null;if(1===i){var u=SuperMapAlgoPlot.PlottingUtil.linePnt(o,e,l+n);a=new SuperMapAlgoPlot.Point(u.x,u.y)}else u=SuperMapAlgoPlot.PlottingUtil.linePnt(o,e,l-n),a=new SuperMapAlgoPlot.Point(u.x,u.y);var p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[0],a),s=p.pntRight,c=p.pntLeft,P=[];P.push(s),P.push(t[0]),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=[],g=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(1===i){var y=new SuperMapAlgoPlot.Point(2*g.x-c.x,2*g.y-c.y);f.push(y),f.push(t[1]);var h=new SuperMapAlgoPlot.Point(2*g.x-s.x,2*g.y-s.y);f.push(h)}else y=new SuperMapAlgoPlot.Point(2*g.x-s.x,2*g.y-s.y),f.push(y),f.push(t[1]),h=new SuperMapAlgoPlot.Point(2*g.x-c.x,2*g.y-c.y),f.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.finish()}}}])&&F(e.prototype,o),l&&F(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function K(t){"@babel/helpers - typeof";return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Q(t,e){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=X(t);if(e){var n=X(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15202=H;var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Z(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.04),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[2]*n,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var u=[],p=[],s=0,c=[],P=0;P<o.length;P++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].x,o[P].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].y,o[P].y)&&(c.length>0&&(c.push(o[P]),p.push(c),c=[]),s++),c.push(o[P]);for(var f=0;f<p.length;f++){var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p[f]),y=parseInt(g/i);0==y&&(y=1);var h=g/y;0==f&&h;for(var S=0;S<=g;S+=h){var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[f],S);if(!(b.index<0)&&(u.push(b.pt),!((b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[f],S+.5*h)).index<0))){var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,p[f][b.index+1],b.pt);a?u.push(A.pntLeft):u.push(A.pntRight)}}p.length-1===f&&u.push(p[f][p[f].length-1])}this.scalePoints=[];var d=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);d.isScalePoint=!0,d.tag=0,this.scalePoints.push(d),(d=new SuperMapAlgoPlot.Point(u[2].x,u[2].y)).isScalePoint=!0,d.tag=0,this.scalePoints.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var M=u.length,v=0,m=0;m<M-1;++m){var O=new SuperMapAlgoPlot.Point(u[m].x,u[m].y),w=new SuperMapAlgoPlot.Point(u[m+1].x,u[m+1].y);v=.3*SuperMapAlgoPlot.PlottingUtil.distance(O,w);var U=[],L=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,u[m],u[m+1]),V=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*v,u[m],L);U.push(V.pntLeft),U.push(V.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[1],l[0]),i=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r.pntRight,r.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(i.projectPoint,o[0]);this.scaleValues[0]=a/n;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[0],l[1],e);this.scaleValues[1]=u?0:1}else{for(var p,s=-1,c=0,P=l.length-1;c<P;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(e,l[c],l[c+1]),g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(f){p=e,s=c;break}if(g.isOnline){p=g.projectPoint,s=c;break}}if(-1===s)return void(this.scaleValues[2]=.05);var y=[];(y=y.concat(l.slice(0,s+1))).push(p);var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(y)/n;if(h>=1)return;this.scaleValues[2]=h}}}}])&&q(e.prototype,o),l&&q(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tt(t){"@babel/helpers - typeof";return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ot(t,e){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nt(t);if(e){var n=nt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15800=$;var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=lt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.04),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[2]*n,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var u=[],p=[],s=0,c=[],P=0;P<o.length;P++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].x,o[P].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].y,o[P].y)&&(c.length>0&&(c.push(o[P]),p.push(c),c=[]),s++),c.push(o[P]);for(var f=i,g=0;g<p.length;g++){var y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p[g]),h=parseInt(y/i);0==h&&(h=1);var S=y/h;0==g&&(f=S);for(var b=0;b<=y;b+=S){var A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b);if(!(A.index<0)&&(u.push(A.pt),!((A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b+.5*S)).index<0))){var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,p[g][A.index+1],A.pt);a?u.push(d.pntLeft):u.push(d.pntRight)}}p.length-1===g&&u.push(p[g][p[g].length-1])}this.scalePoints=[];var M=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);M.isScalePoint=!0,M.tag=0,this.scalePoints.push(M);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);this.addScalePoint(d.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var v=u.length,m=0,O=0;O<v-1;++O){var w=new SuperMapAlgoPlot.Point(u[O].x,u[O].y),U=new SuperMapAlgoPlot.Point(u[O+1].x,u[O+1].y);m=.3*SuperMapAlgoPlot.PlottingUtil.distance(w,U);var L=[],V=[],T=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.35,u[O],u[O+1]),j=new SuperMapAlgoPlot.Point((u[O].x+u[O+1].x)/2,(u[O].y+u[O+1].y)/2),R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*m,u[O],T);L.push(R.pntLeft),L.push(R.pntRight),V.push(new SuperMapAlgoPlot.Point(2*j.x-R.pntLeft.x,2*j.y-R.pntLeft.y)),V.push(new SuperMapAlgoPlot.Point(2*j.x-R.pntRight.x,2*j.y-R.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V)}this.finish()}}}}])&&et(e.prototype,o),l&&et(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function it(t){"@babel/helpers - typeof";return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ut(t,e){return(ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=st(t);if(e){var n=st(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15801=rt;var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=pt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[2]*n,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var u=[],p=[],s=0,c=[],P=0;P<o.length;P++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].x,o[P].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].y,o[P].y)&&(c.length>0&&(c.push(o[P]),p.push(c),c=[]),s++),c.push(o[P]);for(var f=i,g=0;g<p.length;g++){var y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p[g]),h=parseInt(y/i);0==h&&(h=1);var S=y/h;0==g&&(f=S);for(var b=0;b<=y;b+=S){var A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b);if(!(A.index<0)&&(u.push(A.pt),!((A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b+.5*S)).index<0))){var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,p[g][A.index+1],A.pt);a?u.push(d.pntLeft):u.push(d.pntRight)}}p.length-1===g&&u.push(p[g][p[g].length-1])}this.scalePoints=[];var M=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);M.isScalePoint=!0,M.tag=0,this.scalePoints.push(M);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);this.addScalePoint(d.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var v=u.length,m=0,O=0;O<v-1;++O){var w=new SuperMapAlgoPlot.Point(u[O].x,u[O].y),U=new SuperMapAlgoPlot.Point(u[O+1].x,u[O+1].y);m=.3*SuperMapAlgoPlot.PlottingUtil.distance(w,U);var L=[],V=[],T=[],j=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.35,u[O],u[O+1]),R=new SuperMapAlgoPlot.Point((u[O].x+u[O+1].x)/2,(u[O].y+u[O+1].y)/2),_=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*m,u[O],R);V.push(_.pntLeft,_.pntRight);var E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*m,u[O],j);L.push(E.pntLeft,E.pntRight),T.push(new SuperMapAlgoPlot.Point(2*R.x-E.pntLeft.x,2*R.y-E.pntLeft.y)),T.push(new SuperMapAlgoPlot.Point(2*R.x-E.pntRight.x,2*R.y-E.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T)}this.finish()}}}}])&&at(e.prototype,o),l&&at(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pt(t){"@babel/helpers - typeof";return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gt(t,e){return(gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ht(t);if(e){var n=ht(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15802=ct;var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=yt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[2]*n,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var u=[],p=[],s=0,c=[],P=0;P<o.length;P++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].x,o[P].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].y,o[P].y)&&(c.length>0&&(c.push(o[P]),p.push(c),c=[]),s++),c.push(o[P]);for(var f=i,g=0;g<p.length;g++){var y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p[g]),h=parseInt(y/i);0==h&&(h=1);var S=y/h;0==g&&(f=S);for(var b=0;b<=y;b+=S){var A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b);if(!(A.index<0)&&(u.push(A.pt),!((A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b+.5*S)).index<0))){var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,p[g][A.index+1],A.pt);a?u.push(d.pntLeft):u.push(d.pntRight)}}p.length-1===g&&u.push(p[g][p[g].length-1])}this.scalePoints=[];var M=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);M.isScalePoint=!0,M.tag=0,this.scalePoints.push(M);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);this.addScalePoint(d.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var v=u.length,m=0,O=0;O<v-1;++O){var w=new SuperMapAlgoPlot.Point(u[O].x,u[O].y),U=new SuperMapAlgoPlot.Point(u[O+1].x,u[O+1].y);m=.3*SuperMapAlgoPlot.PlottingUtil.distance(w,U);var L=[],V=[];if(O!==v-2){var T=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*m,u[O],u[O+1]);L.push(T.pntLeft),L.push(T.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L)}if(0!==O){var j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*m,u[O+1],u[O]);V.push(j.pntLeft),V.push(j.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V)}}this.finish()}}}}])&&ft(e.prototype,o),l&&ft(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bt(t){"@babel/helpers - typeof";return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dt(t,e){return(dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vt(t);if(e){var n=vt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15803=St;var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=Mt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.length>0&&(e.scaleValues.push(.029615),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[2]*n,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var u=[],p=[],s=0,c=[],P=0;P<o.length;P++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].x,o[P].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].y,o[P].y)&&(c.length>0&&(c.push(o[P]),p.push(c),c=[]),s++),c.push(o[P]);for(var f=i,g=0;g<p.length;g++){var y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p[g]),h=parseInt(y/i);0==h&&(h=1);var S=y/h;0==g&&(f=S);for(var b=0;b<=y;b+=S){var A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b);if(!(A.index<0)&&(u.push(A.pt),!((A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b+.5*S)).index<0))){var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,p[g][A.index+1],A.pt);a?u.push(d.pntLeft):u.push(d.pntRight)}}p.length-1===g&&u.push(p[g][p[g].length-1])}this.scalePoints=[];var M=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);M.isScalePoint=!0,M.tag=0,this.scalePoints.push(M);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);this.addScalePoint(d.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var v=u.length,m=0,O=0;O<v-1;++O){var w=new SuperMapAlgoPlot.Point(u[O].x,u[O].y),U=new SuperMapAlgoPlot.Point(u[O+1].x,u[O+1].y);m=.25*SuperMapAlgoPlot.PlottingUtil.distance(w,U);c=[];var L=new SuperMapAlgoPlot.Point(.5*(w.x+U.x),.5*(w.y+U.y)),V=SuperMapAlgoPlot.PlottingUtil.dirAngle(w,U)*SuperMapAlgoPlot.PlottingUtil.RTOD,T=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,m,m,V+90),j=1.5*m,R=SuperMapAlgoPlot.PlottingUtil.circlePoint(T,j,j,V+260),_=SuperMapAlgoPlot.PlottingUtil.circlePoint(T,j,j,V+280);c.push(R),c.push(T),c.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}this.finish()}}}}])&&At(e.prototype,o),l&&At(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ot(t){"@babel/helpers - typeof";return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ut(t,e){return(Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Vt(t);if(e){var n=Vt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15804=mt;var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=Lt(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[2]*n,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var u=[],p=[],s=0,c=[],P=0;P<o.length;P++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].x,o[P].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].y,o[P].y)&&(c.length>0&&(c.push(o[P]),p.push(c),c=[]),s++),c.push(o[P]);for(var f=i,g=0;g<p.length;g++){var y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p[g]),h=parseInt(y/i);0==h&&(h=1);var S=y/h;0==g&&(f=S);for(var b=0;b<=y;b+=S){var A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b);if(!(A.index<0)&&(u.push(A.pt),!((A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b+.5*S)).index<0))){var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,p[g][A.index+1],A.pt);a?u.push(d.pntLeft):u.push(d.pntRight)}}p.length-1===g&&u.push(p[g][p[g].length-1])}this.scalePoints=[];var M=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);M.isScalePoint=!0,M.tag=0,this.scalePoints.push(M);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);this.addScalePoint(d.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var v=u.length,m=0,O=45*SuperMapAlgoPlot.PlottingUtil.DTOR,w=45*SuperMapAlgoPlot.PlottingUtil.DTOR,U=0;U<v-1;U+=2){c=[];var L=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.3,u[U],u[U+1]);c.push(L);var V=new SuperMapAlgoPlot.Point(u[U].x,u[U].y),T=new SuperMapAlgoPlot.Point(u[U+1].x,u[U+1].y);m=SuperMapAlgoPlot.PlottingUtil.distance(V,T);var j=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.6,u[U],u[U+1]),R=new SuperMapAlgoPlot.Point(j.x,j.y);R=SuperMapAlgoPlot.PlottingUtil.rotateAngle(L,O,j),c.push(R);var _=.15*m;j=SuperMapAlgoPlot.PlottingUtil.linePnt(c[1],c[0],_);var E=new SuperMapAlgoPlot.Point(j.x,j.y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(R,w,E),c.push(E);var x=new SuperMapAlgoPlot.Point(c[1].x-c[0].x+c[2].x,c[1].y-c[0].y+c[2].y);c.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}this.finish()}}}}])&&wt(e.prototype,o),l&&wt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jt(t){"@babel/helpers - typeof";return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _t(t,e){return(_t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xt(t);if(e){var n=xt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15805=Tt;var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Et(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.06),e.scaleValues.push(1),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(t.length>=this.minEditPts){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=1.6*this.getSubSymbolScaleValue(),this.scaleValues[2]=this.getSubSymbolScaleValue()}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=.6*r,a=this.scaleValues[2]*n,u=!1;u=0===this.scaleValues[1];var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===p)return;for(var s=[],c=0;c<=p;c+=a){var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c);if(!(P.index<0)&&(s.push(P.pt),!((P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.65*a)).index<0))){var f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*i,o[P.index+1],P.pt);u?s.push(f.pntLeft):s.push(f.pntRight),(P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.8*a)).index<0||(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*r,o[P.index+1],P.pt),u?s.push(f.pntLeft):s.push(f.pntRight),(P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.5*a)).index<0||(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,o[P.index+1],P.pt),u?s.push(f.pntLeft):s.push(f.pntRight),(P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.2*a)).index<0||(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*r,o[P.index+1],P.pt),u?s.push(f.pntLeft):s.push(f.pntRight),(P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+.35*a)).index<0||(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*i,o[P.index+1],P.pt),u?s.push(f.pntLeft):s.push(f.pntRight),(P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,c+a)).index<0||(s.push(P.pt),c>=p&&s.push(o[o.length-1]))))))}}this.scalePoints=[];var g=new SuperMapAlgoPlot.Point(s[3].x,s[3].y);g.isScalePoint=!0,g.tag=0,this.scalePoints.push(g);var y=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,a);-1!=y.index&&this.addScalePoint(y.pt);var h=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(s);SuperMapAlgoPlot.PlottingUtil.clearSamePts(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[1],l[0]),i=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r.pntRight,r.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(i.projectPoint,o[0]);this.scaleValues[0]=a/n;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[0],l[1],e);this.scaleValues[1]=u?0:1}else{for(var p,s=-1,c=0,P=l.length-1;c<P;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(e,l[c],l[c+1]),g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(f){p=e,s=c;break}if(g.isOnline){p=g.projectPoint,s=c;break}}if(-1===s)return void(this.scaleValues[2]=.05);var y=[];(y=y.concat(l.slice(0,s+1))).push(p);var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(y)/n;if(h>=1)return;this.scaleValues[2]=h}}}}])&&Rt(e.prototype,o),l&&Rt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ct(t){"@babel/helpers - typeof";return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function It(t,e){return(It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nt(t);if(e){var n=Nt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15806=Bt;var kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Dt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(1),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,l=0;l<t.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],t[l+1]);var n=o*this.scaleValues[0],r=o*this.scaleValues[2],i=!1;i=0===this.scaleValues[0];for(var a=0,u=0;u<e.length-1;u++)a+=SuperMapAlgoPlot.PlottingUtil.distance(e[u],e[u+1]);if(0!==a){for(var p=0;p<=a;p+=r){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,p);if(-1!==s.index){var c=[],P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[s.index+1],s.pt);i?c.push(P.pntRight):c.push(P.pntLeft);var f=p+r,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,f);if(-1!==g.index){var y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[g.index+1],g.pt);i?c.push(y.pntLeft):c.push(y.pntRight),Math.abs(p)<1e-6&&(this.addScalePoint(c[0],0),this.addScalePoint(g.pt,1)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}}}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[1],l[0]),i=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r.pntRight,r.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(i.projectPoint,o[0]);this.scaleValues[0]=a/n;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[0],l[1],e);this.scaleValues[1]=u?1:0}else{for(var p,s=-1,c=0,P=l.length-1;c<P;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(f.isOnline){p=f.projectPoint,s=c;break}}if(-1===s)return;for(var g=[],y=0,h=s;y<=h;y++)g.push(l[y]);g.push(p);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(g);this.scaleValues[2]=S/n}}}}])&&Yt(e.prototype,o),l&&Yt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zt(t){"@babel/helpers - typeof";return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ft(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wt(t,e){return(Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jt(t);if(e){var n=Jt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15900=kt;var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Gt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.getSubSymbolScaleValue();this.isEdit||(this.scaleValues[0]=.5*l);var n=this.scaleValues[0]*e,r=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!1);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);for(var a=e*this.scaleValues[1],u=.5*n,p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),s=u,c=0;s<p;s+=a,c++){var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,s);if(-1!==P.index){var f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,o[P.index+1],P.pt),g=[];g.push(f.pntLeft),g.push(f.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),0===c?this.addScalePoint(f.pntRight,0):1===c&&this.addScalePoint(P.pt,1)}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),0==t){r=.5*(l*this.scaleValues[0]);var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===a.index)return;var u=SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=u/l}else if(1===t){r=.5*(l*this.scaleValues[0]);var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===p.index)return;var s=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,i);if(-1==s.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(p.pt,i[p.index+1]),P=p.index+1;P<s.index;P++)c+=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(i[s.index],s.pt),this.scaleValues[1]=c/l}}}}])&&Ft(e.prototype,o),l&&Ft(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kt(t){"@babel/helpers - typeof";return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qt(t,e){return(Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xt(t);if(e){var n=Xt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16200=Ht;var $t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Zt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues.push(.02),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(.01)):3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*l,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*l,!1);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n),r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);for(var i=e*this.scaleValues[1],a=e*this.scaleValues[3],u=0,p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),s=a,c=0;s<=p-a;s+=i,c++){u=s+a;var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,u);if(-1!==P.index){var f=new SuperMapAlgoPlot.Point(P.pt.x,P.pt.y+.5*l),g=[];g.push(P.pt),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,g)}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),0==t){r=l*this.scaleValues[3];var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===a.index)return;var u=2*SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=u/l}else if(1===t){r=l*this.scaleValues[3];var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,r);if(-1===p.index)return;var s=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,i);if(-1==s.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(p.pt,i[p.index+1]),P=p.index+1;P<s.index;P++)c+=SuperMapAlgoPlot.PlottingUtil.distance(i[P],i[P+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(i[s.index],s.pt),this.scaleValues[1]=c/l,this.scaleValues[1]>.9&&(this.scaleValues[1]=.9)}}}}])&&qt(e.prototype,o),l&&qt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function te(t){"@babel/helpers - typeof";return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oe(t,e){return(oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ne(t);if(e){var n=ne(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16201=$t;var re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=le(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l,n,r=this.scaleValues[0]*e;l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,r,!1);var i=new SuperMapAlgoPlot.Point(l[0].x,l[0].y);i.isScalePoint=!0,i.tag=0,this.scalePoints.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);var a=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),u=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),p=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI,s=new SuperMapAlgoPlot.Point(.3*e,0),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,s,p),P=new SuperMapAlgoPlot.Point(0,.4*r),f=new SuperMapAlgoPlot.Point(0,.2*r),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,P,p),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,f,p),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,h);var S=new SuperMapAlgoPlot.Point(0,.2*r),b=new SuperMapAlgoPlot.Point(0,-.4*r),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,S,p),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,b,p);(h=[]).push(A),h.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var M=new SuperMapAlgoPlot.Point(.2*r,-.2*r),v=new SuperMapAlgoPlot.Point(-.2*r,-.6*r),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,M,p),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,v,p);(h=[]).push(m),h.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var w=new SuperMapAlgoPlot.Point(-.2*r,-.2*r),U=new SuperMapAlgoPlot.Point(.2*r,-.6*r),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,w,p),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,U,p);(h=[]).push(L),h.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var T=new SuperMapAlgoPlot.Point(.7*e,0),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,T,p),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,P,p),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,f,p);(h=[]).push(R),h.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,h);var E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,S,p),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,b,p);(h=[]).push(E),h.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,M,p),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,v,p);(h=[]).push(B),h.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,w,p),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,U,p);(h=[]).push(Y),h.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;this.scaleValues[0]=r}}}}])&&ee(e.prototype,o),l&&ee(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ie(t){"@babel/helpers - typeof";return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ue(t,e){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=se(t);if(e){var n=se(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16202=re;var ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pe(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o),this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());for(var l=this.scaleValues[0]*e,n=this.scaleValues[1]*e,r=.01*e,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),a=0,u={surroundLineFlag:!1,fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},p=r,s=0;p<=i;p+=n,s++){a=p+r;var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,a);if(-1===c.index)return;for(var P=SuperMapAlgoPlot.PlottingUtil.radian(c.pt,o[c.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,f=this.getSubSymbolPts(l),g=[],y=0,h=f.length;y<h;y++)g.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c.pt,f[y],P));if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,u),0===s){var S=new SuperMapAlgoPlot.Point((g[0].x+g[1].x)/2,(g[0].y+g[1].y)/2);this.addScalePoint(S,0)}else 1===s&&this.addScalePoint(c.pt,1);this.finish()}}}},{key:"getSubSymbolPts",value:function(t){var e=.5*t,o=[];return o.push(new SuperMapAlgoPlot.Point(.5*e,2*e)),o.push(new SuperMapAlgoPlot.Point(.5*-e,2*e)),o.push(new SuperMapAlgoPlot.Point(.5*-e,-2*e)),o.push(new SuperMapAlgoPlot.Point(.5*e,-2*e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(n);var r=.01*l;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r);if(-1===i.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,i.pt);this.scaleValues[0]=a/l}else if(1===t){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n);if(-1===p.index)return;for(var s=0,c=u.index+1;c<p.index;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(n[c],n[c+1]);s+=SuperMapAlgoPlot.PlottingUtil.distance(n[p.index],p.pt),s-=r,this.scaleValues[1]=s/l,s>l-l*this.scaleValues[0]-r&&(this.scaleValues[1]=(l-l*this.scaleValues[0]-r)/l)}}}}])&&ae(e.prototype,o),l&&ae(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pe(t){"@babel/helpers - typeof";return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ge(t,e){return(ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=he(t);if(e){var n=he(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16203=ce;var Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ye(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0]*e,n=this.scaleValues[1]*e,r=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),i=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),a=180*SuperMapAlgoPlot.PlottingUtil.radian(r,i)/Math.PI,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+90),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,n,n,a+90),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,l,l,a+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,a+90),P=[];P.push(p),P.push(u),P.push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(P)),(P=[]).push(p),P.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(P)),(P=[]).push(c),P.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.clonePoints(P));var f=new SuperMapAlgoPlot.Point(u.x,u.y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f);var g=new SuperMapAlgoPlot.Point(p.x,p.y);g.isScalePoint=!0,g.tag=1,this.scalePoints.push(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(this.isEdit=!0,!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(r<this.scaleValues[1])return;this.scaleValues[0]=r}else if(1==t){var i=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;if(this.scaleValues[0]<i)return;this.scaleValues[1]=i}}}}])&&fe(e.prototype,o),l&&fe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function be(t){"@babel/helpers - typeof";return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function de(t,e){return(de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ve(t);if(e){var n=ve(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol16700=Se;var me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Me(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,a=[],u=0;u<e.length;u++)l>e[u].x&&(l=e[u].x),n<e[u].x&&(n=e[u].x),r>e[u].y&&(r=e[u].y),i<e[u].y&&(i=e[u].y),a.push(e[u]);for(var p=(n-l)/5,s=.2*p,c=[],P=0;P<360;P+=18){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),s,s,P);c.push(f)}for(var g=0,y=l;y<n;y+=p)for(var h=r;h<i;h+=p){var S,b=new SuperMapAlgoPlot.Point(y,h);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(a,b))0===g?(g=0,this.subSymbols.length>0&&(S=.015*o,this.computeSubSymbol(this.subSymbols[0],b,S,0)),g++):(g=0,this.subSymbols.length>0&&(S=.022*o,this.computeSubSymbol(this.subSymbols[1],b,S,0)))}this.finish()}}}}])&&Ae(e.prototype,o),l&&Ae(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Oe(t){"@babel/helpers - typeof";return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ue(t,e){return(Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ve(t);if(e){var n=Ve(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ve(t){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17400=me;var Te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Le(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,l=e[0].x,n=e[0].y,r=e[0].y,i=[],a=0;a<e.length;a++)o>e[a].x&&(o=e[a].x),l<e[a].x&&(l=e[a].x),n>e[a].y&&(n=e[a].y),r<e[a].y&&(r=e[a].y),i.push(e[a]);for(var u=(l-o)/5,p=.15*u,s=[],c=0;c<360;c+=18){var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),p,p,c);s.push(P)}for(var f=0,g=o;g<l;g+=u)for(var y=n;y<r;y+=u){var h=new SuperMapAlgoPlot.Point(g,y);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(i,h))if(0===f){f++;for(var S=[],b=0;b<s.length;b++){var A=new SuperMapAlgoPlot.Point(h.x+s[b].x,h.y+s[b].y);S.push(A)}S.push(S[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{fillColorLimit:!0,fillColor:"#ffff00",surroundLineFlag:!1,fillLimit:!0,fillOpacity:1,lineTypeLimit:!0});var d=[];d.push(S[10]),d.push(new SuperMapAlgoPlot.Point(S[10].x-.5*p,S[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var M=[];M.push(S[0]),M.push(new SuperMapAlgoPlot.Point(S[0].x+.5*p,S[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M)}else 1===f?(f++,null!=this.subSymbols[0]&&this.computeSubSymbol(this.subSymbols[0],h,2*p,0)):(f=0,null!=this.subSymbols[1]&&this.computeSubSymbol(this.subSymbols[1],h,3*p,0))}this.finish()}}}])&&we(e.prototype,o),l&&we(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function je(t){"@babel/helpers - typeof";return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _e(t,e){return(_e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xe(t);if(e){var n=xe(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===je(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17401=Te;var Be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_e(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ee(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,l=e[0].x,n=e[0].y,r=e[0].y,i=0;i<e.length;i++)o>e[i].x&&(o=e[i].x),l<e[i].x&&(l=e[i].x),n>e[i].y&&(n=e[i].y),r<e[i].y&&(r=e[i].y);var a={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},u=new SuperMapAlgoPlot.Point((l+o)/2,(r+n)/2),p=l-o,s=r-n,c=.1*p,P=.1*s,f=new SuperMapAlgoPlot.Point(u.x,u.y+P),g=new SuperMapAlgoPlot.Point(u.x-c,u.y-P),y=new SuperMapAlgoPlot.Point(u.x+c,u.y-P);c=.03*p,P=.03*s;var h=new SuperMapAlgoPlot.Point(f.x,f.y+P),S=new SuperMapAlgoPlot.Point(f.x-c,f.y-P),b=new SuperMapAlgoPlot.Point(f.x+c,f.y-P),A=[];A.push(new SuperMapAlgoPlot.Point(h.x,h.y)),A.push(new SuperMapAlgoPlot.Point(S.x,S.y)),A.push(new SuperMapAlgoPlot.Point(b.x,b.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,a);var d=new SuperMapAlgoPlot.Point(g.x,g.y+P),M=new SuperMapAlgoPlot.Point(g.x-c,g.y-P),v=new SuperMapAlgoPlot.Point(g.x+c,g.y-P),m=[];m.push(new SuperMapAlgoPlot.Point(d.x,d.y)),m.push(new SuperMapAlgoPlot.Point(M.x,M.y)),m.push(new SuperMapAlgoPlot.Point(v.x,v.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,m,a);var O=new SuperMapAlgoPlot.Point(y.x,y.y+P),w=new SuperMapAlgoPlot.Point(y.x-c,y.y-P),U=new SuperMapAlgoPlot.Point(y.x+c,y.y-P),L=[];L.push(new SuperMapAlgoPlot.Point(O.x,O.y)),L.push(new SuperMapAlgoPlot.Point(w.x,w.y)),L.push(new SuperMapAlgoPlot.Point(U.x,U.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L,a),this.finish()}}}}])&&Re(e.prototype,o),l&&Re(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ce(t){"@babel/helpers - typeof";return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ie(t,e){return(Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function De(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ne(t);if(e){var n=Ne(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17500=Be;var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ie(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=De(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);for(var o=e[0].x,l=e[0].x,n=e[0].y,r=e[0].y,i=0;i<e.length;i++)o>e[i].x&&(o=e[i].x),l<e[i].x&&(l=e[i].x),n>e[i].y&&(n=e[i].y),r<e[i].y&&(r=e[i].y);var a=new SuperMapAlgoPlot.Point((l+o)/2,(r+n)/2),u=.33*(l-o),p=.1*(r-n),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,0),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,180),P=[];P.push(new SuperMapAlgoPlot.Point(s.x,s.y)),P.push(new SuperMapAlgoPlot.Point(c.x,c.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=new SuperMapAlgoPlot.Point(a.x-3*u/7,a.y+p),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,p,p,60),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,p,p,120);(P=[]).push(new SuperMapAlgoPlot.Point(g.x,g.y)),P.push(new SuperMapAlgoPlot.Point(f.x,f.y)),P.push(new SuperMapAlgoPlot.Point(y.x,y.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var h=new SuperMapAlgoPlot.Point(a.x+3*u/7,a.y+p),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,60),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,p,p,120);(P=[]).push(new SuperMapAlgoPlot.Point(S.x,S.y)),P.push(new SuperMapAlgoPlot.Point(h.x,h.y)),P.push(new SuperMapAlgoPlot.Point(b.x,b.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.finish()}}}}])&&Ye(e.prototype,o),l&&Ye(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ze(t){"@babel/helpers - typeof";return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function We(t,e){return(We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Je(t);if(e){var n=Je(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Je(t){return(Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17501=ke;var He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&We(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ge(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&this.scaleValues.push(.02),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.paraLine(l,o,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(l,o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);for(var i={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},a=this.getDashLinePts(r,5*o),u=0;u<a.length;u++){var p=a[u];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,i)}this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}}])&&Fe(e.prototype,o),l&&Fe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ke(t){"@babel/helpers - typeof";return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qe(t,e){return(Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xe(t);if(e){var n=Xe(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17700=He;var $e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qe(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ze(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="加",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.isEdit||(this.scaleValues=[]);var l=[];if(this.scalePoints=[],t.length<3)l.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),l.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y));else{var n=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=n.scaleValues;for(var r=0;r<n.scalePoints.length;r++)this.addScalePoint(n.scalePoints[r]);l=n.beizerPoints}if(!(l.length<2)){var i=e/2;if(-1!==SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,i).index){var a,u;if(a=2==t.length?0:t.length-1,this.isEdit)u=this.scaleValues[4*a]*e,isNaN(u)&&(u=Math.abs(this.scaleValues[4*a-1]*e));else{var p=.5*this.getSubSymbolScaleValue();u=p*e,this.scaleValues.push(p)}var s=i-u,c=i+u,P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,s);if(-1!==P.index){var f=P.pt;this.addScalePoint(new SuperMapAlgoPlot.Point(f.x,f.y));var g=[];if(0==P.index)g.push(l[0]);else for(var y=0;y<P.index;y++)g.push(l[y]);g.push(f);var h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,c);if(-1!==h.index){var S=h.pt,b=[];b.push(S);for(var A=h.index+1;A<l.length;A++)b.push(l[A]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var d=g[g.length-1],M=b[0],v=180*SuperMapAlgoPlot.PlottingUtil.radian(d,M)/Math.PI,m=SuperMapAlgoPlot.PlottingUtil.distance(d,M),O=new SuperMapAlgoPlot.Point((d.x+M.x)/2,(d.y+M.y)/2),w=this.subText;this.addText(w,O,m,v),this.finish()}}}}}}},{key:"computeBeizer",value:function(t,e){var o,l,n,r=[];if(this.scalePoints=[],this.isEdit){(n=[]).push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),n.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),o=this.scaleValues[0],l=this.scaleValues[1];var i=t[0].x+e*o,a=t[0].y+e*l;n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a));for(var u=1;u<t.length-1;u++)n.push(new SuperMapAlgoPlot.Point(t[u].x,t[u].y)),o=this.scaleValues[4*u-2],l=this.scaleValues[4*u-1],i=t[u].x+e*o,a=t[u].y+e*l,n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a)),o=this.scaleValues[4*u],l=this.scaleValues[4*u+1],i=t[u].x+e*o,a=t[u].y+e*l,n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a));var p=t.length-1;n.push(new SuperMapAlgoPlot.Point(t[p].x,t[p].y)),o=this.scaleValues[4*p-2],l=this.scaleValues[4*p-1],i=t[p].x+e*o,a=t[p].y+e*l,n.push(new SuperMapAlgoPlot.Point(i,a)),this.addScalePoint(new SuperMapAlgoPlot.Point(i,a)),n.push(new SuperMapAlgoPlot.Point(t[p].x,t[p].y)),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(n)}else{if(this.scaleValues=[],n=[],(n=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t)).length<3)return r;var s=n[2].x-n[0].x,c=n[2].y-n[0].y;o=s/e,l=c/e,this.scaleValues.push(o),this.scaleValues.push(l),this.addScalePoint(new SuperMapAlgoPlot.Point(n[2].x,n[2].y));for(var P=1;P<t.length-1;P++){o=(s=n[3*P+1].x-n[3*P].x)/e,l=(c=n[3*P+1].y-n[3*P].y)/e,this.scaleValues.push(o),this.scaleValues.push(l),this.addScalePoint(new SuperMapAlgoPlot.Point(n[3*P+1].x,n[3*P+1].y));var f=(n[3*P+2].x-n[3*P].x)/e,g=(n[3*P+2].y-n[3*P].y)/e;this.scaleValues.push(f),this.scaleValues.push(g),this.addScalePoint(new SuperMapAlgoPlot.Point(n[3*P+2].x,n[3*P+2].y))}o=(s=n[3*(t.length-1)+1].x-n[3*(t.length-1)].x)/e,l=(c=n[3*(t.length-1)+1].y-n[3*(t.length-1)].y)/e,this.scaleValues.push(o),this.scaleValues.push(l),this.addScalePoint(new SuperMapAlgoPlot.Point(n[3*(t.length-1)+1].x,n[3*(t.length-1)+1].y)),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(n)}return r}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),t<0||t>2*o.length-2)return;for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(2*(o.length-1)==t||2==o.length){var r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,i/2);if(-1===a.index)return;var u=SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt)/l;u>.4&&(u=.4),this.isEdit=!0,2==o.length?this.scaleValues[0]=u:this.scaleValues[2*t]=u}else{var p=-1;p=t%2==0?t/2:(t+1)/2,this.isEdit=!0;var s=(e.x-o[p].x)/l,c=(e.y-o[p].y)/l;this.scaleValues[2*t]=s,this.scaleValues[2*t+1]=c}}}}])&&qe(e.prototype,o),l&&qe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function to(t){"@babel/helpers - typeof";return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oo(t,e){return(oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=no(t);if(e){var n=no(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function no(t){return(no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17703=$e;var ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17703);var e,o,l,n=lo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="急",e}return e=r,o&&eo(e.prototype,o),l&&eo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function io(t){"@babel/helpers - typeof";return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uo(t,e){return(uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=so(t);if(e){var n=so(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function so(t){return(so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17704=ro;var co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=po(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1),e.scaleValues.push(.5),e.scaleValues.push(1),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(1),this.scaleValues.push(.03)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue(),this.scaleValues[7]=this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=this.scaleValues[7]*n,i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.3125*n),a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.6875*n),u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n*this.scaleValues[5]),p=(this.scaleValues[2],this.scaleValues[6],[]),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r*this.scaleValues[6],l[u.index],u.pt);p.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y)),p.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y));var c,P,f=SuperMapAlgoPlot.PlottingUtil.distance(i.pt,a.pt)*this.scaleValues[6];f>(r*=this.scaleValues[6])?(c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,r/2,!0),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,r/2,!1)):(c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,f/2,!0),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,f/2,!1));var g=[];g.push(c[0]),g.push(c[c.length-1]),g.push(P[P.length-1]),g.push(P[0]);var y={surroundLineFlag:!1,fillLimit:!0,strokeColor:"#37CECE",fillColorLimit:!0,fillColor:"#37CECE",fill:!0,fillOpacity:.7,lineColorLimit:!0,color:"#37CECE",surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g,y);var h=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(g);y={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0};var S=SuperMapAlgoPlot.PlottingUtil.paraLine(l,o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,y);for(var b=n*this.scaleValues[1],A=this.getDashLinePts(l,b),d=0;d<A.length;d++){var M=A[d];M=SuperMapAlgoPlot.PlottingUtil.clearSamePts(M);var v=SuperMapAlgoPlot.PlottingUtil.paraLine(M,o,!0);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,y)}this.addScalePoint(h),this.addScalePoint(p[1]),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);for(var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=0,i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),a=SuperMapAlgoPlot.PlottingUtil.distance(l[0],e),u=0,p=1;p<l.length;p++){var s=SuperMapAlgoPlot.PlottingUtil.distance(l[p],e);s<a&&(a=s,u=p)}var c=[];for(p=0;p<l.length;p++)p<=u&&c.push(l[p]);var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c);if(0===t)if(l.length<=3){if(0===(r=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)))return;var f=.5;e.x-i.pts.x<0?((f=-1*r/n+.5)<0&&(f=0),this.scaleValues[5]=f):((f=r/n+.5)>1&&(f=1),this.scaleValues[5]=f)}else this.scaleValues[5]=P/n;else if(1===t){i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[5],l),r=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e);var g=this.scaleValues[7]*n;this.scaleValues[6]=r/g}}}}])&&ao(e.prototype,o),l&&ao(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Po(t){"@babel/helpers - typeof";return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function go(t,e){return(go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ho(t);if(e){var n=ho(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ho(t){return(ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1770501=co;var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),l=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l+180),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l+180),a=[];a.push(r.clone()),a.push(i.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*n,.1*n,l+180),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l+180);(a=[]).push(u.clone()),a.push(p.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*n,.1*n,l),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l);(a=[]).push(s.clone()),a.push(c.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l);(a=[]).push(P.clone()),a.push(f.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),this.finish()}}}])&&fo(e.prototype,o),l&&fo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bo(t){"@babel/helpers - typeof";return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ao(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Mo(t,e){return(Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=mo(t);if(e){var n=mo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function mo(t){return(mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17800=So;var Oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17800);var e,o,l,n=vo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),l=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=[],i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.1*n,.1*n,0);r.push(t[0].clone()),r.push(i.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,r);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l+180),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l+180);(r=[]).push(a.clone()),r.push(u.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l+180),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l+180);(r=[]).push(p.clone()),r.push(s.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l);(r=[]).push(c.clone()),r.push(P.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l);(r=[]).push(f.clone()),r.push(g.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.finish()}}}])&&Ao(e.prototype,o),l&&Ao(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function wo(t){"@babel/helpers - typeof";return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Lo(t,e){return(Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=To(t);if(e){var n=To(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17801=Oo;var jo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17800);var e,o,l,n=Vo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),l=0;2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):(this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),l=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD);var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=[],i=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.08*n,.08*n,l+90),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l+180),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.08*n,.08*n,l+270);r.push(i.clone()),r.push(a.clone()),r.push(u.clone()),r.push(p.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l+180),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l+180);(r=[]).push(s.clone()),r.push(c.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l+180),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l+180);(r=[]).push(P.clone()),r.push(f.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.15*n,.15*n,l),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.58*n,.58*n,l);(r=[]).push(g.clone()),r.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,.78*n,.78*n,l),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,1.26*n,1.26*n,l);(r=[]).push(h.clone()),r.push(S.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.finish()}}}])&&Uo(e.prototype,o),l&&Uo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ro(t){"@babel/helpers - typeof";return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _o(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Eo(t,e){return(Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Bo(t);if(e){var n=Bo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ro(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Bo(t){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17802=jo;var Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=xo(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.2)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.2)),2==t.length?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=2==t.length?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=new SuperMapAlgoPlot.Point(e.x+o*l,e.y+o*n),a=o*r,u=new SuperMapAlgoPlot.Point(-.5*a,.25*a),p=new SuperMapAlgoPlot.Point(-.4*a,.125*a),s=new SuperMapAlgoPlot.Point(.4*a,.125*a),c=new SuperMapAlgoPlot.Point(.5*a,.25*a),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,u,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,0),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,0),h=[];h.push(P.clone()),h.push(f.clone()),h.push(g.clone()),h.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=new SuperMapAlgoPlot.Point(-.5*a,-.25*a),b=new SuperMapAlgoPlot.Point(-.4*a,-.125*a),A=new SuperMapAlgoPlot.Point(.4*a,-.125*a),d=new SuperMapAlgoPlot.Point(.5*a,-.25*a),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,S,0),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,0),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,A,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,d,0);(h=[]).push(M.clone()),h.push(v.clone()),h.push(m.clone()),h.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.scalePoints=[];var w=new SuperMapAlgoPlot.Point(i.x+.1*a,i.y);w.isScalePoint=!0,w.tag=0,this.scalePoints.push(w);var U=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.25*a,.25*a,90);U.isScalePoint=!0,U.tag=1,this.scalePoints.push(U),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,l,n,r,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i))[0].clone(),u=0;if(0==(u=2==i.length?2*SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1]):SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1])+SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[2])))return;if(0==t)r=(n=this.scaleValues[2])*u,o=(e.x-.1*r-a.x)/u,this.scaleValues[0]=o,l=(e.y-a.y)/u,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var p=new SuperMapAlgoPlot.Point(a.x+u*o,a.y+u*l);n=4*(r=SuperMapAlgoPlot.PlottingUtil.distance(p,e))/u,this.scaleValues[2]=n}}}}])&&_o(e.prototype,o),l&&_o(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Yo(t){"@babel/helpers - typeof";return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Io(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Do(t,e){return(Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function No(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ko(t);if(e){var n=ko(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Yo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ko(t){return(ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17803=Co;var zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Do(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=No(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1)),t.length==this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=t.length==this.minEditPts?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=new SuperMapAlgoPlot.Point(e.x+o*l,e.y+o*n),a=o*r,u=3*a,p=new SuperMapAlgoPlot.Point(-.5*u,.5*a),s=new SuperMapAlgoPlot.Point(.5*u,.5*a),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,0),f=[];f.push(c.clone()),f.push(P.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=new SuperMapAlgoPlot.Point(-.5*u,-.5*a),y=new SuperMapAlgoPlot.Point(.5*u,-.5*a),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,g,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,y,0);(f=[]).push(h.clone()),f.push(S.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var b=new SuperMapAlgoPlot.Point(-.1*u,.5*a),A=new SuperMapAlgoPlot.Point(-.15*u,-.5*a),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,A,0);(f=[]).push(d.clone()),f.push(M.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var v=new SuperMapAlgoPlot.Point(.15*u,.5*a),m=new SuperMapAlgoPlot.Point(.1*u,-.5*a),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,v,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,m,0);(f=[]).push(O.clone()),f.push(w.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.scalePoints=[];var U=new SuperMapAlgoPlot.Point(i.x,i.y);U.isScalePoint=!0,U.tag=0,this.scalePoints.push(U);var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.5*a,.5*a,90);L.isScalePoint=!0,L.tag=1,this.scalePoints.push(L),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,l,n,r,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i))[0].clone(),u=0;if(0==(u=2==i.length?2*SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1]):SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1])+SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[2])))return;if(0==t)r=(n=this.scaleValues[2])*u,o=(e.x-.1*r-a.x)/u,this.scaleValues[0]=o,l=(e.y-a.y)/u,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var p=new SuperMapAlgoPlot.Point(a.x+u*o,a.y+u*l);n=2*(r=SuperMapAlgoPlot.PlottingUtil.distance(p,e))/u,this.scaleValues[2]=n}}}}])&&Io(e.prototype,o),l&&Io(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Fo(t){"@babel/helpers - typeof";return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Go(t,e){return(Go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ho(t);if(e){var n=Ho(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ho(t){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17804=zo;var Ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Go(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17804);var e,o,l,n=Jo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1)),t.length==this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t);var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=0;if(0!=(o=t.length==this.minEditPts?2*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]):SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])+SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var l=this.scaleValues[0],n=this.scaleValues[1],r=this.scaleValues[2],i=new SuperMapAlgoPlot.Point(e.x+o*l,e.y+o*n),a=3*(o*r),u=new SuperMapAlgoPlot.Point(-.5*a,.3*a),p=new SuperMapAlgoPlot.Point(-.5*a,-.3*a),s=new SuperMapAlgoPlot.Point(.5*a,-.3*a),c=new SuperMapAlgoPlot.Point(.5*a,.3*a),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,u,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,p,0),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,s,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,c,0),h=[];h.push(P.clone()),h.push(f.clone()),h.push(g.clone()),h.push(y.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h);var S=new SuperMapAlgoPlot.Point(-.3*a,.3*a),b=new SuperMapAlgoPlot.Point(-.3*a,.5*a),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,S,0),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,0);(h=[]).push(A.clone()),h.push(d.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var M=new SuperMapAlgoPlot.Point(-.3*a,-.3*a),v=new SuperMapAlgoPlot.Point(-.3*a,-.5*a),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,M,0),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,v,0);(h=[]).push(m.clone()),h.push(O.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var w=new SuperMapAlgoPlot.Point(.3*a,.3*a),U=new SuperMapAlgoPlot.Point(.3*a,.5*a),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,w,0),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,U,0);(h=[]).push(L.clone()),h.push(V.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var T=new SuperMapAlgoPlot.Point(.3*a,-.3*a),j=new SuperMapAlgoPlot.Point(.3*a,-.5*a),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,T,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,j,0);(h=[]).push(R.clone()),h.push(_.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.scalePoints=[];var E=new SuperMapAlgoPlot.Point(i.x+.1*a,i.y);E.isScalePoint=!0,E.tag=0,this.scalePoints.push(E);var x=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.5*a,.5*a,90);x.isScalePoint=!0,x.tag=1,this.scalePoints.push(x),this.finish()}}}}])&&Wo(e.prototype,o),l&&Wo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function qo(t){"@babel/helpers - typeof";return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zo(t,e){return(Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=$o(t);if(e){var n=$o(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===qo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function $o(t){return($o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17805=Ko;var tl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol17804);var e,o,l,n=Xo(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var e,o,l,n,r,i=this.scaleValues[0],a=this.scaleValues[1],u=this.scaleValues[2],p=0,s=0;if(t.length==this.minEditPts){this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);var c=SuperMapAlgoPlot.PlottingUtil.distance(o,l);p=2*c,e=new SuperMapAlgoPlot.Point(o.x+p*i,o.y+p*a);var P=2*c*u/.28/2;s=P,n=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,P,P,0),(r=[]).push(e.clone()),r.push(n.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,r)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),p=SuperMapAlgoPlot.PlottingUtil.distance(o,l)+SuperMapAlgoPlot.PlottingUtil.distance(o,n),e=new SuperMapAlgoPlot.Point(o.x+p*i,o.y+p*a);var f=p*u/.21/2,g=p*u/.38/2;s=f;var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,f,f,0),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,90);(r=[]).push(e.clone()),r.push(y.clone()),r.push(h.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,r)}this.scalePoints=[];var S=new SuperMapAlgoPlot.Point(e.x+.1*p,e.y);S.isScalePoint=!0,S.tag=0,this.scalePoints.push(S);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,s,s,90);b.isScalePoint=!0,b.tag=1,this.scalePoints.push(b),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o,l,n,r,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),a=(i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i))[0].clone(),u=0;if(0==(u=2==i.length?2*SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1]):SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[1])+SuperMapAlgoPlot.PlottingUtil.distance(i[0],i[2])))return;if(0==t)r=(n=this.scaleValues[2])*u,o=(e.x-.1*u-a.x)/u,this.scaleValues[0]=o,l=(e.y-a.y)/u,this.scaleValues[1]=l;else if(1==t){o=this.scaleValues[0],l=this.scaleValues[1];var p=new SuperMapAlgoPlot.Point(a.x+u*o,a.y+u*l);r=SuperMapAlgoPlot.PlottingUtil.distance(p,e),n=.1,n=2===i.length?.56*r/u:.42*r/u,this.scaleValues[2]=n}}}}])&&Qo(e.prototype,o),l&&Qo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function el(t){"@babel/helpers - typeof";return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ol(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ll(t,e){return(ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=rl(t);if(e){var n=rl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===el(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function rl(t){return(rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol17806=tl;var il=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ll(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=nl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.1),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[1]=.1*e}this.components.length=0,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=l*o,r=l*this.scaleValues[1];n<2*r&&(r=.5*n);for(var i={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},a=0,u=n;u<l-r;u+=n){var p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,t);if(p.bfind){var s=p.pts,c=[];c.push(s);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,r,r,90);if(c.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,i),0===a){var f=new SuperMapAlgoPlot.Point(s.x,s.y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f)}a++}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(2>(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length)return;for(var l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=-1,i=0,a=0;a<o.length-1;a++){var u=[];u.push(o[a]),u.push(o[a+1]);var p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(p.isOnline){var s=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint);-1==r?(r=a,l=p.projectPoint,i=s):i>s&&(r=a,l=p.projectPoint,i=s)}}if(-1==r||r>o.length-1)return;var c=0;for(a=0;a<r;a++){var P=o[a],f=o[a+1];c+=SuperMapAlgoPlot.PlottingUtil.distance(P,f)}var g=o[r];if((c+=SuperMapAlgoPlot.PlottingUtil.distance(g,l))<0||c>n)return;var y=c/n;this.scaleValues[0]=y}}}])&&ol(e.prototype,o),l&&ol(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function al(t){"@babel/helpers - typeof";return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ul(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function pl(t,e){return(pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=cl(t);if(e){var n=cl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===al(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function cl(t){return(cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol20300=il;var Pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=sl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length!==this.minEditPts&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(0)),this.components.length=0,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,this.controlPoints);var e,o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,i=new SuperMapAlgoPlot.Point((l.x+n.x)/2,(l.y+n.y)/2),a=this.scaleValues[0]*o;e=0==this.scaleValues[1]?SuperMapAlgoPlot.PlottingUtil.circlePoint(i,a,a,r+90):SuperMapAlgoPlot.PlottingUtil.circlePoint(i,a,a,r+270);var u={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[i,e]);var p=.02*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1]),s=new SuperMapAlgoPlot.Point((l.x+i.x)/2,(l.y+i.y)/2),c=[s,new SuperMapAlgoPlot.Point(s.x,s.y+p)];this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,u,!0);var P=new SuperMapAlgoPlot.Point((n.x+i.x)/2,(n.y+i.y)/2);c=[P,new SuperMapAlgoPlot.Point(P.x,P.y+p)],this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,c,u,!0);var f=new SuperMapAlgoPlot.Point(e.x,e.y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n);if(0===r)return;var i=new SuperMapAlgoPlot.Point((l.x+n.x)/2,(l.y+n.y)/2);if(0===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,i)/r;this.scaleValues[0]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,n,e)?this.scaleValues[1]=1:this.scaleValues[1]=0}}}}])&&ul(e.prototype,o),l&&ul(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function fl(t){"@babel/helpers - typeof";return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function yl(t,e){return(yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function hl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Sl(t);if(e){var n=Sl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Sl(t){return(Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol20301=Pl;var bl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=hl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05,e.scaleValues[2]=.01),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5)),!this.isEdit){var o=this.getSubSymbolScaleValue();(o>.3||o<=0)&&(o=.3),this.scaleValues[0]=o}var l=this.getLinePts(e,this.scaleValues[0]),n=new SuperMapAlgoPlot.Point((l.startPt.x+l.endPt.x)/2,(l.startPt.y+l.endPt.y)/2),r=SuperMapAlgoPlot.PlottingUtil.dirAngle(l.startPt,l.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=SuperMapAlgoPlot.PlottingUtil.distance(l.startPt,l.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],n,i,r);var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),u=[];u.push(0),u.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,l.startPt)/a),u.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,l.endPt)/a),u.push(1);for(var p=this.mergeDashLine(this.dashLines,u),s=this.computeDashLine(p,e),c=0;c<s.length;c++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s[c]);var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*a,e),f=SuperMapAlgoPlot.PlottingUtil.distance(l.startPt,l.endPt),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,.5*f*.5,.5*f*.5,r);this.addScalePoint(g,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&gl(e.prototype,o),l&&gl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Al(t){"@babel/helpers - typeof";return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ml(t,e){return(Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ml(t);if(e){var n=ml(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Al(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ml(t){return(ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26501=bl;var Ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ml(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=vl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.285714),e.scaleValues.push(.5),e.scaleValues.push(.333333),e.scaleValues.push(.333333)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.285714),this.scaleValues.push(.5),this.scaleValues.push(.333333));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(i),S.push(s),S.push(g),S.push(y),S.push(f),S.push(p),S.push(r);for(var b=[],A=0;A<S.length;A++){var d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[A],h);b.push(d)}var M=[];M.push(b[0]),M.push(b[1]);for(var v=this.mergeDashLine(this.dashLines,[]),m=this.computeDashLine(v,M),O=0;O<m.length;O++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m[O]);var w=[];w.push(b[b.length-2]),w.push(b[b.length-1]);for(var U=this.mergeDashLine(this.dashLines,[]),L=this.computeDashLine(U,w),V=0;V<L.length;V++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L[V]);var T=[];T.push(m[m.length-1]);for(var j=1;j<b.length-1;j++)T.push(b[j]);T.push(L[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var R,_,E,x=!0;e.x>o.x&&(x=!1);var B,C=(E=.1*l)+(_=.12*l/2);R=1==x?(B=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(C,o,e)).pntRight:(B=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(C,o,e)).pntLeft;var Y,I,D,N,k,z,F,W,G=[];G.push(R),G.push(new SuperMapAlgoPlot.Point(R.x+_,R.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,G,{lineTypeLimit:!0,surroundLineLimit:!0}),1==x?(Y=(B=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.85*E,o,e)).pntRight,N=B.pntLeft,I=(B=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(E,Y,N)).pntRight,D=B.pntLeft):(Y=(B=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.85*E,o,e)).pntLeft,N=B.pntRight,I=(B=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(E,Y,N)).pntLeft,D=B.pntRight),(G=[]).push(Y),G.push(I),G.push(D),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,G,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),B=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*_,I,D),W=1==x?B.pntRight:B.pntLeft,B=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*_,D,I),z=1==x?B.pntLeft:B.pntRight;var J=SuperMapAlgoPlot.PlottingUtil.intersectLines(Y,z,D,I);J.isIntersectLines&&(k=J.intersectPoint,(J=SuperMapAlgoPlot.PlottingUtil.intersectLines(Y,W,D,I)).isIntersectLines&&(F=J.intersectPoint,(G=[]).push(k),G.push(z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,G,{lineTypeLimit:!0,surroundLineLimit:!0}),(G=[]).push(F),G.push(W),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,G,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(b[0]),this.addScalePoint(b[1]),this.addScalePoint(b[2]),this.finish()))}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&dl(e.prototype,o),l&&dl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function wl(t){"@babel/helpers - typeof";return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ul(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ll(t,e){return(Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Vl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tl(t);if(e){var n=Tl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===wl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tl(t){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42500=Ol;var jl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ll(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Vl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=.5*l}var n=o*this.scaleValues[0],r=e[e.length-1];if(e.length>2){for(var i=-1,a=e.length-2;a>=0;a--)if(n<SuperMapAlgoPlot.PlottingUtil.distance(r,e[a])){i=a;break}e.splice(i+1,e.length-i),e.push(r)}for(var u=this.mergeDashLine(this.dashLines,[]),p=this.computeDashLine(u,e),s=0;s<p.length;s++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[s]);if(0==p.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[0]);else for(var c=0;c<p.length;c++)p.length-1==c&&(p[c].length>=2?this.addArrow(p[c],this.scaleValues[0]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[0]));var P=e[e.length-2],f=e[e.length-1],g=(SuperMapAlgoPlot.PlottingUtil.radian(P,f),Math.PI,SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)*this.scaleValues[0]),y=SuperMapAlgoPlot.PlottingUtil.findPoint(e[e.length-1],e[e.length-2],g,0);this.addScalePoint(y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(this.minEditPts>o.length)return;var r=.5*SuperMapAlgoPlot.PlottingUtil.distance(e,l[l.length-1])/n;if(.5<r)return;this.scaleValues[0]=r}}}])&&Ul(e.prototype,o),l&&Ul(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Rl(t){"@babel/helpers - typeof";return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _l(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function El(t,e){return(El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Bl(t);if(e){var n=Bl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Bl(t){return(Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25201=jl;var Cl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&El(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=xl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.03),e.scaleValues.push(.2),e.scaleValues.push(.6),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues.push(.03),this.scaleValues.push(.4),this.scaleValues.push(0)):3===this.scaleValues.length&&this.scaleValues.push(.02);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=o*this.scaleValues[1],n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e);if(n.bfind){this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(),this.scaleValues[this.scaleValues.length-1]=.5*this.getSubSymbolScaleValue());var r,i=this.scaleValues[0],a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*i,u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,e[n.index],n.pts),p=this.scaleValues[3];1===p?r=new SuperMapAlgoPlot.Point(u.pntRight.x,u.pntRight.y):0===p&&(r=new SuperMapAlgoPlot.Point(u.pntLeft.x,u.pntLeft.y)),this.addScalePoint(r,1);var s=[];s.push(r),s.push(n.pts);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,s,{lineTypeLimit:!0,surroundLineLimit:!0});var c=this.scaleValues[2],P=o*c,f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e);if(f.bfind){var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,e[f.index],f.pts);1===p?c=new SuperMapAlgoPlot.Point(g.pntRight.x,g.pntRight.y):0===p&&(c=new SuperMapAlgoPlot.Point(g.pntLeft.x,g.pntLeft.y));for(var y=this.mergeDashLine(this.dashLines,[]),h=this.computeDashLine(y,e),S=0;S<h.length;S++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h[S]);if(0==h.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[4]);else for(var b=0;b<h.length;b++)h.length-1==b&&(h[b].length>=2?this.addArrow(h[b],this.scaleValues[4]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[4]));this.addScalePoint(c,0);var A=[];A.push(c),A.push(f.pts);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0});a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[4];var d=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],a);this.addScalePoint(d,0),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=0,i=-1,a=0;a<l.length-1;a++){(g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[a],l[a+1])).isOnline&&(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0)||SuperMapAlgoPlot.PlottingUtil.distance(e,g.projectPoint)<r)&&(c=g.projectPoint,i=a,r=SuperMapAlgoPlot.PlottingUtil.distance(e,c))}if(-1==i)return;(P=(P=[]).concat(l.slice(0,i+1))).push(c);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P);this.scaleValues[1]=u/n;var p=SuperMapAlgoPlot.PlottingUtil.distance(e,c);this.scaleValues[0]=p/n;var s=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[i],l[i+1],e);this.scaleValues[3]=s?1:0}else if(1===t){r=0,i=-1;for(var c,P,f=0;f<l.length-1;f++){var g;(g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[f],l[f+1])).isOnline&&(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0)||SuperMapAlgoPlot.PlottingUtil.distance(e,g.projectPoint)<r)&&(c=g.projectPoint,i=f,r=SuperMapAlgoPlot.PlottingUtil.distance(e,c))}if(-1==i)return;(P=(P=[]).concat(l.slice(0,i+1))).push(c);u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P);this.scaleValues[2]=u/n;p=SuperMapAlgoPlot.PlottingUtil.distance(e,c);this.scaleValues[0]=p/n;s=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[i],l[i+1],e);this.scaleValues[3]=s?1:0}else if(2===t){var y=.5*SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(e.x,e.y),o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<y)return;this.scaleValues[4]=y}}}}])&&_l(e.prototype,o),l&&_l(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Yl(t){"@babel/helpers - typeof";return(Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Il(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Dl(t,e){return(Dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=kl(t);if(e){var n=kl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Yl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function kl(t){return(kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21401=Cl;var zl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Nl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues.push(.02),this.scaleValues.push(.1),this.scaleValues.push(0),this.scaleValues.push(.01)):3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);if(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(e)){if(!this.isEdit){var o=this.getSubSymbolScaleValue();(o>.3||o<=0)&&(o=.3),this.scaleValues[0]=.5*o,this.scaleValues[1]=o,this.scaleValues[this.scaleValues.length-1]=.5*this.getSubSymbolScaleValue()}for(var l=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(l,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);if(0==n.length)this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3]);else for(var i=0;i<n.length;i++)n.length-1==i&&(n[i].length>=2?this.addArrow(n[i],this.scaleValues[3]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3]));for(var a=this.scaleValues[0],u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),p=a*u,s=this.scaleValues[1]*u,c=0,P=.01*u,f=P,g=0;f<=u;f+=s,g++){c=f+P;var y=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,c);if(-1===y.index)return;var h=[],S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,e[y.index],y.pt);h.push(new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y)),h.push(new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0}),0===g?this.addScalePoint(h[0],0):1===g&&this.addScalePoint(y.pt,1)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=.01*n;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);if(-1===i.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(e,i.pt);this.scaleValues[0]=a/n}else if(1===t){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);if(-1===u.index)return;var p=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,l);if(-1===p.index)return;for(var s=0,c=u.index+1;c<p.index;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(l[c],l[c+1]);s+=SuperMapAlgoPlot.PlottingUtil.distance(l[p.index],p.pt),s-=r,this.scaleValues[1]=s/n,this.scaleValues[1]>.93&&(this.scaleValues[1]=.93)}}}}])&&Il(e.prototype,o),l&&Il(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Fl(t){"@babel/helpers - typeof";return(Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Gl(t,e){return(Gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hl(t);if(e){var n=Hl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hl(t){return(Hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21500=zl;var Kl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.5,e.scaleValues[1]=.05,e.scaleValues[2]=.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues=[],this.scaleValues[0]=.5,this.scaleValues[1]=.05,this.scaleValues[2]=.02):1===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.25*this.getSubSymbolScaleValue())),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[1]=l,this.scaleValues[2]=.5*l}var n=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),r=[];r.push(0),r.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.startPt)/o),r.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.endPt)/o),r.push(1);for(var i=this.mergeDashLine(this.dashLines,r),a=this.computeDashLine(i,e),u=0;u<a.length;u++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a[u]);if(0==a.length)this.addArrow(e[e.length-2],e[e.length-1],this.scaleValues[2]);else for(var p=0;p<a.length;p++)a.length-1==p&&(a[p].length>=2?this.addArrow(a[p],this.scaleValues[this.scaleValues.length-1]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[2]));var s,c,P,f,g,y,h,S,b,A,d,M,v,m=n.startPt.clone(),O=n.endPt.clone(),w=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),U=SuperMapAlgoPlot.PlottingUtil.distance(m,O),L=SuperMapAlgoPlot.PlottingUtil.radian(m,O)*SuperMapAlgoPlot.PlottingUtil.RTOD;s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0),g=new SuperMapAlgoPlot.Point(0,0),y=new SuperMapAlgoPlot.Point(0,0),h=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),b=new SuperMapAlgoPlot.Point(0,0),A=new SuperMapAlgoPlot.Point(0,0),d=new SuperMapAlgoPlot.Point(0,0),M=new SuperMapAlgoPlot.Point(0,0),v=new SuperMapAlgoPlot.Point(0,0),m.x>=O.x?(s.x=.25*U,s.y=.25*-U,c.x=.5*-U,c.y=.25*-U,P.x=.5*-U,P.y=.25*U,f.x=.5*U,f.y=.25*U,g.x=.5*U,g.y=0,y.x=.25*-U,y.y=.125*-U,h.x=0,h.y=.125*U,S.x=0,S.y=.125*-U,b.x=.25*U,b.y=.2*U,A.x=.25*-U,A.y=.25*-U,d.x=.375*-U,d.y=.5*-U,M.x=.02*-U,M.y=.25*-U,v.x=.1*U,v.y=.5*-U):(s.x=.25*U,s.y=.25*U,c.x=.5*-U,c.y=.25*U,P.x=.5*-U,P.y=.25*-U,f.x=.5*U,f.y=.25*-U,g.x=.5*U,g.y=0,y.x=.25*U,y.y=.125*-U,h.x=0,h.y=.125*U,S.x=0,S.y=.125*-U,b.x=.25*-U,b.y=.125*U,A.x=.25*-U,A.y=.25*U,d.x=.375*-U,d.y=.5*U,M.x=.02*U,M.y=.25*U,v.x=.15*U,v.y=.5*U);var V=[],T=[],j=[],R=[],_=[],E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,g,L),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,f,L),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,P,L),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,c,L),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,s,L),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,y,L),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,h,L),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,S,L),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,b,L),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,A,L),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,d,L),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,M,L),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,v,L);V.push(E),V.push(x),V.push(B),V.push(C),V.push(Y),T.push(I),T.push(D),T.push(N),T.push(k),j.push(z),j.push(F),R.push(W),R.push(G),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,V,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,{lineTypeLimit:!0,surroundLineLimit:!0},!0);var J=.3*SuperMapAlgoPlot.PlottingUtil.distance(N,k),H=180*SuperMapAlgoPlot.PlottingUtil.dirAngle(k,N)/Math.PI,K=.5*J,q=SuperMapAlgoPlot.PlottingUtil.circlePoint(k,K,K,H+15),Q=SuperMapAlgoPlot.PlottingUtil.circlePoint(k,K,K,H-15);_.push(Q),_.push(k),_.push(q);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,_,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0);var Z=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],e),X=SuperMapAlgoPlot.PlottingUtil.circlePoint(Z.pts,.5*U,.5*U,L+90);this.addScalePoint(Z.pts,0),this.addScalePoint(X,1);var $=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[2],tt=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],$);this.addScalePoint(tt,2),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(!0===e.isScalePoint&&0===t){for(var r=0,i=-1,a=null,u=0;u<l.length-1;u++){var p;(p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[u],l[u+1])).isOnline&&(0===r||SuperMapAlgoPlot.PlottingUtil.distance(p.projectPoint,e)<r)&&(a=p,i=u,r=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint))}if(-1==i)return;var s=[];for(u=0;u<i+1;u++)s.push(l[u]);s.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y));var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s)/n,P=this.scaleValues[1];c<P&&(c=P),c>1-(P+this.scaleValues[2])&&(c=1-(P+this.scaleValues[2])),this.scaleValues[0]=c}else if(1==t){var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[0],l),g=SuperMapAlgoPlot.PlottingUtil.distance(f.pts,e)/n;g>=.3&&(g=.3),this.scaleValues[0]<g||this.scaleValues[0]>1-(g+this.scaleValues[2])?(this.scaleValues[0]<g?this.scaleValues[0]=g:this.scaleValues[0]=1-(g+this.scaleValues[2]),this.scaleValues[1]=g):this.scaleValues[1]=g}else if(2==t){var y=SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<y)return;this.scaleValues[2]=y}}}}])&&Wl(e.prototype,o),l&&Wl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ql(t){"@babel/helpers - typeof";return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ql(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zl(t,e){return(Zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=$l(t);if(e){var n=$l(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ql(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function $l(t){return($l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21900=Kl;var tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zl(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Xl(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(.02)),!this.isEdit){var o=this.getSubSymbolScaleValue();(o>.3||o<=0)&&(o=.3),this.scaleValues[1]=o,this.scaleValues[2]=.5*o}var l=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),n=new SuperMapAlgoPlot.Point((l.startPt.x+l.endPt.x)/2,(l.startPt.y+l.endPt.y)/2),r=SuperMapAlgoPlot.PlottingUtil.dirAngle(l.startPt,l.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=SuperMapAlgoPlot.PlottingUtil.distance(l.startPt,l.endPt);this.addSubSymbols(n,i,r);for(var a=[],u=0;u<=l.startIndex;u++)a.push(e[u]);a.push(l.startPt);var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),s=[];s.push(0),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,l.startPt)/p),s.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,l.endPt)/p),s.push(1);for(var c=this.mergeDashLine(this.dashLines,s),P=this.computeDashLine(c,e),f=0;f<P.length;f++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[f]);if(0==P.length)this.addArrow(e[e.length-2],e[e.length-1],this.scaleValues[2]);else for(var g=0;g<P.length;g++)P.length-1==g&&this.addArrow(P[g],this.scaleValues[2]);this.addScalePoint(n,0);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,.5*i,.5*i,r+90);this.addScalePoint(y,1);var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[2],S=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],h);S.isScalePoint=!0,S.tag=0,this.addScalePoint(S,2),this.finish()}}},{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-180)}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=0,i=-1,a=null,u=0;u<l.length-1;u++){var p;(p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[u],l[u+1])).isOnline&&(0===r||SuperMapAlgoPlot.PlottingUtil.distance(p.projectPoint,e)<r)&&(a=p,i=u,r=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint))}if(-1==i)return;var s=[];for(u=0;u<i+1;u++)s.push(l[u]);s.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y));var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s)/n,P=this.scaleValues[1];c<P&&(c=P),c>1-P-this.scaleValues[2]&&(c=1-P-this.scaleValues[2]),this.scaleValues[0]=c}else if(1===t){var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[0],l),g=SuperMapAlgoPlot.PlottingUtil.distance(f.pts,e)/n;g>=.3&&(g=.3),this.scaleValues[0]<g||this.scaleValues[0]>1-g-this.scaleValues[2]?(this.scaleValues[0]<g?this.scaleValues[0]=g:this.scaleValues[0]=1-g-this.scaleValues[2],this.scaleValues[1]=g):this.scaleValues[1]=g}else if(2===t){var y=SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(e.x,e.y),o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<y)return;this.scaleValues[2]=y}}}}])&&Ql(e.prototype,o),l&&Ql(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function en(t){"@babel/helpers - typeof";return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ln(t,e){return(ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=rn(t);if(e){var n=rn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===en(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function rn(t){return(rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21501=tn;var an=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ln(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=nn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,o&&on(e.prototype,o),l&&on(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function un(t){"@babel/helpers - typeof";return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sn(t,e){return(sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pn(t);if(e){var n=Pn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21502=an;var fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=cn(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-90)}}])&&pn(e.prototype,o),l&&pn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gn(t){"@babel/helpers - typeof";return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hn(t,e){return(hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bn(t);if(e){var n=bn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21503=fn;var An=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=Sn(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-90)}}])&&yn(e.prototype,o),l&&yn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function dn(t){"@babel/helpers - typeof";return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vn(t,e){return(vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=On(t);if(e){var n=On(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function On(t){return(On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21504=An;var wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=mn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05)),e.subText=" ",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){1==this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[0]=.6*this.getSubSymbolScaleValue(),this.scaleValues[1]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,l=0;l<e.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[l],e[l+1]);var n=this.getLinePts(e,this.scaleValues[0]),r=(n.startIndex,n.startPt),i=(n.endIndex,n.endPt),a=[];a.push(0),a.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,r)/o),a.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,i)/o),a.push(1);for(var u=this.mergeDashLine(this.dashLines,a),p=this.computeDashLine(u,e),s=0;s<p.length;s++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[s]);var c=p[0],P=p[p.length-1];if(!(c.length<2)){for(var f=0,g=0;g<t.length-1;g++)f+=SuperMapAlgoPlot.PlottingUtil.distance(t[g],t[g+1]);var y=f*this.scaleValues[0],h=new SuperMapAlgoPlot.Point(c[0].x,c[0].y),S=new SuperMapAlgoPlot.Point(c[1].x,c[1].y),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(y,S,h),A=[];if(A.push(b.pntLeft),A.push(b.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0}),!(P.length<2)){var d=new SuperMapAlgoPlot.Point(P[P.length-1].x,P[P.length-1].y),M=new SuperMapAlgoPlot.Point(P[P.length-2].x,P[P.length-2].y),v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(y,M,d);(A=[]).push(v.pntLeft),A.push(v.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0});var m=n.startPt,O=n.endPt,w=SuperMapAlgoPlot.PlottingUtil.dirAngle(m,O)*SuperMapAlgoPlot.PlottingUtil.RTOD,U=SuperMapAlgoPlot.PlottingUtil.distance(m,O),L=new SuperMapAlgoPlot.Point((m.x+O.x)/2,(m.y+O.y)/2),V=this.subText;this.addText(V,L,U,w),this.addScalePoint(b.pntRight),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&Mn(e.prototype,o),l&&Mn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Un(t){"@babel/helpers - typeof";return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ln(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vn(t,e){return(Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jn(t);if(e){var n=jn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21600=wn;var Rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Tn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.2)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(.2));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=e*this.scaleValues[1],l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=180*SuperMapAlgoPlot.PlottingUtil.dirAngle(l,n)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+270),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,o,o,r),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,o,o,r),s=[];s.push(p),s.push(a),s.push(i),s.push(u);for(var c=this.mergeDashLine(this.dashLines,[]),P=this.computeDashLine(c,s),f=0;f<P.length;f++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[f]);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+270),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,o,o,r+180),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,o,o,r+180);(s=[]).push(h),s.push(g),s.push(y),s.push(S);c=this.mergeDashLine(this.dashLines,[]),P=this.computeDashLine(c,s);for(var b=0;b<P.length;b++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[b]);this.addScalePoint(i),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&Ln(e.prototype,o),l&&Ln(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _n(t){"@babel/helpers - typeof";return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xn(t,e){return(xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cn(t);if(e){var n=Cn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cn(t){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21800=Rn;var Yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.025)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues[0]=.5,this.scaleValues[1]=.05,this.scaleValues[2]=.025):1===this.scaleValues.length&&(this.scaleValues[1]=.05,this.scaleValues[2]=.025),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[1]=l,this.scaleValues[2]=.6*this.getSubSymbolScaleValue()}var n=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,a,i);var u=e[0],p=e[1],s=e[e.length-2],c=e[e.length-1],P=o*this.scaleValues[2],f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,p,u),g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,s,c),y=f.pntLeft,h=g.pntLeft,S=[];S.push(0),S.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.startPt)/o),S.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.endPt)/o),S.push(1);var b=this.mergeDashLine(this.dashLines,S),A=this.computeDashLine(b,e);A[0].unshift(y),A.length-1>=0&&A[A.length-1].push(h);for(var d=0;d<A.length;d++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A[d]);var M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],e),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M.pts,.5*a,.5*a,i+90);this.addScalePoint(M.pts,0),this.addScalePoint(v,0),this.addScalePoint(y,0),this.addScalePoint(h,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(!0===e.isScalePoint&&0===t){for(var r=0,i=-1,a=null,u=0;u<l.length-1;u++){var p;(p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[u],l[u+1])).isOnline&&(0===r||SuperMapAlgoPlot.PlottingUtil.distance(p.projectPoint,e)<r)&&(a=p,i=u,r=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint))}if(-1==i)return;var s=[];for(u=0;u<i+1;u++)s.push(l[u]);s.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y));var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s)/n,P=this.scaleValues[1];c<P&&(c=P),c>1-P&&(c=1-P),this.scaleValues[0]=c}else if(!0===e.isScalePoint&&1==t){var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[0],l),g=SuperMapAlgoPlot.PlottingUtil.distance(f.pts,e)/n;g>=.3&&(g=.3),this.scaleValues[0]<g||this.scaleValues[0]>1-g?(this.scaleValues[0]<g?this.scaleValues[0]=g:this.scaleValues[0]=1-g,this.scaleValues[1]=g):this.scaleValues[1]=g}else if(2==t){var y=SuperMapAlgoPlot.PlottingUtil.distance(e,l[0])/n;this.scaleValues[2]=y}else if(3==t){y=SuperMapAlgoPlot.PlottingUtil.distance(e,l[l.length-1])/n;this.scaleValues[2]=y}}}}])&&En(e.prototype,o),l&&En(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function In(t){"@babel/helpers - typeof";return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Nn(t,e){return(Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zn(t);if(e){var n=zn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22000=Yn;var Fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol22000);var e,o,l,n=kn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.025)),e}return e=r,o&&Dn(e.prototype,o),l&&Dn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Wn(t){"@babel/helpers - typeof";return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jn(t,e){return(Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kn(t);if(e){var n=Kn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol22103=Fn;var qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hn(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);else for(var o=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var r=this.scaleValues[0],i=this.scaleValues[1],a=this.scaleValues[2],u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),s=p*a,c=new SuperMapAlgoPlot.Point(u.x+p*r,u.y+p*i);if(this.subSymbols.length>0){if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],c,s,0),this.addScalePoint(c);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,0);this.addScalePoint(P)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.1));var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-i.x)/a,this.scaleValues[0]=n,r=(e.y-i.y)/a,this.scaleValues[1]=r;else if(1===t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+a*n,i.y+a*r),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[2]=p}}}}])&&Gn(e.prototype,o),l&&Gn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qn(t){"@babel/helpers - typeof";return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xn(t,e){return(Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tr(t);if(e){var n=tr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23400=qn;var er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xn(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$n(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o={fillLimit:!0,fill:!1,surroundLineFlag:!1};if(0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,o);else for(var l=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(l,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r],o);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var u=this.getDefaultSubSymbolSize()/a;(u>.2||u<=0)&&(u=.2),this.scaleValues[0]=u}var p=this.scaleValues[0],s=this.scaleValues[2],c=this.scaleValues[3],P=a*p,f=new SuperMapAlgoPlot.Point(i.x+a*s,i.y+a*c);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,P,0),this.addScalePoint(f);var g=P,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,g,g,90);this.addScalePoint(y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-i.x)/a,this.scaleValues[2]=n,r=(e.y-i.y)/a,this.scaleValues[3]=r;else if(1===t){n=this.scaleValues[2],r=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(i.x+a*n,i.y+a*r),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[0]=p}}}}])&&Zn(e.prototype,o),l&&Zn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function or(t){"@babel/helpers - typeof";return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function nr(t,e){return(nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ir(t);if(e){var n=ir(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ir(t){return(ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23500=er;var ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rr(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);this.finish()}}}])&&lr(e.prototype,o),l&&lr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ur(t){"@babel/helpers - typeof";return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sr(t,e){return(sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pr(t);if(e){var n=Pr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pr(t){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23800=ar;var fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<3)){var e=[];(e=e.concat(t)).push(t[0]);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125),this.scaleValues.push(90)),!this.isEdit){var l=this.getSubSymbolScaleValue(o);this.scaleValues[2]=l}if(0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);else for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,e),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),u=new SuperMapAlgoPlot.Point(a.x+o*this.scaleValues[0],a.y+o*this.scaleValues[1]),p=o*this.scaleValues[2],s=this.scaleValues[3]-90;0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],u,p,s),this.addScalePoint(u);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,this.scaleValues[3]);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r,i=[];if(2==o.length){l=o[0],n=o[1];var a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),u=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI;r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,u+60),i.push(l),i.push(n),i.push(r)}else i=i.concat(o);l=i[0],n=i[1],r=i[2];SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(i);i.push(i[0]);var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),s=e;if(0==t)this.scaleValues[0]=e;else if(1==t){var c=this.scaleValues[0],P=SuperMapAlgoPlot.PlottingUtil.distance(c,s)/p;this.scaleValues[2]=P;var f=180*SuperMapAlgoPlot.PlottingUtil.radian(c,s)/Math.PI;this.scaleValues[3]=f}}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,l){var n,r,i=o[0],a=o[1],u=o[2],p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(u,i,a)*t,s=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,i,u)*e,c=[];if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,a,l)?((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!1)):((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!0)),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,u,l)?((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!1)):((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!0)),2>c.length||2>r.length)return l;var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],r[0],r[1]);return P.isIntersectLines?P.intersectPoint:l}}])&&pr(e.prototype,o),l&&pr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gr(t){"@babel/helpers - typeof";return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hr(t,e){return(hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=br(t);if(e){var n=br(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23901=fr;var Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Sr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,l,n,r=[];if(2==t.length){e=t[0],o=t[1];var i=SuperMapAlgoPlot.PlottingUtil.distance(e,o);n=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,l=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,i,i,n+60),r.push(e),r.push(l),r.push(o)}else r=r.concat(t);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r),r.push(r[0]);var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),u=this.scaleValues[0],p=this.scaleValues[1],s=this.scaleValues[2],c=this.scaleValues[4],P=a*u;e=r[0],o=r[1],l=r[2];var f,g=a*p,y=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(e,o,l)/Math.PI*s,h=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,S=h-y,b=h+y,A=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,S),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,g,g,b);f=SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(r,A)?A:d;var M=a*this.scaleValues[3];n=c,0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],f,M,n-90);var v=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,P,P,h+180);this.addScalePoint(v),this.addScalePoint(f);var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.5*M,.5*M,n);this.addScalePoint(m),this.createArcPts(r,P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r,i,a,u,p,s=[];2==o.length?(l=o[0],n=o[1],a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),i=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,i+60),s.push(l),s.push(n),s.push(r)):s=s.concat(o),l=s[0],n=s[1],r=s[2],s.push(s[0]);var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s),P=e;if(0===t)a=SuperMapAlgoPlot.PlottingUtil.distance(P,s[0]),this.scaleValues[0]=a/c;else if(1===t){u=SuperMapAlgoPlot.PlottingUtil.distance(P,s[0])/c,this.scaleValues[1]=u,i=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(l,n,r)/Math.PI,0<=(p=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(l,n,P)/Math.PI/i)&&1>=p&&(this.scaleValues[2]=p)}else if(2===t){u=this.scaleValues[1],p=this.scaleValues[2];var f,g=c*u,y=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(l,n,r)/Math.PI*p,h=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,S=h-y,b=h+y,A=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,g,g,S),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,g,g,b);f=SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(s,A)?A:d;var M=2*SuperMapAlgoPlot.PlottingUtil.distance(P,f)/c;this.scaleValues[3]=M;var v=180*SuperMapAlgoPlot.PlottingUtil.radian(f,P)/Math.PI;this.scaleValues[4]=v}}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,l){var n,r,i=o[0],a=o[1],u=o[2],p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(u,i,a)*t,s=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,i,u)*e,c=[];if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,a,l)?((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!1)):((n=[]).push(i),n.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(n,p,!0)),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,u,l)?((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!1)):((n=[]).push(i),n.push(u),r=SuperMapAlgoPlot.PlottingUtil.paraLine(n,s,!0)),2>c.length||2>r.length)return l;var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],r[0],r[1]);return P.isIntersectLines?P.intersectPoint:l}},{key:"createArcPts",value:function(t,e){for(var o=[],l=[],n=0;n<t.length;n++)l.push(e),o.push([{Start:0,End:360}]);for(var r=0;r<t.length;r++)if(0!==o[r].length&&(0!==o[r][0].Start||0!==o[r][0].End))for(var i=r+1;i<t.length;i++)if(0!==o[i].length&&(0!==o[i][0].Start||0!==o[i][0].End)){var a=SuperMapAlgoPlot.PlottingUtil.distance(t[r],t[i]);if(a<l[r]+l[i])if(a>Math.abs(l[r]-l[i]))for(var u=0;u<2;u++){var p,s,c;0==u?(c=r,p=SuperMapAlgoPlot.PlottingUtil.radian(t[r],t[i])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((a*a+l[r]*l[r]-l[i]*l[i])/(2*a*l[r]))*SuperMapAlgoPlot.PlottingUtil.RTOD):(c=i,p=SuperMapAlgoPlot.PlottingUtil.radian(t[i],t[r])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((a*a+l[i]*l[i]-l[r]*l[r])/(2*a*l[i]))*SuperMapAlgoPlot.PlottingUtil.RTOD);var P=p-s,f=p+s,g=P<0&&f>0||P>360||f>360;P=this.adjustAngle(P),f=this.adjustAngle(f);for(var y=o[c].length-1;y>=0;y--)if(g){if(f>o[c][y].End||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(f,o[c][y].End)){o[c].splice(y,1);continue}if(f>o[c][y].Start&&(o[c][y].Start=f),P<o[c][y].Start||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(P,o[c][y].Start)){o[c].splice(y,1);continue}P<o[c][y].End&&(o[c][y].End=P)}else if(P<o[c][y].Start&&f>o[c][y].End)o[c].splice(y,1);else if(P>o[c][y].Start&&f<o[c][y].End)o[c].push({Start:o[c][y].Start,End:P}),o[c].push({Start:f,End:o[c][y].End}),o[c].splice(y,1);else{if(P>o[c][y].End)continue;if(P>o[c][y].Start&&(o[c][y].End=P),f<o[c][y].Start)continue;f<o[c][y].End&&(o[c][y].Start=f)}}else{if(l[r]<l[i]){o[r][0].Start=0,o[r][0].End=0;break}o[i][0].Start=0,o[i][0].End=0}}for(var h=0;h<t.length;h++)if(0!==o[h].length&&(0!==o[h][0].Start||0!==o[h][0].End))for(var S=o[h].length-1;S>=0;S--){for(var b=this.adjustAngle(o[h][S].Start),A=this.adjustAngle(o[h][S].End);A<b;)A+=360;for(var d=[],M=(A-b)/72,v=b;v<A+M/2;v+=M){var m=t[h].x+l[h]*Math.cos(v*SuperMapAlgoPlot.PlottingUtil.DTOR),O=t[h].y+l[h]*Math.sin(v*SuperMapAlgoPlot.PlottingUtil.DTOR);d.push(new SuperMapAlgoPlot.Point(m,O))}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d)}}},{key:"adjustAngle",value:function(t){for(;t>360;)t-=360;for(;t<0;)t+=360;return t}},{key:"GetCirclePts",value:function(t,e,o,l){var n=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,r=180*SuperMapAlgoPlot.PlottingUtil.radian(t,o)/Math.PI,i=n;r>n&&(i=r);for(var a=[],u=i;u<360+i;u+=4)90==u&&(u=91),a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,l,l,u));return a.push[0],a}},{key:"CreatArc",value:function(t,e,o){for(var l=[],n=[],r=0;r<t.length;r++){var i=t[r];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,i)||SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,i)?(n.length>1&&l.push(n),n=[]):n.push(i)}n.length>1&&l.push(n);for(var a=0;a<l.length;a++){var u=l[a];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u)}}},{key:"GetArcPts3D",value:function(t,e,o){for(var l=[],n=[],r=0;r<t.length;r++){var i=t[r];SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(e,i)||SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,i)?(n.length>1&&l.push(n),n=[]):n.push(i)}n.length>1&&l.push(n);for(var a=[],u=0;u<l.length;u++)a=a.concat(l[u]);return a}},{key:"sortPts",value:function(t,e){t=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);for(var o=0;o<e.length;o++)for(var l=e[o],n=180*SuperMapAlgoPlot.PlottingUtil.radian(t,l)/Math.PI,r=0;r<e.length;r++){var i=e[r],a=180*SuperMapAlgoPlot.PlottingUtil.radian(t,i)/Math.PI;if(n>a){var u=new SuperMapAlgoPlot.Point(l.x,l.y);l=new SuperMapAlgoPlot.Point(i.x,i.y),i=new SuperMapAlgoPlot.Point(u.x,u.y),n=a,e[o]=l,e[r]=i}}return e}}])&&yr(e.prototype,o),l&&yr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function dr(t){"@babel/helpers - typeof";return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vr(t,e){return(vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Or(t);if(e){var n=Or(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Or(t){return(Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol23902=Ar;var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=mr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5)),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=e[0],r=e[1],i=e[e.length-2],a=e[e.length-1],u=o*this.scaleValues[0]*.6,p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,r,n),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,i,a),c=p.pntLeft,P=s.pntRight,f=[];f.push(n),f.push(c);for(var g=new SuperMapAlgoPlot.Point((n.x+c.x)/2,(n.y+c.y)/2),y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(f)/2,h=[],S=180*SuperMapAlgoPlot.PlottingUtil.radian(r,n)/Math.PI,b=360+S;b>=270+S;b-=3)h.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(g,y,y,b));var A=[];A.push(a),A.push(P);var d=[];d.push(a),d.push(P);for(var M=new SuperMapAlgoPlot.Point((a.x+P.x)/2,(a.y+P.y)/2),v=SuperMapAlgoPlot.PlottingUtil.polylineDistance(d)/2,m=[],O=180*SuperMapAlgoPlot.PlottingUtil.radian(a,P)/Math.PI,w=180+O;w>=90+O;w-=3)m.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(M,v,v,w));var U=[];U=(U=(U=U.concat(h)).concat(e)).concat(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U),this.finish()}}}])&&Mr(e.prototype,o),l&&Mr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ur(t){"@babel/helpers - typeof";return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vr(t,e){return(Vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jr(t);if(e){var n=jr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jr(t){return(jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28900=wr;var Rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Tr(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(.185)),!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[2]=n,this.scaleValues[0]=.5*this.scaleValues[2]}SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1]),SuperMapAlgoPlot.PlottingUtil.RTOD;for(var r=this.scaleValues[0]*l,i=this.scaleValues[1],a=this.scaleValues[2]*l,u=.5*r,p=(o-2*a-3*u)/2,s=a,c=0;c<3;c++){var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,s);if(-1==P.index)return;var f=s+u,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,f);if(-1==g.index)return;var y=[],h=[];if(y.push(P.pt),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[P.index].x,P.pt.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[P.index].y,P.pt.y)&&P.index+1<e.length){var S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[P.index+1],P.pt);0==i?y.push(S.pntRight):y.push(S.pntLeft)}else{S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[P.index],P.pt);0==i?y.push(S.pntLeft):y.push(S.pntRight)}h.push(g.pt);var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[g.index],g.pt);0==i?h.push(b.pntLeft):h.push(b.pntRight),s+=p+u,0==c&&(this.addScalePoint(y[1]),this.addScalePoint(y[0])),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h)}this.finish()}}},{key:"addLine",value:function(t){for(var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=0;o<t.length-2;o++){var l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.02*e,t);if(-1!==l.index){var n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*e,t);if(-1!==n.index){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.92*e,t);if(-1!==r.index&&(o===l.index||o===l.index+1||o===r.index||o===r.index+1||o===n.index||o===n.index+1)){var i=SuperMapAlgoPlot.PlottingUtil.radian(t[o+1],t[o])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[o+1],.02*e,.02*e,i+90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[o+1],a],{surroundLineLimit:!0,lineTypeLimit:!0})}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var r=n*this.scaleValues[2],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);if(-1==i.index)return;var a=SuperMapAlgoPlot.PlottingUtil.distance(i.pt,e)/n,u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[i.index],i.pt,e);this.scaleValues[1]=u?1:0,this.scaleValues[0]=a}else if(1==t){for(var p=-1,s=null,c=0,P=0;P<l.length-1;P++){var f;if((f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[P],l[P+1])).isOnline){var g=SuperMapAlgoPlot.PlottingUtil.distance(f.projectPoint,e);0==c?(c=g,p=P,s=f.projectPoint):g<c&&(c=g,p=P,s=f.projectPoint)}}if((g=SuperMapAlgoPlot.PlottingUtil.distance(e,l[0]))<c&&(c=g,p=0,s=l[0]),(g=SuperMapAlgoPlot.PlottingUtil.distance(e,l[l.length-1]))<c&&(c=g,p=l.length-1,s=l[l.length-1]),-1==p)return void(this.scaleValues[2]=0);for(var y=0,h=0;h<p;h++)y+=SuperMapAlgoPlot.PlottingUtil.distance(l[h],l[h+1]);var S=(y+=SuperMapAlgoPlot.PlottingUtil.distance(s,l[p]))/n;S>.7&&(S=.7),this.scaleValues[2]=S}}}}])&&Lr(e.prototype,o),l&&Lr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _r(t){"@babel/helpers - typeof";return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Er(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xr(t,e){return(xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cr(t);if(e){var n=Cr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29000=Rr;var Yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Br(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(l,o),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);for(var i=0;i<4;i++){var a=Math.floor(i*o.length/4),u=new SuperMapAlgoPlot.Point(o[a].x,o[a].y),p=new SuperMapAlgoPlot.Point(o[a+1].x,o[a+1].y),s=new SuperMapAlgoPlot.Point((u.x+p.x)/2,(u.y+p.y)/2),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=this.scaleValues[0]*e/2,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,P,P,c),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,4*P,4*P,c+270),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,P,P,c+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,g,y],{lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&Er(e.prototype,o),l&&Er(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ir(t){"@babel/helpers - typeof";return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Nr(t,e){return(Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zr(t);if(e){var n=zr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zr(t){return(zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29100=Yr;var Fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,l,n=kr(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(l,o),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);for(var i=0;i<4;i++){var a=i*(o.length-1)/4,u=new SuperMapAlgoPlot.Point(o[a].x,o[a].y),p=new SuperMapAlgoPlot.Point(o[a+1].x,o[a+1].y),s=new SuperMapAlgoPlot.Point((u.x+p.x)/2,(u.y+p.y)/2),c=SuperMapAlgoPlot.PlottingUtil.radian(s,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=this.scaleValues[0]*e/2,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,P,P,c),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,4*P,4*P,c+270),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,P,P,c+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,g,y],{surroundLineLimit:!0,lineTypeLimit:!0})}this.finish()}}}])&&Dr(e.prototype,o),l&&Dr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Wr(t){"@babel/helpers - typeof";return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jr(t,e){return(Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kr(t);if(e){var n=Kr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29101=Fr;var qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,l,n=Hr(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=[];l=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,l),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);for(var a=0;a<4;a++){var u=a*(l.length-1)/4,p=new SuperMapAlgoPlot.Point(l[u].x,l[u].y),s=new SuperMapAlgoPlot.Point(l[u+1].x,l[u+1].y),c=new SuperMapAlgoPlot.Point((p.x+s.x)/2,(p.y+s.y)/2),P=180*SuperMapAlgoPlot.PlottingUtil.radian(c,s)/Math.PI,f=e*this.scaleValues[0]/2,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,f,f,P),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,4*f,4*f,P+270),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,f,f,P+180);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[g,y,h],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&Gr(e.prototype,o),l&&Gr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qr(t){"@babel/helpers - typeof";return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zr(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xr(t,e){return(Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ti(t);if(e){var n=ti(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29103=qr;var ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xr(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=$r(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=Math.max(this.subSymbols[0].symbolData.symbolSize.x,this.subSymbols[0].symbolData.symbolSize.y);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=100*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o,s=new SuperMapAlgoPlot.Point((a.pts.x+i.pts.x)/2,(i.pts.y+a.pts.y)/2);if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],s,p,u),i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(3===t&&null==r.pt&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(n);a.splice(0,r.index+1),a.unshift(r.pt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);i<u&&(u=i),this.scaleValues[t+1]=(i-u)/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&Zr(e.prototype,o),l&&Zr(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oi(t){"@babel/helpers - typeof";return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function li(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ni(t,e){return(ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ii(t);if(e){var n=ii(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25200=ei;var ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ni(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ri(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.222222),e.scaleValues.push(.5),e.scaleValues.push(.5),e.scaleValues.push(.5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.222222),this.scaleValues.push(.5),this.scaleValues.push(.5),this.scaleValues.push(.5));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o),S=[];S.push(r),S.push(p),S.push(f),S.push(y),S.push(g),S.push(s),S.push(i);for(var b=[],A=0;A<S.length;A++){var d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[A],h*SuperMapAlgoPlot.PlottingUtil.RTOD);b.push(d)}for(var M=[],v=b.length-1;v>=0;--v)M.push(b[v]);for(var m=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(m,[M[0],M[1]]),w=0;w<O.length;w++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[w]);m=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(m,[M[M.length-1],M[M.length-2]]);for(var U=0;U<O.length;U++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[U].reverse());for(var L=[],V=1;V<M.length-1;V++)L.push(M[V]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),this.scalePoints=[];var T=b[0].clone();T.isScalePoint=!0,T.tag=0,this.scalePoints.push(T);var j=b[1].clone();j.isScalePoint=!0,j.tag=1,this.scalePoints.push(j);var R=b[2].clone();R.isScalePoint=!0,R.tag=2,this.scalePoints.push(R),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&li(e.prototype,o),l&&li(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ui(t){"@babel/helpers - typeof";return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function si(t,e){return(si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ci(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pi(t);if(e){var n=Pi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25000=ai;var fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&si(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ci(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.025)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[1]=l,this.scaleValues[2]=.6*l}this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(.025));var n=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),r=this.getLinePts(e,this.scaleValues[2],this.scaleValues[0]),i=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt),a=e[0],u=e[1],p=e[e.length-2],s=e[e.length-1],c=o*this.scaleValues[2],P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,u,a),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(c,p,s),g=P.pntLeft,y=f.pntLeft,h=[];h.push(s),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=[];S.push(g),S.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var b=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),A=[];A.push(0),A.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.startPt)/b),A.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.endPt)/b),A.push(1);for(var d=this.mergeDashLine(this.dashLines,A),M=this.computeDashLine(d,e),v=0;v<M.length;v++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M[v]);var m=[],O=[];m.push(g);for(var w=0;w<=r.startIndex;w++)m.push(e[w]);if(m.push(r.startPt),r.endIndex<=e.length){O.push(r.endPt);for(var U=r.endIndex+1;U<=e.length-1;U++)O.push(e[U]);O.push(y)}new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2);var L=SuperMapAlgoPlot.PlottingUtil.dirAngle(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,V=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt),T=SuperMapAlgoPlot.PlottingUtil.dirAngle(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,j=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),R=new SuperMapAlgoPlot.Point(-.5*V,0),_=new SuperMapAlgoPlot.Point(.1*V,0),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,R,T),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,_,T),B=[];B.push(E),B.push(x);var C={surroundLineFlag:!1,lineTypeLimit:!0,fillLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,C);var Y=new SuperMapAlgoPlot.Point(-.3*V,0),I=SuperMapAlgoPlot.PlottingUtil.circlePoint(Y,-.3*V,-.3*V,135),D=SuperMapAlgoPlot.PlottingUtil.circlePoint(Y,-.3*V,-.3*V,225),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,Y,T),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,I,T),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,D,T);(B=[]).push(k),B.push(N),B.push(z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,C);var F=new SuperMapAlgoPlot.Point(.1*V,0),W=new SuperMapAlgoPlot.Point(.5*V,-.2*V),G=new SuperMapAlgoPlot.Point(.5*V,.2*V),J=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,F,T),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,W,T),K=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,G,T);(B=[]).push(J),B.push(H),B.push(K),B.push(J),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,C);var q=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],e),Q=SuperMapAlgoPlot.PlottingUtil.circlePoint(q.pts,.5*i,.5*i,L+90);this.addScalePoint(q.pts,0),this.addScalePoint(Q,0),this.addScalePoint(g,0),this.addScalePoint(y,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(!0===e.isScalePoint&&1===t){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[0],l),i=SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;i>=.3&&(i=.3),this.scaleValues[0]<i||this.scaleValues[0]>1-i?(this.scaleValues[0]<i?this.scaleValues[0]=i:this.scaleValues[0]=1-i,this.scaleValues[1]=i):this.scaleValues[1]=i}else if(0===t){for(var a=0,u=-1,p=null,s=0;s<l.length-1;s++){var c;(c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[s],l[s+1])).isOnline&&(0===a||SuperMapAlgoPlot.PlottingUtil.distance(c.projectPoint,e)<a)&&(p=c,u=s,a=SuperMapAlgoPlot.PlottingUtil.distance(e,c.projectPoint))}if(-1==u)return;var P=[];for(s=0;s<u+1;s++)P.push(l[s]);P.push(new SuperMapAlgoPlot.Point(p.projectPoint.x,p.projectPoint.y));var f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P)/n,g=this.scaleValues[1];f<g&&(f=g),f>1-g&&(f=1-g),this.scaleValues[0]=f}else if(2==t){var y=SuperMapAlgoPlot.PlottingUtil.distance(e,l[0])/n;this.scaleValues[2]=y}else if(3==t){y=SuperMapAlgoPlot.PlottingUtil.distance(e,l[l.length-1])/n;this.scaleValues[2]=y}}}}])&&pi(e.prototype,o),l&&pi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gi(t){"@babel/helpers - typeof";return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hi(t,e){return(hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bi(t);if(e){var n=bi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bi(t){return(bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25400=fi;var Ai=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Si(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(-1.5)),e.arrowHeadType=SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){this.scaleValues=[];for(var e=0;e<t.length;e++)this.scaleValues.splice(e,0,0);var o=this.getSubSymbolScaleValue();this.scaleValues[t.length]=.8*o,this.scaleValues[t.length+1]=o,this.scaleValues[t.length+2]=-1.5;var l=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[t.length+3]=l,this.scaleValues[t.length+4]=o,this.arrowHeadType=3}this.isEdit&&this.scaleValues.length===t.length+3&&(this.scaleValues[t.length+3]=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),this.scaleValues[t.length+4]=.05);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=n*this.scaleValues[this.scaleValues.length-1],i=n*this.scaleValues[this.scaleValues.length-2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i-.5*r);if(-1!==a.index){var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i+.5*r);if(-1!==u.index){var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,i).pt,s=SuperMapAlgoPlot.PlottingUtil.radian(a.pt,u.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD;0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],p,.6*r,s);for(var c=[],P=[],f=0;f<=a.index;f++)c.push(t[f]);c.push(a.pt),P.push(u.pt);for(var g=a.index+1;g<=t.length-1;g++)P.push(t[g]);var y,h,S,b=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),A=this.scaleValues.length,d=b*this.scaleValues[A-5]*.2,M=this.scaleValues[0];if(0===M)y=(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[1],t[0])).pntRight;else if(1===M)y=(h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[1],t[0])).pntLeft;else{if(2!==M)return;y=t[0]}var v,m,O,w,U=[];U.push(y);for(var L=0;L<=a.index;L++)U.push(t[L]);if(U.push(a.pt),this.addScalePoint(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U),t.length>this.minEditPts){for(var V,T,j,R,_,E=1;E<t.length-1;E++){var x,B,C,Y=this.scaleValues[E];if(0===Y){for(V=t[E],B=t[E+1],C=t[E-1],T=180*SuperMapAlgoPlot.PlottingUtil.radian(V,B)/Math.PI,j=180*SuperMapAlgoPlot.PlottingUtil.radian(V,C)/Math.PI-T;j<0;)j+=360;R=j/2,_=t[E+1].clone(),_=SuperMapAlgoPlot.PlottingUtil.rotateAngle(V,R*Math.PI/180,_),x=SuperMapAlgoPlot.PlottingUtil.linePnt(V,_,d)}else if(1===Y){for(V=t[E],B=t[E+1],C=t[E-1],T=180*SuperMapAlgoPlot.PlottingUtil.radian(V,B)/Math.PI,j=180*SuperMapAlgoPlot.PlottingUtil.radian(V,C)/Math.PI-T;j<0;)j+=360;R=180-j/2,_=t[E-1].clone(),_=SuperMapAlgoPlot.PlottingUtil.rotateAngle(V,R*Math.PI/180,_),x=SuperMapAlgoPlot.PlottingUtil.linePnt(V,_,d)}else{if(2!==Y)continue;x=t[E]}(v=[]).push(t[E]),v.push(x),this.addScalePoint(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0})}var I=t.length,D=this.scaleValues[I-1];if(0===D)m=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[I-2],t[I-1])).pntLeft,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,t[I-2],t[I-1]).pntLeft;else if(1===D)m=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[I-2],t[I-1])).pntRight,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,t[I-2],t[I-1]).pntRight;else{if(2!==D)return;m=t[I-1].clone(),O=t[I-1].clone()}(v=[]).push(u.pt);for(var N=a.index+1;N<=t.length-1;N++)v.push(t[N]);v.push(m),this.addScalePoint(m),this.addScalePoint(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}else{var k=this.scaleValues[1];if(0===k)m=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[0],t[1])).pntLeft,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,t[0],t[1]).pntLeft;else if(1===k)m=(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,t[0],t[1])).pntRight,O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,t[0],t[1]).pntRight;else{if(2!==k)return;m=t[1].clone(),O=t[1].clone()}(v=[]).push(u.pt);for(var z=a.index+1;z<=t.length-1;z++)v.push(t[z]);v.push(m),this.addScalePoint(m),this.addScalePoint(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}var F=this.scaleValues.length,W=this.scaleValues[F-4],G=Math.abs(b*W),J=this.scaleValues[F-3],H=5*Math.abs(d*J);if(-1!==(h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,G)).index){var K=h.index,q=h.pt;w=J>=0?(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(H,t[K],q)).pntRight:(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(H,t[K],q)).pntLeft;var Q=SuperMapAlgoPlot.PlottingUtil.linePnt(q,w,H),Z=.3*H,X=SuperMapAlgoPlot.PlottingUtil.linePnt(Q,q,Z);(S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*Z,Q,X)).pntLeft,S.pntRight;(v=[]).push(Q),v.push(q),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineLimit:!0,lineTypeLimit:!0});var $=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(v,.3*H,this.arrowHeadType),tt=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL;this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW||(tt=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL);this.addCell(tt,$,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.addScalePoint(Q),this.addScalePoint(p);var et=SuperMapAlgoPlot.PlottingUtil.radian(a.pt,u.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,ot=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,.5*r,.5*r,et);this.addScalePoint(ot),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n,r,i,a,u,p,s,c,P,f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),g=o.length,y=e;if(t>=0&&t<g){var h=!1;if(0==t)h=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],y);else if(t==g-1)h=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],y);else{var S=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],o[t+1]),b=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],y);if(S!=b)h=b;else{var A=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],y);h=A==b?b:A}}this.scaleValues[t]=h?1:0}else if(t==g){l=SuperMapAlgoPlot.PlottingUtil.distance(o[g-1],y);var d=(l/=2)/f/.2;this.scaleValues[t]=d}else if(t===g+1){n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0);for(var M=0;M<o.length-1;M++)(a=[]).push(o[M]),a.push(o[M+1]),p=SuperMapAlgoPlot.PlottingUtil.projectPoint(y,o[M],o[M+1]),(u=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(p,a)).isOnPolyLine&&(P=SuperMapAlgoPlot.PlottingUtil.distance(y,p),-1==n?(n=M,i=p,r=P):r>P&&(n=M,i=p,r=P));if(-1==n||n>o.length-1)return;s=0;for(var v=0;v<n;v++){var m=o[v],O=o[v+1];s+=SuperMapAlgoPlot.PlottingUtil.distance(m,O)}if(c=o[n],(s+=SuperMapAlgoPlot.PlottingUtil.distance(c,i))<0||s>f)return;var w=s/f;this.scaleValues[g+1]=w;var U,L=this.scaleValues.length;l=f*this.scaleValues[L-5],U=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[n],o[n+1],y)?r/l:-Math.abs(r/l),this.scaleValues[g+2]=U}else if(t===g+2){n=-1,r=0,i=new SuperMapAlgoPlot.Point(0,0);for(var V=0;V<o.length-1;V++)(a=[]).push(o[V]),a.push(o[V+1]),p=SuperMapAlgoPlot.PlottingUtil.projectPoint(y,o[V],o[V+1]),(u=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(p,a)).isOnPolyLine&&(P=SuperMapAlgoPlot.PlottingUtil.distance(y,p),-1===n?(n=V,i=p,r=P):r>P&&(n=V,i=p,r=P));if(-1===n||n>o.length-1)return;s=0;for(var T=0;T<n;T++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[T],o[T+1]);if(c=o[n],(s+=SuperMapAlgoPlot.PlottingUtil.distance(c,i))<0||s>f)return;.1*f<s&&.9*f>s&&(this.scaleValues[this.scaleValues.length-2]=s/f)}else if(t===g+3){var j=this.scaleValues[this.scaleValues.length-2]*f;if(-1===(u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,j)).index)return;var R=2*SuperMapAlgoPlot.PlottingUtil.distance(u.pt,e)/f;R>.15&&(R=.15),this.scaleValues[this.scaleValues.length-1]=R}}}}])&&yi(e.prototype,o),l&&yi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function di(t){"@babel/helpers - typeof";return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vi(t,e){return(vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Oi(t);if(e){var n=Oi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Oi(t){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26400=Ai;var wi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=mi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,r/2);if(-1!==i.index){var a=i.pt,u=this.getDefaultSubSymbolSize()/r;(u>.3||u<=0)&&(u=.3),this.scaleValues[0]=u;var p=1.5*this.scaleValues[0]*r,s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,e[i.index],a),c=[];c.push(s.pntLeft),c.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,null,!0),this.finish()}}}}])&&Mi(e.prototype,o),l&&Mi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ui(t){"@babel/helpers - typeof";return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Li(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vi(t,e){return(Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ti(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ji(t);if(e){var n=ji(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ji(t){return(ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26500=wi;var Ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ti(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length?(this.scaleValues[0]=.5,this.scaleValues[1]=.05,this.scaleValues[2]=.025):1===this.scaleValues.length&&(this.scaleValues[1]=.05,this.scaleValues[2]=.025),!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.dirAngle(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,a,i);var u=[];u.push(0),u.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.startPt)/o),u.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,n.endPt)/o),u.push(1);var p=this.mergeDashLine(this.dashLines,u),s=this.computeDashLine(p,e);s[0].unshift(A),s.length-1>=0&&s[s.length-1].push(d);for(var c=0;c<s.length;c++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s[c]);var P=.3*a,f=e[0],g=e[1],y=e[e.length-2],h=e[e.length-1],S=(this.scaleValues[2],SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,g,f)),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(P,y,h),A=S.pntLeft,d=b.pntLeft,M=[];M.push(A),M=M.concat(s[0]);var v=[];(v=v.concat(s[s.length-1])).push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v);var m=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(m.pts,.5*o*this.scaleValues[0]/2,.5*o*this.scaleValues[0]/2,i);this.addScalePoint(O,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(!0===e.isScalePoint&&0===t){var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.5*n),i=4*SuperMapAlgoPlot.PlottingUtil.distance(e,r.pt)/n;i>.5&&(i=.5),this.scaleValues[0]=i}}}}])&&Li(e.prototype,o),l&&Li(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _i(t){"@babel/helpers - typeof";return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ei(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xi(t,e){return(xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ci(t);if(e){var n=Ci(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ci(t){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26502=Ri;var Yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bi(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);var o=[];o.push(0),o.push(.3),o.push(.35),o.push(.65),o.push(.7),o.push(1);for(var l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);this.finish()}}}])&&Ei(e.prototype,o),l&&Ei(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ii(t){"@babel/helpers - typeof";return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Di(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ni(t,e){return(Ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ki(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zi(t);if(e){var n=zi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ii(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zi(t){return(zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26600=Yi;var Fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ni(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ki(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.01),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(o));var l=[];l.push(0),l.push(.3),l.push(.35),l.push(.65),l.push(.7),l.push(1);for(var n,r,i=this.computeDashLine(l,e),a=o*this.scaleValues[0],u=0;u<i.length;u++)n=SuperMapAlgoPlot.PlottingUtil.paraLine(i[u],a,!0),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),r=SuperMapAlgoPlot.PlottingUtil.paraLine(i[u],a,!1),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);this.finish()}}}])&&Di(e.prototype,o),l&&Di(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Wi(t){"@babel/helpers - typeof";return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ji(t,e){return(Ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ki(t);if(e){var n=Ki(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ki(t){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol26601=Fi;var qi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ji(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hi(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.349066)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,l,n,r,i,a,u=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,p=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),s=new SuperMapAlgoPlot.Point(t[t.length-1].x,t[t.length-1].y),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=new SuperMapAlgoPlot.Point(0,0);if(2<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),l=SuperMapAlgoPlot.PlottingUtil.distance(p,o),n=0,n=c-u;n<c+u;n+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,c+u)&&(n=c+u,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n))),(r=[]).push(t[0]);for(var f=e.length-1;f>=0;f--)r.push(new SuperMapAlgoPlot.Point(e[f].x,e[f].y));r.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,c),P=new SuperMapAlgoPlot.Point(i.x,i.y),(a=[]).push(t[0]),a.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}var g=new SuperMapAlgoPlot.Point(0,0);if(3<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[2].x,t[2].y),l=SuperMapAlgoPlot.PlottingUtil.distance(p,o),n=0,n=c-u;n<c+u;n+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,c+u)&&(n=c+u,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n)));var y=[];if(0==e.length)return void(y.length>0&&(y=[]));(r=[]).push(t[0]);for(var h=e.length-1;h>=0;h--)r.push(new SuperMapAlgoPlot.Point(e[h].x,e[h].y));r.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});for(var S=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),b=SuperMapAlgoPlot.PlottingUtil.distance(p,S)*this.scaleValues[0],A=[],d=90;d<=270;d+=3)A.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,b,b,c+d));r=[];for(var M=A.length-1;M>=0;M--)r.push(new SuperMapAlgoPlot.Point(A[M].x,A[M].y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),(r=[]).push(new SuperMapAlgoPlot.Point(A[0].x,A[0].y)),r.push(new SuperMapAlgoPlot.Point(e[e.length-1].x,e[e.length-1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),(r=[]).push(new SuperMapAlgoPlot.Point(e[0].x,e[0].y)),r.push(new SuperMapAlgoPlot.Point(A[A.length-1].x,A[A.length-1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,c),g=new SuperMapAlgoPlot.Point(i.x,i.y),(a=[]).push(P),a.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}var v=new SuperMapAlgoPlot.Point(0,0);if(4<=t.length){for(e=[],o=new SuperMapAlgoPlot.Point(t[3].x,t[3].y),l=SuperMapAlgoPlot.PlottingUtil.distance(p,o),n=0,n=c-u;n<=c+u;n+=3)e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n));SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,c+u)&&(n=c+u,e.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,n))),(r=[]).push(t[0]);for(var m=e.length-1;m>=0;m--)r.push(new SuperMapAlgoPlot.Point(e[m].x,e[m].y));r.push(t[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER}),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,l,l,c),v=new SuperMapAlgoPlot.Point(i.x,i.y),(a=[]).push(g),a.push(v),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a,{surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER})}if(3>t.length)this.addScalePoint(t[0]);else{var O=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],w=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,O,O,c+180);this.addScalePoint(w,0)}var U=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1]),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,U,U,c+u);this.addScalePoint(L,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o,l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),0==t){if(3>l.length)return;var n=new SuperMapAlgoPlot.Point(l[0].x,l[0].y),r=new SuperMapAlgoPlot.Point(e.x,e.y),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r),a=new SuperMapAlgoPlot.Point(l[1].x,l[1].y);if((o=i/SuperMapAlgoPlot.PlottingUtil.distance(n,a))>=2.5)return;this.scaleValues[0]=o}else if(1==t){var u=new SuperMapAlgoPlot.Point(l[0].x,l[0].y),p=new SuperMapAlgoPlot.Point(l[l.length-1].x,l[l.length-1].y),s=SuperMapAlgoPlot.PlottingUtil.radian(u,p),c=new SuperMapAlgoPlot.Point(e.x,e.y);if(o=SuperMapAlgoPlot.PlottingUtil.radian(u,c)-s,(o=Math.abs(o))>Math.PI/2&&o<3*Math.PI/2)return;o>3*Math.PI/2&&o<=2*Math.PI&&(o=2*Math.PI-o),this.scaleValues[1]=Math.abs(o)}}}}])&&Gi(e.prototype,o),l&&Gi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qi(t){"@babel/helpers - typeof";return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xi(t,e){return(Xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ta(t);if(e){var n=ta(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ta(t){return(ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28000=qi;var ea=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xi(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$i(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(.349066)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),o=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),l=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,n=0,r=0;r<t.length-1;r++)n+=SuperMapAlgoPlot.PlottingUtil.distance(e,o);var i={surroundLineFlag:!1,lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER},a=this.scaleValues[0]*n;this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[e,new SuperMapAlgoPlot.Point(e.x+a,e.y)],i);var u=180*this.scaleValues[1]/Math.PI,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,n,n,l-u),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,n,n,l+u);this.addCell(SuperMapAlgoPlot.SymbolType.ARCSYMBOL,[p,o,s],i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[t[0],t[1]],i);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,l-90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,c],i);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,l+90);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,s],i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c,P],i);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,a,a,l+180);this.addScalePoint(new SuperMapAlgoPlot.Point(f.x,f.y),0),this.addScalePoint(s,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.distance(l,n);if(0===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(l,e)/i;this.scaleValues[0]=a}if(1===t){var u=180*SuperMapAlgoPlot.PlottingUtil.radian(l,e)/Math.PI,p=Math.abs(u-r);if(p>270&&p<360&&(p=360-p),p>90)return;this.scaleValues[1]=p*Math.PI/180}}}}])&&Zi(e.prototype,o),l&&Zi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oa(t){"@babel/helpers - typeof";return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function la(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function na(t,e){return(na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ra(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ia(t);if(e){var n=ia(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28100=ea;var aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&na(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ra(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER},l=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(l,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r],o);this.finish()}}}])&&la(e.prototype,o),l&&la(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ua(t){"@babel/helpers - typeof";return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pa(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sa(t,e){return(sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ca(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pa(t);if(e){var n=Pa(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pa(t){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28200=aa;var fa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sa(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ca(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var a=r*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,a,0),this.scalePoints=[];var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,a,a,0);this.addScalePoint(u),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=[];l=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/n;this.scaleValues[0]=i}}}}])&&pa(e.prototype,o),l&&pa(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ga(t){"@babel/helpers - typeof";return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ya(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ha(t,e){return(ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ba(t);if(e){var n=ba(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ga(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ba(t){return(ba=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28300=fa;var Aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ha(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Sa(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.3),this.scaleValues.push(1)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var e,o,l=t[0].clone(),n=t[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.distance(l,n),i=this.scaleValues[0],a=this.scaleValues[1];if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(1,a))e=SuperMapAlgoPlot.PlottingUtil.radian(l,n)+270*SuperMapAlgoPlot.PlottingUtil.DTOR;else e=SuperMapAlgoPlot.PlottingUtil.radian(l,n)+90*SuperMapAlgoPlot.PlottingUtil.DTOR,o=l,l=n,n=o;var u=r*i*.67,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,u,u,e*SuperMapAlgoPlot.PlottingUtil.RTOD);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,r*i,e*SuperMapAlgoPlot.PlottingUtil.RTOD);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,u,u,e*SuperMapAlgoPlot.PlottingUtil.RTOD);this.subSymbols.length>1&&this.computeSubSymbol(this.subSymbols[1],s,r*i,e*SuperMapAlgoPlot.PlottingUtil.RTOD),this.scalePoints=[];var c=e*SuperMapAlgoPlot.PlottingUtil.RTOD,P=r*i,f=t[0].clone(),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,P,P,c);this.addScalePoint(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o))[0].clone(),n=o[1].clone(),r=e.clone(),i=SuperMapAlgoPlot.PlottingUtil.distance(l,n),a=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(r,l,n)/i;if(a<0||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0))return;this.scaleValues[0]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l,n,r)?this.scaleValues[1]=1:this.scaleValues[1]=0}}}])&&ya(e.prototype,o),l&&ya(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function da(t){"@babel/helpers - typeof";return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ma(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function va(t,e){return(va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ma(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Oa(t);if(e){var n=Oa(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===da(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Oa(t){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol28301=Aa;var wa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&va(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=ma(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),10!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.4),e.scaleValues.push(.4),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(1),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var l,n,r=e*this.scaleValues[4],i=e*this.scaleValues[5],a=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),u=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],a+i);l=0===this.scaleValues[8]?SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[1],u).pntRight:SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,t[1],u).pntLeft;var p=e*this.scaleValues[6],s=e*this.scaleValues[7],c=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],a+s);n=0===this.scaleValues[9]?SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],c).pntLeft:SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],c).pntRight;var P=[];P.push(new SuperMapAlgoPlot.Point(l.x,l.y)),P.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),P.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y)),P.push(new SuperMapAlgoPlot.Point(n.x,n.y));var f=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(P);f=SuperMapAlgoPlot.PlottingUtil.clearSamePts(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.addScalePoint(l,3),this.addScalePoint(n,4),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]);if(t<=2&&SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments),3===t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,i=SuperMapAlgoPlot.PlottingUtil.distance(n,o[0])/l;this.scaleValues[4]=r,this.scaleValues[5]=i,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[8]=1:this.scaleValues[8]=0}if(4===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,u=SuperMapAlgoPlot.PlottingUtil.distance(n,o[1])/l;this.scaleValues[6]=a,this.scaleValues[7]=u,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[9]=1:this.scaleValues[9]=0}}}}])&&Ma(e.prototype,o),l&&Ma(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ua(t){"@babel/helpers - typeof";return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function La(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Va(t,e){return(Va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ta(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ja(t);if(e){var n=ja(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ja(t){return(ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29800=wa;var Ra=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Va(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ta(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);for(var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,l),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);var a=e*this.scaleValues[0],u=180*this.scaleValues[1]/Math.PI;if(!this.isEdit){var p=this.getSubSymbolScaleValue();this.scaleValues[2]=p}var s=e*this.scaleValues[2],c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,a);if(-1!==c.index){var P=c.pt,f=new SuperMapAlgoPlot.Point(l[c.index].x,l[c.index].y),g=new SuperMapAlgoPlot.Point(l[c.index+1].x,l[c.index+1].y),y=SuperMapAlgoPlot.PlottingUtil.radian(f,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,s,s,y+u);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,h],{surroundLineLimit:!0,lineTypeLimit:!0});var S=SuperMapAlgoPlot.PlottingUtil.dirAngle(P,h)*SuperMapAlgoPlot.PlottingUtil.RTOD,b=SuperMapAlgoPlot.PlottingUtil.findPoint(h,P,.15*s,0),A=new SuperMapAlgoPlot.Point(-.2*s,.05*s),d=new SuperMapAlgoPlot.Point(-.2*s,-.05*s),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(h,A,S),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(h,d,S);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[M,h,v,b],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(P,0),this.addScalePoint(h,0),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var i=-1,a=0,u=new SuperMapAlgoPlot.Point(0,0),p=0;p<l.length-1;p++){var s=[];s.push(l[p]),s.push(l[p+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[p],l[p+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,s).index){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,c);-1==i?(i=p,u=c,a=P):a>P&&(i=p,u=c,a=P)}}if(-1==i||i>l.length-1)return;n=0;for(var f=0;f<i;f++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[i],u))<0||n>r)return;var g=n/r;this.scaleValues[0]=g}else if(1===t){var y=r*this.scaleValues[0],h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,y);if(-1===h.index)return;var S=h.pt,b=l[h.index],A=l[h.index+1],d=SuperMapAlgoPlot.PlottingUtil.radian(b,A),M=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-d;this.scaleValues[1]=M;var v=(n=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/r;this.scaleValues[2]=v}}}}])&&La(e.prototype,o),l&&La(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _a(t){"@babel/helpers - typeof";return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ea(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xa(t,e){return(xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ca(t);if(e){var n=Ca(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ca(t){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30000=Ra;var Ya=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xa(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ba(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.4)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.2||l<=0)&&(l=.2),this.scaleValues[2]=l,this.scaleValues[4]=l}var n=o*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI,i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==a.index){var u=a.pt,p=new SuperMapAlgoPlot.Point(e[a.index].x,e[a.index].y),s=new SuperMapAlgoPlot.Point(e[a.index+1].x,e[a.index+1].y),c=SuperMapAlgoPlot.PlottingUtil.dirAngle(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,P],{surroundLineLimit:!0,lineTypeLimit:!0});var f=SuperMapAlgoPlot.PlottingUtil.dirAngle(u,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.findPoint(P,u,.15*i,0),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f-157.5),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f+157.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[y,P,h,g],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var S=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,y,h),b=[];b.push(u),b.push(S);var A=SuperMapAlgoPlot.PlottingUtil.polylineDistance(b),d=A*this.scaleValues[5],M=A*this.scaleValues[0],v=(u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(b,M).pt,f);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],u,d,v);d=4.5*(m=o*this.scaleValues[4])*Math.sin(Math.PI/8);var m=4.5*(d=o*this.scaleValues[4])*Math.sin(Math.PI/8),O=t[0],w=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,m);if(-1!=w.index){var U=SuperMapAlgoPlot.PlottingUtil.distance(O,w.pt);U*=.5;var L=new SuperMapAlgoPlot.Point(.5*U,0),V=new SuperMapAlgoPlot.Point(0,U),T=new SuperMapAlgoPlot.Point(-.5*U,0),j=new SuperMapAlgoPlot.Point(0,-U),R=SuperMapAlgoPlot.PlottingUtil.dirAngle(O,w.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,L,R),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,V,R),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,T,R),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(O,j,R);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[_,E,x,B,_],{surroundLineLimit:!0,lineTypeLimit:!0});var C=t[t.length-1],Y=o-m,I=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,Y);if(-1!=I.index){var D=SuperMapAlgoPlot.PlottingUtil.distance(C,I.pt);D*=.5;var N=new SuperMapAlgoPlot.Point(.5*D,0),k=new SuperMapAlgoPlot.Point(0,D),z=new SuperMapAlgoPlot.Point(-.5*D,0),F=new SuperMapAlgoPlot.Point(0,-D),W=SuperMapAlgoPlot.PlottingUtil.dirAngle(C,I.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD,G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,N,W),J=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,k,W),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,z,W),K=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(C,F,W);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[G,J,H,K,G],{surroundLineLimit:!0,lineTypeLimit:!0});var q=[];if(q.push(_),2!=e.length)for(var Q=w.index;Q<I.index;Q++)q.push(e[Q]);q.push(G);for(var Z=this.mergeDashLine(this.dashLines,[]),X=this.computeDashLine(Z,q),$=0;$<X.length;$++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,X[$]);this.addScalePoint(a.pt),this.addScalePoint(P),this.addScalePoint(x),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var i=-1,a=0,u=new SuperMapAlgoPlot.Point(0,0),p=0;p<l.length-1;p++){var s=[];s.push(l[p]),s.push(l[p+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[p],l[p+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,s).index){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,c);isNaN(P)||(-1==i?(i=p,u=c,a=P):a>P&&(i=p,u=c,a=P))}}if(-1===i||i>l.length-1)return;n=0;for(var f=0;f<i;f++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[i],u))<0||n>r)return;var g=n/r;this.scaleValues[0]=g}else if(1===t){var y=r*this.scaleValues[0],h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,y);if(-1===h.index)return;var S=h.pt,b=l[h.index],A=l[h.index+1],d=SuperMapAlgoPlot.PlottingUtil.radian(b,A),M=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-d;this.scaleValues[1]=M;var v=(n=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/r;this.scaleValues[2]=v}else if(2===t){var m=2*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/r;m>.35&&(m=.35),this.scaleValues[4]=m}}}},{key:"getLeftSubSymbolPts",value:function(t){var e=.25*t,o=[],l=new SuperMapAlgoPlot.Point(0,0),n=new SuperMapAlgoPlot.Point(e,-2*e),r=new SuperMapAlgoPlot.Point(2*e,0),i=new SuperMapAlgoPlot.Point(e,2*e);return o.push(l),o.push(n),o.push(r),o.push(i),o.push(l),o}},{key:"getRightSubSymbolPts",value:function(t){return this.getLeftSubSymbolPts(t)}}])&&Ea(e.prototype,o),l&&Ea(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ia(t){"@babel/helpers - typeof";return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Da(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Na(t,e){return(Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ka(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=za(t);if(e){var n=za(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function za(t){return(za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30001=Ya;var Fa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Na(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ka(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.2||l<=0)&&(l=.2),this.scaleValues[2]=l,this.scaleValues[4]=l}var n=o*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI,i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==a.index){var u=a.pt,p=new SuperMapAlgoPlot.Point(e[a.index].x,e[a.index].y),s=new SuperMapAlgoPlot.Point(e[a.index+1].x,e[a.index+1].y),c=180*SuperMapAlgoPlot.PlottingUtil.radian(p,s)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,P],{surroundLineLimit:!0,lineTypeLimit:!0});var f=180*SuperMapAlgoPlot.PlottingUtil.radian(u,P)/Math.PI,g=SuperMapAlgoPlot.PlottingUtil.findPoint(P,u,.15*i,0),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f-157.5),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*i,.2*i,f+157.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[y,P,h,g],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var S=4.5*(o*this.scaleValues[4])*Math.sin(Math.PI/8),b=t[0],A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,S);if(-1!=A.index){var d=SuperMapAlgoPlot.PlottingUtil.distance(b,A.pt);d*=.5;var M=new SuperMapAlgoPlot.Point(.5*d,0),v=new SuperMapAlgoPlot.Point(0,d),m=new SuperMapAlgoPlot.Point(-.5*d,0),O=new SuperMapAlgoPlot.Point(0,-d),w=SuperMapAlgoPlot.PlottingUtil.dirAngle(b,A.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD,U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(b,M,w),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(b,v,w),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(b,m,w),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(b,O,w);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[U,L,V,T],{surroundLineLimit:!0,lineTypeLimit:!0});var j=t[t.length-1],R=o-S,_=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,R);if(-1!=_.index){S*=.5;var E=new SuperMapAlgoPlot.Point(.5*S,S),x=new SuperMapAlgoPlot.Point(.5*S,0),B=new SuperMapAlgoPlot.Point(.5*S,-.5*S),C=new SuperMapAlgoPlot.Point(-.5*S,-S),Y=new SuperMapAlgoPlot.Point(-.5*S,S),I=SuperMapAlgoPlot.PlottingUtil.dirAngle(j,_.pt)*SuperMapAlgoPlot.PlottingUtil.RTOD,D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,E,I),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,x,I),k=[D,N,SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,B,I),SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,C,I),SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,Y,I)];this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,k,{surroundLineLimit:!0,lineTypeLimit:!0});var z=[];if(z.push(U),2!=e.length)for(var F=A.index;F<_.index;F++)z.push(e[F]);z.push(N);for(var W=this.mergeDashLine(this.dashLines,[]),G=this.computeDashLine(W,z),J=0;J<G.length;J++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,G[J]);this.addScalePoint(u),this.addScalePoint(P),null!==V&&this.addScalePoint(V),this.finish()}}}}}},{key:"getRightSubSymbolPts",value:function(t){var e=.25*t,o=[];return o.push(new SuperMapAlgoPlot.Point(0,2*e)),o.push(new SuperMapAlgoPlot.Point(2*e,2*e)),o.push(new SuperMapAlgoPlot.Point(2*e,-e)),o.push(new SuperMapAlgoPlot.Point(0,-2*e)),o.push(new SuperMapAlgoPlot.Point(0,2*e)),o}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(!(5>this.scaleValues.length||o.length<2||t<0||2<t))if(0==t){for(var r=[],i=0;i<l.length;i++)r.push(l[i]);for(var a,u=0,p=-1,s=0;s<r.length-1;s++){var c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r[s],r[s+1]);if(c.isOnline){var P=SuperMapAlgoPlot.PlottingUtil.distance(c.projectPoint,e);-1==p?(p=s,a=c.projectPoint,u=P):u>P&&(p=s,a=c.projectPoint,u=P)}}if(-1==p||p>r.length-1)return;for(var f=0,g=0;g<p;g++){var y=l[g],h=l[g+1];f+=SuperMapAlgoPlot.PlottingUtil.distance(y,h)}var S=l[p];if((f+=SuperMapAlgoPlot.PlottingUtil.distance(S,a))<0||f>n)return;var b=f/n;this.scaleValues[0]=b}else if(1===t){var A=n*this.scaleValues[0],d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,A);if(-1==d.index)return;var M=l[d.index],v=l[d.index+1],m=SuperMapAlgoPlot.PlottingUtil.dirAngle(M,v),O=SuperMapAlgoPlot.PlottingUtil.dirAngle(d.pt,e)-m;this.scaleValues[1]=O;var w=(f=SuperMapAlgoPlot.PlottingUtil.distance(d.pt,e))/n;this.scaleValues[2]=w}else if(2===t){var U=o[0],L=(f=SuperMapAlgoPlot.PlottingUtil.distance(U,e))/n;this.scaleValues[4]=2*L}}}])&&Da(e.prototype,o),l&&Da(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Wa(t){"@babel/helpers - typeof";return(Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ga(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ja(t,e){return(Ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ka(t);if(e){var n=Ka(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ka(t){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30002=Fa;var qa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ja(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ha(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);for(var n=this.mergeDashLine(this.dashLines,[]),r=this.computeDashLine(n,l),i=0;i<r.length;i++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r[i]);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var a=e*this.scaleValues[0],u=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,p=e*this.scaleValues[2],s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,a);if(-1!==s.index){var c=s.pt,P=s.index,f=c,g=l[P],y=l[P+1],h=SuperMapAlgoPlot.PlottingUtil.radian(g,y)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,1.5*p,1.5*p,h+u);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c,S],{surroundLineLimit:!0,lineTypeLimit:!0});var b=SuperMapAlgoPlot.PlottingUtil.radian(f,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,A=new SuperMapAlgoPlot.Point(-.2*p,.05*p),d=new SuperMapAlgoPlot.Point(-.2*p,-.05*p),M=SuperMapAlgoPlot.PlottingUtil.findPoint(S,f,.15*p,0),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,A,b),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(S,d,b);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[v,S,m,M],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var O=new SuperMapAlgoPlot.Point(.6*p,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,O,b),U=.4*p*this.scaleValues[5],L=.4*p*this.scaleValues[6],V=new SuperMapAlgoPlot.Point(0,-.9*(U-.25*L)),T=new SuperMapAlgoPlot.Point(0,.9*(U-.25*L)),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,V,b),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,T,b);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[j,R],{surroundLineLimit:!0,lineTypeLimit:!0});var _=new SuperMapAlgoPlot.Point(0,U),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,_,b),x=new SuperMapAlgoPlot.Point(0,.25*L),B=new SuperMapAlgoPlot.Point(.5*L,0),C=new SuperMapAlgoPlot.Point(0,-.25*L),Y=new SuperMapAlgoPlot.Point(-.5*L,0),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,x,b),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,B,b),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,C,b),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(E,Y,b);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[I,D,N,k,I],{surroundLineLimit:!0,lineTypeLimit:!0});var z=new SuperMapAlgoPlot.Point(0,-U),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,z,b),W=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(F,x,b),G=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(F,B,b),J=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(F,C,b),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(F,Y,b);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[W,G,J,H,W],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(c,0),this.addScalePoint(S,1);var K=new SuperMapAlgoPlot.Point(0,-U),q=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,K,b);this.addScalePoint(q,2),this.addScalePoint(k,3),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a,u,p,s,c,P,f,g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(g=SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),0===t){for(var y=[],h=0;h<g.length;h++)y.push(new SuperMapAlgoPlot.Point(g[h].x,g[h].y));for(var S=-1,b=0,A=new SuperMapAlgoPlot.Point(0,0),d=0;d<y.length-1;d++){var M=[];M.push(y[d]),M.push(y[d+1]);var v=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,y[d],y[d+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(v,M).index){var m=SuperMapAlgoPlot.PlottingUtil.distance(e,v);-1==S?(S=d,A=v,b=m):b>m&&(S=d,A=v,b=m)}}if(-1==S||S>y.length-1)return;r=0;for(var O=0;O<S;O++)r+=SuperMapAlgoPlot.PlottingUtil.distance(g[O],g[O+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(g[S],A))<0||r>l)return;var w=r/l;this.scaleValues[0]=w}else if(1===t){i=l*this.scaleValues[0];var U=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i);if(-1===U.index)return;a=U.pt,u=g[U.index],p=g[U.index+1],s=SuperMapAlgoPlot.PlottingUtil.radian(u,p);var L=(f=SuperMapAlgoPlot.PlottingUtil.radian(a,e))-s;this.scaleValues[1]=L;var V=(r=SuperMapAlgoPlot.PlottingUtil.distance(a,e))/l/1.5;this.scaleValues[2]=V}else if(2===t){if(i=l*this.scaleValues[0],c=180*this.scaleValues[1]/Math.PI,r=l*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i)).index)return;P=a.pt,u=g[a.index],p=g[a.index+1],s=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI;var T=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.4*r,.4*r,s+c),j=SuperMapAlgoPlot.PlottingUtil.distance(e,T)/(.4*r);this.scaleValues[5]=j}else if(3===t){if(i=l*this.scaleValues[0],c=180*this.scaleValues[1]/Math.PI,r=l*this.scaleValues[2],-1===(a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(g,i)).index)return;P=a.pt,u=g[a.index],p=g[a.index+1],f=(s=180*SuperMapAlgoPlot.PlottingUtil.radian(u,p)/Math.PI)+c;var R=new SuperMapAlgoPlot.Point(.6*r,0),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,R,f),E=.4*r*this.scaleValues[5],x=new SuperMapAlgoPlot.Point(0,E),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(_,x,f),C=2*SuperMapAlgoPlot.PlottingUtil.distance(B,e)/(.4*r);this.scaleValues[6]=C}}}}])&&Ga(e.prototype,o),l&&Ga(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qa(t){"@babel/helpers - typeof";return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Za(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xa(t,e){return(Xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tu(t);if(e){var n=tu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tu(t){return(tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30100=qa;var eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xa(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$a(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(1e3),e.scaleValues.push(.2),e.scaleValues.push(.01),e.scaleValues.push(.05),e.scaleValues.push(.32)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length?(this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.01),this.scaleValues.push(.05),this.scaleValues.push(.32)):3==this.scaleValues.length&&(this.scaleValues[3]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=e*this.scaleValues[1],n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,l);if(-1!==n.index){var r=t[0],i=n.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=new SuperMapAlgoPlot.Point(0,.1*l),p=new SuperMapAlgoPlot.Point(.4*l,.1*l),s=new SuperMapAlgoPlot.Point(.4*l,-.1*l),c=new SuperMapAlgoPlot.Point(0,-.1*l),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,u,a),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,p,a),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,s,a),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,c,a),h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,f,g,y,P],h);var S=.1*l,b=new SuperMapAlgoPlot.Point(.3*l,0),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,S,S,135),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,S,S,225),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,b,a),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,A,a),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,d,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[v,M,m],h);var O=new SuperMapAlgoPlot.Point(.9*l,0),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,O,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[M,w],h);var U=new SuperMapAlgoPlot.Point(.8*l,.025*l),L=new SuperMapAlgoPlot.Point(.8*l,-.025*l),V=new SuperMapAlgoPlot.Point(.82*l,0),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,U,a),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,L,a),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,V,a);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[T,w,j,R],h);var _=[];_.push(n.pt);for(var E=n.index+1;E<o.length;E++)_.push(o[E]);this.addDashLineAndArrow(_,this.scaleValues[3],this.scaleValues[4]);var x=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a);this.addScalePoint(x,0);var B=this.scaleValues[4]*SuperMapAlgoPlot.PlottingUtil.polylineDistance(_),C=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(B,_);C.bfind&&this.addScalePoint(C.pts),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r=o[0],i=e,a=SuperMapAlgoPlot.PlottingUtil.distance(i,r);if(0===t){if(.06>(p=a/l)||.3<p)return;this.scaleValues[1]=p}else if(1===t){var u=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);u=SuperMapAlgoPlot.PlottingUtil.clearSamePts(u);a=l*(p=this.scaleValues[1]);var p,s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,u);if(!s.bfind)return;var c=[];c.push(s.pts);for(var P=s.index+1;P<u.length;P++)c.push(u[P]);for(var f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c),g=0,y=-1,h=null,S=0;S<c.length-1;S++){var b;(b=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,c[S],c[S+1])).isOnline&&(0===g||SuperMapAlgoPlot.PlottingUtil.distance(b.projectPoint,e)<g)&&(h=b.projectPoint,y=S,g=SuperMapAlgoPlot.PlottingUtil.distance(e,b.projectPoint))}if(-1==y)return;var A=[];(A=A.concat(c)).push(h);var d=SuperMapAlgoPlot.PlottingUtil.polylineDistance(A)/f;d<.1&&(d=.1),d>.9&&(d=.9),this.scaleValues[4]=d}}}}])&&Za(e.prototype,o),l&&Za(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ou(t){"@babel/helpers - typeof";return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function nu(t,e){return(nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ru(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=iu(t);if(e){var n=iu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ou(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function iu(t){return(iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30200=eu;var au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30200);var e,o,l,n=ru(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(1e3),e.scaleValues.push(.2),e.scaleValues.push(.01),e.scaleValues.push(.05),e.scaleValues.push(.32)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.01),this.scaleValues.push(.05),this.scaleValues.push(.32)),3===this.scaleValues.length&&this.scaleValues.push(.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),0==this.scaleValues.length?(this.scaleValues.push(1e3),this.scaleValues.push(.2),this.scaleValues.push(.01),this.scaleValues.push(.05),this.scaleValues.push(.32)):3==this.scaleValues.length&&(this.scaleValues[3]=.5*this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue(),this.scaleValues[3]=.5*this.getSubSymbolScaleValue());var l=e*this.scaleValues[1],n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,l);if(-1!==n.index){var r=t[0],i=n.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=new SuperMapAlgoPlot.Point(0,.1*l),p=new SuperMapAlgoPlot.Point(.4*l,.1*l),s=new SuperMapAlgoPlot.Point(.4*l,-.1*l),c=new SuperMapAlgoPlot.Point(0,-.1*l),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,u,a),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,p,a),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,s,a),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,c,a),h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P,f,g,y,P],h);var S=new SuperMapAlgoPlot.Point(.3*l,.1*l),b=new SuperMapAlgoPlot.Point(.3*l,-.1*l),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,S,a),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,b,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[A,d],h);var M=new SuperMapAlgoPlot.Point(.4*l,0),v=new SuperMapAlgoPlot.Point(.8*l,0),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,M,a),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,v,a);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[m,O],h);var w=new SuperMapAlgoPlot.Point(.7*l,.025*l),U=new SuperMapAlgoPlot.Point(.7*l,-.025*l),L=new SuperMapAlgoPlot.Point(.7*l,0),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,w,a),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,U,a),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,L,a);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[V,O,T,j],h);var R=[];R.push(n.pt);for(var _=n.index+1;_<o.length;_++)R.push(o[_]);this.addDashLineAndArrow(R,this.scaleValues[3],this.scaleValues[4]);var E=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a);this.addScalePoint(E,0);var x=this.scaleValues[4]*SuperMapAlgoPlot.PlottingUtil.polylineDistance(R),B=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(x,R);B.bfind&&this.addScalePoint(B.pts),this.finish()}}}}])&&lu(e.prototype,o),l&&lu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function uu(t){"@babel/helpers - typeof";return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function su(t,e){return(su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pu(t);if(e){var n=Pu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pu(t){return(Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30201=au;var fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&su(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cu(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.125),e.scaleValues.push(Math.PI/2)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.125),this.scaleValues.push(Math.PI/2)),3===this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),!(t.length<this.minEditPts)){for(var o=0,l=0;l<t.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],t[l+1]);if(!this.isEdit){var n=this.getSubSymbolScaleValue();(n>.3||n<=0)&&(n=.3),this.scaleValues[1]=n,this.scaleValues[3]=n}var r=this.scaleValues[1],i=this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD,a=o*this.scaleValues[0],u=o*this.scaleValues[3],p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,a);if(-1!==p.index){var s=p.pt,c=e[p.index],P=e[p.index+1],f=SuperMapAlgoPlot.PlottingUtil.radian(c,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,f+i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p.pt,g],{surroundLineLimit:!0,lineTypeLimit:!0});var y,h=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=o*r;0<this.subSymbols.length&&(y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,u,u,f+i+180),this.computeSubSymbol(this.subSymbols[0],y,.8*S,f+i-180)),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+30);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+33),A=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([g,y,b]);A=SuperMapAlgoPlot.PlottingUtil.clearSamePts(A);var d=SuperMapAlgoPlot.PlottingUtil.polylineDistance(A),M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*d,A);if(-1!==M.index){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A.slice(0,M.index),{surroundLineLimit:!0,lineTypeLimit:!0});var v=SuperMapAlgoPlot.PlottingUtil.radian(g,y)*SuperMapAlgoPlot.PlottingUtil.RTOD,m=new SuperMapAlgoPlot.Point(-.2*u,.05*u),O=new SuperMapAlgoPlot.Point(-.2*u,-.05*u),w=new SuperMapAlgoPlot.Point(-.15*u,0),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,m,v+17),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,O,v+17),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(y,w,v+17),T={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[U,y,L,V],T);var j=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+330),R=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,u,u,h+327),_=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt([g,j,R]);_=SuperMapAlgoPlot.PlottingUtil.clearSamePts(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_.slice(0,M.index),{surroundLineLimit:!0,lineTypeLimit:!0});var E=SuperMapAlgoPlot.PlottingUtil.radian(g,j)*SuperMapAlgoPlot.PlottingUtil.RTOD,x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,m,E-17),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,O,E-17),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(j,w,E-17);if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[x,j,B,C],T),this.addScalePoint(s,0),this.addScalePoint(g,0),this.subSymbols.length>0&&-1!=this.subSymbols[0].code){var Y=SuperMapAlgoPlot.PlottingUtil.circlePoint(this.subSymbols[0],.5*S,.5*S,f+i+90);this.addScalePoint(Y,0)}this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a,u,p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(p=SuperMapAlgoPlot.PlottingUtil.clearSamePts(p),0===t){for(var s=[],c=0;c<p.length;c++)s.push(new SuperMapAlgoPlot.Point(p[c].x,p[c].y));for(var P=-1,f=0,g=new SuperMapAlgoPlot.Point(0,0),y=0;y<s.length-1;y++){var h=[];h.push(s[y]),h.push(s[y+1]);var S=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,s[y],s[y+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(S,h).index){var b=SuperMapAlgoPlot.PlottingUtil.distance(e,S);-1==P?(P=y,g=S,f=b):f>b&&(P=y,g=S,f=b)}}if(-1==P||P>s.length-1)return;for(var A=0,d=0;d<P;d++)A+=SuperMapAlgoPlot.PlottingUtil.distance(p[d],p[d+1]);if((A+=SuperMapAlgoPlot.PlottingUtil.distance(p[P],g))<0||A>l)return;var M=A/l;this.scaleValues[0]=M}else if(2===t){var v=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,l*this.scaleValues[0]);if(-1===v.index)return;r=v.pt,i=p[v.index],a=p[v.index+1],u=SuperMapAlgoPlot.PlottingUtil.dirAngle(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var m=l*this.scaleValues[3],O=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,m,m,u+this.scaleValues[2]*SuperMapAlgoPlot.PlottingUtil.RTOD+180),w=SuperMapAlgoPlot.PlottingUtil.distance(O,e)/l*2;this.scaleValues[1]=w}else if(1===t){var U=l*this.scaleValues[0],L=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p,U);if(-1===L.index)return;r=L.pt,i=p[L.index],a=p[L.index+1],u=SuperMapAlgoPlot.PlottingUtil.dirAngle(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD;var V=(SuperMapAlgoPlot.PlottingUtil.dirAngle(r,e)*SuperMapAlgoPlot.PlottingUtil.RTOD-u)*SuperMapAlgoPlot.PlottingUtil.DTOR;this.scaleValues[2]=V}}}}])&&pu(e.prototype,o),l&&pu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gu(t){"@babel/helpers - typeof";return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hu(t,e){return(hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Su(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bu(t);if(e){var n=bu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bu(t){return(bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30800=fu;var Au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Su(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[n.pntLeft,n.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r.pntLeft,r.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(r.pntRight,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0===t){var r=o[0],i=e,a=SuperMapAlgoPlot.PlottingUtil.distance(i,r)/l;this.scaleValues[0]=a}}}}])&&yu(e.prototype,o),l&&yu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function du(t){"@babel/helpers - typeof";return(du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vu(t,e){return(vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ou(t);if(e){var n=Ou(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===du(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ou(t){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31300=Au;var wu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol31300);var e,o,l,n=mu(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[0],t[1]),r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[1],t[0]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[n.pntLeft,n.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r.pntLeft,r.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});var i=[],a=3*l;i.push(t[0]),i.push(t[1]);for(var u=SuperMapAlgoPlot.PlottingUtil.paraLine(i,a,!0),p=SuperMapAlgoPlot.PlottingUtil.paraLine(i,a,!1),s=[],c=0;c<u.length;c++)s.push(u[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,u[1],u[0]),f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,u[0],u[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[P.pntLeft,P.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f.pntLeft,f.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0});for(var g=[],y=0;y<p.length;y++)g.push(p[y]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,p[1],p[0]),S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,p[0],p[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[h.pntLeft,h.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S.pntLeft,S.pntRight],{surroundLineLimit:!0,lineTypeLimit:!0}),this.addScalePoint(r.pntRight,0),this.finish()}}}])&&Mu(e.prototype,o),l&&Mu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Uu(t){"@babel/helpers - typeof";return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vu(t,e){return(Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ju(t);if(e){var n=ju(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ju(t){return(ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31301=wu;var Ru=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Tu(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),o=0;o=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var l=new SuperMapAlgoPlot.Point(e.x-o,e.y-o),n=new SuperMapAlgoPlot.Point(e.x+o,e.y+o);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[l,n],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0},!0),this.finish()}}}])&&Lu(e.prototype,o),l&&Lu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _u(t){"@babel/helpers - typeof";return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xu(t,e){return(xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cu(t);if(e){var n=Cu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cu(t){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31400=Ru;var Yu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol31400);var e,o,l,n=Bu(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e=0;e=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=new SuperMapAlgoPlot.Point(o.x-e,o.y-e),n=new SuperMapAlgoPlot.Point(o.x+e,o.y-3*e),r={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[l,n],r,!0);var i=new SuperMapAlgoPlot.Point(o.x-e,o.y+e),a=new SuperMapAlgoPlot.Point(o.x-3*e,o.y+3*e);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[i,a],r,!0);var u=new SuperMapAlgoPlot.Point(o.x+e,o.y+e),p=new SuperMapAlgoPlot.Point(o.x+3*e,o.y+3*e);this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,[u,p],r,!0),this.finish()}}}])&&Eu(e.prototype,o),l&&Eu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Iu(t){"@babel/helpers - typeof";return(Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Du(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Nu(t,e){return(Nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ku(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zu(t);if(e){var n=zu(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zu(t){return(zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol31401=Yu;var Fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ku(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=t[0],l=t[1];e=2==t.length?l:t[2];var n=new SuperMapAlgoPlot.Point((o.x+l.x)/2,(o.y+l.y)/2),r=SuperMapAlgoPlot.PlottingUtil.distance(n,e),i=.5*r,a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,e),u=a.pntLeft,p=a.pntRight,s=!(n.x>e.x),c=[];s?(c.push(o),c.push(u)):(c.push(o),c.push(p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var P=[];s?(P.push(l),P.push(p)):(P.push(l),P.push(u)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{surroundLineFlag:!1,surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER});var f,g,y,h,S=.37*r,b=SuperMapAlgoPlot.PlottingUtil.linePnt(n,e,S),A=.09*r,d=[];d.push(b),d.push(new SuperMapAlgoPlot.Point(b.x,b.y+A)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,d,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE}),s?(f=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,n,b)).pntLeft,g=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*A,n,b)).pntLeft,y=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,f,g)).pntRight,h=a.pntLeft):(f=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,n,b)).pntRight,g=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*A,n,b)).pntRight,y=(a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(A,f,g)).pntRight,h=a.pntLeft);var M=[];M.push(f),M.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE});var v=[];v.push(y),v.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE}),this.finish()}}}])&&Du(e.prototype,o),l&&Du(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Wu(t){"@babel/helpers - typeof";return(Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ju(t,e){return(Ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ku(t);if(e){var n=Ku(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ku(t){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol32300=Fu;var qu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ju(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hu(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.radian(l,n)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=.02*o,a=[];for(e=0;e<360;e+=10)a.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),i,i,e));a.push(a[0]);var u=[],p=new SuperMapAlgoPlot.Point(.1*o,0),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,p,r);for(e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+s.x,a[e].y+s.y));var c={lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var P=new SuperMapAlgoPlot.Point(.25*o,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,P,r);for(u=[],e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+f.x,a[e].y+f.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var g=new SuperMapAlgoPlot.Point(.4*o,0),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,g,r);for(u=[],e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+y.x,a[e].y+y.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var h=new SuperMapAlgoPlot.Point(.6*o,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,h,r);for(u=[],e=0;e<a.length;e++)u.push(new SuperMapAlgoPlot.Point(a[e].x+S.x,a[e].y+S.y));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,c);var b=new SuperMapAlgoPlot.Point(.5*o,.05*o),A=new SuperMapAlgoPlot.Point(.7*o,.05*o),d=new SuperMapAlgoPlot.Point(.75*o,0),M=new SuperMapAlgoPlot.Point(.7*o,-.05*o),v=new SuperMapAlgoPlot.Point(.5*o,-.05*o),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,b,r),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,A,r),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,d,r),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,M,r),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,v,r);(u=[]).push(m),u.push(O),u.push(w),u.push(U),u.push(L),u.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{surroundLineLimit:!0,lineTypeLimit:!0}),this.finish()}}}])&&Gu(e.prototype,o),l&&Gu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qu(t){"@babel/helpers - typeof";return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zu(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xu(t,e){return(Xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tp(t);if(e){var n=tp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tp(t){return(tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34300=qu;var ep=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xu(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$u(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.radian(o,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1];if(!(r<0||i<0)){var a=r*e,u=1-i*(5/4);u<0&&(u=0),u>1&&(u=1);var p,s,c=e*u,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,c,c,n),f=[];f.push(t[0].clone()),f.push(P),p=SuperMapAlgoPlot.PlottingUtil.paraLine(f,a,!0),s=SuperMapAlgoPlot.PlottingUtil.paraLine(f,a,!1);var g,y=[];for(g=0;g<p.length;g++)y.push(p[g]);var h=[];for(g=0;g<s.length;g++)h.push(s[g]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=i*e,b=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,S/2,S/2,n);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],b,S/2,n+180);for(var A=[],d=.1*c,M=[],v=0;v<y.length;v++)M.push(y[v].clone());var m=[];for(g=0;g<h.length;g++)m.push(h[g].clone());var O=SuperMapAlgoPlot.PlottingUtil.distance(m[0],m[1]);if(!(d>=O)){for(var w=d;w<c-a;w+=d){var U=SuperMapAlgoPlot.PlottingUtil.circlePoint(m[0],w,w,n),L=SuperMapAlgoPlot.PlottingUtil.circlePoint(U,O,O,n+45),V=SuperMapAlgoPlot.PlottingUtil.intersectLines(U,L,M[0],M[1]);if(V.isIntersectLines){var T=V.intersectPoint;if(!SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(T,M).isOnPolyLine)break;(A=[]).push(U),A.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0})}}this.scalePoints=[];var j=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,a,a,n+90);this.addScalePoint(j);var R=S/2,_=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,R,R,n+90);this.addScalePoint(_),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);0==t?(l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n,this.scaleValues[0]=l):1==t&&(l=2*SuperMapAlgoPlot.PlottingUtil.distance(o[1],e)/n,this.scaleValues[1]=l)}}}])&&Zu(e.prototype,o),l&&Zu(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function op(t){"@babel/helpers - typeof";return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function np(t,e){return(np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ip(t);if(e){var n=ip(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===op(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ip(t){return(ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34400=ep;var ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&np(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.08,e.scaleValues[1]=.03),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.08),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=.5*e,l=e*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o,t),r=n.pts,i=n.index,a=(n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o+l,t)).index;if(!(i<0||a<0)){var u,p,s;if(i!=a)u=new SuperMapAlgoPlot.Point(t[i+1].x,t[i+1].y),p=new SuperMapAlgoPlot.Point(t[i].x,t[i].y),(s=SuperMapAlgoPlot.PlottingUtil.distance(u,p))<=2*l?(l=s/2,r.x=(t[i+1].x+t[i].x)/2,r.y=(t[i+1].y+t[i].y)/2):r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[i+1],t[i],l);else if(u=new SuperMapAlgoPlot.Point(t[i+1].x,t[i+1].y),p=new SuperMapAlgoPlot.Point(t[i].x,t[i].y),(s=SuperMapAlgoPlot.PlottingUtil.distance(u,p))<=2*l)l=s/2,r.x=(t[i+1].x+t[i].x)/2,r.y=(t[i+1].y+t[i].y)/2;else u=new SuperMapAlgoPlot.Point(t[i].x,t[i].y),p=new SuperMapAlgoPlot.Point(r.x,r.y),SuperMapAlgoPlot.PlottingUtil.distance(u,p)<l&&(r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[i],t[i],l));var c,P,f,g=[];for(c=0;c<i+1;c++)g.push(t[c]);P=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[i],l),g.push(P),f=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[i+1],l);var y=[];y.push(f);var h=t.length;for(c=i+1;c<h;++c)y.push(t[c]);var S=[];S.push(0),S.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(t,P)/e),S.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(t,f)/e),S.push(1);for(var b=this.mergeDashLine(this.dashLines,S),A=this.computeDashLine(b,t),d=0;d<A.length;d++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A[d]);var M=[],v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l/2,P,f);M.push(P),M.push(v.pntRight),M.push(v.pntLeft);var m=(v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,P,r)).pntRight;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,{lineTypeLimit:!0,surroundLineLimit:!0});var O,w,U,L,V=t[0].clone(),T=t[1].clone(),j=t[t.length-2].clone(),R=t[t.length-1].clone(),_=e*this.scaleValues[1];w=(v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(_,T,V)).pntRight,O=v.pntLeft,L=(v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(_,j,R)).pntRight,U=v.pntLeft;var E=[];E.push(w),E.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E,{lineTypeLimit:!0,surroundLineLimit:!0});var x=[];x.push(L),x.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(m),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var n=.5*l,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,o).pts,i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/l;i>.5&&(i=.5),this.scaleValues[0]=i}}}}])&&lp(e.prototype,o),l&&lp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function up(t){"@babel/helpers - typeof";return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sp(t,e){return(sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pp(t);if(e){var n=Pp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pp(t){return(Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol34700=ap;var fp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cp(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);this.finish()}}}])&&pp(e.prototype,o),l&&pp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gp(t){"@babel/helpers - typeof";return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hp(t,e){return(hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bp(t);if(e){var n=bp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bp(t){return(bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36400=fp;var Ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Sp(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05),!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e}var o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var l=.1*o,n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[1],t[0]),r=n.pntRight,i=n.pntLeft,a=(n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[0],t[1])).pntRight,u=n.pntLeft,p=[];p.push(r),p.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0,surroundLineLimit:!0});var s=[];s.push(a),s.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,{lineTypeLimit:!0,surroundLineLimit:!0});var c=[];c.push(r),c.push(u);for(var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c)/11,f=P,g=0,y=0,h=null,S=null,b=0;b<11;b++){if(0==b)g=0,h=r.clone();else{var A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f-P,c);if(!A.bfind)continue;g=A.index,h=A.pts}if(10==b)y=0,S=u.clone();else{if(!(A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,c)).bfind)continue;y=A.index,S=A.pts}if(b%2==0){var d=[];d.push(h);for(var M=g+1;M<=y;M++)d.push(c[M]);d.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,surroundLineLimit:!0})}f+=P}this.finish()}}}])&&yp(e.prototype,o),l&&yp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function dp(t){"@babel/helpers - typeof";return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vp(t,e){return(vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Op(t);if(e){var n=Op(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===dp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Op(t){return(Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol36800=Ap;var wp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=mp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2);var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=270;e>=90;e-=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=90;e>=-90;e-=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((u[u.length-1].x+p[0].x)/2,(u[u.length-1].y+p[0].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[u.length-1],p[0],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[0],u[u.length-1],.5*(l-1.2*s)),g=[];g.push(f),(g=(g=g.concat(p)).concat(u)).push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.dirAngle(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,s,y-90),this.scalePoints=[],this.addScalePoint(u[u.length-1]);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,y+90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),i=SuperMapAlgoPlot.PlottingUtil.distance(r,e)/l;i>=.8&&(i=.8),this.scaleValues[1]=i}}}}])&&Mp(e.prototype,o),l&&Mp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Up(t){"@babel/helpers - typeof";return(Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vp(t,e){return(Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jp(t);if(e){var n=jp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jp(t){return(jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37100=wp;var Rp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol27100);var e,o,l,n=Tp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2);var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=270;e>=90;e-=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=90;e>=-90;e-=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((u[u.length-1].x+p[0].x)/2,(u[u.length-1].y+p[0].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[u.length-1],p[0],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[0],u[u.length-1],.5*(l-1.2*s)),g=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=[];y.push(f),(y=(y=y.concat(p)).concat(u)).push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,s,g-90),this.scalePoints=[],this.addScalePoint(u[u.length-1]);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,g+90);this.addScalePoint(h),this.finish()}}}])&&Lp(e.prototype,o),l&&Lp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _p(t){"@babel/helpers - typeof";return(_p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ep(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xp(t,e){return(xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cp(t);if(e){var n=Cp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cp(t){return(Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37200=Rp;var Yp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.03,e.scaleValues[1]=.35,e.scaleValues[2]=0,e.scaleValues[3]=.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=.5*l,this.scaleValues[this.scaleValues.length-1]=.5*l}var n=o*this.scaleValues[1],r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n),i=r.index;if(-1!=i){var a=r.pt,u=o*this.scaleValues[0],p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,e[i],a),s=this.scaleValues[2],c=null;0==s?c=p.pntLeft:1==s&&(c=p.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[c,a],{fill:!1,fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});for(var P=this.mergeDashLine(this.dashLines,[]),f=this.computeDashLine(P,e),g=0;g<f.length;g++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[g]);for(var y=0;y<f.length;y++)f.length-1==y&&(f[y].length>=2?this.addArrow(f[y],this.scaleValues[3]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3]));this.scalePoints=[],this.addScalePoint(c,0);u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3];var h=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],u);this.addScalePoint(h),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0==t){for(var r=-1,i=null,a=0;a<l.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.ptOnPolyLine(e,l[a],l[a+1]),p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[a],l[a+1]);if(u){i=e,r=a;break}if(p.isOnline){i=p.projectPoint,r=a;break}}if(-1==r)return;var s=l.slice(0,r+1);s.push(i);var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s);this.scaleValues[1]=c/n;var P=SuperMapAlgoPlot.PlottingUtil.distance(e,i);this.scaleValues[0]=P/n;var f=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[r],l[r+1],e);this.scaleValues[2]=f?1:0}else if(1==t){var g=.5*SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<g)return;this.scaleValues[3]=g}}}}])&&Ep(e.prototype,o),l&&Ep(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ip(t){"@babel/helpers - typeof";return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Np(t,e){return(Np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zp(t);if(e){var n=zp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ip(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zp(t){return(zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37300=Yp;var Fp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Np(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=kp(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues=[]),this.scalePoints=[];var e=[],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(t.length<3)e.push(t[0]),e.push(t[1]);else{var l=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=l.scaleValues;for(var n=0;n<l.scalePoints.length;n++)this.addScalePoint(l.scalePoints[n]);e=l.beizerPoints}SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.isEdit||(this.scaleValues.push(.5),this.scaleValues.push(this.getSubSymbolScaleValue())),!(e.length<=0)){var i;i=2==t.length?0:t.length-1;var a=r*this.scaleValues[4*i],u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.index,s=u.pts,c=o*this.scaleValues[4*i+1],P=a-c,f=a+c;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,e)).bfind){var g,y=u.pts,h=[];if(0==(p=u.index))h.push(e[0]);else for(g=0;g<p;g++)h.push(e[g]);if(h.push(y),(u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e)).bfind){var S=u.pts;p=u.index;var b=[];for(b.push(S),g=p+1;g<e.length;g++)b.push(e[g]);var A=[];A.push(0),A.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,y)/r),A.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,S)/r),A.push(1);for(var d=this.mergeDashLine(this.dashLines,A),M=this.computeDashLine(d,e),v=0;v<M.length;v++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M[v]);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[s,S],{lineTypeLimit:!0,surroundLineLimit:!0});var m=o*this.scaleValues[4*i+1]/1.667;if(!(h.length<2)){var O=h[0],w=h[1],U=SuperMapAlgoPlot.PlottingUtil.radian(O,w)*SuperMapAlgoPlot.PlottingUtil.RTOD,L=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,m,m,U+90),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,m,m,U+270),T=[];if(T.push(L),T.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0}),!(b.length<2)){var j=b[b.length-1],R=b[b.length-2],_=SuperMapAlgoPlot.PlottingUtil.radian(j,R)*SuperMapAlgoPlot.PlottingUtil.RTOD,E=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,m,m,_+90),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,m,m,_+270);(T=[]).push(E),T.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(s),this.addScalePoint(L),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0))return;if(2*(o.length-1)==t||2==o.length&&0==t){var i,a=e,u=[];for(i=0;i<l.length;i++)u.push(l[i]);var p,s=-1,c=0;for(i=0;i<u.length-1;i++){var P=[];P.push(u[i]),P.push(u[i+1]);var f=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,u[i],u[i+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(f,P).isOnPolyLine){var g=SuperMapAlgoPlot.PlottingUtil.distance(a,f);-1==s?(s=i,p=f,c=g):c>g&&(s=i,p=f,c=g)}}if(-1==s||s>u.length-1)return;var y=0;for(i=0;i<s;i++){var h=l[i],S=l[i+1];y+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[s];if((y+=SuperMapAlgoPlot.PlottingUtil.distance(b,p))<0||y>r)return;var A=y/r;if(A>.8||A<.2)return;2==o.length?this.scaleValues[0]=A:this.scaleValues[2*t]=A}else if(2*o.length-1==t||2==o.length&&1==t){var d=1.667*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/n;2==o.length?this.scaleValues[1]=d:this.scaleValues[2*t-1]=d}else{var M=-1;M=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var v=(e.x-o[M].x)/n,m=(e.y-o[M].y)/n;this.scaleValues[2*t]=v,this.scaleValues[2*t+1]=m}}}}])&&Dp(e.prototype,o),l&&Dp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Wp(t){"@babel/helpers - typeof";return(Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jp(t,e){return(Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kp(t);if(e){var n=Kp(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kp(t){return(Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40900=Fp;var qp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hp(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){for(var o=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var a=this.getSubSymbolScaleValue();(a>.3||a<=0)&&(a=.3),this.scaleValues[0]=.2*a}var u=r*this.scaleValues[0],p=r*this.scaleValues[2],s=r*this.scaleValues[3],c=new SuperMapAlgoPlot.Point(i.x+p,i.y+s),P=[];P.push(c),P.push(new SuperMapAlgoPlot.Point(c.x+u,c.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,P,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});for(var f=18*u,g=new SuperMapAlgoPlot.Point(c.x+f,c.y),y=[],h=135;h<180;h+=3)y.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(g,f,f,h));y.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(g,f,f,180)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,u,u,0);this.addScalePoint(S),this.addScalePoint(c),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&Gp(e.prototype,o),l&&Gp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qp(t){"@babel/helpers - typeof";return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zp(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xp(t,e){return(Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ts(t);if(e){var n=ts(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ts(t){return(ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40101=qp;var es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xp(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$p(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.5),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&this.scaleValues.push(.5);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=e/o/2,n=.1*e;this.isEdit||(this.scaleValues[0]=l);var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]-.4*e,t);if(r.bfind){var i=r.pts,a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]+.4*e,t);if(a.bfind){var u=a.pts,p=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]-.3*e,t);if(p.bfind){var s=p.pts,c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0]+.3*e,t);if(c.bfind){var P=c.pts,f=0,g=0,y=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(i,t);y.isOnPolyLine&&(f=y.index);var h=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,t);h.isOnPolyLine&&(g=h.index);var S=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o*this.scaleValues[0],t);if(S.bfind){var b=S.pts,A=[];if(A.push(s),f!==g)for(var d=f+1;d<=g;d++)A.push(t[d]);A.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,SuperMapAlgoPlot.PlottingUtil.inverse(A));for(var M=[],v=0;v<=r.index;v++)M.push(t[v]);M.push(i),M=SuperMapAlgoPlot.PlottingUtil.inverse(M);var m=[];if(a.index<=t.length){m.push(u);for(var O=a.index+1;O<=t.length-1;O++)m.push(t[O])}m=SuperMapAlgoPlot.PlottingUtil.inverse(m);for(var w=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(b,A),U=0,L=0;L<w.index;L++)U+=SuperMapAlgoPlot.PlottingUtil.distance(A[L],A[L+1]);U+=SuperMapAlgoPlot.PlottingUtil.distance(b,A[w.index]);var V=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(U-.1,A);if(V.bfind){var T=V.pts,j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.42*e,T,b),R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.48*e,T,b),_=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.6*e,T,b),E=j.pntLeft,x=R.pntLeft,B=_.pntLeft;this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b,E]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[x,B]);var C=SuperMapAlgoPlot.PlottingUtil.polylineDistance([x,B]),Y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*C,x,B).pntRight;if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[B,Y]),t.length>this.minEditPts){for(var I,D,N,k,z,F,W,G,J,H=1;H<t.length-1;H++){for(I=t[H],D=t[H+1],N=t[H-1],z=180*SuperMapAlgoPlot.PlottingUtil.radian(I,D)/Math.PI,F=180*SuperMapAlgoPlot.PlottingUtil.radian(I,N)/Math.PI-z;F<0;)F+=360;k=F/2,W=t[H+1].clone(),W=SuperMapAlgoPlot.PlottingUtil.rotateAngle(I,k*Math.PI/180,W),G=SuperMapAlgoPlot.PlottingUtil.linePnt(I,W,n),(J=[]).push(t[H]),J.push(G),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,J,{surroundLineLimit:!0,lineTypeLimit:!0},!0)}var K=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[t.length-2],t[t.length-1]),q=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),Q=K.pntLeft,Z=q.pntRight;M.push(Z),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),m.splice(0,0,Q),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m)}else{var X=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]),$=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),tt=X.pntLeft,et=$.pntRight;M.push(et),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),m.splice(0,0,tt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m)}this.addScalePoint(b,0),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(o.length<this.minEditPts)return;for(var n=-1,r=new SuperMapAlgoPlot.Point(0,0),i=0;i<o.length-1;i++){var a=[];a.push(o[i]),a.push(o[i+1]);var u=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[i],o[i+1]);SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(u,a).isOnPolyLine&&(n=i,r=u)}if(-1===n||n>o.length-1)return;for(var p=0,s=0;s<n;s++)p+=SuperMapAlgoPlot.PlottingUtil.distance(o[s],o[s+1]);var c=o[n];if((p+=SuperMapAlgoPlot.PlottingUtil.distance(c,r))<0||p>l)return;var P=p/l,f=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1])/l;P<.4*f&&(P=.4*f),P>1-.4*f&&(P=1-.4*f),this.scaleValues[0]=P}}}])&&Zp(e.prototype,o),l&&Zp(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function os(t){"@babel/helpers - typeof";return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ls(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ns(t,e){return(ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=is(t);if(e){var n=is(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===os(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function is(t){return(is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41100=es;var as=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ns(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var l=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*l/e}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=new SuperMapAlgoPlot.Point(a.x+n*e,a.y+r*e),p=i*e,s=new SuperMapAlgoPlot.Point(u.x,u.y),c=new SuperMapAlgoPlot.Point(u.x-p,u.y-p),P=new SuperMapAlgoPlot.Point(u.x+p,u.y-p),f=new SuperMapAlgoPlot.Point(u.x-p,u.y+p),g=new SuperMapAlgoPlot.Point(u.x+p,u.y+p),y=[];y.push(s),y.push(c),y.push(P),y.push(s),y.push(f),y.push(g),y.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(u);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(h),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==l)return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)n=(a.x-i.x)/l,this.scaleValues[0]=n,r=(a.y-i.y)/l,this.scaleValues[1]=r;else if(1==t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+n*l,i.y+r*l),p=SuperMapAlgoPlot.PlottingUtil.distance(a,u)/l;this.scaleValues[2]=p}}}}])&&ls(e.prototype,o),l&&ls(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function us(t){"@babel/helpers - typeof";return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ps(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ss(t,e){return(ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ps(t);if(e){var n=Ps(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41200=as;var fs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ss(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=cs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(0!==e){var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var l=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*l/e}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=new SuperMapAlgoPlot.Point(a.x+n*e,a.y+r*e),p=i*e,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,210),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,330),f=[];f.push(s),f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fill:!1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(u);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(g),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==l)return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)n=(a.x-i.x)/l,this.scaleValues[0]=n,r=(a.y-i.y)/l,this.scaleValues[1]=r;else if(1==t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+n*l,i.y+r*l),p=SuperMapAlgoPlot.PlottingUtil.distance(a,u)/l;this.scaleValues[2]=p}}}}])&&ps(e.prototype,o),l&&ps(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function gs(t){"@babel/helpers - typeof";return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ys(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hs(t,e){return(hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ss(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bs(t);if(e){var n=bs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41201=fs;var As=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ss(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=-.25,e.scaleValues[1]=.1,e.scaleValues[2]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues[0]=-.25,this.scaleValues[1]=.1,this.scaleValues[2]=.05);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(0!=e){var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);if(!this.isEdit){var l=this.getSubSymbolScaleValue()*o;this.scaleValues[2]=.35*l/e}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2];2===t.length?this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=new SuperMapAlgoPlot.Point(a.x+n*e,a.y+r*e),p=i*e,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,270),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,30),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,150),f=[];f.push(s),f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fill:!1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(u);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,90);this.addScalePoint(g),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==l)return;var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),a=e;if(0==t)n=(a.x-i.x)/l,this.scaleValues[0]=n,r=(a.y-i.y)/l,this.scaleValues[1]=r;else if(1==t){n=this.scaleValues[0],r=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(i.x+n*l,i.y+r*l),p=SuperMapAlgoPlot.PlottingUtil.distance(a,u)/l;this.scaleValues[2]=p}}}}])&&ys(e.prototype,o),l&&ys(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ds(t){"@babel/helpers - typeof";return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ms(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vs(t,e){return(vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ms(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Os(t);if(e){var n=Os(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ds(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Os(t){return(Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol41202=As;var ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ms(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o={fillLimit:!0,fill:!1,surroundLineFlag:!1},l=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(l,e),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r],o);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var u=this.getDefaultSubSymbolSize()/a;(u>.2||u<=0)&&(u=.2),this.scaleValues[0]=u}var p=this.scaleValues[0],s=this.scaleValues[2],c=this.scaleValues[3],P=a*p,f=new SuperMapAlgoPlot.Point(i.x+a*s,i.y+a*c);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,P,0),this.addScalePoint(f);var g=P,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,g,g,90);this.addScalePoint(y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)n=(e.x-i.x)/a,this.scaleValues[2]=n,r=(e.y-i.y)/a,this.scaleValues[3]=r;else if(1===t){n=this.scaleValues[2],r=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(i.x+a*n,i.y+a*r),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/a;this.scaleValues[0]=p}}}}])&&Ms(e.prototype,o),l&&Ms(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Us(t){"@babel/helpers - typeof";return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ls(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vs(t,e){return(Vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ts(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=js(t);if(e){var n=js(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function js(t){return(js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol42200=ws;var Rs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ts(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.285714),e.scaleValues.push(.105263),e.scaleValues.push(.181818),e.scaleValues.push(.285714),e.scaleValues.push(.285714)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(.285714),this.scaleValues.push(.105263),this.scaleValues.push(.181818),this.scaleValues.push(.285714),this.scaleValues.push(.285714));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],r=new SuperMapAlgoPlot.Point(0,-l*n),i=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],u=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-u),-l*a),s=new SuperMapAlgoPlot.Point(l*(1-u),l*a),c=this.scaleValues[2],P=this.scaleValues[4],f=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),g=new SuperMapAlgoPlot.Point(l*(1-P),l*c),y=new SuperMapAlgoPlot.Point(l,0),h=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=[];S.push(i),S.push(p),S.push(f),S.push(y),S.push(g),S.push(s),S.push(r);for(var b=[],A=0;A<S.length;A++){var d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[A],h);b.push(d)}for(var M=[],v=b.length-1;v>=0;--v)M.push(b[v]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var m=[],O=.06*l,w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O,o,e),U=w.pntRight,L=w.pntLeft;m.push(U),m.push(L),O=.15*l;var V=new SuperMapAlgoPlot.Point(O,0),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,V,h);m.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,m,{lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,fillLimit:!0,fill:!0,fillColorLimit:!0,fillColor:"#0000FF",fillOpacity:1,lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(b[b.length-1]),this.addScalePoint(b[b.length-2]),this.addScalePoint(b[b.length-3]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=o[0].clone(),i=o[1].clone(),a=e.clone();if(0==t){var u=SuperMapAlgoPlot.PlottingUtil.distance(a,r)/n;this.scaleValues[0]=u}else if(1==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var p=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[1]=p;var s=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[3]=s}else if(2==t){l=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,r,i);var c=SuperMapAlgoPlot.PlottingUtil.distance(l,a)/n;this.scaleValues[2]=c;var P=SuperMapAlgoPlot.PlottingUtil.distance(l,i)/n;this.scaleValues[4]=P}}}}])&&Ls(e.prototype,o),l&&Ls(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _s(t){"@babel/helpers - typeof";return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Es(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xs(t,e){return(xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cs(t);if(e){var n=Cs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol44100=Rs;var Ys=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.03),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.03),!this.isEdit){var i=this.getSubSymbolScaleValue();(i>.3||i<=0)&&(i=.3),this.scaleValues[0]=i}var a=e[0],u=e[1],p=e[e.length-1],s=e[e.length-2],c=SuperMapAlgoPlot.PlottingUtil.radian(a,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.radian(s,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=this.scaleValues[0],g=r*f,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,g,g,c+90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,g,g,c+270),S=[];S.push(y),S.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[],this.addScalePoint(h);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,g,g,P+90),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,g,g,P+270);(S=[]).push(b),S.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,{lineTypeLimit:!0,surroundLineLimit:!0});var d,M,v=t.length;if(this.scaleValues.length<=v){for(this.scaleValues=[],this.scaleValues.push(f),M=1/v,d=0;d<v-1;d++)this.scaleValues.push(M*(d+1));this.scaleValues.push(f)}for(d=0;d<v-1;d++){var m=(M=this.scaleValues[d+1])*r,O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(m,e);if(!O.bfind)return;var w=O.pts,U=O.index,L=r*f,V=.3*L,T=SuperMapAlgoPlot.PlottingUtil.radian(e[U],e[U+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,j=new SuperMapAlgoPlot.Point(L,-V),R=new SuperMapAlgoPlot.Point(-L,-V),_=new SuperMapAlgoPlot.Point(-L,0),E=new SuperMapAlgoPlot.Point(L,0),x=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,j,T),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,R,T),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,_,T),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(w,E,T);(S=[]).push(x),S.push(B),S.push(C),S.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{lineTypeLimit:!0,fillLimit:!0,fill:!0,surroundLineLimit:!0}),this.addScalePoint(w)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>=this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var i=(n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]))/r;this.scaleValues[0]=i}else{var a,u=e,p=[];for(a=0;a<l.length;a++)p.push(l[a]);var s=-1,c=0,P=new SuperMapAlgoPlot.Point(0,0);for(a=0;a<p.length-1;a++){var f=[];f.push(p[a]),f.push(p[a+1]);var g=SuperMapAlgoPlot.PlottingUtil.projectPoint(u,p[a],p[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(g,f).isOnPolyLine){var y=SuperMapAlgoPlot.PlottingUtil.distance(u,g);-1==s?(s=a,P=g,c=y):c>y&&(s=a,P=g,c=y)}}if(-1==s||s>p.length-1)return;for(n=0,a=0;a<s;a++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[a],l[a+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[s],P))<0||n>r)return;var h=n/r;this.scaleValues[t]=h}}}}])&&Es(e.prototype,o),l&&Es(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Is(t){"@babel/helpers - typeof";return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ds(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ns(t,e){return(Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ks(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zs(t);if(e){var n=zs(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zs(t){return(zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35000=Ys;var Fs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ns(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ks(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.05),!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e}if(t.length>2){var o=t;o.push(t[0]);for(var l=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(l,o),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r])}else 2==t.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),u=i*this.scaleValues[0];this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,u,0),this.scalePoints=[];var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(p),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0==t){var r=.5*SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l;this.scaleValues[0]=r}}}}])&&Ds(e.prototype,o),l&&Ds(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ws(t){"@babel/helpers - typeof";return(Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gs(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Js(t,e){return(Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ks(t);if(e){var n=Ks(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ws(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ks(t){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35200=Fs;var qs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Js(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Hs(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1);var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=l*this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,n),u=[],p=[];u.push(t[0]),u.push(i),p.push(a),p.push(t[1]);var s=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.5*n,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.5*n,!0),P=[],f=[];P.push(s[0]),P.push(s[1]),f.push(c[0]),f.push(c[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1});var g=[],y=[],h=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.5*n,!1),S=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.5*n,!1);g.push(h[0]),g.push(h[1]),y.push(S[0]),y.push(S[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineColorLimit:!0,strokeColor:"#000000",strokeOpacity:1,color:"#000000",opacity:1});var b=SuperMapAlgoPlot.PlottingUtil.linePnt(P[1],f[0],.2*n),A=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],P[1],.2*n),d=SuperMapAlgoPlot.PlottingUtil.linePnt(g[1],y[0],.2*n),M=SuperMapAlgoPlot.PlottingUtil.linePnt(y[0],g[1],.2*n),v=[];v.push(b),v.push(A),v.push(M),v.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,v,{fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var m=SuperMapAlgoPlot.PlottingUtil.linePnt(d,b,1.2*n),O=SuperMapAlgoPlot.PlottingUtil.linePnt(b,d,1.2*n),w=[];w.push(m),w.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,{lineTypeLimit:!0,surroundLineLimit:!0});var U=SuperMapAlgoPlot.PlottingUtil.linePnt(M,A,1.2*n),L=SuperMapAlgoPlot.PlottingUtil.linePnt(A,M,1.2*n),V=[];V.push(U),V.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V,{lineTypeLimit:!0,surroundLineLimit:!0}),this.addScalePoint(h[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>this.scalePoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[0]=2*n/l}}}}])&&Gs(e.prototype,o),l&&Gs(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Qs(t){"@babel/helpers - typeof";return(Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zs(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xs(t,e){return(Xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=tc(t);if(e){var n=tc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function tc(t){return(tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol35500=qs;var ec=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xs(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol23500);var e,o,l,n=$s(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.2),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<3&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);var r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/i;(a>.2||a<=0)&&(a=.2),this.scaleValues[0]=a}var u=this.scaleValues[0],p=this.scaleValues[2],s=this.scaleValues[3],c=i*u,P=new SuperMapAlgoPlot.Point(r.x+i*p,r.y+i*s);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],P,c,0),this.addScalePoint(P);var f=c,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,f,f,90);this.addScalePoint(g),this.finish()}}}])&&Zs(e.prototype,o),l&&Zs(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function oc(t){"@babel/helpers - typeof";return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function nc(t,e){return(nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function rc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ic(t);if(e){var n=ic(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ic(t){return(ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol37700=ec;var ac=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=rc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){for(var o=this.mergeDashLine(this.dashLines,[]),l=this.computeDashLine(o,e),n=0;n<l.length;n++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l[n]);var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var a=this.getDefaultSubSymbolSize()/r;(a>.3||a<=0)&&(a=.3),this.scaleValues[0]=.4*a}var u=r*this.scaleValues[0],p=r*this.scaleValues[2],s=r*this.scaleValues[3],c=new SuperMapAlgoPlot.Point(i.x+p,i.y+s),P=.6*u,f=new SuperMapAlgoPlot.Point(c.x+u,c.y),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,P,P,0),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,P,P,180),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0});var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,P,P,90),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,P,P,270);(h=[]).push(S),h.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0});var A=new SuperMapAlgoPlot.Point(c.x-u,c.y),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,.5*u,.5*u,270),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,u,u,240),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,u,u,90),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(A,u,u,300);(h=[]).push(d),h.push(M),h.push(v),h.push(m),h.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,{lineTypeLimit:!0,surroundLineLimit:!0}),this.scalePoints=[];var O=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,u,u,0);this.addScalePoint(O),this.addScalePoint(c),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=n*this.scaleValues[2],a=n*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(r.x+i,r.y+a),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u)/n;this.scaleValues[0]=p}else if(1==t){var s=(e.x-r.x)/n,c=(e.y-r.y)/n;this.scaleValues[2]=s,this.scaleValues[3]=c}}}}])&&lc(e.prototype,o),l&&lc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function uc(t){"@babel/helpers - typeof";return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function sc(t,e){return(sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Pc(t);if(e){var n=Pc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Pc(t){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40100=ac;var fc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=cc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="调",e}return e=r,o&&pc(e.prototype,o),l&&pc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function gc(t){"@babel/helpers - typeof";return(gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function hc(t,e){return(hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bc(t);if(e){var n=bc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===gc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bc(t){return(bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010301=fc;var Ac=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=Sc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="出",e}return e=r,o&&yc(e.prototype,o),l&&yc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function dc(t){"@babel/helpers - typeof";return(dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function vc(t,e){return(vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function mc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Oc(t);if(e){var n=Oc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===dc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Oc(t){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010303=Ac;var wc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol21600);var e,o,l,n=mc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="协",e}return e=r,(o=[{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&Mc(e.prototype,o),l&&Mc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Uc(t){"@babel/helpers - typeof";return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vc(t,e){return(Vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jc(t);if(e){var n=jc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jc(t){return(jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010304=wc;var Rc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Tc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(2==t.length){var o=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),l=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),n=SuperMapAlgoPlot.PlottingUtil.distance(o,l),r=180*SuperMapAlgoPlot.PlottingUtil.radian(o,l)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,n,n,r+60);e.push(t[0]),e.push(l),e.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e)}else{t.push(t[0]);for(var a=this.mergeDashLine(this.dashLines,[]),u=this.computeDashLine(a,t),p=0;p<u.length;p++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u[p]);for(var s=0;s<t.length;s++)e.push(t[s])}var c=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var f=this.scaleValues[0],g=this.scaleValues[1],y=this.scaleValues[2],h=new SuperMapAlgoPlot.Point(c.x+P*f,c.y+P*g),S=P*y;if(0<this.subSymbols.length){this.computeSubSymbol(this.subSymbols[0],h,S,0),this.addScalePoint(h.clone());var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,.5*S,.5*S,90);this.addScalePoint(b)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];if(2==o.length){var n=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),r=new SuperMapAlgoPlot.Point(o[1].x,o[1].y),i=SuperMapAlgoPlot.PlottingUtil.distance(n,r),a=180*SuperMapAlgoPlot.PlottingUtil.radian(n,r)/Math.PI,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,a+60);l.push(o[0]),l.push(r),l.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l)}else{this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var p=0;p<o.length;p++)l.push(o[p])}var s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)this.scaleValues[0]=(e.x-s.x)/c,this.scaleValues[1]=(e.y-s.y)/c;else if(1===t){var P=new SuperMapAlgoPlot.Point(s.x+c*this.scaleValues[0],s.y+c*this.scaleValues[1]),f=2*SuperMapAlgoPlot.PlottingUtil.distance(e,P)/c;f<.5&&(this.scaleValues[2]=f)}}}}])&&Lc(e.prototype,o),l&&Lc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _c(t){"@babel/helpers - typeof";return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ec(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function xc(){return(xc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yc(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function Bc(t,e){return(Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Yc(t);if(e){var n=Yc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Yc(t){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3020901=Rc;var Ic=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Cc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.126),e.CLASS_NAME="SuperMapAlgoPlot.GeoTooltipBox",e}return e=r,(o=[{key:"destroy",value:function(){xc(Yc(r.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=this.scaleValues[0];if(!(t<0||t>1)){if(t=(1-t)/2,this.controlPoints.length>=this.minEditPts){var e,o,l,n,r,i;this.controlPoints[2]&&(this.controlPoints[2].isFixedPos=!0),this.controlPoints[0].x<this.controlPoints[1].x?(e=this.controlPoints[0].x,l=this.controlPoints[1].x):(e=this.controlPoints[1].x,l=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(n=this.controlPoints[0].y,o=this.controlPoints[1].y):(n=this.controlPoints[1].y,o=this.controlPoints[0].y),r=this.controlPoints[2].x,i=this.controlPoints[2].y;var a=0,u=(o-n)/(l-e);a=r<e?i>o?Math.abs((i-o)/(r-e))>u?2:1:i<n&&Math.abs((i-n)/(r-e))>u?4:1:r>l?i>o?Math.abs((i-o)/(r-l))>u?2:3:i<n&&Math.abs((i-n)/(r-l))>u?4:3:i>o?2:i<n?4:0,this.scalePoints=[];var p=[];switch(p.push(new SuperMapAlgoPlot.Point(e,n)),p.push(new SuperMapAlgoPlot.Point(e,o)),p.push(new SuperMapAlgoPlot.Point(l,o)),p.push(new SuperMapAlgoPlot.Point(l,n)),a){case 0:break;case 1:this.addScalePoint(new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),p.splice(a,0,new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(e,n+(o-n)*t));break;case 2:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),p.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,o));break;case 3:this.addScalePoint(new SuperMapAlgoPlot.Point(l,o-(o-n)*t)),p.splice(a,0,new SuperMapAlgoPlot.Point(l,n+(o-n)*t)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(l,o-(o-n)*t));break;case 4:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,n)),p.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,n)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,n))}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p),this.annotationContent(e,o,l,n)}this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint&&0==t){var o,l,n,r,i,a,u=this.scalePoints[0];this.controlPoints[0].x<this.controlPoints[1].x?(o=this.controlPoints[0].x,n=this.controlPoints[1].x):(o=this.controlPoints[1].x,n=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(r=this.controlPoints[0].y,l=this.controlPoints[1].y):(r=this.controlPoints[1].y,l=this.controlPoints[0].y),i=this.controlPoints[2].x,a=this.controlPoints[2].y;var p=(l-r)/(n-o),s=.25;switch(i<o?a>l?Math.abs((a-l)/(i-o))>p?2:1:a<r&&Math.abs((a-r)/(i-o))>p?4:1:i>n?a>l?Math.abs((a-l)/(i-n))>p?2:3:a<r&&Math.abs((a-r)/(i-n))>p?4:3:a>l?2:a<r?4:0){case 1:case 3:var c=u.y+(e.y-u.y);c>l&&(c=l),c<(l+r)/2&&(c=(l+r)/2),s=1-2*(l-c)/(l-r);break;case 2:case 4:var P=u.x+(e.x-u.x);P>n&&(P=n),P<(o+n)/2&&(P=(o+n)/2),s=1-2*(n-P)/(n-o)}s<0&&(s=0),s>1&&(s=1),this.scaleValues[0]=s}this.calculateParts()}}])&&Ec(e.prototype,o),l&&Ec(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Dc(t){"@babel/helpers - typeof";return(Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function kc(t,e){return(kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Fc(t);if(e){var n=Fc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Fc(t){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.GeoTooltipBox=Ic;var Wc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=zc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1021",e.QIANJI_RATE1=9,e.QIANJI_RATE2=20,e.QIANJI_RATE4=5,e.QIANJI_RATE3=1/3,e.QIANJI_TAIL_RATE1=8,e.QIANJI_TAIL_RATE2=3,e.QIANJI_TAIL_RATE3=.6,e.SV1_Default=.25,e.SV1_MinValue=0,e.SV1_MaxValue=.5,e.DEFAULT_ARROW_TAIL_POS=.4,e.SCALE_VALUE_COUNT=1,e.MIN_LEN_LeftToRightCenter=1e-7,e.SCALE_AT=1/3,e.SCALE_ATAJ=1/7,e.SCALE_ATAE=1/3,e.SCALE_AW=2/3,e.SCALE_ATAJctrlDefSide=.8,e.SCALE_ATAJctrlSameSide=2/3,e.SCALE_MM_LEFT=.25,e.SCALE_MM_RIGHT=.75,e.BEZIER_K1=1/3,e.QIANJI_OPERATE_RATE1=1,e.m_dMaxDis=0,e.m_bIsAnimation=!1,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.components.length=0,this.m_scalePoints=[],(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<3)){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=this.arrowMeshs(e);o.LeftArowHead.unshift(o.LeftArowLeftBody[0][o.LeftArowLeftBody[0].length-1]),o.RightArowHead.unshift(o.RightArowLeftBody[o.RightArowLeftBody.length-1]),o.LeftArowLeftBody[0].push(o.LeftArowHead[0]),o.RightArowLeftBody.push(o.RightArowHead[0]),o.shapePts.push(o.shapePts[0]);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.LeftArowLeftBody[0]),n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*l,o.LeftArowLeftBody[0]),r=[],i=[];if(n.bfind)for(var a=0;a<=n.index;a++)r.push(o.LeftArowLeftBody[0][a]);var u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*l,o.LeftArowLeftBody[0]);if(u.bfind)for(var p=u.index;p<o.LeftArowLeftBody[0].length-1;p++)i.push(o.LeftArowLeftBody[0][p]);var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.RightArowLeftBody),c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*s,o.RightArowLeftBody),P=[],f=[];if(c.bfind)for(var g=0;g<=c.index;g++)P.push(o.RightArowLeftBody[g]);var y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*s,o.RightArowLeftBody);if(y.bfind)for(var h=y.index;h<o.RightArowLeftBody.length-1;h++)f.push(o.RightArowLeftBody[h]);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.RightArowRightBody),b=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*S,o.RightArowRightBody),A=[],d=[];if(b.bfind)for(var M=0;M<=b.index;M++)A.push(o.RightArowRightBody[M]);var v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*S,o.RightArowRightBody);if(v.bfind)for(var m=v.index;m<o.RightArowRightBody.length-1;m++)d.push(o.RightArowRightBody[m]);o.shapePts.length>0&&(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o.shapePts,{strokeWidth:0,weight:0,lineWidthLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.LeftArowHead,{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.LeftArowRightBody),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.RightArowHead,{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d)),this.scalePoints=[];for(var O=0;O<this.m_scalePoints.length;O++)this.m_scalePoints[O].isScalePoint=!0,this.m_scalePoints[O].tag=O,this.scalePoints.push(this.m_scalePoints[O]);this.scalePoints=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(this.scalePoints),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;var l,n=SuperMapAlgoPlot.PlottingUtil.operateControlPoints(o),r=new SuperMapAlgoPlot.Point((n[0].x+n[1].x)/2,(n[0].y+n[1].y)/2),i=new SuperMapAlgoPlot.Point((n[2].x+n[3].x)/2,(n[2].y+n[3].y)/2),a=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r,i);if(a.isOnline){var u=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r),p=SuperMapAlgoPlot.PlottingUtil.distance(r,i);(l=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(u,0)?this.SV1_MinValue:u/p)>this.SV1_MaxValue&&(l=this.SV1_MaxValue)}else l=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r)<SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,i)?this.SV1_MinValue:this.SV1_MaxValue;this.scaleValues=[],this.scaleValues.push(l)}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=new SuperMapAlgoPlot.Path2D,o=[];o=this.m_bIsAnimation&&4===t.length?SuperMapAlgoPlot.PlottingUtil.clonePoints(t):SuperMapAlgoPlot.PlottingUtil.operateControlPoints(t);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[3]),r=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]),i=o[1].clone(),a=.5*(o[0].x+o[3].x),u=.5*(o[0].y+o[3].y),p=new SuperMapAlgoPlot.Point(a,u),s=.5*(o[1].x+o[2].x),c=.5*(o[1].y+o[2].y),P=new SuperMapAlgoPlot.Point(s,c),f=SuperMapAlgoPlot.PlottingUtil.distance(p,P);f<this.MIN_LEN_LeftToRightCenter&&(f=this.MIN_LEN_LeftToRightCenter),p.x=a+n*(a-s)/(f*this.QIANJI_RATE1),p.y=u+n*(u-c)/(f*this.QIANJI_RATE1),P.x=s+r*(s-a)/(f*this.QIANJI_RATE1),P.y=c+r*(c-u)/(f*this.QIANJI_RATE1);var g=new SuperMapAlgoPlot.Point(0,0),y=new SuperMapAlgoPlot.Point(0,0);g.x=a+n*(a-s)/(f*this.QIANJI_RATE2),g.y=u+n*(u-c)/(f*this.QIANJI_RATE2),y.x=s+r*(s-a)/(f*this.QIANJI_RATE2),y.y=c+r*(c-u)/(f*this.QIANJI_RATE2);var h=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),S=new SuperMapAlgoPlot.Point((o[2].x+o[3].x)/2,(o[2].y+o[3].y)/2),b=o[3].x-(o[3].x-p.x)*this.SCALE_AT,A=o[3].y-(o[3].y-p.y)*this.SCALE_AT,d=o[2].x-(o[2].x-P.x)*this.SCALE_AT,M=o[2].y-(o[2].y-P.y)*this.SCALE_AT,v=new SuperMapAlgoPlot.Point(0,0),m=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0),w=new SuperMapAlgoPlot.Point(0,0);m.x=b-(A-o[3].y)*this.SCALE_ATAJ,m.y=A+(b-o[3].x)*this.SCALE_ATAJ,v.x=b+(A-o[3].y)*this.SCALE_ATAJ,v.y=A-(b-o[3].x)*this.SCALE_ATAJ,w.x=d-(M-o[2].y)*this.SCALE_ATAJ,w.y=M+(d-o[2].x)*this.SCALE_ATAJ,O.x=d+(M-o[2].y)*this.SCALE_ATAJ,O.y=M-(d-o[2].x)*this.SCALE_ATAJ;var U=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),V=new SuperMapAlgoPlot.Point(0,0),T=new SuperMapAlgoPlot.Point(0,0);U.x=3*v.x-2*b-(o[3].x-b)*this.SCALE_ATAE,U.y=3*v.y-2*A-(o[3].y-A)*this.SCALE_ATAE,L.x=3*m.x-2*b-(o[3].x-b)*this.SCALE_ATAE,L.y=3*m.y-2*A-(o[3].y-A)*this.SCALE_ATAE,V.x=3*O.x-2*d-(o[2].x-d)*this.SCALE_ATAE,V.y=3*O.y-2*M-(o[2].y-M)*this.SCALE_ATAE,T.x=3*w.x-2*d-(o[2].x-d)*this.SCALE_ATAE,T.y=3*w.y-2*M-(o[2].y-M)*this.SCALE_ATAE,p.x=a+n*(a-s)/(f*this.QIANJI_RATE4),p.y=u+n*(u-c)/(f*this.QIANJI_RATE4),P.x=s+r*(s-a)/(f*this.QIANJI_RATE4),P.y=c+r*(c-u)/(f*this.QIANJI_RATE4);var j=new SuperMapAlgoPlot.Point(0,0);j.x=o[0].x+(p.x-o[0].x)*this.SCALE_AW,j.y=o[0].y+(p.y-o[0].y)*this.SCALE_AW;var R=new SuperMapAlgoPlot.Point(0,0);R.x=o[1].x+(P.x-o[1].x)*this.SCALE_AW,R.y=o[1].y+(P.y-o[1].y)*this.SCALE_AW;var _=new SuperMapAlgoPlot.Point(0,0);_.x=v.x+(p.x-v.x)*this.SCALE_ATAJctrlSameSide,_.y=v.y+(p.y-v.y)*this.SCALE_ATAJctrlSameSide;var E=new SuperMapAlgoPlot.Point(0,0);E.x=w.x+(P.x-w.x)*this.SCALE_ATAJctrlSameSide,E.y=w.y+(P.y-w.y)*this.SCALE_ATAJctrlSameSide;var x=new SuperMapAlgoPlot.Point(0,0);x.x=m.x+(g.x-m.x)*this.SCALE_ATAJctrlDefSide,x.y=m.y+(g.y-m.y)*this.SCALE_ATAJctrlDefSide;var B=new SuperMapAlgoPlot.Point(0,0);B.x=O.x+(y.x-O.x)*this.SCALE_ATAJctrlDefSide,B.y=O.y+(y.y-O.y)*this.SCALE_ATAJctrlDefSide;var C=new SuperMapAlgoPlot.Point(0,0);C.x=h.x+(S.x-h.x)*l,C.y=h.y+(S.y-h.y)*l,this.m_scalePoints.push(new SuperMapAlgoPlot.Point(C.x,C.y));var Y=new SuperMapAlgoPlot.Point(0,0),I=new SuperMapAlgoPlot.Point(0,0);Y.x=o[0].x+(o[3].x-o[0].x)*l,Y.y=o[0].y+(o[3].y-o[0].y)*l,I.x=o[1].x+(o[2].x-o[1].x)*l,I.y=o[1].y+(o[2].y-o[1].y)*l,Y.x=Y.x+(C.x-Y.x)*this.QIANJI_RATE3,Y.y=Y.y+(C.y-Y.y)*this.QIANJI_RATE3,I.x=I.x+(C.x-I.x)*this.QIANJI_RATE3,I.y=I.y+(C.y-I.y)*this.QIANJI_RATE3;var D=[];D.push(o[0].clone()),D.push(j.clone()),D.push(_.clone()),D.push(v.clone()),e.MoveTo(D[0]),e.CurveTo(D[1],D[2],D[3]);var N,k=[],z=[],F=[],W=[],G=[],J=[],H=[];for(e.ToSubPathPolygons(H),k.push(H[0]),N=H[0].length,e.LineTo(U),e.LineTo(o[3]),e.LineTo(L),(D=[]).push(m),D.push(x),D.push(Y),D.push(C),e.LineTo(D[0]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)z.push(H[0][N]);for(N=H[0].length,e.CurveTo(D[1],D[2],D[3]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)F.push(H[0][N]);for(N=H[0].length,(D=[]).push(I),D.push(B),D.push(O),e.CurveTo(D[0],D[1],D[2]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)W.push(H[0][N]);for(N=H[0].length,e.LineTo(V),e.LineTo(o[2]),e.LineTo(T),(D=[]).push(w),D.push(E),D.push(R),D.push(i),e.LineTo(D[0]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)G.push(H[0][N]);for(N=H[0].length,e.CurveTo(D[1],D[2],D[3]),H=[],e.ToSubPathPolygons(H);N<H[0].length;N++)J.push(H[0][N]);return H=[],e.ToSubPathPolygons(H),{shapePts:H[0],LeftArowLeftBody:k,LeftArowHead:z,LeftArowRightBody:F,ArowMidBody:[],RightArowLeftBody:W,RightArowHead:G,RightArowRightBody:J}}}])&&Nc(e.prototype,o),l&&Nc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Gc(t){"@babel/helpers - typeof";return(Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hc(t,e){return(Hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Kc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=qc(t);if(e){var n=qc(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Gc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function qc(t){return(qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1021=Wc;var Qc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hc(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Kc(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).MIN_GEOPT_COUNT=2,e.MAX_GEOPT_COUNT=1024,e.SV1_defaultATLenDivABLen=0,e.SV2_defaultAYPosScale=.65,e.SV_AJCtrl=.6,e.SV_ArrowWoCtrl=.6,e.SV2_DefaultAJWidDiviedByATLen=.148,e.SV3_DefaultAEWidDividedByATLen=.4,e.SV4_DefaultAELenDividedByATLen=.3,e.SV_ATScaleParameter=1.25,e.SV_ATLenDividedByATWid=1.35,e.SV_ATWidDividedByArrowWeiWid=.5,e.AB_VERTEX_COUNT=4,e.MIN_PTCOUNT_PERARROW=3,e.ATL_DIV_AWW=.7,e.ATL_DIV_ABL=.12,e.ATL_DIV_ABL_1=.18,e.DEFAULT_ARROW_TAIL_POS=.12,e.DUOJIANTOU_TAIL_RATE_1=8,e.DUOJIANTOU_TAIL_RATE_2=3,e.DUOJIANTOU_TAIL_RATE_3=.6,e.AB_CTRLPT_RATE1=0,e.AB_CTRLPT_RATE2=3,e.AB_CTRLPT_RATE3=.5,e.MIN_SCALEVALUE=.1,e.MAX_SCALEVALUE=1,e.m_scalePoints=null,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1002",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),this.m_scalePoints=[];var t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.operateCtrlPts(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=this.scaleValues.length;if(n<2*l-1){0==n&&(this.scaleValues.push(this.SV1_defaultATLenDivABLen),n++);for(var r=2*l-1-n,i=0;i<r;i+=2)this.scaleValues.splice(n/2+1,0,this.SV1_defaultATLenDivABLen),this.scaleValues.splice(this.scaleValues.length,0,this.SV2_defaultAYPosScale)}else if(n>2*l-1){for(var a=0;a<l;a++)this.scaleValues.push(this.SV1_defaultATLenDivABLen);for(var u=0;u<l-1;u++)this.scaleValues.push(this.SV2_defaultAYPosScale)}var p=this.arrowMeshs(e);SuperMapAlgoPlot.PlottingUtil.clearSamePts(p.shapePts);var s=!1;if(void 0!==t[0].z&&(s=!0),s){var c=this.operateCtrlPts3D(t),P=p.arrLeftPts2D,f=p.arrRightPts2D,g=p.arrHeadPts2D;if(l!=P.length&&l!=f.length&&l!=g.length)return!1;for(var y=[],h=0;h<l;h++){for(var S=[],b=3*h;b<3*(h+1)&&b<c.length;b++)S.push(c[b]);y.push(S)}for(var A=[],d=[],M=[],v=0;v<l;v++)if(!(2>y[v].length)){for(var m=P[v][P[v].length-1],O=f[v][0],w=new SuperMapAlgoPlot.Point(.5*(m.x+O.x),.5*(m.y+O.y)),U=y[v][y[v].length-1],L=y[v][y[v].length-2],V=this.ComputeZValue(w,U,L),T={x:w.x,y:w.y,z:V},j=[],R=[],_=0;_<y[v].length-1;_++)if(0==v)R.push(y[v][_]);else{var E={x:y[v][_].x,y:y[v][_].y,z:.5*(y[v][_].z+y[v-1][_].z)};R.push(E)}R.push(T),this.ComputeBeizerZValueByDis(R,P[v],j),A.push(j),j=[];var x=[];x.push(T);for(var B=y[v].length-2;B>=0;B--)if(v==l-1)x.push(y[v][B]);else{var C={x:y[v][B].x,y:y[v][B].y,z:.5*(y[v][B].z+y[v+1][B].z)};x.push(C)}this.ComputeBeizerZValueByDis(x,f[v],j),d.push(j),j=[];for(var Y=g[v],I=0;I<Y.length;I++){var D=this.ComputeZValue(Y[I],U,L);j.push({x:Y[I].x,y:Y[I].y,z:D})}M.push(j)}for(var N=[],k=0;k<l;k++)N=(N=(N=N.concat(A[k])).concat(M[k])).concat(d[k]);return SuperMapAlgoPlot.PlottingUtil.clearSamePts(N),p.shapePts.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N,{surroundLineFlag:!1}),this.scalePoints=this.scalePoints.concat(this.m_scalePoints),!0}if(p.shapePts.length>0){P=p.arrLeftPts2D,f=p.arrRightPts2D,g=p.arrHeadPts2D;for(var z=[],F=[],W=0;W<P.length;W++){for(var G=this.mergeDashLine(this.dashLines,[]),J=this.computeDashLine(G,P[W]),H=0;H<J.length-1;H++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,J[H]);z.push(J[J.length-1])}for(var K=0;K<f.length;K++){for(var q=this.mergeDashLine(this.dashLines,[]),Q=this.computeDashLine(q,f[K].reverse()),Z=0;Z<Q.length-1;Z++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Q[Z].reverse());F.push(Q[Q.length-1].reverse())}for(var X=0;X<g.length;X++){var $=[];$=($=($=$.concat(z[X])).concat(g[X])).concat(F[X]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,$)}}this.scalePoints=[];for(var tt=0;tt<this.m_scalePoints.length;tt++)this.m_scalePoints[tt].isScalePoint=!0,this.m_scalePoints[tt].tag=tt,this.addScalePoint(this.m_scalePoints[tt])}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=this.operateCtrlPts(this.controlPoints),l=o.length,n=Math.floor(l/this.MIN_PTCOUNT_PERARROW),r=0;if(t<n){var i=[],a=t*this.MIN_PTCOUNT_PERARROW;i[0]=o[a],i[1]=o[a+1],i[2]=o[a+2];var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),p=new SuperMapAlgoPlot.Point(0,0),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,i[0],i[1],i[2],p,s),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,i[2],i[1],s,c),r=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(i[2],c,e).dLen1/(this.SV4_DefaultAELenDividedByATLen+1)/u}else{var P=[],f=[],g=(t-n)*this.MIN_PTCOUNT_PERARROW;P[0]=o[g],P[1]=o[g+1],P[2]=o[g+2];var y=(t-n+1)*this.MIN_PTCOUNT_PERARROW;f[0]=o[y],f[1]=o[y+1],f[2]=o[y+2];var h=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),b=new SuperMapAlgoPlot.Point(0,0);h.x=.5*(P[2].x+f[2].x),S.x=.5*(P[1].x+f[1].x),b.x=.5*(P[0].x+f[0].x),h.y=.5*(P[2].y+f[2].y),S.y=.5*(P[1].y+f[1].y),b.y=.5*(P[0].y+f[0].y);var A=SuperMapAlgoPlot.PlottingUtil.distance(h,S),d=SuperMapAlgoPlot.PlottingUtil.distance(b,S),M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(h,S,e),v=M.dLen1;r=v<A?v/(A+d):((v=(M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(S,b,e)).dLen1)+A)/(A+d)}r>this.MAX_SCALEVALUE?r=this.MAX_SCALEVALUE:r<this.MIN_SCALEVALUE&&(r=this.MIN_SCALEVALUE),this.scaleValues[t]=r}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[];t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var n=new SuperMapAlgoPlot.Path2D,r=t.length,i=Math.floor(r/this.MIN_PTCOUNT_PERARROW),a=this.generateAWWidth(i,t),u=[],p=[],s=0,c=0,P=0,f=[];for(c=0,P=0;c<i;c++,P+=this.MIN_PTCOUNT_PERARROW){f[0]=t[P],f[1]=t[P+1],f[2]=t[P+2],s=this.scaleValues[c];var g=this.generateArrowBodyPts(f,a[c],s);s=g.dATLenDivABLen,u[c]=g.arrowBodyPts,p.push(s)}var y=[],h=0,S=0,b=0,A=[],d=[];for(c=0;c<i-1;c++,S+=this.MIN_PTCOUNT_PERARROW){b=S+this.MIN_PTCOUNT_PERARROW,A[0]=t[S],A[1]=t[S+1],A[2]=t[S+2],d[0]=t[b],d[1]=t[b+1],d[2]=t[b+2],h=this.scaleValues[i+c];var M=this.generateAYPts(A,u[c],d,u[c+1],h);y.push(M.arrowLeftYaoPts),y.push(M.arrowRightYaoPts)}var v=[],m=u[0],O=[],w=0,U=[];n.MoveTo(m[0]),n.CurveTo(m[1],m[2],m[3]),n.CurveTo(m[4],m[5],m[6]),n.ToSubPathPolygons(O),e.push(O[0]),w=O[0].length;for(var L=7;L<10;L++)n.LineTo(m[L]);for(O=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);for(l.push(U),v.push(m[0]),v.push(t[0]),c=1,P=this.MIN_PTCOUNT_PERARROW;c<i;c++,P+=this.MIN_PTCOUNT_PERARROW){var V=u[c],T=c+c-2,j=y[T];for(n.LineTo(j[0]),n.CurveTo(j[1],j[2],j[3]),O=[],U=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);o.push(U);var R=y[T+1];for(n.CurveTo(R[1],R[2],R[3]),O=[],U=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);e.push(U);for(var _=7;_<10;_++)n.LineTo(V[_]);for(O=[],U=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);l.push(U),v.push(t[P].clone())}var E=u[i-1];for(n.LineTo(E[10]),n.CurveTo(E[11],E[12],E[13]),n.CurveTo(E[14],E[15],E[16]),O=[],U=[],n.ToSubPathPolygons(O);w<O[0].length;w++)U.push(O[0][w]);o.push(U),v.push(E[16]);var x=[];return n.ToSubPathPolygons(x),{shapePts:x[0],arrLeftPts2D:e,arrRightPts2D:o,arrHeadPts2D:l}}},{key:"operateCtrlPts",value:function(t){t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=o%this.MIN_PTCOUNT_PERARROW,r=new SuperMapAlgoPlot.Point;if(2==n&&(r.x=.5*(e[o-2].x+e[o-1].x),r.y=.5*(e[o-2].y+e[o-1].y),r.x==e[o-1].x&&r.y==e[o-1].y||(e.push(e[o-1].clone()),e[o-1]=r,o++,l++)),o>3)for(var i=l-1,a=0,u=i;a<i;u--,a++)for(var p=u*this.MIN_PTCOUNT_PERARROW,s=0;s<p;s+=this.MIN_PTCOUNT_PERARROW){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[s+3],e[s+1],e[s+2])){var c=e[s];e[s]=e[s+3],e[s+3]=c,c=e[s+1],e[s+1]=e[s+4],e[s+4]=c,c=e[s+2],e[s+2]=e[s+5],e[s+5]=c}}return e=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t,e)}},{key:"operateCtrlPts3D",value:function(t){var e=t,o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n={x:0,y:0,z:0};if(2==o%3&&(n.x=.5*(e[o-2].x+e[o-1].x),n.y=.5*(e[o-2].y+e[o-1].y),n.z=.5*(e[o-2].z+e[o-1].z),n.x==e[o-1].x&&n.y==e[o-1].y&&n.z==e[o-1].z||(e.push(e[o-1]),e[o-1]=n,o++,l++)),o>3)for(var r=l-1,i=0,a=r;i<r;a--,i++)for(var u=3*a,p=0;p<u;p+=3){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[p+3],e[p+1],e[p+2])){var s=e[p];e[p]=e[p+3],e[p+3]=s,s=e[p+1],e[p+1]=e[p+4],e[p+4]=s,s=e[p+2],e[p+2]=e[p+5],e[p+5]=s}}return e}},{key:"generateAWWidth",value:function(t,e){var o=[];if(t>0)if(1==t)o.push(0);else{var l=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[this.MIN_PTCOUNT_PERARROW]);o.push(l);for(var n=1,r=this.MIN_PTCOUNT_PERARROW;n<t-1;n++,r+=this.MIN_PTCOUNT_PERARROW){l=.5*(SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r])+SuperMapAlgoPlot.PlottingUtil.distance(e[r],e[r+this.MIN_PTCOUNT_PERARROW])),o.push(l)}l=SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r]),o.push(l)}return o}},{key:"generateArrowBodyPts",value:function(t,e,o){var l=[],n=[],r=[],i=[],a=[],u=[],p=[],s=t.length-1;if(s<2)return{dATLenDivABLen:o=0,arrowBodyPts:l};var c=o,P=this.SV2_DefaultAJWidDiviedByATLen,f=this.SV3_DefaultAEWidDividedByATLen,g=this.SV4_DefaultAELenDividedByATLen,y=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(y),S=0==e?h*this.ATL_DIV_ABL_1:(h+e)*this.ATL_DIV_ABL,b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(S,y[1],y[0]);n[1]=b.pntLeft.clone(),r[1]=b.pntRight.clone();var A=0;A=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,0,1e-14)?S*this.ATL_DIV_AWW:h*c;var d=SuperMapAlgoPlot.PlottingUtil.distance(y[1],y[2]);A+A>d&&(A=.5*d);var M=A*P;y.push(y[s].clone());var v,m=0;v=h-A;var O=[],w=0;for(w=2;w<=s;w++)m+=SuperMapAlgoPlot.PlottingUtil.distance(y[w-1],y[w-2]),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v,0,1e-14)?O[w]=0:SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v-m,0,1e-14)?O[w]=M:O[w]=M+(S-M)*Math.pow((v-m)/v,this.SV_ATScaleParameter);O[s+1]=M;var U=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),V=new SuperMapAlgoPlot.Point(0,0);for(w=2;w<=s;w++){SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,y[w-2],y[w-1],y[w],L,V),s==w&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,y[s],y[s-1],V,U);var T=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O[w],L,y[w-1]);r[w]=T.pntLeft,n[w]=T.pntRight}var j,R,_=U.clone();if(SuperMapAlgoPlot.PlottingUtil.distance(y[s],_)>0){var E=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,y[s],U);y[s]=E.clone()}for(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[s+1],y[s]),n[s+1]=b.pntLeft,r[s+1]=b.pntRight,w=2;w<=s;w++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,n[w-1],n[w],n[w+1],L,V),i[w]=L.clone(),a[w]=V.clone(),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,r[w-1],r[w],r[w+1],L,V),u[w]=L.clone(),p[w]=V.clone();SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,n[1],n[2],i[2],U),a[1]=U.clone(),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,r[1],r[2],u[2],U),p[1]=U.clone();R=SuperMapAlgoPlot.PlottingUtil.distance(n[s+1],n[s])*(1/3),(j=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(R,y[s],y[s+1])).x+=n[s+1].x-y[s].x,j.y+=n[s+1].y-y[s].y,R=(S-M)*Math.pow(R/v,this.SV_ATScaleParameter+.3),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(R,n[s+1],j),i[s+1]=b.pntLeft.clone(),R=SuperMapAlgoPlot.PlottingUtil.distance(r[s+1],r[s])*(1/3),(j=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(R,y[s],y[s+1])).x+=r[s+1].x-y[s].x,j.y+=r[s+1].y-y[s].y,R=(S-M)*Math.pow(R/v,this.SV_ATScaleParameter+.3),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(R,r[s+1],j),u[s+1]=b.pntRight.clone();var x=[],B=A*g,C=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(B,y[s],y[s+1]);this.m_scalePoints.push(C.clone()),B=A*f,b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(B,y[s+1],C),x.push(b.pntRight),x.push(y[s+1]),x.push(b.pntLeft);var Y=[];for(Y.push(n[s+1]),w=s;w>=1;w--)Y.push(i[w+1]),Y.push(a[w]),Y.push(n[w]);var I=[];for(w=1;w<=s;w++)I.push(r[w]),I.push(p[w]),I.push(u[w+1]);I.push(r[s+1]),l.push.apply(l,I),l.push.apply(l,x),l.push.apply(l,Y),o=A/h;var D=[];for(w=Y.length-1;w>=0;w--)D.push(Y[w]);return{dATLenDivABLen:o,arrowBodyPts:l}}},{key:"generateAYPts",value:function(t,e,o,l,n){var r=new SuperMapAlgoPlot.Point(.5*(t[2].x+o[2].x),.5*(t[2].y+o[2].y)),i=new SuperMapAlgoPlot.Point(.5*(t[1].x+o[1].x),.5*(t[1].y+o[1].y)),a=new SuperMapAlgoPlot.Point(.5*(t[0].x+o[0].x),.5*(t[0].y+o[0].y)),u=SuperMapAlgoPlot.PlottingUtil.distance(r,i),p=SuperMapAlgoPlot.PlottingUtil.distance(a,i),s=n*(u+p),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0);if(s>u){s=u+p-s,c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(s,a,i);var g=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),y=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);g=g*s/p,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(g,t[0],t[1]),y=y*s/p,f=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(y,o[0],o[1])}else{c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(s,r,i);var h=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]),S=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]);h=h*s/u,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(h,t[2],t[1]),S=S*s/u,f=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(S,o[2],o[1])}this.m_scalePoints.push(c.clone());var b=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,P),A=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,f),d=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(b,c,P),M=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,c,f),v=e[11].clone(),m=e[10].clone(),O=l[5].clone(),w=l[6].clone(),U=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,v,c,P),L=SuperMapAlgoPlot.PlottingUtil.distance(U.intersectPoint,m),V=SuperMapAlgoPlot.PlottingUtil.distance(m,c);L=L>V?this.SV_AJCtrl*V:this.SV_AJCtrl*L;var T=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(L,m,v);v=T.clone(),e[11]=T.clone(),U=SuperMapAlgoPlot.PlottingUtil.intersectLines(w,O,c,f),L=(L=SuperMapAlgoPlot.PlottingUtil.distance(U.intersectPoint,w))>(V=SuperMapAlgoPlot.PlottingUtil.distance(w,c))?this.SV_AJCtrl*V:this.SV_AJCtrl*L,O=(T=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(L,w,O)).clone(),l[5]=T.clone();var j=[];j.push(m),j.push(v),j.push(d),j.push(c);var R=[];return R.push(c),R.push(M),R.push(O),R.push(w),{arrowLeftYaoPts:j,arrowRightYaoPts:R}}}])&&Jc(e.prototype,o),l&&Jc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Zc(t){"@babel/helpers - typeof";return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xc(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function $c(t,e){return($c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=eP(t);if(e){var n=eP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function eP(t){return(eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1002=Qc;var oP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$c(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=tP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=e*o,n=this.scaleValues[2]*o*.5,r=this.scaleValues[1],i=!1;i=0!=r;var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!=a){for(var u=[],p=0;p<=a;p+=n){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*n-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),i=0==r;for(var f=u.length,g=0;g<f-1;g+=2){var y=new SuperMapAlgoPlot.Point(u[g].x,u[g].y),h=new SuperMapAlgoPlot.Point(u[g+1].x,u[g+1].y),S=new SuperMapAlgoPlot.Point(0,0);g<f-2&&(S.x=u[g+2].x,S.y=u[g+2].y);var b,A,d=.3*SuperMapAlgoPlot.PlottingUtil.distance(y,h),M=.8*d,v=.6*d;g<f-2&&(b=SuperMapAlgoPlot.PlottingUtil.linePnt(y,S,M),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v,S,y),i||(A=A.pntLeft),SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v,y,b),i&&A.pntRight)}var m=SuperMapAlgoPlot.PlottingUtil.distance(u[f-3],u[f-1]),O=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(m/4,u[f-1],u[f-3]);O.y=(u[f-1].y+u[f-2].y)/2;var w=SuperMapAlgoPlot.PlottingUtil.dirAngle(u[f-3],u[f-1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("钢网",O,m,w),this.finish()}}}}])&&Xc(e.prototype,o),l&&Xc(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function lP(t){"@babel/helpers - typeof";return(lP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function rP(t,e){return(rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function iP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=aP(t);if(e){var n=aP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===lP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function aP(t){return(aP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2060201=oP;var uP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=iP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=e*o,n=this.scaleValues[2]*o*.5,r=this.scaleValues[1],i=!1;i=0!=r;var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!=a){for(var u=[],p=0;p<=a;p+=n){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,p);if(!(s.index<0)){var c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l,t[s.index+1],s.pt);if(i?u.push(c.pntRight):u.push(c.pntLeft),Math.abs(p)<=1e-6){this.scalePoints=[];var P=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);P.isScalePoint=!0,P.tag=0,this.scalePoints.push(P)}else Math.abs(2*n-p)<=1e-6&&((P=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y)).isScalePoint=!0,P.tag=1,this.scalePoints.push(P));i=!i}}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),i=0==r;for(var f=u.length,g=0;g<f-1;g+=2){var y=[],h=new SuperMapAlgoPlot.Point(u[g].x,u[g].y),S=new SuperMapAlgoPlot.Point(u[g+1].x,u[g+1].y),b=new SuperMapAlgoPlot.Point(0,0);g<f-2&&(b.x=u[g+2].x,b.y=u[g+2].y);var A,d,M,v=.3*SuperMapAlgoPlot.PlottingUtil.distance(h,S),m=new SuperMapAlgoPlot.Point(0,0);m.x=(h.x+S.x)/2,m.y=(h.y+S.y)/2,A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v,h,m),d=i?A.pntLeft:A.pntRight,y.push(d),M=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(v/3,d,m),y.push(M.pntLeft),y.push(M.pntRight);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,y,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,lineTypeLimit:!0},!0)}this.finish()}}}}])&&nP(e.prototype,o),l&&nP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function pP(t){"@babel/helpers - typeof";return(pP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function cP(t,e){return(cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function PP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=fP(t);if(e){var n=fP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===pP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fP(t){return(fP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2060202=uP;var gP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=PP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&this.scaleValues.push(.05),this.scaleValues[0]>.4&&(this.scaleValues[0]=.4);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],o=[];o.push(t[0]),o.push(t[1]);var l=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*e,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*e,!1),r=!1;if(t.length>=3){var i=t[2];if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(i,t[0],t[1]))r=!0;else{r=!1;var a=SuperMap.Plot.PlottingUtil.isRight(i,t[0],t[1]),u=.8*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(a){var p=SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],n[1],u),s=SuperMapAlgoPlot.PlottingUtil.dirAngle(p,t[2])*SuperMapAlgoPlot.PlottingUtil.RTOD-SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(s<0&&(s+=360),s>180&&(s-=180),s<10||s>170)r=!0;else{var c=[];c.push(p),c.push(new SuperMapAlgoPlot.Point(t[2].x,t[2].y));var P=SuperMapAlgoPlot.PlottingUtil.paraLine(c,.5*e,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(c,.5*e,!1),g=SuperMapAlgoPlot.PlottingUtil.intersectLines(n[0],n[1],P[0],P[1]);P[0]=g.intersectPoint,g=SuperMapAlgoPlot.PlottingUtil.intersectLines(n[0],n[1],f[0],f[1]),f[0]=g.intersectPoint;for(var y=[],h=[],S=0;S<l.length;S++)y.push(l[S]);y.push(n[n.length-1]);for(var b=0;b<P.length;b++)y.push(P[b]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);for(var A=f.length-1;A>=0;A--)h.push(f[A]);h.push(n[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h)}}else{var d=SuperMapAlgoPlot.PlottingUtil.linePnt(l[0],l[1],u),M=SuperMapAlgoPlot.PlottingUtil.dirAngle(d,t[2])*SuperMapAlgoPlot.PlottingUtil.RTOD-SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(M<0&&(M+=360),M>180&&(M-=180),M<10||M>170)r=!0;else{var v=[];v.push(d),v.push(new SuperMapAlgoPlot.Point(t[2].x,t[2].y));var m=SuperMapAlgoPlot.PlottingUtil.paraLine(v,.5*e,!0),O=SuperMapAlgoPlot.PlottingUtil.paraLine(v,.5*e,!1),w=SuperMapAlgoPlot.PlottingUtil.intersectLines(l[0],l[1],m[0],m[1]);m[0]=w.intersectPoint,w=SuperMapAlgoPlot.PlottingUtil.intersectLines(l[0],l[1],O[0],O[1]),O[0]=w.intersectPoint;var U=[],L=[];U.push(l[0]);for(var V=0;V<m.length;V++)U.push(m[V]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U);for(var T=O.length-1;T>=0;T--)L.push(O[T]);L.push(l[l.length-1]);for(var j=n.length-1;j>=0;j--)L.push(n[j]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L)}}}}else r=!0;if(r){for(var R=n.length-1;R>=0;R--)l.push(n[R]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l)}this.addScalePoint(l[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)){0===this.scaleValues.length&&this.scaleValues.push(.2);var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=2*SuperMapAlgoPlot.PlottingUtil.pointToLineDis(e,o[0],o[1])/l;n>.4&&(n=.4),this.scaleValues[0]=n}}}}])&&sP(e.prototype,o),l&&sP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function yP(t){"@babel/helpers - typeof";return(yP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function SP(t,e){return(SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=AP(t);if(e){var n=AP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===yP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function AP(t){return(AP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21207=gP;var dP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=bP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=.05*e,l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*o,!0);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n=[];n=n.concat(l);for(var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=50*this.getSubSymbolScaleValue(),a=r*i*.02,u=r*i*.005,p=.1*r,s=.1*e,c=0;c<=r;c+=p){var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,c+s);if(-1!==P.index){var f,g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n[P.index],P.pt);f=this.scaleValues[0]>0?new SuperMapAlgoPlot.Point(g.pntLeft.x,g.pntLeft.y):new SuperMapAlgoPlot.Point(g.pntRight.x,g.pntRight.y);var y=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(u,f,P.pt),h=[];if(h.push(y.pntRight),h.push(f),h.push(y.pntLeft),0===c){var S=new SuperMapAlgoPlot.Point(f.x,f.y);S.isScalePoint=!0,S.tag=0,this.scalePoints.push(S)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0})}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e);this.scaleValues[0]=l?-1:1}}}])&&hP(e.prototype,o),l&&hP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function MP(t){"@babel/helpers - typeof";return(MP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function mP(t,e){return(mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function OP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=wP(t);if(e){var n=wP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===MP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function wP(t){return(wP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21216=dP;var UP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=OP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(3>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL,e);for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,a=[],u=0;u<e.length;u++)l>e[u].x&&(l=e[u].x),n<e[u].x&&(n=e[u].x),r>e[u].y&&(r=e[u].y),i<e[u].y&&(i=e[u].y),a.push(e[u]);for(var p=(n-l)/5,s=.2*p,c=[],P=0;P<360;P+=18){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),s,s,P);c.push(f)}for(var g=0,y=l;y<n;y+=p)for(var h=r;h<i;h+=p){var S=new SuperMapAlgoPlot.Point(y,h);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(a,S))if(0===g){if(g=0,this.subSymbols.length>0){var b=.015*o;this.computeSubSymbol(this.subSymbols[0],S,b,0),!0===this.subSymbols[0].fillLimit&&(this.subSymbols[0].fillColor="#332323")}g++}else if(g=0,this.subSymbols.length>0){var A=.015*o;this.computeSubSymbol(this.subSymbols[1],S,A,0)}}this.finish()}}}}])&&vP(e.prototype,o),l&&vP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function LP(t){"@babel/helpers - typeof";return(LP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function TP(t,e){return(TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function jP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=RP(t);if(e){var n=RP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===LP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function RP(t){return(RP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21221=UP;var _P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=jP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=o*this.scaleValues[0],n=e[e.length-1];if(e.length>2){for(var r=-1,i=e.length-2;i>=0;i--)if(l<SuperMapAlgoPlot.PlottingUtil.distance(n,e[i])){r=i;break}e.splice(r+1,e.length-r),e.push(n)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var a=e[e.length-2],u=e[e.length-1],p=l,s=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s+157.5),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s+202.5),f=[];f.push(c),f.push(n),f.push(P);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},!0),this.finish()}}}])&&VP(e.prototype,o),l&&VP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function EP(t){"@babel/helpers - typeof";return(EP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function BP(t,e){return(BP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function CP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=YP(t);if(e){var n=YP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===EP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function YP(t){return(YP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30008=_P;var IP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=CP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(-.04),e.scaleValues.push(-.175),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());var l=o*this.scaleValues[0],n=e[e.length-1];if(e.length>2){for(var r=-1,i=e.length-2;i>=0;i--)if(l<SuperMapAlgoPlot.PlottingUtil.distance(n,e[i])){r=i;break}e.splice(r+1,e.length-r),e.push(n)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var a=e[e.length-2],u=e[e.length-1],p=l,s=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s+157.5),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,s+202.5),f=[];f.push(c),f.push(n),f.push(P);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},!0);var g=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(.8*p,u,a),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,p,p,s+90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,p,p,s-90),S=[];S.push(y),S.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var b=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(1.2*p,u,a),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,p,p,s+90),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,p,p,s-90),M=[];M.push(A),M.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),this.finish()}}}])&&xP(e.prototype,o),l&&xP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function DP(t){"@babel/helpers - typeof";return(DP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function kP(t,e){return(kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=FP(t);if(e){var n=FP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===DP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function FP(t){return(FP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30009=IP;var WP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=zP(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(-.1),e.scaleValues.push(-.1),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=this.scaleValues[1],l=this.scaleValues[2],n=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==n){if(!this.isEdit){var r=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[2]=r/n}t.length===this.minEditPts?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t):this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=new SuperMapAlgoPlot.Point(i.x+e*n,i.y+o*n),u=l*n;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,u,0),this.addText("?",i,.3*n,0,"#0000ff"),this.addScalePoint(a,0);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(p,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t&&(this.scaleValues[0]=(r.x-n.x)/l,this.scaleValues[1]=(r.y-n.y)/l),1===t){var i=this.scaleValues[0],a=this.scaleValues[1],u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u);this.scaleValues[2]=p/l}}}}])&&NP(e.prototype,o),l&&NP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function GP(t){"@babel/helpers - typeof";return(GP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function HP(t,e){return(HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function KP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=qP(t);if(e){var n=qP(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===GP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function qP(t){return(qP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30010=WP;var QP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HP(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=KP(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts||0!==SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t)&&(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t),this.finish())}}])&&JP(e.prototype,o),l&&JP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ZP(t){"@babel/helpers - typeof";return(ZP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XP(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function $P(t,e){return($P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ef(t);if(e){var n=ef(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ZP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ef(t){return(ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30011=QP;var of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$P(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=tf(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=this.scaleValues[1],l=this.scaleValues[2],n=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==n){if(!this.isEdit){var r=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[2]=r/n}var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=new SuperMapAlgoPlot.Point(i.x+e*n,i.y+o*n),u=l*n;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,u,0),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t),this.addScalePoint(a,0);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(p,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t&&(this.scaleValues[0]=(r.x-n.x)/l,this.scaleValues[1]=(r.y-n.y)/l),1===t){var i=this.scaleValues[0],a=this.scaleValues[1],u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u);this.scaleValues[2]=p/l}}}}])&&XP(e.prototype,o),l&&XP(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function lf(t){"@babel/helpers - typeof";return(lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function rf(t,e){return(rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uf(t);if(e){var n=uf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===lf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uf(t){return(uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30012=of;var pf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=af(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.1*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],Math.sqrt(3)*e/4),l=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);l.splice(t.length-1,1),l.push(o);var n=SuperMapAlgoPlot.PlottingUtil.paraLine(l,.25*e,!0),r={lineColorLimit:!0,strokeColor:"#0000ff",color:"#0000ff"},i=SuperMapAlgoPlot.PlottingUtil.paraLine(l,.25*e,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,r);var a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],e),u=new SuperMapAlgoPlot.Point(a.x,a.y),p=new SuperMapAlgoPlot.Point(a.x,a.y);u=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],1/6*Math.PI,u),p=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],11/6*Math.PI,p);var s=[];s.push(u),s.push(t[t.length-1]),s.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,r),this.finish()}}}])&&nf(e.prototype,o),l&&nf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sf(t){"@babel/helpers - typeof";return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pf(t,e){return(Pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gf(t);if(e){var n=gf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gf(t){return(gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30013=pf;var yf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ff(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=.1*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),l=.1*e,n=.5*(e-l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t);if(-1!==r.index){var i=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);i.splice(r.index+1,t.length-r.index-1),i.push(r.pts);var a={lineColorLimit:!0,strokeColor:"#0000ff",color:"#0000ff"},u=SuperMapAlgoPlot.PlottingUtil.paraLine(i,.25*o,!0),p=SuperMapAlgoPlot.PlottingUtil.paraLine(i,.25*o,!1),s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n+l,t);if(-1!==s.index){var c=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);c.splice(0,s.index+1),c.splice(0,0,s.pts);var P=SuperMapAlgoPlot.PlottingUtil.paraLine(c,.25*o,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(c,.25*o,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,a);var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*e,t),y=SuperMapAlgoPlot.PlottingUtil.radian(r.pts,s.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("(XX)",g.pts,l,y),this.finish()}}}}}])&&cf(e.prototype,o),l&&cf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hf(t){"@babel/helpers - typeof";return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bf(t,e){return(bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=df(t);if(e){var n=df(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function df(t){return(df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30014=yf;var Mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Af(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e.subText="水",e._style={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"},e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,this._style);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=this.scaleValues[0],n=this.scaleValues[1],r=e*this.scaleValues[2],i=new SuperMapAlgoPlot.Point(o.x+e*l,o.y+e*n),a=new SuperMapAlgoPlot.Point(i.x+1,i.y),u=[];t.push(t[0].clone());for(var p=0;p<t.length-1;p++){var s=SuperMapAlgoPlot.PlottingUtil.intersectLines(i,a,t[p],t[p+1]);s.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,t[p],t[p+1])&&u.push(s.intersectPoint))}if(0>=u.length)this.finish();else{var c=u[0].clone(),P=u[0].clone();for(p=0;p<u.length;p++)c.x>u[p].x&&(c=u[p].clone()),P.x<u[p].x&&(P=u[p].clone());var f=[],g=new SuperMapAlgoPlot.Point(i.x-r/2,c.y);g.x<=P.x&&g.x>=c.x&&((f=[]).push(c),f.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,this._style));var y=new SuperMapAlgoPlot.Point(i.x+r/2,P.y);y.x<=P.x&&y.x>=c.x&&((f=[]).push(P),f.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,this._style));var h=SuperMapAlgoPlot.PlottingUtil.radian(g,y)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText(this.subText,i,r,h),this.addScalePoint(i,0);var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,r/2,r/2,90);this.addScalePoint(S,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=0,i=0,a=e;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,a))return;r=(a.x-n.x)/l,this.scaleValues[0]=r,i=(a.y-n.y)/l,this.scaleValues[1]=i}if(1===t){r=this.scaleValues[0],i=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+r*l,n.y+i*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(a,u);this.scaleValues[2]=p/l}}}}])&&Sf(e.prototype,o),l&&Sf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function vf(t){"@babel/helpers - typeof";return(vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Of(t,e){return(Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Uf(t);if(e){var n=Uf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Uf(t){return(Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30020=Mf;var Lf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Of(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wf(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=[],o=t[0],l=t[1],n=t[2],r=new SuperMapAlgoPlot.Point(0,0);this.GetPointsByTrapezoid(1,n,l,o,r),e.push(o),e.push(l),e.push(n),e.push(r);var i=SuperMapAlgoPlot.PlottingUtil.intersectLines(o,l,n,r),a=i.intersectPoint;if(i.isIntersectLines&&(a.x>o.x&&a.x<l.x||a.y>o.y&&a.y<l.y||a.x<o.x&&a.x>l.x||a.y<o.y&&a.y>l.y)&&(e[0]=r,e[3]=o),4==e.length){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);o=e[0],l=e[2];var u=[];u.push(o),u.push(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u)}this.finish()}}},{key:"GetPointsByTrapezoid",value:function(t,e,o,l,n){var r=e.x,i=e.y,a=o.x,u=o.y,p=l.x,s=l.y,c=0,P=0,f=0,g=0;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(Math.abs(i-u),0))c=r+a-p,P=s;else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(Math.abs(r-a),0))c=p,P=i+u-s;else{var y=1*(i-u)/(r-a),h=s-y*p;P=y*(c=((u+i)/2+(r+a)/(2*y)-h)/(y+1/y))+h,c=2*c-p,P=2*P-s}var S=Math.sqrt(1*(r-a)*(r-a)+1*(i-u)*(i-u)),b=Math.sqrt(1*(r-c)*(r-c)+1*(i-P)*(i-P));S>0?(f=r+(a-r)*b/S,g=i+(u-i)*b/S):(f=r,g=i);var A=f+(c-f)*t,d=g+(P-g)*t;n.x=A,n.y=d}}])&&mf(e.prototype,o),l&&mf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vf(t){"@babel/helpers - typeof";return(Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function jf(t,e){return(jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_f(t);if(e){var n=_f(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _f(t){return(_f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30023=Lf;var Ef=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Rf(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.subText="",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=this.scaleValues[0]*e,n={lineColorLimit:!0,strokeColor:"#696969",strokeOpacity:1,color:"#696969",opacity:1},r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,l,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,n);var a=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),u=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),p=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI;if(90<p&&p<270){var s=a;a=u,u=s,p=180*SuperMapAlgoPlot.PlottingUtil.radian(a,u)/Math.PI}n={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1};var c=new SuperMapAlgoPlot.Point(.1*e+.5*l,l),P=new SuperMapAlgoPlot.Point(.1*e+.5*l,-l),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,c,p),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,P,p),y=[];y.push(new SuperMapAlgoPlot.Point(g.x,g.y)),y.push(new SuperMapAlgoPlot.Point(f.x,f.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,n);var h=new SuperMapAlgoPlot.Point(.4*e+.5*l,l),S=new SuperMapAlgoPlot.Point(.4*e+.5*l,-l),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,h,p),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,S,p);(y=[]).push(new SuperMapAlgoPlot.Point((f.x+g.x)/2,(f.y+g.y)/2)),y.push(new SuperMapAlgoPlot.Point((b.x+A.x)/2,(b.y+A.y)/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,n);var d=new SuperMapAlgoPlot.Point(.85*e+.5*l,l),M=new SuperMapAlgoPlot.Point(.85*e+.5*l,-l),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,d,p),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,M,p);(y=[]).push(new SuperMapAlgoPlot.Point(m.x,m.y)),y.push(new SuperMapAlgoPlot.Point(v.x,v.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,n);var O=new SuperMapAlgoPlot.Point(.6*e+.5*l,l),w=new SuperMapAlgoPlot.Point(.6*e+.5*l,-l),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,O,p),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,w,p);(y=[]).push(new SuperMapAlgoPlot.Point((v.x+m.x)/2,(v.y+m.y)/2)),y.push(new SuperMapAlgoPlot.Point((U.x+L.x)/2,(U.y+L.y)/2)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,n);var V=new SuperMapAlgoPlot.Point(.5*e+.5*l,l),T=new SuperMapAlgoPlot.Point(.5*e+.5*l,-l),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,O,p),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,w,p),_=SuperMapAlgoPlot.PlottingUtil.dirAngle(j,R)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,E=SuperMapAlgoPlot.PlottingUtil.distance(V,T),x=new SuperMapAlgoPlot.Point((a.x+u.x)/2,(a.y+u.y)/2),B=this.subText;this.addText(B,x,E,_,"#0000FF");var C=new SuperMapAlgoPlot.Point(.12*e+2*l,4*l),Y=new SuperMapAlgoPlot.Point(.12*e+2*l,-l),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,C,p),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(a,Y,p),N=new SuperMapAlgoPlot.Point((I.x+D.x)/2,(I.y+D.y)/2),k=(_=SuperMapAlgoPlot.PlottingUtil.dirAngle(I,D)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,SuperMapAlgoPlot.PlottingUtil.distance(I,D));n={surroundLineFlag:!1,fillColorLimit:!0,fill:!0,lineColorLimit:!0,color:"#00FF00",fillOpacity:.7,surroundLineLimit:!0};if(this.subSymbols.length>0){var z=this.computeSubSymbol(this.subSymbols[0],N,.62*k,_);if(null!=z)for(var F=0;F<z.length;F++)z[F].style.lineColorLimit=!0,z[F].style.strokeColor="#00FF00",z[F].style.color="#00FF00"}this.addScalePoint(r[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){for(var o=0,l=0;l<this.controlPoints.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[l],this.controlPoints[l+1]);var n=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],e)/o;this.scaleValues[0]=n}}}])&&Tf(e.prototype,o),l&&Tf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xf(t){"@babel/helpers - typeof";return(xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Cf(t,e){return(Cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=If(t);if(e){var n=If(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function If(t){return(If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30025=Ef;var Df=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Yf(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=.08*SuperMapAlgoPlot.PlottingUtil.distance(e,o),n={lineColorLimit:!0,color:"#585756"},r=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*l,!0),i=SuperMapAlgoPlot.PlottingUtil.paraLine(t,.5*l,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,n);for(var a=0,u=0;u<r.length-1;u++)a+=SuperMapAlgoPlot.PlottingUtil.distance(r[u],r[u+1]);for(var p,s,c,P,f=a*this.getSubSymbolScaleValue()*.3,g=6*f,y=f;y<=a-f/2;y+=g)-1!==(p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,y)).index&&(v=SuperMapAlgoPlot.PlottingUtil.radian(r[p.index],r[p.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,f,f,v+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,.25*f,.25*f,v+90),(P=[]).push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,n));for(var h=f;h<=a-f/2;h+=g)-1!==(p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,h)).index&&(v=SuperMapAlgoPlot.PlottingUtil.radian(i[p.index],i[p.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,f,f,v+285),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,.25*f,.25*f,v),(P=[]).push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,n));var S=new SuperMapAlgoPlot.Point((r[0].x+r[r.length-1].x)/2,(r[0].y+r[r.length-1].y)/2),b=new SuperMapAlgoPlot.Point((i[0].x+i[i.length-1].x)/2,(i[0].y+i[i.length-1].y)/2),A=new SuperMapAlgoPlot.Point((S.x+b.x)/2,(S.y+b.y)/2),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(S,b)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,M=SuperMapAlgoPlot.PlottingUtil.distance(S,b);this.subText;this.addText("决",A,M,d,"#0000FF");var v,m=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(90<(v=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD)&&v<270){var O=e;e=o,o=O,v=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD}var w=new SuperMapAlgoPlot.Point(.4*m+.25*l,.5*l),U=new SuperMapAlgoPlot.Point(.4*m+.25*l,-.5*l),L=new SuperMapAlgoPlot.Point(.6*m+.25*l,.5*l),V=new SuperMapAlgoPlot.Point(.6*m+.25*l,-.5*l),T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,w,v),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,U,v),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,L,v),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,V,v),E=[];E.push(T),E.push(j),E.push(_),E.push(R),n={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,E,n);var x=new SuperMapAlgoPlot.Point(.1*m-l,.9*l),B=new SuperMapAlgoPlot.Point(.1*m-l,2.5*l),C=new SuperMapAlgoPlot.Point(.9*m+l,.9*l),Y=new SuperMapAlgoPlot.Point(.9*m+l,2.5*l),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,x,v),D=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,B,v),N=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,C,v),k=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,Y,v),z=[];z.push(I),z.push(D),z.push(k),z.push(N),n={lineColorLimit:!0,color:"#1e90ff",fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#add8e6",fillOpacity:1,lineTypeLimit:!0},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,z,n),this.finish()}}}])&&Bf(e.prototype,o),l&&Bf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Nf(t){"@babel/helpers - typeof";return(Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zf(t,e){return(zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Wf(t);if(e){var n=Wf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Nf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Wf(t){return(Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30026=Df;var Gf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ff(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e={lineColorLimit:!0,strokeColor:"#00FF00",strokeOpacity:1,color:"#00FF00",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());var n=new SuperMapAlgoPlot.Point(l.x+1,l.y),r=[];t.push(t[0].clone());for(var i=0;i<t.length-1;i++){var a=SuperMapAlgoPlot.PlottingUtil.intersectLines(l,n,t[i],t[i+1]);a.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(a.intersectPoint,t[i],t[i+1])&&r.push(a.intersectPoint))}if(!(0>=r.length)){var u=r[0].clone(),p=r[0].clone();for(i=0;i<r.length;i++)u.x>r[i].x&&(u=r[i].clone()),p.x<r[i].x&&(p=r[i].clone());var s=SuperMapAlgoPlot.PlottingUtil.distance(p,u),c=new SuperMapAlgoPlot.Point(l.x-.25*s,u.y),P=o*this.scaleValues[0],f=o*this.scaleValues[0],g=f+P,y=new SuperMapAlgoPlot.Point(c.x,c.y+g);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[y,new SuperMapAlgoPlot.Point(y.x+P,y.y)],e);var h=new SuperMapAlgoPlot.Point(c.x,c.y+.8*f),S=new SuperMapAlgoPlot.Point(c.x-f,c.y-f),b=new SuperMapAlgoPlot.Point(c.x+f,c.y-f),A=[];A.push(h),A.push(S),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,e);var d=new SuperMapAlgoPlot.Point(c.x-.5*f,c.y-f),M=new SuperMapAlgoPlot.Point(S.x,S.y-2*P),v=new SuperMapAlgoPlot.Point(c.x+.5*f,c.y-f),m=new SuperMapAlgoPlot.Point(b.x,b.y-2*P),O=[];O.push(d),O.push(M);var w=[];w.push(v),w.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O,e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,e),this.addText("滞",l,2*f,0,"#00FF00"),this.finish()}}}}])&&kf(e.prototype,o),l&&kf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Jf(t){"@babel/helpers - typeof";return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hf(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Kf(t,e){return(Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Qf(t);if(e){var n=Qf(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Qf(t){return(Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30030=Gf;var Zf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kf(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qf(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e={lineColorLimit:!0,strokeColor:"#00FF00",strokeOpacity:1,color:"#00FF00",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,e),this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),n=new SuperMapAlgoPlot.Point(l.x+1,l.y),r=[];t.push(t[0].clone());for(var i=0;i<t.length-1;i++){var a=SuperMapAlgoPlot.PlottingUtil.intersectLines(l,n,t[i],t[i+1]);a.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(a.intersectPoint,t[i],t[i+1])&&r.push(a.intersectPoint))}if(!(0>=r.length)){var u=r[0].clone(),p=r[0].clone();for(i=0;i<r.length;i++)u.x>r[i].x&&(u=r[i].clone()),p.x<r[i].x&&(p=r[i].clone());var s=SuperMapAlgoPlot.PlottingUtil.distance(p,u),c=new SuperMapAlgoPlot.Point(l.x-.25*s,u.y),P=o*this.scaleValues[0],f=o*this.scaleValues[0],g=f+P,y=new SuperMapAlgoPlot.Point(c.x,c.y+g),h=new SuperMapAlgoPlot.Point(y.x+P,y.y),S=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,h),b=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,y);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[b,S],e);var A=new SuperMapAlgoPlot.Point(c.x,c.y+.8*f),d=new SuperMapAlgoPlot.Point(c.x-f,c.y-f),M=new SuperMapAlgoPlot.Point(c.x+f,c.y-f),v=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,A.clone()),m=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,d.clone()),O=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,M.clone()),w=[];w.push(v),w.push(m),w.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,w,e);var U=new SuperMapAlgoPlot.Point(c.x-.5*f,c.y-f),L=new SuperMapAlgoPlot.Point(d.x,d.y-2*P),V=new SuperMapAlgoPlot.Point(c.x+.5*f,c.y-f),T=new SuperMapAlgoPlot.Point(M.x,M.y-2*P),j=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,U),R=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,L),_=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,V),E=SuperMapAlgoPlot.PlottingUtil.rotateAngle(c,Math.PI/2,T),x=[];x.push(j),x.push(R);var B=[];B.push(_),B.push(E),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x,e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B,e),this.addText("踏",l,2*f,0,"#00FF00"),this.finish()}}}}])&&Hf(e.prototype,o),l&&Hf(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Xf(t){"@babel/helpers - typeof";return(Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $f(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tg(t,e){return(tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=og(t);if(e){var n=og(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Xf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function og(t){return(og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3003001=Zf;var lg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t={lineColorLimit:!0,strokeColor:"#00FF00",strokeOpacity:1,color:"#00FF00",opacity:1},e=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,t),this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue());var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),n=new SuperMapAlgoPlot.Point(l.x+1,l.y),r=[];e.push(e[0].clone());for(var i=0;i<e.length-1;i++){var a=SuperMapAlgoPlot.PlottingUtil.intersectLines(l,n,e[i],e[i+1]);a.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(a.intersectPoint,e[i],e[i+1])&&r.push(a.intersectPoint))}if(!(0>=r.length)){var u=r[0].clone(),p=r[0].clone();for(i=0;i<r.length;i++)u.x>r[i].x&&(u=r[i].clone()),p.x<r[i].x&&(p=r[i].clone());var s=SuperMapAlgoPlot.PlottingUtil.distance(p,u),c=new SuperMapAlgoPlot.Point(l.x-.25*s,u.y),P=o*this.scaleValues[0],f=o*this.scaleValues[0],g=f+P,y=new SuperMapAlgoPlot.Point(c.x,c.y+g);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[y,new SuperMapAlgoPlot.Point(y.x+P,y.y)],t);var h=new SuperMapAlgoPlot.Point(c.x,c.y+.8*f),S=new SuperMapAlgoPlot.Point(c.x-f,c.y-f),b=new SuperMapAlgoPlot.Point(c.x+f,c.y-f),A=[];A.push(h),A.push(S),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,t);var d=new SuperMapAlgoPlot.Point(c.x-.5*f,c.y-f),M=new SuperMapAlgoPlot.Point(S.x,S.y-2*P),v=new SuperMapAlgoPlot.Point(c.x+.5*f,c.y-f),m=new SuperMapAlgoPlot.Point(b.x,b.y-2*P),O=[];O.push(d),O.push(M);var w=[];w.push(v),w.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O,t),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,t),this.addText("灾",l,2*f,0,"#00FF00"),this.finish()}}}}])&&$f(e.prototype,o),l&&$f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ng(t){"@babel/helpers - typeof";return(ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ig(t,e){return(ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ag(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ug(t);if(e){var n=ug(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ng(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ug(t){return(ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol30031=lg;var pg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ig(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ag(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),l=this.scaleValues[0],n=this.scaleValues[1],r=e*this.scaleValues[2],i=new SuperMapAlgoPlot.Point(o.x+e*l,o.y+e*n),a=new SuperMapAlgoPlot.Point(i.x+1,i.y),u=[];t.push(t[0].clone());for(var p=0;p<t.length-1;p++){var s=SuperMapAlgoPlot.PlottingUtil.intersectLines(i,a,t[p],t[p+1]);s.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(s.intersectPoint,t[p],t[p+1])&&u.push(s.intersectPoint))}if(0>=u.length)this.finish();else{var c=u[0].clone(),P=u[0].clone();for(p=0;p<u.length;p++)c.x>u[p].x&&(c=u[p].clone()),P.x<u[p].x&&(P=u[p].clone());var f=new SuperMapAlgoPlot.Point(i.x-r/2,c.y),g=new SuperMapAlgoPlot.Point(i.x+r/2,P.y),y=SuperMapAlgoPlot.PlottingUtil.radian(f,g)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("缉",i,r,y),this.addScalePoint(i,0);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,r/2,r/2,90);this.addScalePoint(h,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=e,i=0,a=0;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,r))return;i=(r.x-n.x)/l,this.scaleValues[0]=i,a=(r.y-n.y)/l,this.scaleValues[1]=a}if(1===t){i=this.scaleValues[0],a=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(r,u);this.scaleValues[2]=p/l}}}}])&&rg(e.prototype,o),l&&rg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sg(t){"@babel/helpers - typeof";return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pg(t,e){return(Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gg(t);if(e){var n=gg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gg(t){return(gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40104=pg;var yg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.isEdit||(this.subSymbolScaleValue=this.getDefaultSubSymbolSize()/e,this.subSymbolScaleValue>.2&&(this.subSymbolScaleValue=.2),this.scaleValues[2]=this.subSymbolScaleValue/3);var l=this.scaleValues[0],n=this.scaleValues[1],r=e*this.scaleValues[2],i=new SuperMapAlgoPlot.Point(o.x+e*l,o.y+e*n),a=new SuperMapAlgoPlot.Point(i.x-4*r,i.y),u=new SuperMapAlgoPlot.Point(i.x-4*r,i.y-r/2),p=[];p.push(a),p.push(u);var s={lineTypeLimit:!0,fillLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,s);var c=new SuperMapAlgoPlot.Point(i.x-4*r,i.y),P=new SuperMapAlgoPlot.Point(i.x-r,i.y),f=[];f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,s),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,2*r,0);var g=new SuperMapAlgoPlot.Point(i.x+4*r,i.y),y=new SuperMapAlgoPlot.Point(i.x+r,i.y),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,s);var S=new SuperMapAlgoPlot.Point(i.x+4*r,i.y+r/2),b=new SuperMapAlgoPlot.Point(i.x+4*r,i.y),A=[];A.push(S),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,s),this.addScalePoint(i,0);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,2*r,2*r,90);this.addScalePoint(d,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=0,i=0;if(0===t&&(r=(e.x-n.x)/l,this.scaleValues[0]=r,i=(e.y-n.y)/l,this.scaleValues[1]=i),1===t){r=this.scaleValues[0],i=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(n.x+l*r,n.y+l*i),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e);this.scaleValues[2]=u/2/l}}}}])&&cg(e.prototype,o),l&&cg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hg(t){"@babel/helpers - typeof";return(hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bg(t,e){return(bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ag(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dg(t);if(e){var n=dg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dg(t){return(dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40302=yg;var Mg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ag(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(this.controlPoints.length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=.5*e,l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(o,t);if(-1!==l.index){for(var n=[],r=0;r<l.index+1;r++)n.push(t[r]);var i=[],a=.1*e,u=.5*a,p=.05*e;if(o-SuperMapAlgoPlot.PlottingUtil.polylineDistance(n)>=p){var s=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,t[l.index],p);n.push(s),this.ComputeDashLine(a,u,n);var c=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,t[l.index],p);i.push(c);for(var P=l.index+1;P<t.length;++P)i.push(t[P]);this.ComputeDashLine(a,u,i)}else{for(var f=-1,g=n.length-1;g>=0;g--){var y=new SuperMapAlgoPlot.Point(n[g].x,n[g].y),h=new SuperMapAlgoPlot.Point(l.pts.x,l.pts.y),S=SuperMapAlgoPlot.PlottingUtil.distance(y,h);if(S>p){f=g;break}}if(-1==f)return;n.splice(f+1,n.length-1-f),s=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,t[f],p),n.push(s),this.ComputeDashLine(a,u,n);for(var b=-1,A=n.length-1;A<t.length;A++)if(y=new SuperMapAlgoPlot.Point(t[A].x,t[A].y),h=new SuperMapAlgoPlot.Point(l.pts.x,l.pts.y),(S=SuperMapAlgoPlot.PlottingUtil.distance(y,h))>p){b=A;break}if(-1==b)return;c=SuperMapAlgoPlot.PlottingUtil.linePnt(l.pts,t[b],p),i.push(c);for(var d=b+1;d<t.length;++d)i.push(t[d]);this.ComputeDashLine(a,u,i)}var M=s.clone(),v=c.clone(),m=SuperMapAlgoPlot.PlottingUtil.radian(M,v)*SuperMapAlgoPlot.PlottingUtil.RTOD,O=SuperMapAlgoPlot.PlottingUtil.distance(M,v),w=new SuperMapAlgoPlot.Point((s.x+c.x)/2,(s.y+c.y)/2);this.addText("警",w,O,m),this.finish()}}}},{key:"ComputeDashLine",value:function(t,e,o){for(var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o),r=l/7,i=0;i<7;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,r);if(-1!==a.index){if(0!=i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}n.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}}])&&Sg(e.prototype,o),l&&Sg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function vg(t){"@babel/helpers - typeof";return(vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Og(t,e){return(Og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ug(t);if(e){var n=Ug(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ug(t){return(Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40304=Mg;var Lg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Og(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.02),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues.push(.05),this.scaleValues.push(.05),this.scaleValues.push(.02)):2===this.scaleValues.length?this.scaleValues.push(.3*this.getSubSymbolScaleValue()):1===this.scaleValues.length&&(this.scaleValues.push(.5*this.getSubSymbolScaleValue()),this.scaleValues.push(.3*this.getSubSymbolScaleValue()));var e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.1||l<=0)&&(l=.1),this.scaleValues[0]=l,this.scaleValues[1]=this.getSubSymbolScaleValue(),this.scaleValues[2]=.5*l}var n=this.getLinePts(o,this.scaleValues[0],.5),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.dirAngle(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.computeSubSymbolC(r,a,i);for(var u=[],p=0;p<=n.startIndex;p++)u.push(o[p]);u.push(new SuperMapAlgoPlot.Point(n.startPt.x,n.startPt.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);var s=[];if(n.endIndex<=o.length){s.push(new SuperMapAlgoPlot.Point(n.endPt.x,n.endPt.y));for(var c=n.endIndex+1;c<=o.length-1;c++)s.push(o[c]);this.addArrow(s,this.scaleValues[2])}this.scalePoints=[];var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,.5*a,.5*a,i+90);this.addScalePoint(P,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(l);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*r,n),a=SuperMapAlgoPlot.PlottingUtil.distance(e,i.pts)/r,u=1/o.length-.05;u<=.05&&(u=.05),a>=u&&(a=u),this.scaleValues[0]=a}}}}},{key:"computeSubSymbolC",value:function(t,e,o){for(var l=[],n=0;n<360;n+=12)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.5*e,.5*e,n));l.push(l[0]);var r={lineColorLimit:!0,fillLimit:!1,fillStyle:0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,r);for(var i=[],a=0;a<360;a+=12)i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.25*e,.25*e,a));i.push(i[0]),r={lineColorLimit:!0,fillLimit:!0,fillColorLimit:!0,fillStyle:1,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,r);var u=[];u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.25*e,.25*e,o+90)),u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.5*e,.5*e,o+90)),r={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,r);var p=[];p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.25*e,.25*e,o+270)),p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.5*e,.5*e,o+270)),r={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,r)}}])&&mg(e.prototype,o),l&&mg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vg(t){"@babel/helpers - typeof";return(Vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function jg(t,e){return(jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_g(t);if(e){var n=_g(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _g(t){return(_g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol40305=Lg;var Eg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Rg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0);for(var s=0;s<this.components.length;s++)this.components[s].style.strokeColor="#0000ff",this.components[s].style.lineColorLimit=!0,this.components[s].style.strokeOpacity=1,this.components[s].style.color="#0000ff",this.components[s].style.opacity=1;this.addScalePoint(p);var c=u,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,c,c,90);this.addScalePoint(P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=0,a=0;if(0===t)i=(e.x-n.x)/r,this.scaleValues[2]=i,a=(e.y-n.y)/r,this.scaleValues[3]=a;else if(1===t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(n.x+r*i,n.y+r*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e);this.scaleValues[0]=p/r}}}}])&&Tg(e.prototype,o),l&&Tg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xg(t){"@babel/helpers - typeof";return(xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Cg(t,e){return(Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ig(t);if(e){var n=Ig(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ig(t){return(Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50108=Eg;var Dg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Yg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.088259),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.088259),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3];o.x=o.x+i*l,o.y=o.y+a*l;var u=new SuperMapAlgoPlot.Point(.25*l*r,.25*l*r),p=new SuperMapAlgoPlot.Point(0,.5*l*r),s=new SuperMapAlgoPlot.Point(-.25*l*r,.25*l*r),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,u,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,p,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,s,0);this.addCell(SuperMapAlgoPlot.SymbolType.ARCSYMBOL,[c,P,f],{lineTypeLimit:!0,lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineLimit:!0});var g=new SuperMapAlgoPlot.Point(0,-.3*l*r),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(o,g,0);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c,y,f],{lineTypeLimit:!0,lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1,surroundLineLimit:!0}),this.scalePoints=[];var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,r*l*.5,r*l*.5,180);this.addScalePoint(h,0),this.addScalePoint(o,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){n.x=n.x+this.scaleValues[2]*r,n.y=n.y+this.scaleValues[3]*r;var i=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/r;this.scaleValues[0]=i}else if(1===t){var a=(e.x-n.x)/r;this.scaleValues[2]=a;var u=(e.y-n.y)/r;this.scaleValues[3]=u}}}}])&&Bg(e.prototype,o),l&&Bg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ng(t){"@babel/helpers - typeof";return(Ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zg(t,e){return(zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Wg(t);if(e){var n=Wg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ng(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Wg(t){return(Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50223=Dg;var Gg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.isEdit||(this.subSymbolScaleValue=this.getDefaultSubSymbolSize()/e,this.subSymbolScaleValue>.2&&(this.subSymbolScaleValue=.2),this.scaleValues[0]=this.subSymbolScaleValue);var l=this.scaleValues[0],n=this.scaleValues[2],r=this.scaleValues[3],i=e*l,a=new SuperMapAlgoPlot.Point(o.x+e*n,o.y+e*r);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,i,0),this.addScalePoint(a,0);var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i,i,90);this.addScalePoint(u,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=0,i=0;if(0===t&&(r=(e.x-n.x)/l,this.scaleValues[2]=r,i=(e.y-n.y)/l,this.scaleValues[3]=i),1===t){r=this.scaleValues[2],i=this.scaleValues[3];var a=new SuperMapAlgoPlot.Point(n.x+l*r,n.y+l*i),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e);this.scaleValues[0]=u/2/l}}}}])&&kg(e.prototype,o),l&&kg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Jg(t){"@babel/helpers - typeof";return(Jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hg(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Kg(t,e){return(Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Qg(t);if(e){var n=Qg(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Qg(t){return(Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50225=Gg;var Zg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qg(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(this.controlPoints.length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);this.isEdit||(this.subSymbolScaleValue=this.getDefaultSubSymbolSize()/o,this.subSymbolScaleValue>.2&&(this.subSymbolScaleValue=.2),this.scaleValues[0]=this.subSymbolScaleValue);var n=this.scaleValues[0],r=this.scaleValues[2],i=this.scaleValues[3];l.x=l.x+r*o,l.y=l.y+i*o;var a=new SuperMapAlgoPlot.Point(2*o*n,0),u=new SuperMapAlgoPlot.Point(-2*o*n,0),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,a,0),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,u,0),c=[];c.push(p),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);var P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,a,0),f=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(l,u,0);this.subSymbols.length>0&&(this.computeSubSymbol(this.subSymbols[0],P,n*o,90),this.computeSubSymbol(this.subSymbols[1],f,n*o,90));var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,n*o,n*o,180);this.addScalePoint(g,0),this.addScalePoint(l,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.controlPoints.length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0===t){r.x=r.x+this.scaleValues[2]*n,r.y=r.y+this.scaleValues[3]*n;var i=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/n;this.scaleValues[0]=i}if(1===t){var a=(e.x-r.x)/n;this.scaleValues[2]=a;var u=(e.y-r.y)/n;this.scaleValues[3]=u}}}}])&&Hg(e.prototype,o),l&&Hg(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Xg(t){"@babel/helpers - typeof";return(Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $g(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ty(t,e){return(ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ey(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oy(t);if(e){var n=oy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Xg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oy(t){return(oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50226=Zg;var ly=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ty(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ey(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(-1.5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){this.scaleValues=[];for(var e=0;e<t.length;e++)this.scaleValues.splice(e,0,0);var o=this.getSubSymbolScaleValue();this.scaleValues[t.length]=.8*o,this.scaleValues[t.length+1]=o,this.scaleValues[t.length+2]=-1.5;var l=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[t.length+3]=l,this.scaleValues[t.length+4]=o}this.isEdit&&this.scaleValues.length===t.length+3&&(this.scaleValues[t.length+3]=.5*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),this.scaleValues[t.length+4]=.05),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=this.scaleValues.length,a=r*this.scaleValues[i-3],u=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2),p=new SuperMapAlgoPlot.Point(u.x+a,u.y),s=[];s.push(u),s.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,s,{fillLimit:!0,fill:!0,fillColorLimit:!0,fillColor:"#ff0000",fillOpacity:1});var c=this.scaleValues[0];if(0===c)n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[1],t[0]).pntRight;else if(1===c)n=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[1],t[0]).pntLeft;else{if(2!==c)return;n=t[0]}var P,f=[];if(f.push(t[0]),f.push(n),this.addScalePoint(n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,null,!0),t.length>this.minEditPts){for(var g=1;g<t.length-1;g++){var y,h=[],S=this.scaleValues[g],b=null,A=null,d=null,M=0,v=0,m=0;if(0===S){for(b=t[g],A=t[g+1],d=t[g-1],M=SuperMapAlgoPlot.PlottingUtil.radian(b,A)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=SuperMapAlgoPlot.PlottingUtil.radian(b,d)*SuperMapAlgoPlot.PlottingUtil.RTOD-M;v<0;)v+=360;m=v/2;var O=t[g+1].clone();O=SuperMapAlgoPlot.PlottingUtil.rotateAngle(b,m*Math.PI/180,O),y=SuperMapAlgoPlot.PlottingUtil.linePnt(b,O,a)}else if(1===S){for(b=t[g],A=t[g+1],d=t[g-1],M=SuperMapAlgoPlot.PlottingUtil.radian(b,A)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=SuperMapAlgoPlot.PlottingUtil.radian(b,d)*SuperMapAlgoPlot.PlottingUtil.RTOD-M;v<0;)v+=360;m=180-v/2;var w=t[g-1].clone();O=SuperMapAlgoPlot.PlottingUtil.rotateAngle(b,m*Math.PI/180,w),y=SuperMapAlgoPlot.PlottingUtil.linePnt(b,w,a)}else{if(2!==S)continue;y=t[g]}h.push(t[g]),h.push(y),this.addScalePoint(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,null,!0)}var U=t.length,L=this.scaleValues[U-1],V=0,T=0,j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[U-2],t[U-1]),R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*a,t[U-2],t[U-1]);if(0===L)V=j.pntLeft,T=R.pntLeft;else if(1===L)V=j.pntRight,T=R.pntRight;else{if(2!==L)return;V=t[U-1].clone(),T=t[U-1].clone()}(h=[]).push(t[U-1]),h.push(V),this.addScalePoint(V),this.addScalePoint(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,null,!0)}else{var _=this.scaleValues[1];if(j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,t[0],t[1]),R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*a,t[0],t[1]),0===_)V=j.pntLeft,T=R.pntLeft;else if(1===_)V=j.pntRight,T=R.pntRight;else{if(2!==_)return;V=t[1].clone(),T=t[1].clone()}(h=[]).push(t[1]),h.push(V),this.addScalePoint(V),this.addScalePoint(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,null,!0)}var E=this.scaleValues.length,x=this.scaleValues[E-2],B=Math.abs(r*x),C=this.scaleValues[E-1],Y=Math.abs(a*C),I=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,B);if(-1!==I.index){var D=I.index,N=I.pt;P=C>=0?(j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(Y,t[D],N)).pntRight:(j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(Y,t[D],N)).pntLeft;var k=SuperMapAlgoPlot.PlottingUtil.linePnt(N,P,Y),z=.3*Y,F=SuperMapAlgoPlot.PlottingUtil.linePnt(k,N,z),W=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.3*z,k,F),G=W.pntLeft,J=W.pntRight;(h=[]).push(N),h.push(k),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,null,!0),(h=[]).push(G),h.push(k),h.push(J);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},!0),this.addScalePoint(k),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=o.length,r=e;if(t>=0&&t<n){var i=!1,a=null,u=null;i=0===t?SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],r):t===n-1?SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],r):SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],o[t+1])!==(a=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t-1],o[t],r))?a:(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[t],o[t+1],r))===a?a:u,this.scaleValues[t]=i?1:0}else if(t===n){var p=SuperMapAlgoPlot.PlottingUtil.distance(o[n-1],r)/2;this.scaleValues[t]=p/l}else if(t===n+1||t===n+2){for(var s=-1,c=0,P=new SuperMapAlgoPlot.Point(0,0),f=0;f<o.length-1;f++){var g=[];g.push(o[f]),g.push(o[f+1]);var y=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,o[f],o[f+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(y,g).isOnPolyLine){var h=SuperMapAlgoPlot.PlottingUtil.distance(r,y);-1===s?(s=f,P=y,c=h):c>h&&(s=f,P=y,c=h)}}if(-1===s||s>o.length-1)return;for(var S=0,b=0;b<s;b++){var A=o[b],d=o[b+1];S+=SuperMapAlgoPlot.PlottingUtil.distance(A,d)}var M=o[s];if((S+=SuperMapAlgoPlot.PlottingUtil.distance(M,P))<0||S>l)return;this.scaleValues[n+1]=S/l;var v,m=this.scaleValues.length,O=l*this.scaleValues[m-3];v=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[s],o[s+1],r)?c/O:-Math.abs(c/O),this.scaleValues[n+2]=v}}}}])&&$g(e.prototype,o),l&&$g(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function ny(t){"@babel/helpers - typeof";return(ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ry(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function iy(t,e){return(iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ay(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uy(t);if(e){var n=uy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ny(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uy(t){return(uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50308=ly;var py=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1011);var e,o,l,n=ay(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!==e){SuperMapAlgoPlot.AlgoSymbol1011.prototype.calculateParts.apply(this,arguments),5>this.scaleValues.length&&(this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));for(var o=e*this.scaleValues[4],l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[1],t[0]),n=SuperMapAlgoPlot.PlottingUtil.distance(l.pntLeft,l.pntRight),r=n,i=2.5*n,a=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,u=[],p=120;p<420;p+=12)u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],r,.5*i,p+a-90));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),this.finish()}}}}])&&ry(e.prototype,o),l&&ry(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function sy(t){"@babel/helpers - typeof";return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Py(t,e){return(Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gy(t);if(e){var n=gy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gy(t){return(gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50318=py;var yy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=fy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).RATIO_OUTLINE=.02,e.RATIO_INLINE=.001,e.scaleValues=[],e.scaleValues.push(.02),e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e);2>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.RATIO_OUTLINE),this.scaleValues.push(.05));[].push(o[o.length-1]);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues.push(.5*this.getSubSymbolScaleValue()),this.scaleValues.push(this.getSubSymbolScaleValue()));for(var n=l*this.scaleValues[0],r=t[t.length-1],i=SuperMapAlgoPlot.PlottingUtil.distance(r,o[o.length-1]);i<=1.5*n;)o.pop(),i=SuperMapAlgoPlot.PlottingUtil.distance(r,o[o.length-1]);o.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o);var a=o[o.length-2],u=SuperMapAlgoPlot.PlottingUtil.dirAngle(r,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,n,n,u+14),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,n,n,u-14),c=[];c.push(p),c.push(r),c.push(s);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c,{lineTypeLimit:!0,fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1});var P=l*this.scaleValues[1],f=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],P,P,f+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],P,P,f-90),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=(l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t))*this.scaleValues[0];this.scalePoints=[];var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[o.length-1],S,S,u+180);this.scalePoints.push(b),this.scalePoints.push(g),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=o[o.length-1],r=e;if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.distance(r,n)/l;if(.5<i)return;this.scaleValues[0]=i}else if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(r,o[0])/l;this.scaleValues[1]=a}}}}])&&cy(e.prototype,o),l&&cy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function hy(t){"@babel/helpers - typeof";return(hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function by(t,e){return(by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ay(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dy(t);if(e){var n=dy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dy(t){return(dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50323=yy;var My=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&by(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ay(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.45),e.scaleValues.push(.2),e.scaleValues.push(Math.PI/2)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=this.scaleValues[4]*SuperMapAlgoPlot.PlottingUtil.RTOD,n=o*this.scaleValues[0],r=o*this.scaleValues[1],i=o*this.scaleValues[3],a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,e);if(a.bfind){var u=a.pts,p=a.index;if((O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,e)).bfind){var s=O.pts,c=(O.index,new SuperMapAlgoPlot.Point(u.x,u.y)),P=new SuperMapAlgoPlot.Point(e[p].x,e[p].y),f=new SuperMapAlgoPlot.Point(e[p+1].x,e[p+1].y),g=SuperMapAlgoPlot.PlottingUtil.dirAngle(P,f)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,i,i,g+l),h=[],S=(SuperMapAlgoPlot.PlottingUtil.dirAngle(c,y),SuperMapAlgoPlot.PlottingUtil.RTOD,o*this.scaleValues[2]),b=[],A=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,S,S,g-270),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,2*S,2*S,g-280);b.push(u),b.push(A),b.push(d);var M=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(b);M=SuperMapAlgoPlot.PlottingUtil.clearSamePts(M),h=[];for(var v=0;v<M.length;v++)h.push(M[v]);var m=-1;if(SuperMapAlgoPlot.PlottingUtil.polylineDistance(h)/o>.8){var O;if(!(O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.8*o,M)))return;m=O.index,a.pts,h=[];for(var w=0;w<m;w++)h.push(M[w])}else{h=[];for(var U=0;U<M.length;U++)h.push(M[U])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var L=SuperMapAlgoPlot.PlottingUtil.dirAngle(A,d)*SuperMapAlgoPlot.PlottingUtil.RTOD;d=h[h.length-1];var V=new SuperMapAlgoPlot.Point(-.2*i,.05*i),T=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,V,L-5),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(d,T,L-5);(h=[]).push(d),h.push(j),h.push(R);var _={lineTypeLimit:!0,fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,_);var E=[],x=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,S,S,g-280),B=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,2*S,2*S,g-270);E.push(s),E.push(x),E.push(B);var C=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(E);C=SuperMapAlgoPlot.PlottingUtil.clearSamePts(C),h=[];for(var Y=0;Y<C.length;Y++)h.push(C[Y]);var I=-1;if(SuperMapAlgoPlot.PlottingUtil.polylineDistance(h)/o>.8){var D=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.8*o,C);if(!D.bfind)return;I=D.index,D.pts,h=[];for(var N=0;N<I;N++)h.push(C[N])}else{h=[];for(var k=0;k<C.length;k++)h.push(C[k])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),B=h[h.length-1];var z,F=SuperMapAlgoPlot.PlottingUtil.dirAngle(x,B)*SuperMapAlgoPlot.PlottingUtil.RTOD,W=new SuperMapAlgoPlot.Point(-.2*i,.05*i),G=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),J=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(B,W,F+5),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(B,G,F+5);(h=[]).push(B),h.push(J),h.push(H),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,_);var K,q=.1*o;if((a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(q,e)).bfind){K=a.index,z=a.pts;var Q,Z=new SuperMapAlgoPlot.Point(e[K].x,e[K].y),X=new SuperMapAlgoPlot.Point(e[K+1].x,e[K+1].y),$=SuperMapAlgoPlot.PlottingUtil.dirAngle(Z,X)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,tt=SuperMapAlgoPlot.PlottingUtil.circlePoint(z,.05*o,.05*o,$),et=.12*o;if((a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(et,e)).bfind){a.index,Q=a.pts;var ot,lt=SuperMapAlgoPlot.PlottingUtil.circlePoint(Q,.05*o,.05*o,$),nt=[],rt=[];nt.push(z),nt.push(tt),rt.push(Q),rt.push(lt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,nt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,rt);var it,at=.9*o;if((a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(at,e)).bfind){it=a.index,ot=a.pts;var ut,pt=new SuperMapAlgoPlot.Point(e[it].x,e[it].y),st=new SuperMapAlgoPlot.Point(e[it+1].x,e[it+1].y),ct=SuperMapAlgoPlot.PlottingUtil.dirAngle(pt,st)*SuperMapAlgoPlot.PlottingUtil.RTOD+90,Pt=SuperMapAlgoPlot.PlottingUtil.circlePoint(ot,.05*o,.05*o,ct),ft=.88*o;if((a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(ft,e)).bfind){a.index,ut=a.pts;var gt=SuperMapAlgoPlot.PlottingUtil.circlePoint(ut,.05*o,.05*o,ct),yt=[],ht=[];yt.push(ot),yt.push(Pt),ht.push(ut),ht.push(gt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,yt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,ht),this.scalePoints=[],this.scalePoints.push(new SuperMapAlgoPlot.Point(c.x,c.y)),this.scalePoints.push(new SuperMapAlgoPlot.Point(d.x,d.y)),this.scalePoints.push(new SuperMapAlgoPlot.Point(s.x,s.y)),this.finish()}}}}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(a=SuperMapAlgoPlot.PlottingUtil.clearSamePts(a),0===t){for(var u=[],p=0;p<a.length;p++)u.push(new SuperMapAlgoPlot.Point(a[p].x,a[p].y));for(var s=-1,c=0,P=new SuperMapAlgoPlot.Point(0,0),f=0;f<u.length-1;f++){var g=[];g.push(u[f]),g.push(u[f+1]);var y=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,u[f],u[f+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(y,g).index){var h=SuperMapAlgoPlot.PlottingUtil.distance(e,y);-1==s?(s=f,P=y,c=h):c>h&&(s=f,P=y,c=h)}}if(-1==s||s>u.length-1)return;if(!(v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(c,a)).bfind)return;var S=v.index;w=new SuperMapAlgoPlot.Point(a[(a[S].x,a[S].y)]),U=new SuperMapAlgoPlot.Point(a[(a[S+1].x,a[S+1].y)]),r=0;for(var b=0;b<s;b++)r+=SuperMapAlgoPlot.PlottingUtil.distance(a[b],a[b+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(a[s],P))<0||r>l)return;var A=SuperMapAlgoPlot.PlottingUtil.dirAngle(w,U),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(P,e)+A;this.scaleValues[4]=d;var M=r/l;this.scaleValues[0]=M}else if(1===t){var v;if(i=l*this.scaleValues[0],-1===(v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(i,a)).index)return;S=v.index;var m=v.pts,O=new SuperMapAlgoPlot.Point(m.x,m.y),w=new SuperMapAlgoPlot.Point(a[S].x,a[S].y),U=new SuperMapAlgoPlot.Point(a[S+1].x,a[S+1].y);A=SuperMapAlgoPlot.PlottingUtil.dirAngle(w,U);d=SuperMapAlgoPlot.PlottingUtil.dirAngle(O,e)-A;this.scaleValues[4]=d;var L=(r=SuperMapAlgoPlot.PlottingUtil.distance(O,e))/l;this.scaleValues[2]=L>.65?.65:L}else if(2==t){for(var V=-1,T=0,j=new SuperMapAlgoPlot.Point(0,0),R=a.length,_=0;_<R-1;_++){var E=[];E.push(a[_]),E.push(a[_+1]);var x=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,a[_],a[_+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(x,E).index){var B=SuperMapAlgoPlot.PlottingUtil.distance(e,x);-1==V?(V=_,j=x,T=B):T>B&&(V=_,j=x,T=B)}}if(-1==V||V>R-1)return;for(var C=0,Y=0;Y<V;Y++){var I=new SuperMapAlgoPlot.Point(a[Y].x,a[Y].y),D=new SuperMapAlgoPlot.Point(a[Y+1].x,a[Y+1].y);C+=SuperMapAlgoPlot.PlottingUtil.distance(I,D)}var N=new SuperMapAlgoPlot.Point(a[V].x,a[V].y);if((C+=SuperMapAlgoPlot.PlottingUtil.distance(N,j))<0||C>l)return;var k=C/l;this.scaleValues[1]=k}}}}])&&Sy(e.prototype,o),l&&Sy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function vy(t){"@babel/helpers - typeof";return(vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function my(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Oy(t,e){return(Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Uy(t);if(e){var n=Uy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Uy(t){return(Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50328=My;var Ly=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wy(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e;t.length>2&&(o=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]));for(var l=[],n=80;n<420;n+=12)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,e,n));l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,e,420)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var r=[],i=o>e?o:e;i*=1.5,r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],i,i,50)),r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,e,70)),r.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y));var a=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(r),u=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(a);this.addArrow(u,.1),this.finish()}}}])&&my(e.prototype,o),l&&my(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vy(t){"@babel/helpers - typeof";return(Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ty(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function jy(t,e){return(jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ry(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_y(t);if(e){var n=_y(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _y(t){return(_y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50331=Ly;var Ey=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ry(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).bShowArrow=!0,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0>=this.scaleValues.length&&this.scaleValues.push(.2);var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[0];this.computeArcAndArrow(t[0],e,o,40,140),this.computeArcAndArrow(t[0],e,o,160,260),this.computeArcAndArrow(t[0],e,o,290,380);for(var l=[],n=0;n<360;n+=12)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,n));this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,{lineColorLimit:!0,fillStyle:1,color:"#0000FF",opacity:1}),this.computeSubCells(t[0],o),this.scalePoints=[];var r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,0);this.scalePoints.push(r),this.finish()}}},{key:"computeSubCells",value:function(t,e){}},{key:"computeArcAndArrow",value:function(t,e,o,l,n){for(var r=[],i=l;i<n;i+=12)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,i));r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,n)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var a=e-o,u=.5*(l+n),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.2*a+o,.2*a+o,u),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,u),c=[];if(c.push(p),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.bShowArrow){var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,u),f=Math.tan(.25),g=.2*e/Math.cos(f),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,g,g,u+f*SuperMapAlgoPlot.PlottingUtil.RTOD),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,g,g,u-f*SuperMapAlgoPlot.PlottingUtil.RTOD),S=[];S.push(P),S.push(y),S.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1})}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;n>.7&&(n=.6),this.scaleValues[0]=n}}}}])&&Ty(e.prototype,o),l&&Ty(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xy(t){"@babel/helpers - typeof";return(xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function By(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Cy(t,e){return(Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Iy(t);if(e){var n=Iy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Iy(t){return(Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50335=Ey;var Dy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50335);var e,o,l,n=Yy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).bShowArrow=!0,e}return e=r,(o=[{key:"computeSubCells",value:function(t,e){var o=1.2*e,l=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,45),n=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,225),r=[];r.push(l),r.push(n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,135),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,o,o,315),u=[];u.push(i),u.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u)}}])&&By(e.prototype,o),l&&By(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ny(t){"@babel/helpers - typeof";return(Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ky(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zy(t,e){return(zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Wy(t);if(e){var n=Wy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ny(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Wy(t){return(Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033501=Dy;var Gy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zy(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50335);var e,o,l,n=Fy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).bShowArrow=!1,e}return e=r,o&&ky(e.prototype,o),l&&ky(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Jy(t){"@babel/helpers - typeof";return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hy(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ky(t,e){return(Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function qy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Qy(t);if(e){var n=Qy(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Qy(t){return(Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033502=Gy;var Zy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=qy(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=l*this.scaleValues[2],a=l*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(o.x+i,o.y+a),p=l*r;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],u,p,0);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,180);this.addScalePoint(s,0),this.addScalePoint(u,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===r)return;var i=0,a=0,u=0,p=0;if(0===t){u=r*(i=this.scaleValues[2]),p=r*(a=this.scaleValues[3]);var s=new SuperMapAlgoPlot.Point(n.x+u,n.y+p),c=SuperMapAlgoPlot.PlottingUtil.distance(e,s)/r;this.scaleValues[0]=c}else 1===t&&(i=(u=e.x-n.x)/r,a=(p=e.y-n.y)/r,this.scaleValues[2]=i,this.scaleValues[3]=a)}}}])&&Hy(e.prototype,o),l&&Hy(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Xy(t){"@babel/helpers - typeof";return(Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $y(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function th(t,e){return(th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function eh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=oh(t);if(e){var n=oh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Xy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function oh(t){return(oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50342=Zy;var lh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&th(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=eh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t);var e={surroundLineFlag:!1,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE,fillLimit:!0,fillColorLimit:!0,fill:!0,fillColor:"#e99678",lineWidth:1e-6,lineColorLimit:!0,strokeColor:"#e99678",strokeOpacity:1,color:"#e99678",opacity:0,lineColor:"#e99678"},o=t[0],l=t[1],n=[],r=new SuperMapAlgoPlot.Point(o.x,o.y),i=new SuperMapAlgoPlot.Point(o.x,l.y),a=new SuperMapAlgoPlot.Point(l.x,l.y),u=new SuperMapAlgoPlot.Point(l.x,o.y),p=0;p=Math.abs(t[1].x-t[0].x)<Math.abs(t[1].y-t[0].y)?.1*Math.abs(t[1].x-t[0].x):.1*Math.abs(t[1].y-t[0].y);var s=Math.abs(Math.abs(t[1].y)-Math.abs(t[0].y))/10,c=SuperMapAlgoPlot.PlottingUtil.dirAngle(u,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=(Math.abs(Math.abs(l.y)-Math.abs(s)),SuperMapAlgoPlot.PlottingUtil.circlePoint(u,s,s,c));(n=[]).push(new SuperMapAlgoPlot.Point(o.x,o.y)),n.push(new SuperMapAlgoPlot.Point(o.x,P.y)),n.push(new SuperMapAlgoPlot.Point(P.x,P.y)),n.push(new SuperMapAlgoPlot.Point(P.x,o.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,e);var f=SuperMapAlgoPlot.PlottingUtil.dirAngle(a,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,s,s,f);(n=[]).push(new SuperMapAlgoPlot.Point(i.x,i.y)),n.push(new SuperMapAlgoPlot.Point(i.x,g.y)),n.push(new SuperMapAlgoPlot.Point(g.x,g.y)),n.push(new SuperMapAlgoPlot.Point(g.x,i.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,e);var y=SuperMapAlgoPlot.PlottingUtil.dirAngle(i,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=new SuperMapAlgoPlot.Point(o.x,P.y),S=new SuperMapAlgoPlot.Point(i.x,g.y),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(S,s,s,y);(n=[]).push(new SuperMapAlgoPlot.Point(h.x,h.y)),n.push(new SuperMapAlgoPlot.Point(h.x,b.y)),n.push(new SuperMapAlgoPlot.Point(b.x,b.y)),n.push(new SuperMapAlgoPlot.Point(b.x,h.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,e);var A=SuperMapAlgoPlot.PlottingUtil.dirAngle(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,d=new SuperMapAlgoPlot.Point(P.x,P.y),M=new SuperMapAlgoPlot.Point(g.x,g.y),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,s,s,A);if((n=[]).push(new SuperMapAlgoPlot.Point(d.x,d.y)),n.push(new SuperMapAlgoPlot.Point(d.x,v.y)),n.push(new SuperMapAlgoPlot.Point(v.x,v.y)),n.push(new SuperMapAlgoPlot.Point(v.x,d.y)),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,e),(n=[]).push(r),n.push(i),n.push(a),n.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n),this.subText){var m=this.subText,O=new SuperMapAlgoPlot.Point((t[1].x+t[0].x)/2,(t[1].y+t[0].y)/2);this.addText(m,O,10*p,0,"#000000")}this.finish()}}}])&&$y(e.prototype,o),l&&$y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function nh(t){"@babel/helpers - typeof";return(nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ih(t,e){return(ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ah(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=uh(t);if(e){var n=uh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function uh(t){return(uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50343=lh;var ph=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ih(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50343);var e,o,l,n=ah(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="P",e}return e=r,o&&rh(e.prototype,o),l&&rh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function sh(t){"@babel/helpers - typeof";return(sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ch(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ph(t,e){return(Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=gh(t);if(e){var n=gh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===sh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function gh(t){return(gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034301=ph;var yh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ph(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50343);var e,o,l,n=fh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="D",e}return e=r,o&&ch(e.prototype,o),l&&ch(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function hh(t){"@babel/helpers - typeof";return(hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function bh(t,e){return(bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ah(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dh(t);if(e){var n=dh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===hh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dh(t){return(dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034302=yh;var Mh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol50343);var e,o,l,n=Ah(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="R",e}return e=r,o&&Sh(e.prototype,o),l&&Sh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function vh(t){"@babel/helpers - typeof";return(vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Oh(t,e){return(Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Uh(t);if(e){var n=Uh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Uh(t){return(Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034303=Mh;var Lh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0]*l,i=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],r,r,e+n),i.push(o);var a=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],r,r,e+n),a.push(o);var u=new SuperMapAlgoPlot.Point((i[0].x+a[a.length-1].x)/2,(i[0].y+a[a.length-1].y)/2),p=SuperMapAlgoPlot.PlottingUtil.linePnt(i[0],a[a.length-1],l),s=SuperMapAlgoPlot.PlottingUtil.linePnt(a[a.length-1],i[0],l),c=(SuperMapAlgoPlot.PlottingUtil.radian(s,p),SuperMapAlgoPlot.PlottingUtil.RTOD,[]);c.push(p),c.push.apply(c,i),c.push.apply(c,a),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);u=new SuperMapAlgoPlot.Point((i[0].x+a[a.length-1].x)/2,(i[0].y+a[a.length-1].y)/2);var P=SuperMapAlgoPlot.PlottingUtil.dirAngle(s,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=new SuperMapAlgoPlot.Point(-.06*l,.02*l),g=new SuperMapAlgoPlot.Point(-.06*l,-.02*l),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,f,P+180),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(u,g,P+180),S=[];S.push(u),S.push(y),S.push(h);var b={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,b);var A=new SuperMapAlgoPlot.Point((i[i.length-1].x+a[0].x)/2,(i[i.length-1].y+a[0].y)/2),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(A,f,P),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(A,g,P);(S=[]).push(A),S.push(d),S.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,b),this.finish()}}}])&&mh(e.prototype,o),l&&mh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Vh(t){"@babel/helpers - typeof";return(Vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Th(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function jh(t,e){return(jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=_h(t);if(e){var n=_h(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Vh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function _h(t){return(_h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50344=Lh;var Eh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=Rh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=this.subSymbols[0].symbolData.symbolSize.x;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=60*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o,s=new SuperMapAlgoPlot.Point((a.pts.x+i.pts.x)/2,(i.pts.y+a.pts.y)/2);if(null==this.subSymbols.length)return;if(null!=this.subSymbols[0].code){this.computeSubSymbol(this.subSymbols[0],s,p,u+90);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a.pts,p,p,u+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a.pts,2*p,2*p,u+90),f=[];f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*p,.2*p,u+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.05*p,.05*p,u),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.05*p,.05*p,u+180),S=[];S.push(g),S.push(y),S.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{fillLimit:!0,fill:!0})}i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(-1===r.index&&3===t&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(n);a.splice(0,r.index+1),a.unshift(r.pt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);i<u&&(u=i),this.scaleValues[t+1]=(i-u)/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&Th(e.prototype,o),l&&Th(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function xh(t){"@babel/helpers - typeof";return(xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ch(t,e){return(Ch=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ih(t);if(e){var n=Ih(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ih(t){return(Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50352=Eh;var Dh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ch(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Yh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.5)),e.subText="冰",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){2!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(.5)),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o=[];e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n,r=.02*SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);l=SuperMapAlgoPlot.PlottingUtil.paraLine(o,r,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(o,r,!1);var i={lineColorLimit:!0,strokeColor:"#585756",strokeOpacity:1,color:"#585756",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,i),this.addMidLine(o,l,n),this.finish()}}},{key:"addMidLine",value:function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a,u,p,s,c,P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),f=.02*P,g=.1*P,y=.45*P,h=.55*P,S=.9*P,b=.5*P;n=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,t)).index,i=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(y,t)).index,a=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(b,t)).index,s=c.pts;var A,d,M,v,m,O,w=[],U=[];if(t.length>2){for(var L=n;L<r;L++)w.push(t[L]);A=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[n],t[n+1])*SuperMapAlgoPlot.PlottingUtil.RTOD}else w.push(i),w.push(a),A=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(n=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,t,h)).index,u=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(S,t,S)).index,p=c.pts,t.length>2){for(var V=n;V<r;V++)U.push(t[V]);d=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[r-1],t[r])*SuperMapAlgoPlot.PlottingUtil.RTOD}else U.push(u),U.push(p),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;M=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,1.2*f,1.2*f,A+90),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,1.2*f,1.2*f,A+270),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,1.2*f,1.2*f,d+90),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,1.2*f,1.2*f,d+270);var T=[];T.push(M),T.push(v);var j={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,j),(T=[]).push(m),T.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,j);var R,_,E,x=new SuperMapAlgoPlot.Point((M.x+v.x)/2,(M.y+v.y)/2),B=new SuperMapAlgoPlot.Point((m.x+O.x)/2,(m.y+O.y)/2);if(w[0]=x,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,j),U[U.length-1]=B,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,j),this.subText){var C=SuperMapAlgoPlot.PlottingUtil.distance(w[w.length-1],U[0]),Y=SuperMapAlgoPlot.PlottingUtil.dirAngle(w[w.length-1],U[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,I=this.subText;this.addText(I,s,C,Y,"#0000ff")}R=SuperMapAlgoPlot.PlottingUtil.dirAngle(x,e[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.dirAngle(x,o[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,E=SuperMapAlgoPlot.PlottingUtil.dirAngle(x,l[0])*SuperMapAlgoPlot.PlottingUtil.RTOD;var D=[];D.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(x,1.1*g,1.1*g,R)),D.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(x,1.1*g,1.1*g,E)),D.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(x,1.1*g,1.1*g,_));var N=[];N=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(D),N=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(N),N=SuperMapAlgoPlot.PlottingUtil.clearSamePts(N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N);var k=[];k.push(D[1]),k.push(x),this.addArrow(k,.2*this.scaleValues[0]);var z=SuperMapAlgoPlot.PlottingUtil.distance(t[e.length-2],t[t.length-1]),F=[];F.push(SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-2],e[e.length-1],z+.3*f)),F.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[e.length-2],t[t.length-1],z+.4*f)),F.push(SuperMapAlgoPlot.PlottingUtil.linePnt(o[o.length-2],o[o.length-1],z+.3*f)),N=[],N=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(F),N=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(N),N=SuperMapAlgoPlot.PlottingUtil.clearSamePts(N),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N),(k=[]).push(F[1]);for(var W=t.length-1;W>=c.index;W--)k.push(t[W]);this.addArrow(k,.2*this.scaleValues[0])}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length}}])&&Bh(e.prototype,o),l&&Bh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Nh(t){"@babel/helpers - typeof";return(Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zh(t,e){return(zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Wh(t);if(e){var n=Wh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Nh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Wh(t){return(Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50354=Dh;var Gh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zh(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.5)),e.subText="冰",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){2!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(.5)),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o=[];e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l,n,r=.02*SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);l=SuperMapAlgoPlot.PlottingUtil.paraLine(o,r,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(o,r,!1);var i={lineColorLimit:!0,strokeColor:"#585756",strokeOpacity:1,color:"#585756",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,i),this.addSubSymbolAndLine(o,l,n),this.finish()}}},{key:"addSubSymbolAndLine",value:function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r,i,a,u,p,s,c,P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),f=.02*P,g=.05*P,y=.4*P,h=.5*P,S=.85*P,b=.45*P;n=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,t)).index,i=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(y,t)).index,a=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(b,t)).index,s=c.pts;var A,d,M,v,m,O,w=[],U=[];if(t.length>2){for(var L=n;L<r;L++)w.push(t[L]);A=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[n],t[n+1])*SuperMapAlgoPlot.PlottingUtil.RTOD}else w.push(i),w.push(a),A=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(n=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(h,t,h)).index,u=c.pts,r=(c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(S,t,S)).index,p=c.pts,t.length>2){for(var V=n;V<r;V++)U.push(t[V]);d=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[r-1],t[r])*SuperMapAlgoPlot.PlottingUtil.RTOD}else U.push(u),U.push(p),d=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;M=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,1.2*f,1.2*f,A+90),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,1.2*f,1.2*f,A+270),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,1.2*f,1.2*f,d+90),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,1.2*f,1.2*f,d+270);var T=[];T.push(M),T.push(v);var j={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,j),(T=[]).push(m),T.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,j);var R=new SuperMapAlgoPlot.Point((M.x+v.x)/2,(M.y+v.y)/2),_=new SuperMapAlgoPlot.Point((m.x+O.x)/2,(m.y+O.y)/2);if(w[0]=R,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,j),U[U.length-1]=_,this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U,j),this.subText){var E=SuperMapAlgoPlot.PlottingUtil.distance(w[w.length-1],U[0]),x=SuperMapAlgoPlot.PlottingUtil.dirAngle(w[w.length-1],U[0])*SuperMapAlgoPlot.PlottingUtil.RTOD,B=this.subText;this.addText(B,s,E,x,"#0000ff")}x=0;var C,Y,I=[];if(C=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.95*P,t),Y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.85*P,t),l.length>2){for(var D=C.index;D>=Y.index;D--)I.push(t[D]);x=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[C.index],t[C.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD}else I.push(C.pts),I.push(Y.pts),x=SuperMapAlgoPlot.PlottingUtil.dirAngle(Y.pts,C.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addArrow(I,.3*this.scaleValues[0]);var N=.08*P;this.computeSubSymbol(this.subSymbols[0],l[l.length-1],N,x)}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length}}])&&kh(e.prototype,o),l&&kh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol5035401=Gh;var Jh=window.SuperMap=window.SuperMap||{},Hh=(Jh.Plot=Jh.Plot||{},window.SuperMapAlgoPlot=Jh.Plot||{});function Kh(t){"@babel/helpers - typeof";return(Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qh(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qh(t,e){return(Qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xh(t);if(e){var n=Xh(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xh(t){return(Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qh(t,e)}(r,Hh.AlgoSymbol);var e,o,l,n=Zh(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=Hh.PlottingUtil.clonePoints(this.controlPoints);if(!((t=Hh.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=Hh.PlottingUtil.getBeizerCtrlPt(t),o=Hh.PlottingUtil.generateBeizerPointsWithCtrlPt(e),l=Hh.PlottingUtil.polylineDistance(o);if(0===this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.02):1===this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue()),!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n,this.scaleValues[1]=.5*this.getSubSymbolScaleValue()}for(var r=this.getLinePts(o,this.scaleValues[0],.5),i=new Hh.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),a=Hh.PlottingUtil.dirAngle(r.startPt,r.endPt)*Hh.PlottingUtil.RTOD,u=Hh.PlottingUtil.distance(r.startPt,r.endPt),p=[],s=0;s<=r.startIndex;s++)p.push(o[s]);p.push(new Hh.Point(r.startPt.x,r.startPt.y)),this.addCell(Hh.SymbolType.POLYLINESYMBOL,p);var c=[];if(r.endIndex<=o.length){c.push(new Hh.Point(r.endPt.x,r.endPt.y));for(var P=r.endIndex+1;P<=o.length-1;P++)c.push(o[P]);this.addArrow(c,this.scaleValues[2])}this.scalePoints=[];var f=Hh.PlottingUtil.circlePoint(i,.5*u,.5*u,a+90);if(this.addScalePoint(f,0),this.subSymbols.length>0)this.computeSubSymbol(this.subSymbols[0],centerPoint,.8*u,a-180);else{var g=new Hh.Point(0,.2*u),y=new Hh.Point(u,.2*u),h=new Hh.Point(u,-.2*u),S=new Hh.Point(0,-.2*u),b=Hh.PlottingUtil.coordinateTrans(p[p.length-1],g,a),A=Hh.PlottingUtil.coordinateTrans(p[p.length-1],y,a),d=Hh.PlottingUtil.coordinateTrans(p[p.length-1],h,a),M=Hh.PlottingUtil.coordinateTrans(p[p.length-1],S,a),v=[];v.push(b),v.push(A),v.push(d),v.push(M),v.push(b);var m={lineColorLimit:!0,strokeColor:"#008000",strokeOpacity:1,color:"#008000",opacity:1,lineColor:"#008000"};this.addCell(Hh.SymbolType.ARBITRARYPOLYGONSYMBOL,v,m);var O=new Hh.Point(.5*u,.2*u),w=new Hh.Point(.5*u,-.2*u),U=Hh.PlottingUtil.coordinateTrans(p[p.length-1],O,a),L=Hh.PlottingUtil.coordinateTrans(p[p.length-1],w,a);(v=[]).push(U),v.push(L),this.addCell(Hh.SymbolType.POLYLINESYMBOL,v,m)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=Hh.PlottingUtil.clonePoints(this.controlPoints);if((o=Hh.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=Hh.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=Hh.PlottingUtil.clearSamePts(l);var n=Hh.PlottingUtil.polylineDistance(l),r=Hh.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*Hh.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&qh(e.prototype,o),l&&qh(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tS(t){"@babel/helpers - typeof";return(tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oS(t,e){return(oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nS(t);if(e){var n=nS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nS(t){return(nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Hh.AlgoSymbol50355=$h;var rS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===this.scaleValues.length&&(this.scaleValues[0]=.05,this.scaleValues[1]=.02,this.scaleValues[2]=0),!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.2||n<=0)&&(n=.2),this.scaleValues[0]=n,this.scaleValues[1]=.5*this.getSubSymbolScaleValue(),this.scaleValues[2]=0}for(var r=this.getLinePts(o,this.scaleValues[0],.5),i=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),a=SuperMapAlgoPlot.PlottingUtil.dirAngle(r.startPt,r.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=SuperMapAlgoPlot.PlottingUtil.distance(r.startPt,r.endPt),p=[],s=0;s<=r.startIndex;s++)p.push(o[s]);p.push(new SuperMapAlgoPlot.Point(r.startPt.x,r.startPt.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var c=[];if(r.endIndex<=o.length){c.push(new SuperMapAlgoPlot.Point(r.endPt.x,r.endPt.y));for(var P=r.endIndex+1;P<=o.length-1;P++)c.push(o[P]);this.addArrow(c,this.scaleValues[1])}if(this.subSymbols.length>0)this.computeSubSymbol(this.subSymbols[0],centerPoint,.8*u,a-180);else{var f=new SuperMapAlgoPlot.Point(0,.2*u),g=new SuperMapAlgoPlot.Point(u,.2*u),y=new SuperMapAlgoPlot.Point(u,-.2*u),h=new SuperMapAlgoPlot.Point(0,-.2*u),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],f,a),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],g,a),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],y,a),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],h,a),M=[];M.push(S),M.push(b),M.push(A),M.push(d),M.push(S);var v={lineColorLimit:!0,strokeColor:"#008000",strokeOpacity:1,color:"#008000",opacity:1,lineColor:"#008000"};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,v);var m=new SuperMapAlgoPlot.Point(.5*u,.2*u),O=new SuperMapAlgoPlot.Point(.5*u,-.2*u),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],m,a),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p[p.length-1],O,a);(M=[]).push(w),M.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,v);var L=0,V=0,T=0,j=0,R=0,_=this.scaleValues[1];_=.7*SuperMapAlgoPlot.PlottingUtil.distance(p[0],p[p.length-1]);var E=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(_,p);if(!E.bfind)return;L=E.index;var x,B,C,Y=E.pts,I=.1*u,D=(f=new SuperMapAlgoPlot.Point(p[L].x,p[L].y),g=new SuperMapAlgoPlot.Point(Y.x,Y.y),SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,f,g));j=D.pntLeft.x,R=D.pntLeft.y,V=D.pntRight.x,T=D.pntRight.y,0==(x=this.scaleValues[2])?B=new SuperMapAlgoPlot.Point(V,T):1==x&&(B=new SuperMapAlgoPlot.Point(j,R)),(M=[]).push(B),M.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,M),V=0,T=0,j=0,R=0;var N;N=.3*SuperMapAlgoPlot.PlottingUtil.distance(p[0],p[p.length-1]);var k=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(N,c);if(!k.bfind)return;L=k.index,C=k.pts;y=new SuperMapAlgoPlot.Point(c[L].x,c[L].y),h=new SuperMapAlgoPlot.Point(C.x,C.y);var z,F=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,y,h);j=F.pntLeft.x,R=F.pntLeft.y,V=F.pntRight.x,T=F.pntRight.y,0==x?z=new SuperMapAlgoPlot.Point(V,T):1==x&&(z=new SuperMapAlgoPlot.Point(j,R)),(M=[]).push(z),M.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,M),this.scalePoints=[];var W=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,.5*u,.5*u,a+90);this.addScalePoint(W,0),this.addScalePoint(z,1)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0==t){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*r,l),a=2*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)/r;this.scaleValues[0]=a<=.3?a:.3}else{var u=r*(.5+.5*n),p=(t=-1,SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,l));if(!p.bfind)return;t=p.index,p.pts;var s=new SuperMapAlgoPlot.Point(l[t].x,l[t].y),c=new SuperMapAlgoPlot.Point(l[t+1].x,l[t+1].y),P=new SuperMapAlgoPlot.Point(e.x,e.y),f=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(s,c,P);this.scaleValues[2]=f?0:1}}}}])&&eS(e.prototype,o),l&&eS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iS(t){"@babel/helpers - typeof";return(iS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uS(t,e){return(uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sS(t);if(e){var n=sS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sS(t){return(sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035501=rS;var cS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(15),e.scaleValues.push(15),e.scaleValues.push(1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(15),this.scaleValues.push(15),this.scaleValues.push(1)),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());for(var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,l=e*this.scaleValues[0]*this.scaleValues[3],n=e-l,r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],e-n/2),i=[],a=0;a<=360;a+=5)i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],l,l,a));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.addText("展",t[1],1.5*l,o,"#000000"),this.computeSubSymbol(this.subSymbols[0],r,n,o+180);var u=[],p=[];u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],l,l,o+this.scaleValues[1])),u.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],.5*n,.5*n,o+this.scaleValues[1])),this.addArrow(u,this.scaleValues[0]),p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],l,l,o-this.scaleValues[2])),p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],.5*n,.5*n,o-this.scaleValues[2])),this.addArrow(p,this.scaleValues[0]),this.scalePoints=[],this.scalePoints.push(new SuperMapAlgoPlot.Point(u[1].x,u[1].y)),this.scalePoints.push(new SuperMapAlgoPlot.Point(p[1].x,p[1].y)),this.scalePoints.push(new SuperMapAlgoPlot.Point(p[0].x,p[0].y)),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)){if(0==t){var l=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,n=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[1],e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[1]=n-l}if(1==t){l=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,n=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[1],e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=l-n}if(2==t){var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)*this.scaleValues[0];(n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1]))/r<=4&&(this.scaleValues[3]=n/r)}}}}])&&aS(e.prototype,o),l&&aS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PS(t){"@babel/helpers - typeof";return(PS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gS(t,e){return(gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hS(t);if(e){var n=hS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hS(t){return(hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60108=cS;var SS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.07),e.scaleValues.push(.3),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.07),this.scaleValues.push(.3),this.scaleValues.push(.1));var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD+180,l=e*this.scaleValues[1],n=e*this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n),i=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n+l/2),a=[];a.push(t[0]),a.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);this.computeSubSymbol(this.subSymbols[0],i,l,o);var u=[],p=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n+l);u.push(p),u.push(t[1]),this.addArrow(u,this.scaleValues[0]);var s=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],1.3*n+l),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.3*n,.3*n,o+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.3*n,.3*n,o-90);(a=[]).push(c),a.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var f=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-n),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.3*n,.3*n,o+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.3*n,.3*n,o-90);(a=[]).push(g),a.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var h=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],2*n+l),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,1.5*n,1.5*n,o-80),b=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],3*n+l),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,1.5*n,1.5*n,o-80);(a=[]).push(h),a.push(S),a.push(b),a.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var d=new SuperMapAlgoPlot.Point((h.x+b.x)/2,(h.y+b.y)/2),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,1.6*n,1.6*n,o-80),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(d,1.65*n,1.65*n,o-75),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,1.6*n,1.6*n,o-80),O=[],w=[];O.push(M),O.push(v),O.push(m);var U=[],L=[];U=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(O),L=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L);var V=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e+2*n),T=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,1.5*n,1.5*n,o-80),j=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e+3*n),R=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,1.5*n,1.5*n,o-80);(a=[]).push(V),a.push(T),a.push(j),a.push(R),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var _=new SuperMapAlgoPlot.Point((V.x+j.x)/2,(V.y+j.y)/2);M=SuperMapAlgoPlot.PlottingUtil.circlePoint(V,1.6*n,1.6*n,o-80),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(_,1.65*n,1.65*n,o-75),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,1.6*n,1.6*n,o-85),w.push(M),w.push(v),w.push(m),U=[],L=[],U=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(w),L=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L),this.scalePoints=[],this.scalePoints.push(p),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)){SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=.18*l,r=(.9*l-SuperMapAlgoPlot.PlottingUtil.distance(e,o[1]))/n*.18;0<r&&r<.37&&(this.scaleValues[1]=r)}}}}])&&fS(e.prototype,o),l&&fS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bS(t){"@babel/helpers - typeof";return(bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dS(t,e){return(dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vS(t);if(e){var n=vS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vS(t){return(vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60115=SS;var mS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.07),e.scaleValues.push(.3),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.07),this.scaleValues.push(.3),this.scaleValues.push(.1));var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD+180,l=e*this.scaleValues[1],n=e*this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n),i=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n+l/2),a=[];a.push(t[0]),a.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);this.computeSubSymbol(this.subSymbols[0],i,l,o);var u=[],p=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n+l);u.push(p),u.push(t[1]),this.addArrow(u,this.scaleValues[0]);var s=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],1.3*n+l),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.3*n,.3*n,o+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.3*n,.3*n,o-90);(a=[]).push(c),a.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var f=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-n),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.3*n,.3*n,o+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.3*n,.3*n,o-90);(a=[]).push(g),a.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var h=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],2*n+l),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,1.5*n,1.5*n,o-80),b=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],3*n+l),A=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,1.5*n,1.5*n,o-80);(a=[]).push(h),a.push(S),a.push(b),a.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);var d=[],M=[];d.push(b),d.push(A),this.addArrow(d,.3*this.scaleValues[0]);var v=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e+2*n),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(v,1.5*n,1.5*n,o-80),O=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],.5*e+3*n),w=SuperMapAlgoPlot.PlottingUtil.circlePoint(O,1.5*n,1.5*n,o-80);(a=[]).push(v),a.push(m),a.push(O),a.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),M.push(O),M.push(w),this.addArrow(M,.3*this.scaleValues[0]),this.scalePoints=[],this.scalePoints.push(p),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)){SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=.18*l,r=(.9*l-SuperMapAlgoPlot.PlottingUtil.distance(e,o[1]))/n*.18;0<r&&r<.37&&(this.scaleValues[1]=r)}}}}])&&AS(e.prototype,o),l&&AS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OS(t){"@babel/helpers - typeof";return(OS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function US(t,e){return(US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=VS(t);if(e){var n=VS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function VS(t){return(VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6011501=mS;var TS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&US(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=LS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(t.length<this.minEditPts)){1==this.scaleValues.length&&this.scaleValues.push(this.getSubSymbolScaleValue()),this.isEdit||(this.scaleValues[0]=.6*this.getSubSymbolScaleValue(),this.scaleValues[1]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);for(var o=0,l=0;l<e.length-1;l++)o+=SuperMapAlgoPlot.PlottingUtil.distance(e[l],e[l+1]);var n=.5*o,r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,n);if(-1!==r.index){for(var i=r.pt,a=[],u=0,p=0;p<r.index+1;p++)a.push(e[p]),p>0&&(u+=SuperMapAlgoPlot.PlottingUtil.distance(a[p],a[p-1]));var s,c,P=n-u,f=o*this.scaleValues[1],g=[];if(P>=f){s=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[r.index],f),a.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),c=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[r.index+1],f),g.push(c);for(var y=e.length,h=r.index+1;h<y;++h)g.push(e[h]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}else{for(var S,b,A=-1,d=a.length-1;d>=0;d--)if(S=new SuperMapAlgoPlot.Point(a[d].x,a[d].y),b=new SuperMapAlgoPlot.Point(i.x,i.y),SuperMapAlgoPlot.PlottingUtil.distance(S,b)>f){A=d;break}if(-1==A)return;a.splice(A+1,a.length-1-A),s=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[A],f),a.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);for(var M=-1,v=r.index;v<e.length;v++)if(S=new SuperMapAlgoPlot.Point(e[v].x,e[v].y),b=new SuperMapAlgoPlot.Point(i.x,i.y),SuperMapAlgoPlot.PlottingUtil.distance(S,b)>f){M=v;break}if(-1==M)return;c=SuperMapAlgoPlot.PlottingUtil.linePnt(i,e[M],f),g.push(c);for(var m=M+1;m<e.length;++m)g.push(e[m]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g)}if(!(a.length<2)){for(var O=0,w=0;w<t.length-1;w++)O+=SuperMapAlgoPlot.PlottingUtil.distance(t[w],t[w+1]);var U=O*this.scaleValues[0],L=new SuperMapAlgoPlot.Point(a[0].x,a[0].y),V=new SuperMapAlgoPlot.Point(a[1].x,a[1].y),T=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,V,L),j=[];if(j.push(T.pntLeft),j.push(T.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j),!(g.length<2)){var R=new SuperMapAlgoPlot.Point(g[g.length-1].x,g[g.length-1].y),_=new SuperMapAlgoPlot.Point(g[g.length-2].x,g[g.length-2].y),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,_,R);(j=[]).push(E.pntLeft),j.push(E.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j);var x=s,B=c,C=180*SuperMapAlgoPlot.PlottingUtil.radian(x,B)/Math.PI+90;SuperMapAlgoPlot.PlottingUtil.distance(x,B),new SuperMapAlgoPlot.Point((s.x+c.x)/2,(s.y+c.y)/2);if(this.subSymbols.length>0){if(null!==this.subSymbols[0].symbolData)for(var Y=0;Y<this.subSymbols[0].symbolData.innerCells.length;Y++)26===this.subSymbols[0].symbolData.innerCells[Y].type&&this.subSymbols[0].symbolData.innerCells.splice(Y,1);this.computeSubSymbol(this.subSymbols[0],i,f,C)}this.addScalePoint(T.pntLeft),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&wS(e.prototype,o),l&&wS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jS(t){"@babel/helpers - typeof";return(jS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _S(t,e){return(_S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ES(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xS(t);if(e){var n=xS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xS(t){return(xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6012702=TS;var BS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ES(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length===this.minEditPts){for(var e=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,t),o=[],l=0;l<e.length;l++)o.push(e[l]);if(!(o.length<4)){var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),r=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]),i=0;i=n<r?.2*n:.2*r;var a=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[0],o[1],.5*n-.5*i),u=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[0],o[1],.5*n+.5*i),p=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[1],o[2],.5*r-.5*i),s=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[1],o[2],.5*r+.5*i),c=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[2],o[3],.5*n-.5*i),P=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[2],o[3],.5*n+.5*i),f=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[3],o[0],.5*r-.5*i),g=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[3],o[0],.5*r+.5*i),y=[];y.push(g),y.push(o[0]),y.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=[];h.push(u),h.push(o[1]),h.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=[];S.push(s),S.push(o[2]),S.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var b=[];b.push(P),b.push(o[3]),b.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=new SuperMapAlgoPlot.Point((o[0].x+o[2].x)/2,(o[0].y+o[2].y)/2);this.addText("避",A,3*i,0),this.finish()}}}}])&&RS(e.prototype,o),l&&RS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function CS(t){"@babel/helpers - typeof";return(CS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IS(t,e){return(IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NS(t);if(e){var n=NS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NS(t){return(NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60203=BS;var kS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=DS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(90),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[2]=2*l}var n=o*this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,e);if(a.bfind){var u=a.pts.clone(),p=e[a.index].clone(),s=e[a.index+1].clone(),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r),f=[];f.push(a.pts),f.push(P);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0});var g=SuperMapAlgoPlot.PlottingUtil.radian(u,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=new SuperMapAlgoPlot.Point(-.2*i,.05*i),h=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,y,g),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,h,g),A=[];A.push(P),A.push(S),A.push(b);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fill:!0});var d=.3*i,M=.6*i,v=n-M;v<0&&(v=0);var m=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(v,e);if(m.bfind){var O=[];O.push(m.pts);for(var w=m.index;w>=0;w--)O.push(e[w]);var U=[];U.push(m.pts);for(var L=m.index+1;L<e.length;L++)U.push(e[L]);var V=.6*d,T=[];if(O.length>1){var j=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(V,O);if(j.bfind){(T=[]).push(j.pts);for(var R=j.index+1;R<O.length;R++)T.push(O[R]);O=[],T.length>1&&(O=O.concat(T))}}if(O.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O),U.length>1){var _=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(V,U);if(_.bfind){(T=[]).push(_.pts);for(var E=_.index+1;E<U.length;E++)T.push(U[E]);U=[],T.length>1&&(U=U.concat(T))}}var x=n+M;x>o&&(x=o),x=o-x;for(var B=[],C=U.length-1;C>=0;C--)B.push(U[C]);var Y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(x,B);if(Y.bfind){var I=[];I.push(Y.pts);for(var D=Y.index;D>=0;D--)I.push(B[D]);var N=[];N.push(Y.pts);for(var k=Y.index+1;k<B.length;k++)N.push(B[k]);if(I.length>1){var z=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(V,I);if(z.bfind){(T=[]).push(z.pts);for(var F=z.index+1;F<I.length;F++)T.push(I[F]);I=[],T.length>1&&(I=I.concat(T))}}if(I.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I),N.length>1){var W=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(V,N);if(W.bfind){(T=[]).push(W.pts);for(var G=W.index+1;G<N.length;G++)T.push(N[G]);N=[],T.length>1&&(N=N.concat(T))}}N.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N),this.subSymbols.length>0&&(this.computeSubSymbol(this.subSymbols[0],m.pts,d,c+r+180,.3),this.computeSubSymbol(this.subSymbols[1],Y.pts,d,c+r+180,.3)),this.addScalePoint(a.pts,0),this.addScalePoint(P,1),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(0>t||1<t)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=[],i=0;i<l.length;i++)r.push(l[i]);for(var a=-1,u=new SuperMapAlgoPlot.Point(0,0),p=0,s=0;s<r.length-1;s++){var c=[];c.push(r[s]),c.push(r[s+1]);var P=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,r[s],r[s+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(P,c).isOnPolyLine){var f=SuperMapAlgoPlot.PlottingUtil.distance(e,P);-1===a?(a=s,u=P,p=f):p>f&&(a=s,u=P,p=f)}}if(-1===a||a>r.length-1)return;for(var g=0,y=0;y<a;y++){var h=l[y].clone(),S=l[y+1].clone();g+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[a].clone();if((g+=SuperMapAlgoPlot.PlottingUtil.distance(b,u))<0||g>n)return;this.scaleValues[0]=g/n}if(1===t){var A=n*this.scaleValues[0],d=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(A,l);if(!d.bfind)return;var M=d.pts.clone(),v=new SuperMapAlgoPlot.Point(l[d.index].x,l[d.index].y),m=new SuperMapAlgoPlot.Point(l[d.index+1].x,l[d.index+1].y),O=SuperMapAlgoPlot.PlottingUtil.radian(v,m)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.radian(M,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[1]=w-O;var U=SuperMapAlgoPlot.PlottingUtil.distance(M,e);this.scaleValues[2]=U/n}}}}])&&YS(e.prototype,o),l&&YS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zS(t){"@babel/helpers - typeof";return(zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function WS(t,e){return(WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function GS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JS(t);if(e){var n=JS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JS(t){return(JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60205=kS;var HS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=GS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="爆",e}return e=r,o&&FS(e.prototype,o),l&&FS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function KS(t){"@babel/helpers - typeof";return(KS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qS(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QS(t,e){return(QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ZS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=XS(t);if(e){var n=XS(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function XS(t){return(XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60301=HS;var $S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QS(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ZS(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.subText="火",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=l*this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,2*n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,2*n),u=[];u.push(t[0],i);var p=[];p.push(a,t[1]);var s=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!1),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=this.subText,y=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=new SuperMapAlgoPlot.Point(r.x,r.y),S=SuperMapAlgoPlot.PlottingUtil.distance(i,a);this.addText(g,h,S,y),this.addScalePoint(s[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n>.24&&(n=.24),this.scaleValues[0]=n}}}}])&&qS(e.prototype,o),l&&qS(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tb(t){"@babel/helpers - typeof";return(tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ob(t,e){return(ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nb(t);if(e){var n=nb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nb(t){return(nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121505=$S;var rb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ob(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol2121505);var e,o,l,n=lb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.subText="隧",e}return e=r,o&&eb(e.prototype,o),l&&eb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function ib(t){"@babel/helpers - typeof";return(ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ab(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ub(t,e){return(ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sb(t);if(e){var n=sb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ib(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sb(t){return(sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60304=rb;var cb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pb(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.05*SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.paraLine(t,e,!0),l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,e,!1),n=o[0],r=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,o[0],o[1]),i=[];i.push(n),i.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var a=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2+.2/3,o[0],o[1]),u=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3,o[0],o[1]),p=[];p.push(a),p.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var s=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3*2,o[0],o[1]),c=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(3*.2+.2/3*2,o[0],o[1]),P=[];P.push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,o[0],o[1]),g=o[1],y=[];y.push(f),y.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=l[0],S=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,l[0],l[1]),b=[];b.push(h),b.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2+.2/3,l[0],l[1]),d=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3,l[0],l[1]),M=[];M.push(A),M.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3*2,l[0],l[1]),m=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(3*.2+.2/3*2,l[0],l[1]),O=[];O.push(v),O.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,l[0],l[1]),U=l[1],L=[];L.push(w),L.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L);var V=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(1/3,t[0],t[1]),T=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(1/3*2,t[0],t[1]),j=[];j.push(V),j.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j);var R=SuperMapAlgoPlot.PlottingUtil.radian(V,T)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.distance(V,T),E=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,V,T),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,.025*_,.025*_,R+90),B=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,.025*_,.025*_,R-90),C=[];C.push(x),C.push(B),C.push(V);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,C,{fillLimit:!0,fill:!0}),this.finish()}}}])&&ab(e.prototype,o),l&&ab(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pb(t){"@babel/helpers - typeof";return(Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gb(t,e){return(gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hb(t);if(e){var n=hb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hb(t){return(hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60305=cb;var Sb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0]*e,l=t[0].clone(),n=t[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.linePnt(n,l,e+.2*e),i=SuperMapAlgoPlot.PlottingUtil.linePnt(l,n,e+.2*e),a=1.5*o,u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n,r),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l,i),s=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!1),P=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],3*e/11),f=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],4*e/11),g=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],7*e/11),y=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],8*e/11),h=[];h.push(u.pntRight),h.push(s[0]),h.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=[];S.push(f),S.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var b=[];b.push(y),b.push(s[s.length-1]),b.push(p.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],3*e/11),d=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],4*e/11),M=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],7*e/11),v=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],8*e/11),m=[];m.push(u.pntLeft),m.push(c[0]),m.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m);var O=[];O.push(d),O.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=[];w.push(v),w.push(c[c.length-1]),w.push(p.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w),this.finish()}}}])&&fb(e.prototype,o),l&&fb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bb(t){"@babel/helpers - typeof";return(bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ab(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function db(t,e){return(db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vb(t);if(e){var n=vb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vb(t){return(vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60306=Sb;var mb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=Mb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=this.subSymbols[0].symbolData.symbolSize.x;var l=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=100*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o*2;if(null==this.subSymbols.length)return;if(null!=this.subSymbols[0].code){this.computeSubSymbol(this.subSymbols[0],a.pts,p,u-90);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a.pts,p,p,u+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a.pts,2*p,2*p,u+90),P=[];P.push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.2*p,.2*p,u+90),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.05*p,.05*p,u),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.05*p,.05*p,u+180),h=[];h.push(f),h.push(g),h.push(y);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,h,{fillLimit:!0,fill:!0})}i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]);if(3===t&&null==r.pt&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.distance(l,e);this.scaleValues[t+1]=a/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5),this.scaleValues[5]>1&&(this.scaleValues[5]=1)}}}}}])&&Ab(e.prototype,o),l&&Ab(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ob(t){"@babel/helpers - typeof";return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ub(t,e){return(Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Vb(t);if(e){var n=Vb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ob(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vb(t){return(Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol60310=mb;var Tb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ub(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Lb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.32),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,{lineColorLimit:!0,strokeColor:"#00FF00",strokeOpacity:1,color:"#00FF00",opacity:1,lineColor:"#00FF00"});var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.4*n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=o*r,p=new SuperMapAlgoPlot.Point(l.x-o*i,l.y-o*a);this.addText("!",p,4*u,0,"#00FF00"),this.scalePoints=[];var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,u,u,0);this.addScalePoint(s),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=(e.x-r.x)/n;this.scaleValues[2]=-i;var a=(e.y-r.y)/n;this.scaleValues[3]=-a}else if(1==t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(r.x+n*i,r.y+n*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,new SuperMapAlgoPlot.Point(e.x,e.y))/2/n;this.scaleValues[0]=p}}}}])&&wb(e.prototype,o),l&&wb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jb(t){"@babel/helpers - typeof";return(jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _b(t,e){return(_b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Eb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xb(t);if(e){var n=xb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xb(t){return(xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol80203=Tb;var Bb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Eb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.25),e.scaleValues.push(.32),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];if(e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(0>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"});var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/o;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=.4*n}var r=this.scaleValues[0],i=this.scaleValues[1],a=this.scaleValues[2],u=this.scaleValues[3],p=o*r,s=l.y-o*u,c=new SuperMapAlgoPlot.Point(l.x-o*a,s),P=new SuperMapAlgoPlot.Point(l.x-o*i,s);this.addText("!",c,4*p,0,"#0000ff"),this.addText("!",P,4*p,0,"#0000ff"),this.scalePoints=[];var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,p,p,0);this.addScalePoint(f),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=[];if(l=3>=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):o.length>3&&!0===this.polylineConnectLocationPoint?o:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),0>(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).length)return;var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l);if(0==t){var i=(e.x-r.x)/n;this.scaleValues[2]=-i;var a=(e.y-r.y)/n;this.scaleValues[3]=-a}else if(1==t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(r.x+n*i,r.y+n*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,new SuperMapAlgoPlot.Point(e.x,e.y))/2/n;this.scaleValues[0]=p}}}}])&&Rb(e.prototype,o),l&&Rb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Cb(t){"@babel/helpers - typeof";return(Cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ib(t,e){return(Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Db(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nb(t);if(e){var n=Nb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nb(t){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol8020301=Bb;var kb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Db(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],p[p.length-1],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],u[0],l),g=[];g.push(P),g.push.apply(g,u),g.push.apply(g,p),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD;if(this.subSymbols.length>0)this.computeSubSymbol(this.subSymbols[0],c,.9*s,y-90);else{y+=180;var h=new SuperMapAlgoPlot.Point(.3*s,0),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,h,y),b=[],A=new SuperMapAlgoPlot.Point(-.6*s,0),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,A,y);(b=[]).push(S),b.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var M=new SuperMapAlgoPlot.Point(-.35*s,0),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,.4*s,.4*s,45),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,.4*s,.4*s,315),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,M,y),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,v,y),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,m,y);(b=[]).push(w),b.push(O),b.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}this.scalePoints=[],this.addScalePoint(u[u.length-1]);var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,y+90);this.addScalePoint(L),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=this.scaleValues[0]*l,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],r,r,90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],r,r,90),u=new SuperMapAlgoPlot.Point((i.x+a.x)/2,(i.y+a.y)/2),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e)/l;p>=.8&&(p=.8),this.scaleValues[1]=p}}}}])&&Yb(e.prototype,o),l&&Yb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zb(t){"@babel/helpers - typeof";return(zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wb(t,e){return(Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jb(t);if(e){var n=Jb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jb(t){return(Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol90212=kb;var Hb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Gb(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.04,e.scaleValues[1]=.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues[0]=.05,this.scaleValues[1]=.04),2===this.scaleValues.length&&this.scaleValues.push(.1),!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l,this.scaleValues[1]=l,this.scaleValues[2]=.5*l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);if(0<this.subSymbols.length)this.computeSubSymbol(this.subSymbols[0],r,.7*a,i-90);else{a*=.7;var u=new SuperMapAlgoPlot.Point(.3*a,0),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,u,i),s=[],c=new SuperMapAlgoPlot.Point(-.6*a,0),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,c,i);(s=[]).push(p),s.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var f=new SuperMapAlgoPlot.Point(-.35*a,0),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.4*a,.4*a,45),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.4*a,.4*a,315),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,f,i),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,g,i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(r,y,i);(s=[]).push(S),s.push(h),s.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s)}for(var A=[],d=[],M=0;M<=n.startIndex;M++)A.push(e[M]);if(A.push(n.startPt),this.addStartPtArrow(A,this.scaleValues[2]),n.endIndex<=e.length){d.push(n.endPt);for(var v=n.endIndex+1;v<=e.length-1;v++)d.push(e[v]);this.addArrow(d,this.scaleValues[2])}for(var m=[],O=0;O<e.length;O++)m.push(e[O]);var w=o*this.scaleValues[1],U=SuperMapAlgoPlot.PlottingUtil.paraLine(m,w,!0),L=SuperMapAlgoPlot.PlottingUtil.paraLine(m,w,!1),V=[];for(O=0;O<U.length;O++)V.push(U[O]);var T=[];for(O=0;O<L.length;O++)T.push(L[O]);V=SuperMapAlgoPlot.PlottingUtil.clearSamePts(V),T=SuperMapAlgoPlot.PlottingUtil.clearSamePts(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var j=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),R=SuperMapAlgoPlot.PlottingUtil.circlePoint(j.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(R,0),this.addScalePoint(L[0],1),this.finish()}}},{key:"addStartPtArrow",value:function(t,e){if(t.length<2)return t;var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints)*e,l=t[0];if(t.length>=2){for(var n=-1,r=0;r<t.length-1;r++)if(o<SuperMapAlgoPlot.PlottingUtil.distance(l,t[r])){n=r;break}t.splice(1,n)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var i=t[1],a=t[0],u=o,p=SuperMapAlgoPlot.PlottingUtil.radian(a,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,p+22.5),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,p-22.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[s,t[0],c],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0},!0)}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(o.length<this.minEditPts)return;if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l);if(-1===r.index)return;var i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.4?i:.4}if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0]);this.scaleValues[1]=a/n}}}}])&&Fb(e.prototype,o),l&&Fb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kb(t){"@babel/helpers - typeof";return(Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qb(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qb(t,e){return(Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xb(t);if(e){var n=Xb(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xb(t){return(Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol90213=Hb;var $b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Zb(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),l=[];for(e=15;e<=75;e+=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),l=[],e=105;e<=165;e+=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),l=[],e=195;e<=255;e+=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));for(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),l=[],e=285;e<=345;e+=5)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,e));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1]),r=new SuperMapAlgoPlot.Point(-.5*o,.2*o),i=new SuperMapAlgoPlot.Point(.5*o,.2*o),a=new SuperMapAlgoPlot.Point(.5*o,-.2*o),u=new SuperMapAlgoPlot.Point(-.5*o,-.2*o),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],r,n),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],i,n),c=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],a,n),P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t[0],u,n),f=[];f.push(p),f.push(s),f.push(c),f.push(P),f.push(p);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"}),this.finish()}}}])&&qb(e.prototype,o),l&&qb(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tA(t){"@babel/helpers - typeof";return(tA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oA(t,e){return(oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nA(t);if(e){var n=nA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nA(t){return(nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol90215=$b;var rA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.1,e.scaleValues[1]=.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues[0]=.1,this.scaleValues[1]=.2),this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e,o,l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=this.scaleValues[0],i=this.scaleValues[1],a=r*l,u=[];for(e=90;e<=270;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],a,a,e+n),u.push(o);var p=[];for(e=-90;e<=90;e+=3)o=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],a,a,e+n),p.push(o);var s=l*i,c=new SuperMapAlgoPlot.Point((u[0].x+p[p.length-1].x)/2,(u[0].y+p[p.length-1].y)/2),P=SuperMapAlgoPlot.PlottingUtil.linePnt(u[0],p[p.length-1],.5*(l-1.2*s)),f=SuperMapAlgoPlot.PlottingUtil.linePnt(p[p.length-1],u[0],.5*(l-1.2*s)),g=SuperMapAlgoPlot.PlottingUtil.radian(f,P)*SuperMapAlgoPlot.PlottingUtil.RTOD+180,y=[];if(y.push(P),y.push.apply(y,u),y.push.apply(y,p),y.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.subSymbols.length>0)this.computeSubSymbol(this.subSymbols[0],c,.9*s,g-90);else{var h=new SuperMapAlgoPlot.Point(.3*s,0),S=new SuperMapAlgoPlot.Point(.4*s,0),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,h,g),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,S,g),d=[];d.push(b),d.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,d,{fill:!1,fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var M=new SuperMapAlgoPlot.Point(-.4*s,0),v=new SuperMapAlgoPlot.Point(-.3*s,0),m=new SuperMapAlgoPlot.Point(-.3*s,.2*s),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,M,g),w=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,v,g),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,m,g);(d=[]).push(b),d.push(O),d.push(U),d.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var L=new SuperMapAlgoPlot.Point(-.2*s,0),V=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,.3*s,.3*s,45),T=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,.3*s,.3*s,315),j=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,L,g),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,V,g),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,T,g);(d=[]).push(R),d.push(j),d.push(_),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var E=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,.15*s,.15*s,45),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(h,.15*s,.15*s,315),B=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,E,g),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(c,x,g);(d=[]).push(B),d.push(b),d.push(C),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0})}this.scalePoints=[],this.addScalePoint(u[u.length-1]);var Y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,s,s,g+90);this.addScalePoint(Y),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}else if(1==t){var r=this.scaleValues[0]*l,i=SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[0],r,r,90+i),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(o[1],r,r,90+i),p=new SuperMapAlgoPlot.Point((a.x+u.x)/2,(a.y+u.y)/2),s=SuperMapAlgoPlot.PlottingUtil.distance(p,e)/l;s>=.8&&(s=.8),this.scaleValues[1]=s}}}}])&&eA(e.prototype,o),l&&eA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iA(t){"@babel/helpers - typeof";return(iA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uA(t,e){return(uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sA(t);if(e){var n=sA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sA(t){return(sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol90217=rA;var cA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.03),e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();this.scaleValues[0]=e,this.scaleValues[1]=.5*e,this.scaleValues[3]=.5*e}var o=this.scaleValues[0],l=this.scaleValues[1],n=this.scaleValues[2],r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r);var i=this.GetCurvePts(t,o,l);if(0!==i.pt.length){var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r)*n,u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,a);if(-1!==u.index){for(var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3],s=[],c=0;c<360;c+=12)s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(u.pt,p,p,c));s.push(s[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);for(var P=[],f=[],g=0;g<i.pt.length;g++)SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(s,i.pt[g])?f.length>1&&(P.push(f),f=[]):f.push(i.pt[g]);f.length>1&&P.push(f);for(var y=0;y<P.length;y++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[y]);var h=[],S=new SuperMapAlgoPlot.Point(u.pt.x-p,u.pt.y),b=new SuperMapAlgoPlot.Point(u.pt.x+.5*p,u.pt.y);h.push(S,b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var A=[],d=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,.3*p,.3*p,157.5),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(b,.3*p,.3*p,202.5);A.push(d),A.push(M),A.push(b);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0});var v=new SuperMapAlgoPlot.Point(i.pt[0].x,i.pt[0].y);v.isScalePoint=!0,v.tag=0,this.scalePoints.push(v);var m=new SuperMapAlgoPlot.Point(i.scalePt.x,i.scalePt.y);m.isScalePoint=!0,m.tag=1,this.scalePoints.push(m);var O=new SuperMapAlgoPlot.Point(u.pt.x,u.pt.y);O.isScalePoint=!0,O.tag=2,this.scalePoints.push(O);var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(u.pt.x,u.pt.y),p,p,0),U=new SuperMapAlgoPlot.Point(w.x,w.y);U.isScalePoint=!0,U.tag=3,this.scalePoints.push(U),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(4>this.scaleValues.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var a=o[0],u=SuperMapAlgoPlot.PlottingUtil.distance(a,i);this.scaleValues[1]=2*u/l}else if(1===t)a=o[0],u=SuperMapAlgoPlot.PlottingUtil.distance(a,i),this.scaleValues[0]=u/l;else if(2===t){for(var p=-1,s=0,c=new SuperMapAlgoPlot.Point(0,0),P=0;P<n.length-1;P++){var f=n[P],g=n[P+1],y=SuperMapAlgoPlot.PlottingUtil.projectPoint(i,f,g);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(y,f,g)){var h=SuperMapAlgoPlot.PlottingUtil.distance(i,y);-1===p?(p=P,c=y,s=h):s>h&&(p=P,c=y,s=h)}}if(-1===p||p>n.length-1)return;for(var S=[],b=0;b<p;b++)S.push(n[b]);S.push(c);var A=SuperMapAlgoPlot.PlottingUtil.polylineDistance(S);if(A<0||A>r)return;this.scaleValues[2]=A/r}else if(3===t){var d=r*this.scaleValues[2],M=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,d);if(-1===M.index)return;var v=SuperMapAlgoPlot.PlottingUtil.distance(M.pt,e);this.scaleValues[3]=v/l}}}},{key:"GetCurvePts",value:function(t,e,o){for(var l,n=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=r*e,a=r*o/2,u=[],p=[],s=n[0],c=!1,P=n[0],f=1;f<n.length;f++){var g=n[f],y=SuperMapAlgoPlot.PlottingUtil.distance(s,g);if(!(y<i&&f!==n.length-1)){for(var h,S=parseInt(y/i),b=0;b<S;b++){h=SuperMapAlgoPlot.PlottingUtil.linePnt(s,g,i),c||(l=h,c=!0);var A=this.GetCosPts2D(s,h,i,a);u=p.length>1&&0===b?this.ClearCurvePts2D(P,s,g,p,A,u):u.concat(A),p=(p=[]).concat(A),P=s,s=h}f===n.length-1&&(h=n[n.length-1],A=this.GetCosPts2D(s,h,i,a),u=p.length>1&&A.length>1?this.ClearCurvePts2D(P,s,g,p,A,u):u.concat(A))}}return{pt:u,scalePt:l}}},{key:"GetCosPts2D",value:function(t,e,o,l){for(var n=[],r=SuperMapAlgoPlot.PlottingUtil.distance(t,e),i=o/30,a=0;a<r;a+=i){var u=a*(2*Math.PI/o),p=l*Math.cos(u),s=new SuperMapAlgoPlot.Point(a,p),c=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,P=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,s,c);n.push(P)}return n}},{key:"ClearCurvePts2D",value:function(t,e,o,l,n,r){for(var i=180*SuperMapAlgoPlot.PlottingUtil.radian(e,o)/Math.PI,a=180*SuperMapAlgoPlot.PlottingUtil.radian(e,t)/Math.PI-i;a<=0;)a+=360;var u=a/2,p=o;p=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,u*Math.PI/180,p);for(var s=SuperMapAlgoPlot.PlottingUtil.linePnt(e,p,1),c=0,P=0;P<l.length;P++)if(SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,l[P])){c=P;break}if(0!=c)for(var f=0;f<l.length-c;f++)r.slice(f,r.length-1);for(var g=0;g<n.length;g++)SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(e,s,n[g])&&r.push(n[g]);return r}}])&&aA(e.prototype,o),l&&aA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PA(t){"@babel/helpers - typeof";return(PA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gA(t,e){return(gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hA(t);if(e){var n=hA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hA(t){return(hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2091503=cA;var SA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0];this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var l=this.scaleValues[1]*e,n=o*e,r=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,n);if(-1!==r.index){for(var i,a=r.pt,u=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[a,new SuperMapAlgoPlot.Point(a.x+l,a.y)]),p=0;p<t.length-1;p++){var s=t[p],c=t[p+1],P=SuperMapAlgoPlot.PlottingUtil.distance(a,s),f=SuperMapAlgoPlot.PlottingUtil.distance(a,c);if(!(P<l&&f<l))if(P>l&&f<l||P<l&&f>l){var g;g=P>l?s:c;var y=this.getLineAddCircleIntersectPts(s,c,u);y.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[y[0],g])}else{var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(a,s,c);if(SuperMapAlgoPlot.PlottingUtil.distance(a,h)>=l)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c]);else if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(h,s,c)){var S=this.getLineAddCircleIntersectPts(s,c,u);if(S.length>0){S.unshift(s),S.push(c);for(var b=0;b<S.length-1;b++)this.isLineInCircle(S[b],S[b+1],a,l)||this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S[b],S[b+1]])}}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s,c])}}if(this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[a,new SuperMapAlgoPlot.Point(a.x+l,a.y)]),i=r.index>=t.length-1?SuperMapAlgoPlot.PlottingUtil.radian(t[t.length-2],t[t.length-1])*SuperMapAlgoPlot.PlottingUtil.RTOD:SuperMapAlgoPlot.PlottingUtil.radian(t[r.index],t[r.index+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,this.subSymbols.length>0){if(null!==this.subSymbols[0].symbolData)for(var A=0;A<this.subSymbols[0].symbolData.innerCells.length;A++)26===this.subSymbols[0].symbolData.innerCells[A].type&&this.subSymbols[0].symbolData.innerCells.splice(A,1);this.computeSubSymbol(this.subSymbols[0],a,l,i)}this.scalePoints=[];var d=a;d.isScalePoint=!0,d.tag=0,this.scalePoints.push(d);var M=new SuperMapAlgoPlot.Point(a.x+l,a.y);M.isScalePoint=!0,M.tag=1,this.scalePoints.push(M),this.finish()}}}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return l>SuperMapAlgoPlot.PlottingUtil.distance(n,o)}},{key:"getLineAddCircleIntersectPts",value:function(t,e,o){var l=o.slice();l[0].x===l[l.length-1].x&&l[0].y===l[l.length-1].y||l.push(l[0]);for(var n=[],r=0;r<l.length-1;r++){var i=l[r],a=l[r+1],u=SuperMapAlgoPlot.PlottingUtil.intersectLines(t,e,i,a);u.isIntersectLines&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,t,e)&&SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.intersectPoint,i,a)&&n.push(u.intersectPoint)}for(var p=0;p<n.length-1;p++)SuperMapAlgoPlot.PlottingUtil.isSamePt(n[p],n[p+1])&&(n.splice(p,1),p--);if(t.x>e.x){for(var s=0;s<n.length&&s!==n.length-1;s++)if(n[s].x<n[s+1].x){var c=n[s];n[s]=n[s+1],n[s+1]=c}}else if(t.x<e.x){for(var P=0;P<n.length&&P!==n.length-1;P++)if(n[P].x>n[P+1].x){var f=n[P];n[P]=n[P+1],n[P+1]=f}}else if(t.y>e.y){for(var g=0;g<n.length&&g!==n.length-1;g++)if(n[g].y<n[g+1].y){var y=n[g];n[g]=n[g+1],n[g+1]=y}}else if(t.y<e.y)for(var h=0;h<n.length&&h!==n.length-1;h++)if(n[h].y>n[h+1].y){var S=n[h];n[h]=n[h+1],n[h+1]=S}return n}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){for(var n=0,r=-1,i=null,a=0;a<o.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.projectPoint,o[a],o[a+1])){var p=SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e);0===n?(n=p,r=a,i=u.projectPoint):p<n&&(n=p,r=a,i=u.projectPoint)}}if(-1===r)return;for(var s=0,c=0;c<r;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[c],o[c+1]);var P=(s+=SuperMapAlgoPlot.PlottingUtil.distance(i,o[r]))/l;P>1&&(P=1),this.scaleValues[0]=P}if(1===t){var f=this.scaleValues[0]*l,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);if(-1===g.index)return;var y=SuperMapAlgoPlot.PlottingUtil.distance(g.pt,e)/l;y>.4&&(y=.4),this.scaleValues[1]=y}}}}])&&fA(e.prototype,o),l&&fA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bA(t){"@babel/helpers - typeof";return(bA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dA(t,e){return(dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vA(t);if(e){var n=vA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vA(t){return(vA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2092101=SA;var mA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=l*this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,2*n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,2*n),u=[];u.push(t[0],i);var p=[];p.push(a,t[1]);var s=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,n,!1),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(p,n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=SuperMapAlgoPlot.PlottingUtil.radian(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=.5*SuperMapAlgoPlot.PlottingUtil.distance(i,a);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,y,g),this.addScalePoint(s[0],0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n>.24&&(n=.24),this.scaleValues[0]=n}}}}])&&AA(e.prototype,o),l&&AA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OA(t){"@babel/helpers - typeof";return(OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UA(t,e){return(UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=VA(t);if(e){var n=VA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function VA(t){return(VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121504=mA;var TA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol2121505);var e,o,l,n=LA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="墩",e}return e=r,o&&wA(e.prototype,o),l&&wA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function jA(t){"@babel/helpers - typeof";return(jA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _A(t,e){return(_A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xA(t);if(e){var n=xA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xA(t){return(xA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121506=TA;var BA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol2121505);var e,o,l,n=EA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="复",e}return e=r,o&&RA(e.prototype,o),l&&RA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function CA(t){"@babel/helpers - typeof";return(CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IA(t,e){return(IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NA(t);if(e){var n=NA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NA(t){return(NA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121507=BA;var kA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=DA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(1),e.scaleValues.push(0)),e.subText="遥",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);for(var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=50*this.getSubSymbolScaleValue(),i=n*r*.02,a=n*r*.005,u=.1*n,p=.1*l,s=0;s<=n;s+=u){var c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,s+p);if(-1!==c.index){var P,f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,t[c.index],c.pt);P=this.scaleValues[0]>0?new SuperMapAlgoPlot.Point(f.pntLeft.x,f.pntLeft.y):new SuperMapAlgoPlot.Point(f.pntRight.x,f.pntRight.y);var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,P,c.pt),y=[];if(y.push(g.pntRight),y.push(P),y.push(g.pntLeft),0===s){var h=new SuperMapAlgoPlot.Point(P.x,P.y);h.isScalePoint=!0,h.tag=0,this.scalePoints.push(h)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,y,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0})}}var S=SuperMapAlgoPlot.PlottingUtil.radian(t[t.length-2],t[t.length-1])*SuperMapAlgoPlot.PlottingUtil.RTOD,b=this.scaleValues[1]*n,A=SuperMapAlgoPlot.PlottingUtil.distance(t[t.length-1],t[t.length-2]),d=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-2],t[t.length-1],.5*b+A);this.addText(this.subText,d,b,S),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint&&0===t){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e);this.scaleValues[0]=l?-1:1}}}])&&YA(e.prototype,o),l&&YA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zA(t){"@babel/helpers - typeof";return(zA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function WA(t,e){return(WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function GA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JA(t);if(e){var n=JA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JA(t){return(JA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121601=kA;var HA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol2121601);var e,o,l,n=GA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="障",e}return e=r,o&&FA(e.prototype,o),l&&FA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function KA(t){"@babel/helpers - typeof";return(KA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qA(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QA(t,e){return(QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ZA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=XA(t);if(e){var n=XA(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function XA(t){return(XA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2121602=HA;var $A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ZA(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).subSymbols.length&&(e.subSymbols=SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultSubSymbols(e.libID,e.code)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(2>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL,e);for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y,a=[],u=0;u<e.length;u++)l>e[u].x&&(l=e[u].x),n<e[u].x&&(n=e[u].x),r>e[u].y&&(r=e[u].y),i<e[u].y&&(i=e[u].y),a.push(e[u]);var p=(n-l)/5;p>10&&(p=10);for(var s=.2*p,c=[],P=0;P<360;P+=18){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(new SuperMapAlgoPlot.Point(0,0),s,s,P);c.push(f)}for(var g=0,y=l;y<n;y+=p)for(var h=r;h<i;h+=p){var S=new SuperMapAlgoPlot.Point(y,h);if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(a,S))if(0===g){g++;for(var b=[],A=0;A<c.length;A++){var d=new SuperMapAlgoPlot.Point(S.x+c[A].x,S.y+c[A].y);b.push(d)}b.push(b[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b);var M=[];M.push(b[10]),M.push(new SuperMapAlgoPlot.Point(b[10].x-.5*s,b[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=[];v.push(b[0]),v.push(new SuperMapAlgoPlot.Point(b[0].x+.5*s,b[10].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}else 1===g?(g++,null!==this.subSymbols[0]&&this.computeSubSymbol(this.subSymbols[0],S,.015*o,0)):(g=0,null!==this.subSymbols[1]&&this.computeSubSymbol(this.subSymbols[1],S,.015*o,0))}this.finish()}}}}])&&qA(e.prototype,o),l&&qA(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function td(t){"@babel/helpers - typeof";return(td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ed(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function od(t,e){return(od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ld(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nd(t);if(e){var n=nd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===td(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nd(t){return(nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2122101=$A;var rd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&od(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ld(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(.1)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=n*this.scaleValues[2],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r),a=4*o,u=[],p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y)),r=n*this.scaleValues[3],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y));for(var c=n*this.scaleValues[1],P=this.getDashLinePts(l,c),f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},g=0;g<P.length;g++){var y=P[g];y=SuperMapAlgoPlot.PlottingUtil.clearSamePts(y);var h=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!1);1!=g?(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f)):(h.unshift(u[0]),h.push(u[2]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),S.unshift(u[1]),S.push(u[3]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f))}a=2*o;var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.05*n),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.15*n);var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt),M=[];M.push(A.pntLeft),M.push(d.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(A.pntRight),M.push(d.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.45*n);var v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.55*n);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(v.pntLeft),M.push(m.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(v.pntRight),M.push(m.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.85*n);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.95*n);var w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(O.pntLeft),M.push(w.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(O.pntRight),M.push(w.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}}])&&ed(e.prototype,o),l&&ed(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function id(t){"@babel/helpers - typeof";return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ad(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ud(t,e){return(ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sd(t);if(e){var n=sd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===id(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sd(t){return(sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2122201=rd;var cd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ud(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.2),e.scaleValues.push(.3),e.scaleValues.push(.7),e.scaleValues.push(3)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);0===this.scaleValues.length&&(this.scaleValues.push(.02),this.scaleValues.push(.2),this.scaleValues.push(.3),this.scaleValues.push(.7),this.scaleValues.push(3)),this.isEdit||(this.scaleValues[0]=.2*this.getSubSymbolScaleValue());var o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=n*this.scaleValues[2],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r),a=4*o,u=[],p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(p.pntLeft.x,p.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(p.pntRight.x,p.pntRight.y)),r=n*this.scaleValues[3],i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,r);var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[i.index],i.pt);u.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),u.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y));for(var c=n*this.scaleValues[1],P=this.getDashLinePts(l,c),f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},g=0;g<P.length;g++){var y=P[g];SuperMapAlgoPlot.PlottingUtil.clearSamePts(y);var h=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!0),S=SuperMapAlgoPlot.PlottingUtil.paraLine(y,o,!1);1!=g?(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f)):(h.unshift(u[0]),h.push(u[2]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,f),S.unshift(u[1]),S.push(u[3]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S,f))}a=2*o;var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.05*n),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.15*n);var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt),M=[];M.push(A.pntLeft),M.push(d.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(A.pntRight),M.push(d.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.45*n);var v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.55*n);var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(v.pntLeft),M.push(m.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(v.pntRight),M.push(m.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.85*n);var O=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.95*n);var w=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l[b.index],b.pt);(M=[]).push(O.pntLeft),M.push(w.pntRight),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),(M=[]).push(O.pntRight),M.push(w.pntLeft),f={lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1},this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,f),b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,0);var U=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1.5*a,l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.5*n);var L=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a*this.scaleValues[4],l[b.index],b.pt);b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);var V=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1.5*a,l[b.index],b.pt);(M=[]).push(U.pntLeft),M.push(L.pntRight),M.push(V.pntRight);var T=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(M);T=SuperMapAlgoPlot.PlottingUtil.clearSamePts(T),f={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},this.addCell(SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL,T,f),this.scalePoints=[],this.addScalePoint(L.pntRight),this.finish()}}},{key:"getDashLinePts",value:function(t,e){var o=[],l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(e>l)return o;for(var n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=2*parseInt(l/(1.5*e)),i=0;i<r;i++){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,e);if(-1!==a.index){if(0==i%2){for(var u=[],p=0;p<a.index+1;p++)u.push(n[p].clone());u.push(a.pt),o.push(u)}var s=[];s.push(a.pt);for(var c=a.index+1;c<n.length;c++)s.push(n[c]);n=(n=[]).concat(s)}}return n.length>0&&o.push(n),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(0==t){SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);this.scaleValues[4]=l/10}}}}])&&ad(e.prototype,o),l&&ad(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pd(t){"@babel/helpers - typeof";return(Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gd(t,e){return(gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hd(t);if(e){var n=hd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hd(t){return(hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2122202=cd;var Sd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.5),e.scaleValues.push(.4)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[0],l=this.scaleValues[1],n=this.scaleValues[2]*e,r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e*l),i=SuperMapAlgoPlot.PlottingUtil.distance(t[1],r),a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],r,i+.45*n),u=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-i+.45*n),p=2*o,s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[1],a),c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],u),P=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!1),g=e-i-n/2,y=SuperMapAlgoPlot.PlottingUtil.linePnt(P[0],P[P.length-1],g),h=SuperMapAlgoPlot.PlottingUtil.linePnt(P[0],P[P.length-1],g+.2*n),S=SuperMapAlgoPlot.PlottingUtil.linePnt(P[0],P[P.length-1],g+.8*n),b=SuperMapAlgoPlot.PlottingUtil.linePnt(P[0],P[P.length-1],g+n),A={fillLimit:!0},d=[];d.push(P[0]),d.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,A);var M=[];M.push(s.pntRight),M.push(h),M.push(S),M.push(c.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,A);var v=[];v.push(b),v.push(P[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,A);var m=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],f[f.length-1],g),O=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],f[f.length-1],g+.2*n),w=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],f[f.length-1],g+.8*n),U=SuperMapAlgoPlot.PlottingUtil.linePnt(f[0],f[f.length-1],g+n),L=[];L.push(f[0]),L.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L,A);var V=[];V.push(s.pntLeft),V.push(O),V.push(w),V.push(c.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V,A);var T=[];T.push(U),T.push(f[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,A);var j=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o/2,y,P[0]);this.addScalePoint(j.pntLeft,0),this.addScalePoint(r,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e);if(0===t&&(this.scaleValues[0]=n/l),1===t){var r=n/l;r>.8?r=.8:r<.2&&(r=.2),this.scaleValues[1]=r}}}}])&&fd(e.prototype,o),l&&fd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bd(t){"@babel/helpers - typeof";return(bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ad(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dd(t,e){return(dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Md(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vd(t);if(e){var n=vd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vd(t){return(vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol2122301=Sd;var md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Md(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&Ad(e.prototype,o),l&&Ad(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Od(t){"@babel/helpers - typeof";return(Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ud(t,e){return(Ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ld(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Vd(t);if(e){var n=Vd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Od(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vd(t){return(Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000801=md;var Td=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ud(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000801);var e,o,l,n=Ld(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&wd(e.prototype,o),l&&wd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function jd(t){"@babel/helpers - typeof";return(jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _d(t,e){return(_d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ed(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xd(t);if(e){var n=xd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xd(t){return(xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000802=Td;var Bd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_d(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000801);var e,o,l,n=Ed(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&Rd(e.prototype,o),l&&Rd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Cd(t){"@babel/helpers - typeof";return(Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Id(t,e){return(Id=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nd(t);if(e){var n=Nd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nd(t){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000803=Bd;var kd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Id(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000801);var e,o,l,n=Dd(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i+180);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0),this.finish()}}}])&&Yd(e.prototype,o),l&&Yd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zd(t){"@babel/helpers - typeof";return(zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wd(t,e){return(Wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jd(t);if(e){var n=Jd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jd(t){return(Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000804=kd;var Hd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000804);var e,o,l,n=Gd(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&Fd(e.prototype,o),l&&Fd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Kd(t){"@babel/helpers - typeof";return(Kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qd(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qd(t,e){return(Qd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xd(t);if(e){var n=Xd(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xd(t){return(Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000805=Hd;var $d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qd(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000804);var e,o,l,n=Zd(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,o&&qd(e.prototype,o),l&&qd(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function tM(t){"@babel/helpers - typeof";return(tM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oM(t,e){return(oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nM(t);if(e){var n=nM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nM(t){return(nM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000806=$d;var rM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&(this.computeSubSymbol(this.subSymbols[0],r,.05*a,i+90),this.computeSubSymbol(this.subSymbols[1],r,a,i+180));for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&eM(e.prototype,o),l&&eM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iM(t){"@babel/helpers - typeof";return(iM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uM(t,e){return(uM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sM(t);if(e){var n=sM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sM(t){return(sM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000807=rM;var cM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i+180);var u=[],p=new SuperMapAlgoPlot.Point(0,0);p.x=-a/6,p.y=a/3;var s=new SuperMapAlgoPlot.Point(0,0),c=SuperMapAlgoPlot.PlottingUtil.rotateAngle(s,i*SuperMapAlgoPlot.PlottingUtil.DTOR,p),P=new SuperMapAlgoPlot.Point(c.x+r.x,c.y+r.y);p.x=a/6,p.y=a/3;var f=SuperMapAlgoPlot.PlottingUtil.rotateAngle(s,i*SuperMapAlgoPlot.PlottingUtil.DTOR,p),g=new SuperMapAlgoPlot.Point(f.x+r.x,f.y+r.y);p.x=0,p.y=-a/3;var y=SuperMapAlgoPlot.PlottingUtil.rotateAngle(s,i*SuperMapAlgoPlot.PlottingUtil.DTOR,p),h=new SuperMapAlgoPlot.Point(y.x+r.x,y.y+r.y);u.push(P),u.push(g),u.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,{fillLimit:!0,fill:!0});for(var S=[],b=[],A=0;A<=n.startIndex;A++)S.push(e[A]);if(S.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),n.endIndex<=e.length){b.push(n.endPt);for(var d=n.endIndex+1;d<=e.length-1;d++)b.push(e[d]);this.addArrow(b)}var M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(v,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&aM(e.prototype,o),l&&aM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PM(t){"@babel/helpers - typeof";return(PM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gM(t,e){return(gM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hM(t);if(e){var n=hM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hM(t){return(hM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000808=cM;var SM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&(this.computeSubSymbol(this.subSymbols[0],r,a,i+180),this.computeSubSymbol(this.subSymbols[1],r,.5*a,i+180));for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&fM(e.prototype,o),l&&fM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bM(t){"@babel/helpers - typeof";return(bM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dM(t,e){return(dM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vM(t);if(e){var n=vM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vM(t){return(vM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3000809=SM;var mM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(-.04),e.scaleValues.push(-.175),e.scaleValues.push(.1)),e.subText="集",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==e){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.addText(this.subText,o,.3*e,0,"#0000FF"),this.finish()}}}}])&&AM(e.prototype,o),l&&AM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OM(t){"@babel/helpers - typeof";return(OM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UM(t,e){return(UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=VM(t);if(e){var n=VM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function VM(t){return(VM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001101=mM;var TM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3001101);var e,o,l,n=LM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="暴",e}return e=r,o&&wM(e.prototype,o),l&&wM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function jM(t){"@babel/helpers - typeof";return(jM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _M(t,e){return(_M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xM(t);if(e){var n=xM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xM(t){return(xM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001102=TM;var BM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_M(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3001101);var e,o,l,n=EM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="骚",e}return e=r,o&&RM(e.prototype,o),l&&RM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function CM(t){"@babel/helpers - typeof";return(CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IM(t,e){return(IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NM(t);if(e){var n=NM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NM(t){return(NM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001103=BM;var kM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=DM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=this.scaleValues[1],l=this.scaleValues[2],n=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==n){if(!this.isEdit){var r=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[2]=r/n}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=new SuperMapAlgoPlot.Point(i.x+e*n,i.y+o*n),u=l*n;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,u,0),this.addText("私",a,u,0,"#0000FF"),this.addScalePoint(a,0);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(p,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t&&(this.scaleValues[0]=(r.x-n.x)/l,this.scaleValues[1]=(r.y-n.y)/l),1===t){var i=this.scaleValues[0],a=this.scaleValues[1],u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u);this.scaleValues[2]=p/l}}}}])&&YM(e.prototype,o),l&&YM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zM(t){"@babel/helpers - typeof";return(zM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function WM(t,e){return(WM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function GM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JM(t);if(e){var n=JM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JM(t){return(JM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001104=kM;var HM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=GM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),2===this.controlPoints.length&&this.calAssistantLine();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=this.scaleValues[0],o=this.scaleValues[1],l=this.scaleValues[2],n=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(t);if(0!==n){if(!this.isEdit){var r=this.getSubSymbolScaleValue()*SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);this.scaleValues[2]=r/n}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var i=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),a=new SuperMapAlgoPlot.Point(i.x+e*n,i.y+o*n),u=l*n;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],a,u,0),this.addText("盗",a,u,0),this.addScalePoint(a,0);var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,u,u,90);this.addScalePoint(p,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t&&(this.scaleValues[0]=(r.x-n.x)/l,this.scaleValues[1]=(r.y-n.y)/l),1===t){var i=this.scaleValues[0],a=this.scaleValues[1],u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=SuperMapAlgoPlot.PlottingUtil.distance(e,u);this.scaleValues[2]=p/l}}}}])&&FM(e.prototype,o),l&&FM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KM(t){"@babel/helpers - typeof";return(KM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qM(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QM(t,e){return(QM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ZM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=XM(t);if(e){var n=XM(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function XM(t){return(XM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001105=HM;var $M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QM(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ZM(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.5),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.1*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],Math.sqrt(3)*e/4),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],n*o),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[0],2*e),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,t[1],2*e),u=[];u.push(t[0]),u.push(i);var p=[];p.push(a),p.push(l);var s=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.25*e,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,.25*e,!1),P=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.25*e,!0),f=SuperMapAlgoPlot.PlottingUtil.paraLine(p,.25*e,!1);if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.subSymbols.length>0){var g=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,y=.5*SuperMapAlgoPlot.PlottingUtil.distance(i,a);this.computeSubSymbol(this.subSymbols[0],r,y,g+180)}var h=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],e),S=new SuperMapAlgoPlot.Point(h.x,h.y),b=new SuperMapAlgoPlot.Point(h.x,h.y);S=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],1/6*Math.PI,S),b=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],11/6*Math.PI,b);var A=[];A.push(S),A.push(t[t.length-1]),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),this.finish()}}}])&&qM(e.prototype,o),l&&qM(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tv(t){"@babel/helpers - typeof";return(tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ev(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ov(t,e){return(ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nv(t);if(e){var n=nv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nv(t){return(nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001301=$M;var rv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lv(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.1*SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],Math.sqrt(3)*e/4),l=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);l.splice(t.length-1,1),l.push(o);var n=SuperMapAlgoPlot.PlottingUtil.paraLine(l,.25*e,!0),r={lineColorLimit:!0,strokeColor:"#00C000",color:"#00C000"},i=SuperMapAlgoPlot.PlottingUtil.paraLine(l,.25*e,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,r);var a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],t[t.length-2],e),u=new SuperMapAlgoPlot.Point(a.x,a.y),p=new SuperMapAlgoPlot.Point(a.x,a.y);u=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],1/6*Math.PI,u),p=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],11/6*Math.PI,p);var s=[];s.push(u),s.push(t[t.length-1]),s.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,r),this.finish()}}}])&&ev(e.prototype,o),l&&ev(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iv(t){"@babel/helpers - typeof";return(iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function av(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uv(t,e){return(uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sv(t);if(e){var n=sv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sv(t){return(sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3001302=rv;var cv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=pv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="震",e}return e=r,o&&av(e.prototype,o),l&&av(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Pv(t){"@babel/helpers - typeof";return(Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gv(t,e){return(gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hv(t);if(e){var n=hv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hv(t){return(hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002001=cv;var Sv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){var e={surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),n=this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=new SuperMapAlgoPlot.Point(l.x+o*n,l.y+o*r),u=new SuperMapAlgoPlot.Point(a.x+1,a.y),p=[];t.push(t[0].clone());for(var s=0;s<t.length-1;s++){var c=SuperMapAlgoPlot.PlottingUtil.intersectLines(a,u,t[s],t[s+1]);c.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(c.intersectPoint,t[s],t[s+1])&&p.push(c.intersectPoint))}if(0>=p.length)this.finish();else{var P=p[0].clone(),f=p[0].clone();for(s=0;s<p.length;s++)P.x>p[s].x&&(P=p[s].clone()),f.x<p[s].x&&(f=p[s].clone());var g=new SuperMapAlgoPlot.Point(a.x-i/2,P.y),y=new SuperMapAlgoPlot.Point(a.x+i/2,f.y),h=SuperMapAlgoPlot.PlottingUtil.radian(g,y)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("HX",a,i,h,"#0000FF"),this.addScalePoint(a,0);var S=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i/2,i/2,90);this.addScalePoint(S,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=e,i=0,a=0;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,r))return;i=(r.x-n.x)/l,this.scaleValues[0]=i,a=(r.y-n.y)/l,this.scaleValues[1]=a}if(1===t){i=this.scaleValues[0],a=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(r,u);this.scaleValues[2]=p/l}}}}])&&fv(e.prototype,o),l&&fv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol3002002=Sv;function bv(t){"@babel/helpers - typeof";return(bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Av(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dv(t,e){return(dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vv(t);if(e){var n=vv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vv(t){return(vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Mv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(e=3>=this.controlPoints.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),!(2>(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e)).length)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),n=this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=new SuperMapAlgoPlot.Point(l.x+o*n,l.y+o*r),u=new SuperMapAlgoPlot.Point(a.x+1,a.y),p=[];e.push(e[0].clone());for(var s=0;s<e.length-1;s++){var c=SuperMapAlgoPlot.PlottingUtil.intersectLines(a,u,e[s],e[s+1]);c.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(c.intersectPoint,e[s],e[s+1])&&p.push(c.intersectPoint))}if(0>=p.length)this.finish();else{var P=p[0].clone(),f=p[0].clone();for(s=0;s<p.length;s++)P.x>p[s].x&&(P=p[s].clone()),f.x<p[s].x&&(f=p[s].clone());var g=[],y=new SuperMapAlgoPlot.Point(a.x-i/2,P.y);y.x<=f.x&&y.x>=P.x&&((g=[]).push(P),g.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g));var h=new SuperMapAlgoPlot.Point(a.x+i/2,f.y);h.x<=f.x&&h.x>=P.x&&((g=[]).push(f),g.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g));var S=SuperMapAlgoPlot.PlottingUtil.radian(y,h)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("火",a,i,S),this.addScalePoint(a,0);var b=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i/2,i/2,90);this.addScalePoint(b,1),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=e,i=0,a=0;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,r))return;i=(r.x-n.x)/l,this.scaleValues[0]=i,a=(r.y-n.y)/l,this.scaleValues[1]=a}if(1===t){i=this.scaleValues[0],a=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(r,u);this.scaleValues[2]=p/l}}}}])&&Av(e.prototype,o),l&&Av(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ov(t){"@babel/helpers - typeof";return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Uv(t,e){return(Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Vv(t);if(e){var n=Vv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ov(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vv(t){return(Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002004=mv;var Tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Lv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.1)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t={lineColorLimit:!0,strokeColor:"#0000ff",color:"#0000ff",lineColor:"#0000ff"},e=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e,t);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),n=this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=new SuperMapAlgoPlot.Point(l.x+o*n,l.y+o*r),u=new SuperMapAlgoPlot.Point(a.x+1,a.y),p=[];e.push(e[0].clone());for(var s=0;s<e.length-1;s++){var c=SuperMapAlgoPlot.PlottingUtil.intersectLines(a,u,e[s],e[s+1]);c.isIntersectLines&&(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(c.intersectPoint,e[s],e[s+1])&&p.push(c.intersectPoint))}if(0>=p.length)this.finish();else{var P=p[0].clone(),f=p[0].clone();for(s=0;s<p.length;s++)P.x>p[s].x&&(P=p[s].clone()),f.x<p[s].x&&(f=p[s].clone());var g=[],y=new SuperMapAlgoPlot.Point(a.x-i/2,P.y);y.x<=f.x&&y.x>=P.x&&((g=[]).push(P),g.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,t));var h=new SuperMapAlgoPlot.Point(a.x+i/2,f.y);if(h.x<=f.x&&h.x>=P.x&&((g=[]).push(f),g.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,t)),this.subSymbols.length>0){var S=this.computeSubSymbol(this.subSymbols[0],a,i,0);if(null!=S)for(var b=0;b<S.length;b++)S[b].style.lineColorLimit=!0,S[b].style.strokeColor="#0000FF",S[b].style.color="#0000FF",S[b].style.surroundLineLimit=!0,S[b].style.surroundLineColor="#ffff00",S[b].style.surroundLineColorOpacity=1,S[b].style.surroundLineType=SuperMapAlgoPlot.AlgoSurroundLineType.INNER}this.addScalePoint(a,0);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i/2,i/2,90);this.addScalePoint(A,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o),r=e,i=0,a=0;if(0===t){if(!SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(o,r))return;i=(r.x-n.x)/l,this.scaleValues[0]=i,a=(r.y-n.y)/l,this.scaleValues[1]=a}if(1===t){i=this.scaleValues[0],a=this.scaleValues[1];var u=new SuperMapAlgoPlot.Point(n.x+i*l,n.y+a*l),p=2*SuperMapAlgoPlot.PlottingUtil.distance(r,u);this.scaleValues[2]=p/l}}}}])&&wv(e.prototype,o),l&&wv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jv(t){"@babel/helpers - typeof";return(jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _v(t,e){return(_v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ev(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xv(t);if(e){var n=xv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xv(t){return(xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002005=Tv;var Bv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_v(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=Ev(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="冰",e}return e=r,o&&Rv(e.prototype,o),l&&Rv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Cv(t){"@babel/helpers - typeof";return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Iv(t,e){return(Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nv(t);if(e){var n=Nv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nv(t){return(Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002501=Bv;var kv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=Dv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="塌",e}return e=r,o&&Yv(e.prototype,o),l&&Yv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function zv(t){"@babel/helpers - typeof";return(zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wv(t,e){return(Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jv(t);if(e){var n=Jv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jv(t){return(Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002502=kv;var Hv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=Gv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="堆",e}return e=r,o&&Fv(e.prototype,o),l&&Fv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Kv(t){"@babel/helpers - typeof";return(Kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qv(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qv(t,e){return(Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xv(t);if(e){var n=Xv(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xv(t){return(Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002503=Hv;var $v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qv(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=Zv(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="滑",e}return e=r,o&&qv(e.prototype,o),l&&qv(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function tm(t){"@babel/helpers - typeof";return(tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function em(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function om(t,e){return(om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nm(t);if(e){var n=nm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nm(t){return(nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002504=$v;var rm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&om(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30025);var e,o,l,n=lm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="滚",e}return e=r,o&&em(e.prototype,o),l&&em(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function im(t){"@babel/helpers - typeof";return(im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function am(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function um(t,e){return(um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sm(t);if(e){var n=sm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===im(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sm(t){return(sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002505=rm;var cm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&um(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.subText="标",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p)}var f=this.subText,g=.15*P,y=new SuperMapAlgoPlot.Point(n.endPt.x+g/2,n.endPt.y-g/2),h=i;this.addText(f,y,g,h);var S=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(S.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(b,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&am(e.prototype,o),l&&am(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pm(t){"@babel/helpers - typeof";return(Pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gm(t,e){return(gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ym(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hm(t);if(e){var n=hm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hm(t){return(hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030301=cm;var Sm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol4030301);var e,o,l,n=ym(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="劝",e}return e=r,o&&fm(e.prototype,o),l&&fm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function bm(t){"@babel/helpers - typeof";return(bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Am(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dm(t,e){return(dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vm(t);if(e){var n=vm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vm(t){return(vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030302=Sm;var mm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol4030301);var e,o,l,n=Mm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="疏",e}return e=r,o&&Am(e.prototype,o),l&&Am(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Om(t){"@babel/helpers - typeof";return(Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Um(t,e){return(Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Vm(t);if(e){var n=Vm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Om(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vm(t){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030303=mm;var Tm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Um(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Lm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),!(this.controlPoints.length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=t[0].clone(),l=t[1].clone(),n=SuperMapAlgoPlot.PlottingUtil.radian(o,l)*SuperMapAlgoPlot.PlottingUtil.RTOD,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,e,e,n+90),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(o,e,e,n+270),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,n+90),u=i,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,n+270),s=r,c=a,P=SuperMapAlgoPlot.PlottingUtil.distance(s,c),f=SuperMapAlgoPlot.PlottingUtil.distance(u,p),g=SuperMapAlgoPlot.PlottingUtil.distance(s,u),y=SuperMapAlgoPlot.PlottingUtil.distance(c,p),h=SuperMapAlgoPlot.PlottingUtil.linePnt(s,c,.4*P),S=SuperMapAlgoPlot.PlottingUtil.linePnt(s,c,.6*P),b=SuperMapAlgoPlot.PlottingUtil.linePnt(s,u,.4*g),A=SuperMapAlgoPlot.PlottingUtil.linePnt(s,u,.6*g),d=SuperMapAlgoPlot.PlottingUtil.linePnt(c,p,.4*y),M=SuperMapAlgoPlot.PlottingUtil.linePnt(c,p,.6*y),v=SuperMapAlgoPlot.PlottingUtil.linePnt(u,p,.2*f),m=SuperMapAlgoPlot.PlottingUtil.linePnt(u,p,.25*f),O=SuperMapAlgoPlot.PlottingUtil.linePnt(u,p,.75*f),w=SuperMapAlgoPlot.PlottingUtil.linePnt(u,p,.8*f),U=[];U.push(S),U.push(c),U.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U);var L=[];L.push(M),L.push(p),L.push(w),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L);var V=[];V.push(O),V.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V);var T=[];T.push(v),T.push(u),T.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T);var j=[];j.push(b),j.push(s),j.push(h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j);var R=SuperMapAlgoPlot.PlottingUtil.radian(h,S)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=new SuperMapAlgoPlot.Point((h.x+S.x)/2,(h.y+S.y)/2),E=SuperMapAlgoPlot.PlottingUtil.distance(h,S);this.addText("警",_,E,R),this.addScalePoint(r,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.controlPoints.length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;this.scaleValues[0]=n}}}])&&wm(e.prototype,o),l&&wm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jm(t){"@babel/helpers - typeof";return(jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _m(t,e){return(_m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Em(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xm(t);if(e){var n=xm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xm(t){return(xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030401=Tm;var Bm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_m(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol40305);var e,o,l,n=Em(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length?(this.scaleValues.push(.05),this.scaleValues.push(.05),this.scaleValues.push(.02)):2===this.scaleValues.length?this.scaleValues.push(.3*this.getSubSymbolScaleValue()):1===this.scaleValues.length&&(this.scaleValues.push(.5*this.getSubSymbolScaleValue()),this.scaleValues.push(.3*this.getSubSymbolScaleValue()));var e=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(e);SuperMap.Plot.PlottingUtil.polylineDistance(o);if(!this.isEdit){var l=this.getSubSymbolScaleValue();(l>.1||l<=0)&&(l=.1),this.scaleValues[0]=l,this.scaleValues[1]=this.getSubSymbolScaleValue(),this.scaleValues[2]=.5*l}var n=this.getLinePts(o,this.scaleValues[0],.5),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMap.Plot.PlottingUtil.dirAngle(n.startPt,n.endPt)*SuperMap.Plot.PlottingUtil.RTOD,a=SuperMap.Plot.PlottingUtil.distance(n.startPt,n.endPt);this.computeSubSymbolC(r,a,i);for(var u=[],p=0;p<=n.startIndex;p++)u.push(o[p]);u.push(new SuperMapAlgoPlot.Point(n.startPt.x,n.startPt.y));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1});var s=[];if(n.endIndex<=o.length){s.push(new SuperMapAlgoPlot.Point(n.endPt.x,n.endPt.y));for(var c=n.endIndex+1;c<=o.length-1;c++)s.push(o[c]);this.addArrow(s,this.scaleValues[2])}var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,.5*a,.5*a,i+90);this.addScalePoint(P,0),this.finish()}}},{key:"computeSubSymbolC",value:function(t,e,o){for(var l=[],n=0;n<360;n+=12)l.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t,.5*e,.5*e,n));l.push(l[0]);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,{lineColorLimit:!0,strokeColor:"#0000FF",strokeOpacity:1,color:"#0000FF",opacity:1})}}])&&Rm(e.prototype,o),l&&Rm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Cm(t){"@babel/helpers - typeof";return(Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ym(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Im(t,e){return(Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nm(t);if(e){var n=Nm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nm(t){return(Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030501=Bm;var km=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Im(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol3000801);var e,o,l,n=Dm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.subText="队",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=.8*SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,a,i+180);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addArrow(p)}var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P.pts,o*this.scaleValues[0]*.5,o*this.scaleValues[0]*.5,i+90);this.addScalePoint(f,0);var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p),y=this.subText,h=.15*g,S=new SuperMapAlgoPlot.Point(n.endPt.x+h/2,n.endPt.y-h/2),b=i;this.addText(y,S,h,b),this.finish()}}}])&&Ym(e.prototype,o),l&&Ym(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zm(t){"@babel/helpers - typeof";return(zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wm(t,e){return(Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jm(t);if(e){var n=Jm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jm(t){return(Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030602=km;var Hm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol4030602);var e,o,l,n=Gm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="队",e}return e=r,o&&Fm(e.prototype,o),l&&Fm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Km(t){"@babel/helpers - typeof";return(Km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qm(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qm(t,e){return(Qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xm(t);if(e){var n=Xm(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Km(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xm(t){return(Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol4030802=Hm;var $m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qm(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Zm(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues.length<1&&(this.scaleValues=[],this.scaleValues.push(.2));var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=.5*e,l=new SuperMapAlgoPlot.Point(t[0].x,t[0].y),n=new SuperMapAlgoPlot.Point(t[1].x,t[1].y),r=SuperMapAlgoPlot.PlottingUtil.radian(l,n)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+90),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e,e,r+270),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,o,o,r),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,o,o,r),s=[];s.push(p),s.push(a),s.push(i),s.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,e,e,r+270),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,o,o,r+180),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,o,o,r+180);(s=[]).push(f),s.push(c),s.push(P),s.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var y=.4*SuperMapAlgoPlot.PlottingUtil.distance(l,n),h=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2),S=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("JZ",h,y,S),this.addScalePoint(i),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;this.scaleValues[0]=n}}}])&&qm(e.prototype,o),l&&qm(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tO(t){"@babel/helpers - typeof";return(tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oO(t,e){return(oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nO(t);if(e){var n=nO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nO(t){return(nO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5010401=$m;var rO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.125),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125),this.scaleValues.push(0));var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o,l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),r=this.getDefaultSubSymbolSize()/n;(r>.3||r<=0)&&(r=.3);var i=1.5*r;2===t.length?(this.isEdit||(this.scaleValues[3]=this.scaleValues[2]+i),o=this.scaleValues[2],l=this.scaleValues[3]):(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[4],0)&&(this.scaleValues=[],this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(.125)),this.isEdit||(this.scaleValues[4]=this.scaleValues[3]+i),o=this.scaleValues[3],l=this.scaleValues[4]);var a=n*o,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.pts,s=n*l;if((u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,e)).bfind){var c=u.index,P=u.pts,f=new SuperMapAlgoPlot.Point(p.x,p.y),g=new SuperMapAlgoPlot.Point(P.x,P.y),y=SuperMapAlgoPlot.PlottingUtil.radian(f,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=[];h.push(P);for(var S=c+1;S<e.length;S++)h.push(e[S]);this.addArrow(h);var b=SuperMapAlgoPlot.PlottingUtil.distance(f,g);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],f,b,y),this.scalePoints=[],this.addScalePoint(P);var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,b/2,b/2,y+90);this.addScalePoint(A),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=0,i=0;if(2===o.length?(r=this.scaleValues[2],i=this.scaleValues[3]):(r=this.scaleValues[3],i=this.scaleValues[4]),0===t){for(var a=i-r,u=e.clone(),p=[],s=0;s<l.length;s++)p.push(l[s].clone());for(var c,P=-1,f=0,g=0;g<p.length-1;g++){var y=[];y.push(p[g]),y.push(p[g+1]);var h=SuperMapAlgoPlot.PlottingUtil.projectPoint(u,p[g],p[g+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(h,y).isOnPolyLine){var S=SuperMapAlgoPlot.PlottingUtil.distance(u,h);-1===P?(P=g,c=h,f=S):f>S&&(P=g,c=h,f=S)}}if(-1===P||P>p.length-1)return;for(var b=0,A=0;A<P;A++)b+=SuperMapAlgoPlot.PlottingUtil.distance(l[A],l[A+1]);if((b+=SuperMapAlgoPlot.PlottingUtil.distance(l[P],c))<0||b>n)return;var d=b/n;if(d>.7||d-a<0)return;2===o.length?(this.scaleValues[2]=d-a,this.scaleValues[3]=d):(this.scaleValues[3]=d-a,this.scaleValues[4]=d)}else if(1===t){var M=n*r,v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(M,l);if(!v.bfind)return;var m=v.pts,O=(2*SuperMapAlgoPlot.PlottingUtil.distance(m,e)+M)/n;if(.7<O)return;2===o.length?this.scaleValues[3]=O:this.scaleValues[4]=O}}}}])&&eO(e.prototype,o),l&&eO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iO(t){"@babel/helpers - typeof";return(iO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uO(t,e){return(uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sO(t);if(e){var n=sO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sO(t){return(sO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5021803=rO;var cO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(180)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(180));var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[1]=l}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=o*n,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.index,s=u.pts,c=r*o*.5,P=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(.5*c,0),g=new SuperMapAlgoPlot.Point(0,c),y=[],h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,P,i);y.push(h);var S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,f,i);y.push(S);var b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,g,i);y.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL,y);var A=new SuperMapAlgoPlot.Point(0,-2*c),d=new SuperMapAlgoPlot.Point(.15*c,-1.6*c),M=new SuperMapAlgoPlot.Point(-.15*c,-1.6*c),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,A,i),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,d,i),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,M,i),w=[];w.push(v),w.push(m),w.push(O);var U={surroundLineFlag:!1,fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,w,U);var L=new SuperMapAlgoPlot.Point(0,-c),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,L,i);(w=[]).push(V),w.push(v.clone()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w,U);var T,j=[],R=[];for(T=0;T<=p;T++)j.push(e[T]);for(j.push(s),R.push(s),T=p+1;T<e.length;T++)R.push(e[T]);var _=1.2*c;if(a>_){var E=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a-_,j);if(E.bfind){var x=E.pts,B=E.index,C=[];for(T=0;T<=B;T++)C.push(j[T]);C.push(x),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C)}}if(o-a>_){var Y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(_,R);if(Y.bfind){var I=Y.pts,D=Y.index;for((C=[]).push(I),T=D+1;T<R.length;T++)C.push(R[T]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,C)}}I=void 0===I?e[e.length-1]:I,x=void 0===x?e[0]:x;var N=SuperMapAlgoPlot.PlottingUtil.radian(x,I)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.addText("ZD0",s,_,N+90),this.scalePoints=[],this.addScalePoint(s),this.addScalePoint(v),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=e.clone(),i=-1,a=0,u=0;u<l.length-1;u++){var p=[];p.push(l[u]),p.push(l[u+1]);var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,l[u],l[u+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(s,p).isOnPolyLine){var c=SuperMapAlgoPlot.PlottingUtil.distance(r,s);-1===i?(i=u,a=c):a>c&&(i=u,a=c)}}if(-1===i)return SuperMapAlgoPlot.PlottingUtil.distance(r,l[0])>SuperMapAlgoPlot.PlottingUtil.distance(r,l[l.length-1])?void(i=l.length-1):void(i=0);var P=0;if(0===i)P=SuperMapAlgoPlot.PlottingUtil.distance(l[0],s);else for(var f=0;f<i;f++)P+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if(P<0||P>n)return;this.scaleValues[0]=P/n}else if(1===t){var g=this.scaleValues[0]*n,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,l);if(!y.bfind)return;var h=y.pts,S=SuperMapAlgoPlot.PlottingUtil.distance(h,e)/n;S>.5&&(S=.5),this.scaleValues[1]=S;var b=SuperMapAlgoPlot.PlottingUtil.radian(h,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=b+90}}}}])&&aO(e.prototype,o),l&&aO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PO(t){"@babel/helpers - typeof";return(PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gO(t,e){return(gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hO(t);if(e){var n=hO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hO(t){return(hO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5022001=cO;var SO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(90));var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[1]=l}var n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=o*n,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e);if(u.bfind){var p=u.index,s=u.pts,c=r*o,P=s,f=new SuperMapAlgoPlot.Point(c,-.5*c),g=new SuperMapAlgoPlot.Point(c,.5*c),y=new SuperMapAlgoPlot.Point(-c,.5*c),h=new SuperMapAlgoPlot.Point(-c,-.5*c),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,f,i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,g,i),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,y,i),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,h,i);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[S,b,A,d,S]);var M=new SuperMapAlgoPlot.Point(.5*c,.5*c),v=new SuperMapAlgoPlot.Point(.5*c,-.5*c),m=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,v,i),O=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,M,i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[m,O]);var w=new SuperMapAlgoPlot.Point(0,.5*c),U=new SuperMapAlgoPlot.Point(0,-.5*c),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,w,i),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,U,i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[L,V]);var T=new SuperMapAlgoPlot.Point(c,0),j=new SuperMapAlgoPlot.Point(2*c,0),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,T,i),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,j,i);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[R,_]);var E=new SuperMapAlgoPlot.Point(2*c,.15*c),x=new SuperMapAlgoPlot.Point(2*c,-.15*c),B=new SuperMapAlgoPlot.Point(2.6*c,0),C=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,E,i),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,x,i),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,B,i);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[C,Y,I],{lineTypeLimit:!0,lineColorLimit:!1,strokeColor:"#FF0000",strokeOpacity:1,color:"#FF0000",opacity:1,surroundLineLimit:!0,fillLimit:!0,fill:!0});var D,N=[],k=[];for(D=0;D<=p;D++)N.push(e[D]);for(N.push(s),k.push(s),D=p+1;D<e.length;D++)k.push(e[D]);var z=1.2*c;if(a>z){var F=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a-z,N);if(F.bfind){var W=F.pts,G=F.index,J=[];for(D=0;D<=G;D++)J.push(N[D]);J.push(W),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,J)}}if(o-a>z){var H=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(z,k);if(H.bfind){var K=H.pts,q=H.index;for((J=[]).push(K),D=q+1;D<k.length;D++)J.push(k[D]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,J)}}this.scalePoints=[],this.addScalePoint(s),this.addScalePoint(_),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=e.clone(),i=-1,a=0,u=0;u<l.length-1;u++){var p=[];p.push(l[u]),p.push(l[u+1]);var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,l[u],l[u+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(s,p).isOnPolyLine){var c=SuperMapAlgoPlot.PlottingUtil.distance(r,s);-1===i?(i=u,a=c):a>c&&(i=u,a=c)}}if(-1===i)return SuperMapAlgoPlot.PlottingUtil.distance(r,l[0])>SuperMapAlgoPlot.PlottingUtil.distance(r,l[l.length-1])?void(i=l.length-1):void(i=0);var P=0;if(0===i)P=SuperMapAlgoPlot.PlottingUtil.distance(l[0],s);else for(var f=0;f<i;f++)P+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if(P<0||P>n)return;this.scaleValues[0]=P/n}else if(1===t){var g=this.scaleValues[0]*n,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,l);if(!y.bfind)return;var h=y.pts,S=SuperMapAlgoPlot.PlottingUtil.distance(h,e)/n;S>.5&&(S=.5),this.scaleValues[1]=S;var b=SuperMapAlgoPlot.PlottingUtil.radian(h,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=b+90}}}}])&&fO(e.prototype,o),l&&fO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bO(t){"@babel/helpers - typeof";return(bO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dO(t,e){return(dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vO(t);if(e){var n=vO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vO(t){return(vO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5022002=SO;var mO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){4>this.scaleValues.length&&(this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=1.5*this.getDefaultSubSymbolSize();this.subSymbolScaleValue=n/l,this.subSymbolScaleValue>.2&&(this.subSymbolScaleValue=.2),this.scaleValues[0]=this.subSymbolScaleValue}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols&&null!==this.subSymbols&&this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,l*r,0);for(var s=0;s<this.components.length;s++)this.components[s].style.strokeColor="#0000FF",this.components[s].style.lineColorLimit=!0,this.components[s].style.strokeOpacity=1,this.components[s].style.color="#0000FF",this.components[s].style.opacity=1;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e),this.addScalePoint(p);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,u,u,90);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=0,a=0;if(0===t)i=(e.x-n.x)/r,this.scaleValues[2]=i,a=(e.y-n.y)/r,this.scaleValues[3]=a;else if(1===t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(n.x+r*i,n.y+r*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e);this.scaleValues[0]=p/r}}}}])&&AO(e.prototype,o),l&&AO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OO(t){"@babel/helpers - typeof";return(OO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UO(t,e){return(UO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=VO(t);if(e){var n=VO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function VO(t){return(VO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5022301=mO;var TO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=LO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,5!==e.scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen),e.scaleValues.push(e.sv_arrowTailWidth)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);5>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));var o=e*this.scaleValues[4],l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[1],t[0]);void 0!==t[0].z&&(l.pntLeft.z=t[0].z,l.pntRight.z=t[0].z),this.controlPoints=[],this.controlPoints.push(l.pntLeft),this.controlPoints.push(l.pntRight);for(var n=1;n<t.length;n++)this.controlPoints.push(new SuperMapAlgoPlot.Point(t[n].x,t[n].y));for(var r=[],i=0;i<this.scaleValues.length;i++)r.push(this.scaleValues[i]);this.scaleValues=[];for(var a=0;a<r.length-1;a++)this.scaleValues.push(r[a]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);for(var u=this.components[0],p=[],s=0;s<u.positionPoints.length;s++)p.push(u.positionPoints[s]);p.push(u.positionPoints[0]),u.positionPoints.push(u.positionPoints[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u.positionPoints,{fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1});var c=l.pntRight.clone();c.isScalePoint=!0,c.tag=3,this.addScalePoint(c),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),this.scaleValues=[];for(var P=0;P<r.length;P++)this.scaleValues.push(r[P]);this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){5>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));var l=o[0].clone(),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0!==n){var r=n*this.scaleValues[4],i=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,o[1],o[0]);(o=[]).push(i.pntRight),o.push(i.pntLeft);for(var a=1;a<this.controlPoints.length;a++)o.push(new SuperMapAlgoPlot.Point(this.controlPoints[a].x,this.controlPoints[a].y));var u,p,s,c,P,f=o.length,g=this.operateCtrlPts(o);f=g.length,f--;var y=this.calcScaleValueCount(o.length);y++,this.scaleValues.length<y?(u=this.calcDefaultScaleValues()[0],p=this.calcDefaultScaleValues()[1],s=this.calcDefaultScaleValues()[2],c=this.calcDefaultScaleValues()[3],P=this.sv_arrowTailWidth):(u=this.scaleValues[0],p=this.scaleValues[1],s=this.scaleValues[2],c=this.scaleValues[3],P=this.scaleValues[4]);for(var h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),S=[],b=0;b<this.scalePoints.length;b++)S.push(this.scalePoints[b].clone());if(0!==S.length){S[t]=e.clone();var A,d,M=f-1;A=f<=3?new SuperMapAlgoPlot.Point((g[0].x+g[1].x)/2,(g[0].y+g[1].y)/2):g[M-1].clone();var v,m,O,w,U,L,V=new SuperMapAlgoPlot.Point(0,0),T=new SuperMapAlgoPlot.Point(0,0),j=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,A,g[M],g[M+1],T,j),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,g[f],g[f-1],j,V),d=V.clone();var R=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(g[f],d,S[2]);if(v=R.dLen1,R.dLen2,0===v&&(v=.1),m=v,u=(v/=c+1)/h,1===t)w=(R=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(g[f],d,S[1])).dLen1,s=(U=R.dLen2)/v,c=(w-v)/v;else if(0===t)v=(R=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(g[f],d,S[0])).dLen1,p=(O=R.dLen2)/v,(L=SuperMapAlgoPlot.PlottingUtil.distance(g[f],g[f-1]))<2*v&&(v=.5*L),w=(R=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(g[f],d,S[1])).dLen1,s=(U=R.dLen2)/v,(c=(m-v)/v)<.1&&(s=U/(v=m/(1+(c=.1))),p=O/v),u=v/h;else if(2===t)u=v/h;else{P=SuperMapAlgoPlot.PlottingUtil.distance(e,l)/n}O=v*p,(L=SuperMapAlgoPlot.PlottingUtil.distance(g[f],g[f-1]))<2*v&&(O=(v=.5*L)*p,u=v/h),this.scaleValues[0]=u,this.scaleValues[1]=p,this.scaleValues[2]=s,this.scaleValues[3]=c,this.scaleValues[4]=P}}}}}])&&wO(e.prototype,o),l&&wO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jO(t){"@babel/helpers - typeof";return(jO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _O(t,e){return(_O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xO(t);if(e){var n=xO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xO(t){return(xO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030103=TO;var BO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_O(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=EO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,e.scaleValues=[],e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);5>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth),this.scaleValues.push(30));var o=e*this.scaleValues[4],l=this.scaleValues[5],n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,n-l),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o,o,n-l+180);if(SuperMapAlgoPlot.PlottingUtil.isRight(r,t[0],t[1])){var a=r;r=i,i=a}void 0!==t[0].z&&(r.z=t[0].z,i.z=t[0].z),this.controlPoints=[],this.controlPoints.push(r),this.controlPoints.push(i);for(var u=1;u<t.length;u++)this.controlPoints.push(new SuperMapAlgoPlot.Point(t[u].x,t[u].y));for(var p=[],s=0;s<this.scaleValues.length;s++)p.push(this.scaleValues[s]);this.scaleValues=[];for(var c=0;c<p.length-1;c++)this.scaleValues.push(p[c]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var P=this.components[0];P.positionPoints.push(P.positionPoints[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,P.positionPoints,{fillLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1});var f=i.clone();f.isScalePoint=!0,f.tag=3,this.addScalePoint(f),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),this.scaleValues=[];for(var g=0;g<p.length;g++)this.scaleValues.push(p[g]);this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){5>this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));var l=o[0].clone(),n=o[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0!==r){var i=r*this.scaleValues[4],a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,o[1],o[0]);(o=[]).push(a.pntRight),o.push(a.pntLeft);for(var u=1;u<this.controlPoints.length;u++)o.push(new SuperMapAlgoPlot.Point(this.controlPoints[u].x,this.controlPoints[u].y));var p,s,c,P,f,g=o.length,y=this.operateCtrlPts(o);g=y.length,g--;var h=this.calcScaleValueCount(o.length);h++,this.scaleValues.length<h?(p=this.calcDefaultScaleValues()[0],s=this.calcDefaultScaleValues()[1],c=this.calcDefaultScaleValues()[2],P=this.calcDefaultScaleValues()[3],f=this.sv_arrowTailWidth):(p=this.scaleValues[0],s=this.scaleValues[1],c=this.scaleValues[2],P=this.scaleValues[3],f=this.scaleValues[4]);for(var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),b=[],A=0;A<this.scalePoints.length;A++)b.push(this.scalePoints[A].clone());if(0!==b.length){b[t]=e.clone();var d,M,v=g-1;d=g<=3?new SuperMapAlgoPlot.Point((y[0].x+y[1].x)/2,(y[0].y+y[1].y)/2):y[v-1].clone();var m,O,w,U,L,V,T=new SuperMapAlgoPlot.Point(0,0),j=new SuperMapAlgoPlot.Point(0,0),R=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,d,y[v],y[v+1],j,R),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,y[g],y[g-1],R,T),M=T.clone();var _=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(y[g],M,b[2]);if(m=_.dLen1,_.dLen2,0===m&&(m=.1),O=m,p=(m/=P+1)/S,1===t)U=(_=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(y[g],M,b[1])).dLen1,c=(L=_.dLen2)/m,P=(U-m)/m;else if(0===t)m=(_=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(y[g],M,b[0])).dLen1,s=(w=_.dLen2)/m,(V=SuperMapAlgoPlot.PlottingUtil.distance(y[g],y[g-1]))<2*m&&(m=.5*V),U=(_=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(y[g],M,b[1])).dLen1,c=(L=_.dLen2)/m,(P=(O-m)/m)<.1&&(c=L/(m=O/(1+(P=.1))),s=w/m),p=m/S;else if(2===t)p=m/S;else if(3===t){f=(i=SuperMapAlgoPlot.PlottingUtil.distance(e,l))/r;var E=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,e)*SuperMapAlgoPlot.PlottingUtil.RTOD,x=SuperMapAlgoPlot.PlottingUtil.dirAngle(l,n)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[5]=x-E}w=m*s,(V=SuperMapAlgoPlot.PlottingUtil.distance(y[g],y[g-1]))<2*m&&(w=(m=.5*V)*s,p=m/S),this.scaleValues[0]=p,this.scaleValues[1]=s,this.scaleValues[2]=c,this.scaleValues[3]=P,this.scaleValues[4]=f}}}}}])&&RO(e.prototype,o),l&&RO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function CO(t){"@babel/helpers - typeof";return(CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IO(t,e){return(IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NO(t);if(e){var n=NO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NO(t){return(NO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030104=BO;var kO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1010);var e,o,l,n=DO(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){SuperMapAlgoPlot.AlgoSymbol1010.prototype.calculateParts.apply(this,arguments),this.components.length>0&&(this.components[0].style.fillStyle=0,this.components[0].style.fillLimit=!0),this.finish()}}])&&YO(e.prototype,o),l&&YO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zO(t){"@babel/helpers - typeof";return(zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function WO(t,e){return(WO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function GO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JO(t);if(e){var n=JO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JO(t){return(JO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030105=kO;var HO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=GO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).MIN_GEOPT_COUNT=2,e.MAX_GEOPT_COUNT=1024,e.SV1_defaultATLenDivABLen=0,e.SV2_defaultAYPosScale=.65,e.SV_AJCtrl=.6,e.SV_ArrowWoCtrl=.6,e.SV2_DefaultAJWidDiviedByATLen=.148,e.SV3_DefaultAEWidDividedByATLen=.4,e.SV4_DefaultAELenDividedByATLen=.3,e.SV_ATScaleParameter=1.25,e.SV_ATLenDividedByATWid=1.35,e.SV_ATWidDividedByArrowWeiWid=.5,e.AB_VERTEX_COUNT=4,e.MIN_PTCOUNT_PERARROW=3,e.ATL_DIV_AWW=.7,e.ATL_DIV_ABL=.12,e.ATL_DIV_ABL_1=.18,e.DEFAULT_ARROW_TAIL_POS=.12,e.DUOJIANTOU_TAIL_RATE_1=8,e.DUOJIANTOU_TAIL_RATE_2=3,e.DUOJIANTOU_TAIL_RATE_3=.6,e.AB_CTRLPT_RATE1=0,e.AB_CTRLPT_RATE2=3,e.AB_CTRLPT_RATE3=.5,e.MIN_SCALEVALUE=.1,e.MAX_SCALEVALUE=1,e.m_scalePoints=[],e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol5030107",e}return e=r,(o=[{key:"calculateParts",value:function(){this.init(),this.m_scalePoints=[];var t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.operateCtrlPts(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=this.scaleValues.length;if(n<2*l-1){0===n&&(this.scaleValues.push(this.SV1_defaultATLenDivABLen),n++);for(var r=2*l-1-n,i=0;i<r;i+=2)this.scaleValues.splice(n/2+1,0,this.SV1_defaultATLenDivABLen),this.scaleValues.splice(this.scaleValues.length,0,this.SV2_defaultAYPosScale)}else if(n>2*l-1){for(var a=0;a<l;a++)this.scaleValues.push(this.SV1_defaultATLenDivABLen);for(var u=0;u<l-1;u++)this.scaleValues.push(this.SV2_defaultAYPosScale)}var p=this.arrowMeshs(e);SuperMapAlgoPlot.PlottingUtil.clearSamePts(p.shapePts);for(var s=[],c=[],P=0;P<l;P++){var f=p.arrLeftPts2D[P],g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(f),y=[],h=[],S=[],b=[];if(0===P){for(var A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*g,p.arrLeftPts2D[P]),d=0;d<=A.index;d++)h.push(p.arrLeftPts2D[P][d]);for(var M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.45*g,p.arrLeftPts2D[P]),v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*g,p.arrLeftPts2D[P]),m=M.index;m<=v.index;m++)S.push(p.arrLeftPts2D[P][m]);for(var O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.95*g,p.arrLeftPts2D[P]).index;O<p.arrLeftPts2D[P].length;O++)b.push(p.arrLeftPts2D[P][O]);y.push(h),y.push(S),y.push(b)}else{A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.025*g,p.arrLeftPts2D[P]),M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.85*g,p.arrLeftPts2D[P]);for(var w=A.index;w<=M.index;w++)h.push(p.arrLeftPts2D[P][w]);for(var U=(v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.9*g,p.arrLeftPts2D[P])).index;U<p.arrLeftPts2D[P].length;U++)S.push(p.arrLeftPts2D[P][U]);y.push(h),y.push(S)}s.push(y);var L=[],V=p.arrRightPts2D[P],T=SuperMapAlgoPlot.PlottingUtil.polylineDistance(V),j=[],R=[],_=[];if(P===l-1){for(var E=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.1*T,p.arrRightPts2D[P]),x=0;x<E.index;x++)j.push(p.arrRightPts2D[P][x]);for(var B=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.15*T,p.arrRightPts2D[P]),C=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.6*T,p.arrRightPts2D[P]),Y=B.index;Y<=C.index;Y++)R.push(p.arrRightPts2D[P][Y]);for(var I=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.65*T,p.arrRightPts2D[P]).index;I<p.arrRightPts2D[P].length;I++)_.push(p.arrRightPts2D[P][I]);L.push(j),L.push(R),L.push(_)}else{E=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.15*T,p.arrRightPts2D[P]);for(var D=0;D<E.index;D++)j.push(p.arrRightPts2D[P][D]);B=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.175*T,p.arrRightPts2D[P]),C=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.975*T,p.arrRightPts2D[P]);for(var N=B.index;N<=C.index;N++)R.push(p.arrRightPts2D[P][N]);L.push(j),L.push(R)}c.push(L)}for(var k=0;k<l;k++){for(var z=0;z<s[k].length-1;z++){var F=s[k][z];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,F)}var W=[];for(O=0;O<s[k][s[k].length-1].length;O++)W.push(s[k][s[k].length-1][O]);for(O=0;O<p.arrHeadPts2D[k].length;O++)W.push(p.arrHeadPts2D[k][O]);for(O=0;O<c[k][0].length;O++)W.push(c[k][0][O]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,W);for(var G=1;G<c[k].length;G++){var J=c[k][G];this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,J)}}this.scalePoints=[];for(var H=0;H<this.m_scalePoints.length;H++)this.m_scalePoints[H].isScalePoint=!0,this.m_scalePoints[H].tag=H,this.addScalePoint(this.m_scalePoints[H]);this.finish()}}},{key:"arrowMeshs",value:function(t){for(var e=[],o=[],l=[],n=new SuperMapAlgoPlot.Path2D,r=t.length,i=Math.floor(r/this.MIN_PTCOUNT_PERARROW),a=this.generateAWWidth(i,t),u=[],p=[],s=0,c=0,P=0,f=[],g=0,y=0;g<i;g++,y+=this.MIN_PTCOUNT_PERARROW){f[0]=t[y],f[1]=t[y+1],f[2]=t[y+2],s=this.scaleValues[g];var h=this.generateArrowBodyPts(f,a[g],s);s=h.dATLenDivABLen,u[g]=h.arrowBodyPts,p.push(s)}for(var S=[],b=0,A=0,d=0,M=[],v=[],m=0;m<i-1;m++,A+=this.MIN_PTCOUNT_PERARROW){d=A+this.MIN_PTCOUNT_PERARROW,M[0]=t[A],M[1]=t[A+1],M[2]=t[A+2],v[0]=t[d],v[1]=t[d+1],v[2]=t[d+2],b=this.scaleValues[i+m];var O=this.generateAYPts(M,u[m],v,u[m+1],b);S.push(O.arrowLeftYaoPts),S.push(O.arrowRightYaoPts)}var w=[],U=u[0],L=[],V=0,T=[];n.MoveTo(U[0]),n.CurveTo(U[1],U[2],U[3]),n.CurveTo(U[4],U[5],U[6]),n.ToSubPathPolygons(L),e.push(L[0]),V=L[0].length;for(var j=7;j<10;j++)n.LineTo(U[j]);for(L=[],n.ToSubPathPolygons(L);V<L[0].length;V++)T.push(L[0][V]);for(l.push(T),w.push(U[0]),w.push(t[0]),c=1,P=this.MIN_PTCOUNT_PERARROW;c<i;c++,P+=this.MIN_PTCOUNT_PERARROW){var R=u[c],_=c+c-2,E=S[_];for(n.LineTo(E[0]),n.CurveTo(E[1],E[2],E[3]),L=[],T=[],n.ToSubPathPolygons(L);V<L[0].length;V++)T.push(L[0][V]);o.push(T);var x=S[_+1];for(n.CurveTo(x[1],x[2],x[3]),L=[],T=[],n.ToSubPathPolygons(L);V<L[0].length;V++)T.push(L[0][V]);e.push(T);for(var B=7;B<10;B++)n.LineTo(R[B]);for(L=[],T=[],n.ToSubPathPolygons(L);V<L[0].length;V++)T.push(L[0][V]);l.push(T),w.push(t[P].clone())}var C=u[i-1];for(n.LineTo(C[10]),n.CurveTo(C[11],C[12],C[13]),n.CurveTo(C[14],C[15],C[16]),L=[],T=[],n.ToSubPathPolygons(L);V<L[0].length;V++)T.push(L[0][V]);o.push(T),w.push(C[16]);var Y=[];return n.ToSubPathPolygons(Y),{shapePts:Y[0],arrLeftPts2D:e,arrRightPts2D:o,arrHeadPts2D:l}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=this.operateCtrlPts(this.controlPoints),l=o.length,n=Math.floor(l/this.MIN_PTCOUNT_PERARROW),r=0;if(t<n){var i=[],a=t*this.MIN_PTCOUNT_PERARROW;i[0]=o[a],i[1]=o[a+1],i[2]=o[a+2];var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),p=new SuperMapAlgoPlot.Point(0,0),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,i[0],i[1],i[2],p,s),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,i[2],i[1],s,c),r=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(i[2],c,e).dLen1/(this.SV4_DefaultAELenDividedByATLen+1)/u}else{var P=[],f=[],g=(t-n)*this.MIN_PTCOUNT_PERARROW;P[0]=o[g],P[1]=o[g+1],P[2]=o[g+2];var y=(t-n+1)*this.MIN_PTCOUNT_PERARROW;f[0]=o[y],f[1]=o[y+1],f[2]=o[y+2];var h=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),b=new SuperMapAlgoPlot.Point(0,0);h.x=.5*(P[2].x+f[2].x),S.x=.5*(P[1].x+f[1].x),b.x=.5*(P[0].x+f[0].x),h.y=.5*(P[2].y+f[2].y),S.y=.5*(P[1].y+f[1].y),b.y=.5*(P[0].y+f[0].y);var A=SuperMapAlgoPlot.PlottingUtil.distance(h,S),d=SuperMapAlgoPlot.PlottingUtil.distance(b,S),M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(h,S,e),v=M.dLen1;r=v<A?v/(A+d):((v=(M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(S,b,e)).dLen1)+A)/(A+d)}r>this.MAX_SCALEVALUE?r=this.MAX_SCALEVALUE:r<this.MIN_SCALEVALUE&&(r=this.MIN_SCALEVALUE),this.scaleValues[t]=r}this.calculateParts()}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=o%this.MIN_PTCOUNT_PERARROW,r=new SuperMapAlgoPlot.Point;if(2===n&&(r.x=.5*(e[o-2].x+e[o-1].x),r.y=.5*(e[o-2].y+e[o-1].y),r.x===e[o-1].x&&r.y===e[o-1].y||(e.push(e[o-1].clone()),e[o-1]=r,o++,l++)),o>3)for(var i=l-1,a=0,u=i;a<i;u--,a++)for(var p=u*this.MIN_PTCOUNT_PERARROW,s=0;s<p;s+=this.MIN_PTCOUNT_PERARROW){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[s+3],e[s+1],e[s+2])){var c=e[s];e[s]=e[s+3],e[s+3]=c,c=e[s+1],e[s+1]=e[s+4],e[s+4]=c,c=e[s+2],e[s+2]=e[s+5],e[s+5]=c}}return e}},{key:"generateArrowBodyPts",value:function(t,e,o){var l=[],n=[],r=[],i=[],a=[],u=[],p=[],s=t.length-1;if(s<2)return{dATLenDivABLen:o=0,arrowBodyPts:l};var c=o,P=this.SV2_DefaultAJWidDiviedByATLen,f=this.SV3_DefaultAEWidDividedByATLen,g=this.SV4_DefaultAELenDividedByATLen,y=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),h=SuperMapAlgoPlot.PlottingUtil.polylineDistance(y),S=0===e?h*this.ATL_DIV_ABL_1:(h+e)*this.ATL_DIV_ABL,b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(S,y[1],y[0]);n[1]=b.pntLeft.clone(),r[1]=b.pntRight.clone();var A=0;A=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,0,1e-14)?S*this.ATL_DIV_AWW:h*c;var d=SuperMapAlgoPlot.PlottingUtil.distance(y[1],y[2]);A+A>d&&(A=.5*d);var M=A*P;y.push(y[s].clone());var v,m=0;v=h-A;var O=[],w=0;for(w=2;w<=s;w++)m+=SuperMapAlgoPlot.PlottingUtil.distance(y[w-1],y[w-2]),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v,0,1e-14)?O[w]=0:SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v-m,0,1e-14)?O[w]=M:O[w]=M+(S-M)*Math.pow((v-m)/v,this.SV_ATScaleParameter);O[s+1]=M;var U=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),V=new SuperMapAlgoPlot.Point(0,0);for(w=2;w<=s;w++){SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,y[w-2],y[w-1],y[w],L,V),s===w&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,y[s],y[s-1],V,U);var T=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(O[w],L,y[w-1]);r[w]=T.pntLeft,n[w]=T.pntRight}var j,R,_=U.clone();if(SuperMapAlgoPlot.PlottingUtil.distance(y[s],_)>0){var E=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,y[s],U);y[s]=E.clone()}for(b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[s+1],y[s]),n[s+1]=b.pntLeft,r[s+1]=b.pntRight,w=2;w<=s;w++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,n[w-1],n[w],n[w+1],L,V),i[w]=L.clone(),a[w]=V.clone(),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,r[w-1],r[w],r[w+1],L,V),u[w]=L.clone(),p[w]=V.clone();SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,n[1],n[2],i[2],U),a[1]=U.clone(),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,r[1],r[2],u[2],U),p[1]=U.clone();R=SuperMapAlgoPlot.PlottingUtil.distance(n[s+1],n[s])*(1/3),(j=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(R,y[s],y[s+1])).x+=n[s+1].x-y[s].x,j.y+=n[s+1].y-y[s].y,R=(S-M)*Math.pow(R/v,this.SV_ATScaleParameter+.3),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(R,n[s+1],j),i[s+1]=b.pntLeft.clone(),R=SuperMapAlgoPlot.PlottingUtil.distance(r[s+1],r[s])*(1/3),(j=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(R,y[s],y[s+1])).x+=r[s+1].x-y[s].x,j.y+=r[s+1].y-y[s].y,R=(S-M)*Math.pow(R/v,this.SV_ATScaleParameter+.3),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(R,r[s+1],j),u[s+1]=b.pntRight.clone();var x=[],B=A*g,C=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(B,y[s],y[s+1]);this.m_scalePoints.push(C.clone()),B=A*f,b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(B,y[s+1],C),x.push(b.pntRight),x.push(y[s+1]),x.push(b.pntLeft);var Y=[];for(Y.push(n[s+1]),w=s;w>=1;w--)Y.push(i[w+1]),Y.push(a[w]),Y.push(n[w]);var I=[];for(w=1;w<=s;w++)I.push(r[w]),I.push(p[w]),I.push(u[w+1]);I.push(r[s+1]),l.push.apply(l,I),l.push.apply(l,x),l.push.apply(l,Y),o=A/h;var D=[];for(w=Y.length-1;w>=0;w--)D.push(Y[w]);return{dATLenDivABLen:o,arrowBodyPts:l}}},{key:"generateAYPts",value:function(t,e,o,l,n){var r=new SuperMapAlgoPlot.Point(.5*(t[2].x+o[2].x),.5*(t[2].y+o[2].y)),i=new SuperMapAlgoPlot.Point(.5*(t[1].x+o[1].x),.5*(t[1].y+o[1].y)),a=new SuperMapAlgoPlot.Point(.5*(t[0].x+o[0].x),.5*(t[0].y+o[0].y)),u=SuperMapAlgoPlot.PlottingUtil.distance(r,i),p=SuperMapAlgoPlot.PlottingUtil.distance(a,i),s=n*(u+p),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),f=new SuperMapAlgoPlot.Point(0,0);if(s>u){s=u+p-s,c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(s,a,i);var g=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),y=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);g=g*s/p,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(g,t[0],t[1]),y=y*s/p,f=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(y,o[0],o[1])}else{c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(s,r,i);var h=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]),S=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]);h=h*s/u,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(h,t[2],t[1]),S=S*s/u,f=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(S,o[2],o[1])}this.m_scalePoints.push(c.clone());var b=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,P),A=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,f),d=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(b,c,P),M=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,c,f),v=e[11].clone(),m=e[10].clone(),O=l[5].clone(),w=l[6].clone(),U=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,v,c,P),L=SuperMapAlgoPlot.PlottingUtil.distance(U.intersectPoint,m),V=SuperMapAlgoPlot.PlottingUtil.distance(m,c);L=L>V?this.SV_AJCtrl*V:this.SV_AJCtrl*L;var T=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(L,m,v);v=T.clone(),e[11]=T.clone(),U=SuperMapAlgoPlot.PlottingUtil.intersectLines(w,O,c,f),L=(L=SuperMapAlgoPlot.PlottingUtil.distance(U.intersectPoint,w))>(V=SuperMapAlgoPlot.PlottingUtil.distance(w,c))?this.SV_AJCtrl*V:this.SV_AJCtrl*L,O=(T=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(L,w,O)).clone(),l[5]=T.clone();var j=[];j.push(m),j.push(v),j.push(d),j.push(c);var R=[];return R.push(c),R.push(M),R.push(O),R.push(w),{arrowLeftYaoPts:j,arrowRightYaoPts:R}}},{key:"generateAWWidth",value:function(t,e){var o=[];if(t>0)if(1==t)o.push(0);else{var l=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[this.MIN_PTCOUNT_PERARROW]);o.push(l);for(var n=1,r=this.MIN_PTCOUNT_PERARROW;n<t-1;n++,r+=this.MIN_PTCOUNT_PERARROW){l=.5*(SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r])+SuperMapAlgoPlot.PlottingUtil.distance(e[r],e[r+this.MIN_PTCOUNT_PERARROW])),o.push(l)}l=SuperMapAlgoPlot.PlottingUtil.distance(e[r-this.MIN_PTCOUNT_PERARROW],e[r]),o.push(l)}return o}},{key:"addArrowTail",value:function(t,e,o,l,n){if(!(t<0)){var r=o.length;switch(l){case 0:break;case 1:n.LineTo(o[0].x,o[0].y);break;case 2:var i=new SuperMapAlgoPlot.Point(.5*(o[0].x+o[r-1].x),.5*(o[0].y+o[r-1].y)),a=new SuperMapAlgoPlot.Point(.5*(e[2].x+e[3*t-1].x),.5*(e[2].y+e[3*t-1].y)),u=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[r-1]),p=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(u*this.DEFAULT_ARROW_TAIL_POS,i,a),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getPointsByTriangle(this.DUOJIANTOU_TAIL_RATE_1,this.DUOJIANTOU_TAIL_RATE_2,o[0].x,o[0].y,p.x,p.y,o[r-1].x,o[r-1].y,s,c);var P=new SuperMapAlgoPlot.Point(0,0);P=SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid(this.DUOJIANTOU_TAIL_RATE_3,o[0],p,s,P);var f=new SuperMapAlgoPlot.Point(0,0);f=SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid(this.DUOJIANTOU_TAIL_RATE_3,o[r-1],p,c,f),n.CurveTo(f,c,p),n.CurveTo(s,P,o[0]);break;case 3:i=new SuperMapAlgoPlot.Point(.5*(o[0].x+o[r-1].x),.5*(o[0].y+o[r-1].y)),a=new SuperMapAlgoPlot.Point(.5*(e[2].x+e[3*t-1].x),.5*(e[2].y+e[3*t-1].y)),u=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[r-1]),p=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(u*this.DEFAULT_ARROW_TAIL_POS,i,a),n.LineTo(p),n.closePath()}return n}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)){var l=this.operateCtrlPts(o),n=(l.length,this.MIN_PTCOUNT_PERARROW,0);if(pindex<arrowCount){var r=[],i=pindex*this.MIN_PTCOUNT_PERARROW;r[0]=l[i],r[1]=l[i+1],r[2]=l[i+2];for(var a=0,u=0;u<r.length-1;u++)a+=SuperMapAlgoPlot.PlottingUtil.distance(r[u],r[u+1]);var p=new SuperMapAlgoPlot.Point(0,0),s=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getPointsByTriangle(this.AB_CTRLPT_RATE1,AB_CTRLPT_RATE2,r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,p,s),SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid(this.AB_CTRLPT_RATE3,r[2].x,r[2].y,r[1].x,r[1].y,s.x,s.y,c),n=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(r[2],c,posPt).dLen1/(this.SV4_DefaultAELenDividedByATLen+1)/a}else{var P=[],f=[],g=(pindex-arrowCount)*this.MIN_PTCOUNT_PERARROW;P[0]=l[g],P[1]=l[g+1],P[2]=l[g+2];var y=(pindex-arrowCount+1)*this.MIN_PTCOUNT_PERARROW;f[0]=l[y],f[1]=l[y+1],f[2]=l[y+2];var h,S,b=new SuperMapAlgoPlot.Point(.5*(P[2].x+f[2].x),.5*(P[2].y+f[2].y)),A=new SuperMapAlgoPlot.Point(.5*(P[1].x+f[1].x),.5*(P[1].y+f[1].y)),d=new SuperMapAlgoPlot.Point(.5*(P[0].x+f[0].x),.5*(P[0].y+f[0].y));h=SuperMapAlgoPlot.PlottingUtil.distance(b,A),S=SuperMapAlgoPlot.PlottingUtil.distance(d,A);var M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(b,A,posPt);if(M.dLen1<h)n=M.dLen1/(h+S);else n=(SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(A,d,posPt).dLen1+h)/(h+S)}n>this.MAX_SCALEVALUE?n=this.MAX_SCALEVALUE:n<this.MIN_SCALEVALUE&&(n=this.MIN_SCALEVALUE),this.scaleValues[pindex]=n}}}])&&FO(e.prototype,o),l&&FO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KO(t){"@babel/helpers - typeof";return(KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qO(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QO(t,e){return(QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ZO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=XO(t);if(e){var n=XO(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function XO(t){return(XO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030107=HO;var $O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QO(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ZO(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[0]=l}var n=this.getLinePts(e,this.scaleValues[0]),r=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),i=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI,a=SuperMapAlgoPlot.PlottingUtil.distance(n.startPt,n.endPt);0<this.subSymbols.length&&this.computeSubSymbol(this.subSymbols[0],r,.8*a,i);for(var u=[],p=[],s=0;s<=n.startIndex;s++)u.push(e[s]);if(u.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),n.endIndex<=e.length){p.push(n.endPt);for(var c=n.endIndex+1;c<=e.length-1;c++)p.push(e[c]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p)}var P=e[0],f=e[1],g=e[e.length-2],y=e[e.length-1],h=.3*a,S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(h,f,P),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(h,g,y),A=S.pntLeft,d=b.pntLeft,M=[];M.push(P),M.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=[];v.push(y),v.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v);var m=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*o,e),O=SuperMapAlgoPlot.PlottingUtil.circlePoint(m.pts,o*this.scaleValues[0],o*this.scaleValues[0],i+90);this.addScalePoint(O,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&qO(e.prototype,o),l&&qO(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tw(t){"@babel/helpers - typeof";return(tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ew(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ow(t,e){return(ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nw(t);if(e){var n=nw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nw(t){return(nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5030301=$O;var rw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[0],l=.1*o,n=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],l),r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o/2,t[0],n),i=r.pntRight,a=r.pntLeft,u=[];u.push(i),u.push(t[0]),u.push(a);var p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(u);p=SuperMapAlgoPlot.PlottingUtil.clearSamePts(p);var s={lineColorLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0,strokeColor:"#0000ff",color:"#0000ff",surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.INNER};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,s);var c=SuperMapAlgoPlot.PlottingUtil.paraLine(u,e,!1),P=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(c);P=SuperMapAlgoPlot.PlottingUtil.clearSamePts(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,s),this.addScalePoint(i,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=2*SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n<.4&&(n=.4),this.scaleValues[0]=n}}}}])&&ew(e.prototype,o),l&&ew(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iw(t){"@babel/helpers - typeof";return(iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uw(t,e){return(uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sw(t);if(e){var n=sw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sw(t){return(sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5031401=rw;var cw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(90),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(!this.isEdit){var l=this.getDefaultSubSymbolSize()/o;(l>.3||l<=0)&&(l=.3),this.scaleValues[2]=2*l}var n=o*this.scaleValues[0],r=this.scaleValues[1],i=o*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,e);if(a.bfind){var u=a.pts.clone(),p=e[a.index].clone(),s=e[a.index+1].clone(),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,i,i,c+r),f=[];f.push(a.pts),f.push(P);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,{lineTypeLimit:!0,surroundLineLimit:!0});var g=SuperMapAlgoPlot.PlottingUtil.radian(u,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=new SuperMapAlgoPlot.Point(-.2*i,.05*i),h=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,y,g),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(P,h,g),A=[];A.push(P),A.push(S),A.push(b);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,A,{lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fill:!0});var d=.3*i,M=.6*i,v=n-M;v<0&&(v=0);var m=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(v,e);if(m.bfind){var O=[];O.push(m.pts);for(var w=m.index;w>=0;w--)O.push(e[w]);var U=[];U.push(m.pts);for(var L=m.index+1;L<e.length;L++)U.push(e[L]);var V=.6*d,T=[];if(O.length>1){var j=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(V,O);if(j.bfind){(T=[]).push(j.pts);for(var R=j.index+1;R<O.length;R++)T.push(O[R]);O=[],T.length>1&&(O=O.concat(T))}}if(O.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O),U.length>1){var _=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(V,U);if(_.bfind){(T=[]).push(_.pts);for(var E=_.index+1;E<U.length;E++)T.push(U[E]);U=[],T.length>1&&(U=U.concat(T))}}var x=n+M;x>o&&(x=o),x=o-x;for(var B=[],C=U.length-1;C>=0;C--)B.push(U[C]);var Y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(x,B);if(Y.bfind){var I=[];I.push(Y.pts);for(var D=Y.index;D>=0;D--)I.push(B[D]);var N=[];N.push(Y.pts);for(var k=Y.index+1;k<B.length;k++)N.push(B[k]);if(I.length>1){var z=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(V,I);if(z.bfind){(T=[]).push(z.pts);for(var F=z.index+1;F<I.length;F++)T.push(I[F]);I=[],T.length>1&&(I=I.concat(T))}}if(I.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I),N.length>1){var W=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(V,N);if(W.bfind){(T=[]).push(W.pts);for(var G=W.index+1;G<N.length;G++)T.push(N[G]);N=[],T.length>1&&(N=N.concat(T))}}if(N.length>1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N),this.subSymbols.length>0){if(null!==this.subSymbols[0].symbolData)for(var J=0;J<this.subSymbols[0].symbolData.innerCells.length;J++)34===this.subSymbols[0].symbolData.innerCells[J].type&&this.subSymbols[0].symbolData.innerCells.splice(J,1);this.computeSubSymbol(this.subSymbols[0],m.pts,1.2*d,c-90),this.computeSubSymbol(this.subSymbols[1],Y.pts,1.2*d,c-90)}this.addScalePoint(a.pts,0),this.addScalePoint(P,1),this.finish()}}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;if(0>t||1<t)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var r=[],i=0;i<l.length;i++)r.push(l[i]);for(var a=-1,u=new SuperMapAlgoPlot.Point(0,0),p=0,s=0;s<r.length-1;s++){var c=[];c.push(r[s]),c.push(r[s+1]);var P=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,r[s],r[s+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(P,c).isOnPolyLine){var f=SuperMapAlgoPlot.PlottingUtil.distance(e,P);-1===a?(a=s,u=P,p=f):p>f&&(a=s,u=P,p=f)}}if(-1===a||a>r.length-1)return;for(var g=0,y=0;y<a;y++){var h=l[y].clone(),S=l[y+1].clone();g+=SuperMapAlgoPlot.PlottingUtil.distance(h,S)}var b=l[a].clone();if((g+=SuperMapAlgoPlot.PlottingUtil.distance(b,u))<0||g>n)return;this.scaleValues[0]=g/n}if(1===t){var A=n*this.scaleValues[0],d=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(A,l);if(!d.bfind)return;var M=d.pts.clone(),v=new SuperMapAlgoPlot.Point(l[d.index].x,l[d.index].y),m=new SuperMapAlgoPlot.Point(l[d.index+1].x,l[d.index+1].y),O=SuperMapAlgoPlot.PlottingUtil.radian(v,m)*SuperMapAlgoPlot.PlottingUtil.RTOD,w=SuperMapAlgoPlot.PlottingUtil.radian(M,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[1]=w-O;var U=SuperMapAlgoPlot.PlottingUtil.distance(M,e);this.scaleValues[2]=U/n}}}}])&&aw(e.prototype,o),l&&aw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pw(t){"@babel/helpers - typeof";return(Pw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gw(t,e){return(gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hw(t);if(e){var n=hw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hw(t){return(hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5032003=cw;var Sw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.2),e.scaleValues.push(.5),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l);var n=e*this.scaleValues[0],r=180*this.scaleValues[1]/Math.PI;if(!this.isEdit){var i=this.getSubSymbolScaleValue();this.scaleValues[2]=i}var a=e*this.scaleValues[2],u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==u.index){var p=u.pt,s=new SuperMapAlgoPlot.Point(l[u.index].x,l[u.index].y),c=new SuperMapAlgoPlot.Point(l[u.index+1].x,l[u.index+1].y),P=180*SuperMapAlgoPlot.PlottingUtil.radian(s,c)/Math.PI,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,a,a,P+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,f]);var g=180*SuperMapAlgoPlot.PlottingUtil.radian(p,f)/Math.PI,y=new SuperMapAlgoPlot.Point(-.2*a,.05*a),h=new SuperMapAlgoPlot.Point(-.2*a,-.05*a),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,y,g),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(f,h,g);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[f,S,b],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0});var A=.5*SuperMapAlgoPlot.PlottingUtil.distance(p,f);y=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,A,A,P+r+30),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,A,A,P+r-30);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[y,h]),this.addScalePoint(p,0),this.addScalePoint(f,1),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var i=-1,a=0,u=new SuperMapAlgoPlot.Point(0,0),p=0;p<l.length-1;p++){var s=[];s.push(l[p]),s.push(l[p+1]);var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,l[p],l[p+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(c,s).index){var P=SuperMapAlgoPlot.PlottingUtil.distance(e,c);-1==i?(i=p,u=c,a=P):a>P&&(i=p,u=c,a=P)}}if(-1==i||i>l.length-1)return;n=0;for(var f=0;f<i;f++)n+=SuperMapAlgoPlot.PlottingUtil.distance(l[f],l[f+1]);if((n+=SuperMapAlgoPlot.PlottingUtil.distance(l[i],u))<0||n>r)return;var g=n/r;this.scaleValues[0]=g}else if(1===t){var y=r*this.scaleValues[0],h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,y);if(-1===h.index)return;var S=h.pt,b=l[h.index],A=l[h.index+1],d=SuperMapAlgoPlot.PlottingUtil.radian(b,A),M=SuperMapAlgoPlot.PlottingUtil.radian(S,e)-d;this.scaleValues[1]=M;var v=(n=SuperMapAlgoPlot.PlottingUtil.distance(S,e))/r;this.scaleValues[2]=v}}}}])&&fw(e.prototype,o),l&&fw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bw(t){"@babel/helpers - typeof";return(bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Aw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dw(t,e){return(dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vw(t);if(e){var n=vw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vw(t){return(vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5032004=Sw;var mw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Mw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(Math.PI/2),e.scaleValues.push(.069485),e.scaleValues.push(.15),e.scaleValues.push(.1),e.scaleValues.push(1.731025),e.scaleValues.push(2.076877)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue());var n=e*this.scaleValues[0],r=this.scaleValues[1]*SuperMapAlgoPlot.PlottingUtil.RTOD,i=e*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,n);if(-1!==a.index){var u=a.pt,p=a.index,s=u,c=l[p],P=l[p+1],f=SuperMapAlgoPlot.PlottingUtil.radian(c,P)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,1.5*i,1.5*i,f+r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,g]);var y=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,h=new SuperMapAlgoPlot.Point(-.2*i,.05*i),S=new SuperMapAlgoPlot.Point(-.2*i,-.05*i),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,h,y),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,S,y);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[g,b,A],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0});var d=new SuperMapAlgoPlot.Point(.6*i,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,d,y),v=.4*i*this.scaleValues[5],m=.4*i*this.scaleValues[6],O=new SuperMapAlgoPlot.Point(0,-.9*(v-.25*m)),w=new SuperMapAlgoPlot.Point(0,.9*(v-.25*m)),U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,O,y),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,w,y);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[U,L]);var V=.7*v,T=new SuperMapAlgoPlot.Point(0,-1.1*(v-.1*m)),j=new SuperMapAlgoPlot.Point(0,1.1*(v-.1*m)),R=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,T,y),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,j,y);if(this.subSymbols.length>0){for(var E=0;E<this.subSymbols.length;E++)if(null!==this.subSymbols[E].symbolData)for(var x=0;x<this.subSymbols[E].symbolData.innerCells.length;x++)34===this.subSymbols[E].symbolData.innerCells[x].type&&this.subSymbols[E].symbolData.innerCells.splice(x,1);this.computeSubSymbol(this.subSymbols[0],R,V,f-90),this.computeSubSymbol(this.subSymbols[1],_,V,f-90)}this.addScalePoint(u,0),this.addScalePoint(g,1);var B=new SuperMapAlgoPlot.Point(0,-v);SuperMapAlgoPlot.PlottingUtil.coordinateTrans(M,B,y);this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var r,i,a,u,p,s,c=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(c=SuperMapAlgoPlot.PlottingUtil.clearSamePts(c),0===t){for(var P=[],f=0;f<c.length;f++)P.push(new SuperMapAlgoPlot.Point(c[f].x,c[f].y));for(var g=-1,y=0,h=new SuperMapAlgoPlot.Point(0,0),S=0;S<P.length-1;S++){var b=[];b.push(P[S]),b.push(P[S+1]);var A=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,P[S],P[S+1]);if(-1!==SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(A,b).index){var d=SuperMapAlgoPlot.PlottingUtil.distance(e,A);-1==g?(g=S,h=A,y=d):y>d&&(g=S,h=A,y=d)}}if(-1==g||g>P.length-1)return;r=0;for(var M=0;M<g;M++)r+=SuperMapAlgoPlot.PlottingUtil.distance(c[M],c[M+1]);if((r+=SuperMapAlgoPlot.PlottingUtil.distance(c[g],h))<0||r>l)return;var v=r/l;this.scaleValues[0]=v}else if(1===t){i=l*this.scaleValues[0];var m=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(c,i);if(-1===m.index)return;a=m.pt,u=c[m.index],p=c[m.index+1],s=SuperMapAlgoPlot.PlottingUtil.radian(u,p);var O=SuperMapAlgoPlot.PlottingUtil.radian(a,e)-s;this.scaleValues[1]=O;var w=(r=SuperMapAlgoPlot.PlottingUtil.distance(a,e))/l/1.5;this.scaleValues[2]=w}}}}])&&Aw(e.prototype,o),l&&Aw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Ow(t){"@babel/helpers - typeof";return(Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ww(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Uw(t,e){return(Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Lw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Vw(t);if(e){var n=Vw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ow(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vw(t){return(Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50321=mw;var Tw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Lw(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=.5*o,n=o*this.getSubSymbolScaleValue()/1.2,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e);if(r.bfind){var i=r.pts.clone(),a=e[r.index].clone(),u=e[r.index+1].clone(),p=SuperMapAlgoPlot.PlottingUtil.radian(a,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,p+90),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,p+270),P=[];P.push(r.pts),P.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,{lineTypeLimit:!0});var f=SuperMapAlgoPlot.PlottingUtil.radian(i,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,n,n,f+30),y=[];y.push(s),y.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=SuperMapAlgoPlot.PlottingUtil.radian(s,g)*SuperMapAlgoPlot.PlottingUtil.RTOD,S=new SuperMapAlgoPlot.Point(-.2*n,.05*n),b=new SuperMapAlgoPlot.Point(-.2*n,-.05*n),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,S,h),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(g,b,h),M=[];M.push(g),M.push(A),M.push(d);var v={fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M,v);var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,n,n,f+330),O=[];O.push(s),O.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=SuperMapAlgoPlot.PlottingUtil.radian(s,m)*SuperMapAlgoPlot.PlottingUtil.RTOD,U=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,S,w),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(m,b,w),V=[];V.push(m),V.push(U),V.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,V,v),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],c,n,p+270),this.finish()}}}}])&&ww(e.prototype,o),l&&ww(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jw(t){"@babel/helpers - typeof";return(jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _w(t,e){return(_w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ew(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xw(t);if(e){var n=xw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xw(t){return(xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033001=Tw;var Bw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_w(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ew(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0]*l,r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,n),u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]),s=[];s.push(u.pntRight),s.push(u.pntLeft);var c={lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,c);var P=[];P.push(p.pntRight),P.push(p.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,c);var f=[];f.push(t[0]),f.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f);var g=[];g.push(a),g.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,2*n,y-90),this.addScalePoint(u.pntLeft,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n>.48&&(n=.48),this.scaleValues[0]=n}}}}])&&Rw(e.prototype,o),l&&Rw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Cw(t){"@babel/helpers - typeof";return(Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Iw(t,e){return(Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Nw(t);if(e){var n=Nw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Cw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Nw(t){return(Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033802=Bw;var kw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Dw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0]*l,r=SuperMapAlgoPlot.PlottingUtil.linePnt(e,o,.5*l),i=SuperMapAlgoPlot.PlottingUtil.linePnt(r,e,n),a=SuperMapAlgoPlot.PlottingUtil.linePnt(r,o,n),u=[];u.push(t[0]),u.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);var p=[];p.push(a),p.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],t[0]),c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[0],t[1]),P=[];P.push(s.pntRight),P.push(s.pntLeft);var f={lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,f);var g=[];g.push(c.pntRight),g.push(c.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,f);var y=[];y.push(t[0]),y.push(i);var h=[];h.push(a),h.push(t[1]);var S=SuperMapAlgoPlot.PlottingUtil.paraLine(y,n,!0),b=SuperMapAlgoPlot.PlottingUtil.paraLine(y,n,!1),A=SuperMapAlgoPlot.PlottingUtil.paraLine(h,n,!0),d=SuperMapAlgoPlot.PlottingUtil.paraLine(h,n,!1);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var M=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD;this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],r,2*n,M),this.addScalePoint(s.pntRight,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/l;n>.48&&(n=.48),this.scaleValues[0]=n}}}}])&&Yw(e.prototype,o),l&&Yw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zw(t){"@babel/helpers - typeof";return(zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ww(t,e){return(Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Jw(t);if(e){var n=Jw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Jw(t){return(Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033803=kw;var Hw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Gw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.5),e.scaleValues.push(-5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),o=t.length;if(!(t.length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.5),this.scaleValues.push(-5));for(var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=[],i=[],a=0;a<=360;a+=5)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,a));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n)),i.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i);if(this.addArrow(i,this.scaleValues[0]*u/e),o>2){for(var p=[],s=0;s<=360;s+=5)p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[2],l,l,s));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p)}if(o>3)for(var c=3;c<t.length;c++){var P=[],f=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[2],t[c])*SuperMapAlgoPlot.PlottingUtil.RTOD;if(P.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[2],l,l,f)),P.push(new SuperMapAlgoPlot.Point(t[c].x,t[c].y)),c>3){for(var g=.25*SuperMapAlgoPlot.PlottingUtil.distance(P[0],P[1]),y=.1*g,h=this.computeDashLine(g,y,P),S=0;S<h.length;S++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h[S]);u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P),this.addArrowWithOutLine(P,this.scaleValues[0]*u/e)}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P),this.addArrow(P,this.scaleValues[0]*u/e)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length}}])&&Fw(e.prototype,o),l&&Fw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Kw(t){"@babel/helpers - typeof";return(Kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qw(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qw(t,e){return(Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xw(t);if(e){var n=Xw(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xw(t){return(Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50341=Hw;var $w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Zw(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.5),e.scaleValues.push(-5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),o=t.length;if(!(t.length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.5),this.scaleValues.push(-5));for(var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=[],i=[],a=0;a<=360;a+=5)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,a));this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n)),i.push(t[1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i);if(this.addArrow(i,this.scaleValues[0]*u/e),o>2){var p=[];n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[2])*SuperMapAlgoPlot.PlottingUtil.RTOD,p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n)),p.push(t[2]),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p),this.addArrow(p,this.scaleValues[0]*u/e)}if(o>3)for(var s=3;s<t.length;s++){p=[],n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[s])*SuperMapAlgoPlot.PlottingUtil.RTOD,p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n)),p.push(t[s]);for(var c=.25*SuperMapAlgoPlot.PlottingUtil.distance(p[0],p[1]),P=.1*c,f=this.computeDashLine(c,P,p),g=0;g<f.length;g++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[g]);u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p),this.addArrowWithOutLine(p,this.scaleValues[0]*u/e)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length}}])&&qw(e.prototype,o),l&&qw(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tU(t){"@babel/helpers - typeof";return(tU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oU(t,e){return(oU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nU(t);if(e){var n=nU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nU(t){return(nU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034101=$w;var rU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.5),e.scaleValues.push(-5)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),o=t.length;if(!(t.length<this.minEditPts)){3!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.5),this.scaleValues.push(-5));var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.dirAngle(t[0],t[1])*SuperMapAlgoPlot.PlottingUtil.RTOD,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n+120),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],l,l,n+240),a=[];if(a.push(t[1]),a.push(r),a.push(i),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a),o>2)for(var u=2;u<t.length;u++)if(u%2==0&&t.length-2>=u){var p=[];if(p.push(this.getMinDisPt(t[u],t[1],r,i)),p.push(t[u+1]),2==u){for(var s=.25*SuperMapAlgoPlot.PlottingUtil.distance(p[0],p[1]),c=.1*s,P=this.computeDashLine(s,c,p),f=0;f<P.length;f++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[f]);var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p);this.addArrowWithOutLine(p,this.scaleValues[0]*g/e)}else{g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p);this.addArrow(p,this.scaleValues[0]*g/e)}}this.finish()}}},{key:"getMinDisPt",value:function(t,e,o,l){var n,r=SuperMapAlgoPlot.PlottingUtil.distance(t,e),i=SuperMapAlgoPlot.PlottingUtil.distance(t,o),a=SuperMapAlgoPlot.PlottingUtil.distance(t,l);return(n=(n=r<i?r:i)<a?n:a)==r?e:n==i?o:l}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length;if(!(o.length<2)){if(0==t){var n,r;if(2==l)n=r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);else if((n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]))<(r=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[2]))){var i=n;n=r,r=i}var a=r*this.scaleValues[1];(i=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/a)<=2&&(this.scaleValues[1]=i*this.scaleValues[1])}if(1==t){var u=SuperMapAlgoPlot.PlottingUtil.dirAngle(o[0],e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[2]=u}}}}])&&eU(e.prototype,o),l&&eU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iU(t){"@babel/helpers - typeof";return(iU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uU(t,e){return(uU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sU(t);if(e){var n=sU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sU(t){return(sU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034102=rU;var cU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=l*this.scaleValues[2],a=l*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(o.x+i,o.y+a),p=l*r,s=new SuperMapAlgoPlot.Point(u.x-.5*p,u.y);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],s,p,0);var c=new SuperMapAlgoPlot.Point(u.x+.5*p,u.y),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.5*p,.5*p,-90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.3*p,.3*p,90),g=[];g.push(P),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.2*p,.2*p,90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.05*p,.05*p,0),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.05*p,.05*p,180),b=[];b.push(y),b.push(h),b.push(S);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,{fillLimit:!0,fill:!0});var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,180);this.addScalePoint(A,0),this.addScalePoint(u,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===r)return;var i=0,a=0,u=0,p=0;if(0===t){u=r*(i=this.scaleValues[2]),p=r*(a=this.scaleValues[3]);var s=new SuperMapAlgoPlot.Point(n.x+u,n.y+p),c=SuperMapAlgoPlot.PlottingUtil.distance(e,s);this.scaleValues[0]=c/r}else 1===t&&(i=(u=e.x-n.x)/r,a=(p=e.y-n.y)/r,this.scaleValues[2]=i,this.scaleValues[3]=a)}}}])&&aU(e.prototype,o),l&&aU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PU(t){"@babel/helpers - typeof";return(PU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gU(t,e){return(gU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hU(t);if(e){var n=hU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hU(t){return(hU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034201=cU;var SU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=l*this.scaleValues[2],a=l*this.scaleValues[3],u=new SuperMapAlgoPlot.Point(o.x+i,o.y+a),p=l*r,s=new SuperMapAlgoPlot.Point(u.x-.5*p,u.y);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],s,p,0);var c=new SuperMapAlgoPlot.Point(u.x+.5*p,u.y),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.3*p,.3*p,-90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,.5*p,.5*p,90),g=[];g.push(P),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.2*p,.2*p,-90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.05*p,.05*p,0),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,.05*p,.05*p,180),b=[];b.push(y),b.push(h),b.push(S);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,{fillLimit:!0,fill:!0});var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,p,p,180);this.addScalePoint(A,0),this.addScalePoint(u,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===r)return;var i=0,a=0,u=0,p=0;if(0===t){i=r*(u=this.scaleValues[2]),a=r*(p=this.scaleValues[3]);var s=new SuperMapAlgoPlot.Point(n.x+i,n.y+a),c=SuperMapAlgoPlot.PlottingUtil.distance(e,s);this.scaleValues[0]=c/r}else 1===t&&(u=(i=e.x-n.x)/r,p=(a=e.y-n.y)/r,this.scaleValues[2]=u,this.scaleValues[3]=p)}}}])&&fU(e.prototype,o),l&&fU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bU(t){"@babel/helpers - typeof";return(bU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dU(t,e){return(dU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vU(t);if(e){var n=vU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vU(t){return(vU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034202=SU;var mU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MU(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=.5*o,n=o*this.getSubSymbolScaleValue()*1.5,r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e);if(r.bfind){var i=r.pts.clone(),a=e[r.index].clone(),u=e[r.index+1].clone(),p=SuperMapAlgoPlot.PlottingUtil.radian(a,u)*SuperMapAlgoPlot.PlottingUtil.RTOD,s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,n,n,p+90),c=[];c.push(r.pts),c.push(s),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{lineTypeLimit:!0});var P=SuperMapAlgoPlot.PlottingUtil.radian(i,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,f=new SuperMapAlgoPlot.Point(-.2*n,.05*n),g=new SuperMapAlgoPlot.Point(-.2*n,-.05*n),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,f,P),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(s,g,P),S=[];S.push(s),S.push(y),S.push(h);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{lineTypeLimit:!0,fillLimit:!0,fill:!0});var b=new SuperMapAlgoPlot.Point(0,-.6*n),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(i,b,p);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],A,n,p-90),this.finish()}}}}])&&AU(e.prototype,o),l&&AU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OU(t){"@babel/helpers - typeof";return(OU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UU(t,e){return(UU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=VU(t);if(e){var n=VU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function VU(t){return(VU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034203=mU;var TU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=LU(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o=t[0].clone(),l=t[1].clone();e=2==t.length?l:t[2].clone();var n=new SuperMapAlgoPlot.Point((o.x+l.x)/2,(o.y+l.y)/2),r=SuperMapAlgoPlot.PlottingUtil.distance(n,e),i=.5*r,a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,e),u=a.pntLeft,p=a.pntRight,s=!(n.x>e.x),c=[];s?(c.push(o),c.push(u)):(c.push(o),c.push(p)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);var P=[];s?(P.push(l),P.push(p)):(P.push(l),P.push(u)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f,g,y,h,S,b=.37*r,A=SuperMapAlgoPlot.PlottingUtil.linePnt(n,e,b),d=.09*r,M=[];M.push(A),M.push(new SuperMapAlgoPlot.Point(A.x,A.y+d)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,M,{lineTypeLimit:!0}),s?(g=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,n,A)).pntLeft,y=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,n,A)).pntLeft,h=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,g,y)).pntRight,S=f.pntLeft):(g=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,n,A)).pntRight,y=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(2*d,n,A)).pntRight,h=(f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(d,g,y)).pntRight,S=f.pntLeft);var v=[];v.push(g),v.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{lineTypeLimit:!0});var m=[];m.push(h),m.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,{lineTypeLimit:!0}),this.addText("催",A,d,0),this.finish()}}}])&&wU(e.prototype,o),l&&wU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jU(t){"@babel/helpers - typeof";return(jU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _U(t,e){return(_U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xU(t);if(e){var n=xU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xU(t){return(xU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5034801=TU;var BU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_U(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=EU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(1e3),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[1]=2*this.getSubSymbolScaleValue());var l=o*this.scaleValues[1],n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,l);if(-1!==n.index){var r=t[0].clone(),i=n.pt,a=SuperMapAlgoPlot.PlottingUtil.radian(r,i)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=[];u.push(n.pt);for(var p=n.index+1;p<e.length;p++)u.push(e[p]);this.addArrow(u);var s=.3*l,c=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(2/3*.5,t[0],n.pt);if(this.subSymbols.length>0){this.computeSubSymbol(this.subSymbols[0],c,s,a);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],2.1*s,2.1*s,a),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],3*s,3*s,a),g=[];g.push(P),g.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.2*s,.2*s,a),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.05*s,.05*s,a+90),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,.05*s,.05*s,a+270),b=[];b.push(y),b.push(h),b.push(S);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,{fillLimit:!0,fill:!0})}var A=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,a+90);this.addScalePoint(A,0),this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=o[0].clone(),r=e.clone(),i=SuperMapAlgoPlot.PlottingUtil.distance(r,n);if(0===t){var a=i/l;a<=.06&&(a=.06),a>=.15&&(a=.15),this.scaleValues[1]=a}}}}])&&RU(e.prototype,o),l&&RU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function CU(t){"@babel/helpers - typeof";return(CU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IU(t,e){return(IU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NU(t);if(e){var n=NU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NU(t){return(NU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035201=BU;var kU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=DU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=this.subSymbols[0].symbolData.symbolSize.x;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=60*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o;if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&this.computeSubSymbol(this.subSymbols[0],a.pts,p,u-90),i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(-1===r.index&&3===t&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(n);a.splice(0,r.index+1),a.unshift(r.pt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);i<u&&(u=i),this.scaleValues[t+1]=(i-u)/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&YU(e.prototype,o),l&&YU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zU(t){"@babel/helpers - typeof";return(zU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function WU(t,e){return(WU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function GU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JU(t);if(e){var n=JU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JU(t){return(JU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035202=kU;var HU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=GU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);t.splice(0,2),t.unshift(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=o*this.scaleValues[4],n=o*this.scaleValues[5],r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,t),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.radian(i.pts,r.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD,u=SuperMapAlgoPlot.PlottingUtil.distance(r.pts,i.pts),p=i.pts.clone(),s=new SuperMapAlgoPlot.Point(0,.1*u),c=new SuperMapAlgoPlot.Point(.4*u,.1*u),P=new SuperMapAlgoPlot.Point(.4*u,-.1*u),f=new SuperMapAlgoPlot.Point(0,-.1*u),g=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,s,a),y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,c,a),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,P,a),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,f,a),b=[];b.push(g),b.push(y),b.push(h),b.push(S),b.push(g);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0});var A=new SuperMapAlgoPlot.Point(.05*u,0),d=new SuperMapAlgoPlot.Point(.15*u,0),M=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,A,a),v=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,d,a),m=[];m.push(M),m.push(v);var O={lineTypeLimit:!0,surroundLineLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m,O);var w=new SuperMapAlgoPlot.Point(.1*u,.05*u),U=new SuperMapAlgoPlot.Point(.1*u,-.05*u),L=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,w,a),V=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,U,a),T=[];T.push(L),T.push(V),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,T,O);var j=new SuperMapAlgoPlot.Point(.25*u,.05*u),R=new SuperMapAlgoPlot.Point(.35*u,.05*u),_=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,j,a),E=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,R,a),x=[];x.push(_),x.push(E),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x,O);var B=new SuperMapAlgoPlot.Point(.3*u,.05*u),C=new SuperMapAlgoPlot.Point(.3*u,-.05*u),Y=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,B,a),I=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,C,a),D=[];D.push(Y),D.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D,O);var N=new SuperMapAlgoPlot.Point(.25*u,-.05*u),k=new SuperMapAlgoPlot.Point(.35*u,-.05*u),z=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,N,a),F=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,k,a),W=[];W.push(z),W.push(F),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,W,O);var G=new SuperMapAlgoPlot.Point(.4*u,0),J=new SuperMapAlgoPlot.Point(.8*u,0),H=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,G,a),K=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,J,a),q=[];q.push(H),q.push(K),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,q,O);var Q=new SuperMapAlgoPlot.Point(.7*u,.025*u),Z=new SuperMapAlgoPlot.Point(.7*u,-.025*u),X=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,Q,a),$=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(p,Z,a),tt=[];tt.push(K),tt.push(X),tt.push($);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,tt,{fillLimit:!0,lineTypeLimit:!0,surroundLineLimit:!0,fill:!0}),r.pts.isScalePoint=!0,r.pts.tag=this.scalePoints.length,this.scalePoints.push(r.pts.clone()),i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n);if(-1===r.index&&3===t&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.clonePoints(n);a.splice(0,r.index+1),a.unshift(r.pt);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a);i<u&&(u=i),this.scaleValues[t+1]=(i-u)/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5)}}}}}])&&FU(e.prototype,o),l&&FU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KU(t){"@babel/helpers - typeof";return(KU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qU(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QU(t,e){return(QU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ZU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=XU(t);if(e){var n=XU(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KU(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function XU(t){return(XU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035203=HU;var $U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QU(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ZU(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(this.controlPoints.length<3)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t);this.isEdit||(this.scaleValues[2]=this.getSubSymbolScaleValue()/3);var l=this.scaleValues[0],n=this.scaleValues[1],r=e*this.scaleValues[2],i=new SuperMapAlgoPlot.Point(o.x+e*l,o.y+e*n),a=new SuperMapAlgoPlot.Point(i.x-4*r,i.y),u=new SuperMapAlgoPlot.Point(i.x-4*r,i.y-r/2),p=[];p.push(a),p.push(u);var s={lineTypeLimit:!0,fillLimit:!0};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,s);var c=new SuperMapAlgoPlot.Point(i.x-4*r,i.y),P=new SuperMapAlgoPlot.Point(i.x-r,i.y),f=[];f.push(c),f.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,s),this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],i,2*r,0);var g=new SuperMapAlgoPlot.Point(i.x+4*r,i.y),y=new SuperMapAlgoPlot.Point(i.x+r,i.y),h=[];h.push(g),h.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h,s);var S=new SuperMapAlgoPlot.Point(i.x+4*r,i.y+r/2),b=new SuperMapAlgoPlot.Point(i.x+4*r,i.y),A=[];A.push(S),A.push(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A,s),this.addScalePoint(i,0);var d=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,2*r,2*r,90);this.addScalePoint(d,1),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(o);if(0===l)return;var r=0,i=0;if(0===t&&(r=(e.x-n.x)/l,this.scaleValues[0]=r,i=(e.y-n.y)/l,this.scaleValues[1]=i),1===t){r=this.scaleValues[0],i=this.scaleValues[1];var a=new SuperMapAlgoPlot.Point(n.x+l*r,n.y+l*i),u=SuperMapAlgoPlot.PlottingUtil.distance(a,e);this.scaleValues[2]=u/2/l}}}}])&&qU(e.prototype,o),l&&qU(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tL(t){"@babel/helpers - typeof";return(tL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oL(t,e){return(oL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nL(t);if(e){var n=nL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nL(t){return(nL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5035205=$U;var rL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.333333),e.scaleValues.push(.333333),e.scaleValues.push(.125),e.scaleValues.push(90)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var e=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),o=(SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),this.scaleValues[0]),l=this.scaleValues[1],n=(this.scaleValues[2],this.scaleValues[3],this.ComputeSubSymbolPt(o,l,t,e));new SuperMapAlgoPlot.Point(n.x,n.y);this.finish()}}},{key:"ComputeSubSymbolPt",value:function(t,e,o,l){var n,r,i=o[0],a=o[1],u=o[2],p=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(u,i,a)*t,s=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(a,i,u)*e,c=[];SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,a,l)?((r=[]).push(i),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!1)):((r=[]).push(i),r.push(a),c=SuperMapAlgoPlot.PlottingUtil.paraLine(r,p,!0));SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(i,u,l)?((r=[]).push(i),r.push(u),n=SuperMapAlgoPlot.PlottingUtil.paraLine(r,s,!1)):((r=[]).push(i),r.push(u),n=SuperMapAlgoPlot.PlottingUtil.paraLine(r,s,!0));if(2>c.length||2>n.length)return l;var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(c[0],c[1],n[0],n[1]);return P.isIntersectLines?P.intersectPoint:l}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l,n,r,i=[];if(2===o.length){l=new SuperMapAlgoPlot.Point(o[0].x,o[0].y),n=new SuperMapAlgoPlot.Point(o[1].x,o[1].y);var a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),u=SuperMapAlgoPlot.PlottingUtil.radian(l,n)*SuperMapAlgoPlot.PlottingUtil.RTOD;r=SuperMapAlgoPlot.PlottingUtil.circlePoint(l,a,a,u+60),i.push(l),i.push(n),i.push(r)}else for(var p=0;p<o.length;p++)i.push(o[p]);l=i[0].clone(),n=i[1].clone(),r=i[2].clone();var s=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(i);i.push(i[0]);var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var P=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(r,l,n),f=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(n,l,r),g=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(e,l,n)/P,y=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(e,l,r)/f;g>1&&(g=1),y>1&&(y=1),this.scaleValues[0]=g,this.scaleValues[1]=y}if(1===t){var h=this.scaleValues[0],S=this.scaleValues[1],b=this.ComputeSubSymbolPt(h,S,i,s),A=SuperMapAlgoPlot.PlottingUtil.distance(b,e)/c;this.scaleValues[2]=A;var d=SuperMapAlgoPlot.PlottingUtil.radian(b,e)*SuperMapAlgoPlot.PlottingUtil.RTOD;this.scaleValues[3]=d}}}}])&&eL(e.prototype,o),l&&eL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iL(t){"@babel/helpers - typeof";return(iL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uL(t,e){return(uL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sL(t);if(e){var n=sL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sL(t){return(sL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5020801=rL;var cL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0===this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(0),this.scaleValues.push(0),this.scaleValues.push(0));var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getDefaultSubSymbolSize()/l;(n>.3||n<=0)&&(n=.3),this.scaleValues[0]=2*n}var r=this.scaleValues[0],i=this.scaleValues[2],a=this.scaleValues[3],u=l*r,p=new SuperMapAlgoPlot.Point(o.x+l*i,o.y+l*a);this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],p,u,0),this.addScalePoint(p);var s=u,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,s,s,90);this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=[];l=3>=o.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,o):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!0),l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(l),r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=0,a=0;if(0===t)i=(e.x-n.x)/r,this.scaleValues[2]=i,a=(e.y-n.y)/r,this.scaleValues[3]=a;else if(1===t){i=this.scaleValues[2],a=this.scaleValues[3];var u=new SuperMapAlgoPlot.Point(n.x+r*i,n.y+r*a),p=SuperMapAlgoPlot.PlottingUtil.distance(u,e);this.scaleValues[0]=p/r}}}}])&&aL(e.prototype,o),l&&aL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PL(t){"@babel/helpers - typeof";return(PL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gL(t,e){return(gL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hL(t);if(e){var n=hL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hL(t){return(hL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5020802=cL;var SL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=yL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="挖",e}return e=r,o&&fL(e.prototype,o),l&&fL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function bL(t){"@babel/helpers - typeof";return(bL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dL(t,e){return(dL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ML(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vL(t);if(e){var n=vL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vL(t){return(vL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030101=SL;var mL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=ML(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="浇",e}return e=r,o&&AL(e.prototype,o),l&&AL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function OL(t){"@babel/helpers - typeof";return(OL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UL(t,e){return(UL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=VL(t);if(e){var n=VL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function VL(t){return(VL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030102=mL;var TL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=LL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="砌",e}return e=r,o&&wL(e.prototype,o),l&&wL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function jL(t){"@babel/helpers - typeof";return(jL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _L(t,e){return(_L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xL(t);if(e){var n=xL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xL(t){return(xL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030103=TL;var BL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_L(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=EL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="催",e}return e=r,o&&RL(e.prototype,o),l&&RL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function CL(t){"@babel/helpers - typeof";return(CL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IL(t,e){return(IL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NL(t);if(e){var n=NL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NL(t){return(NL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030104=BL;var kL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=DL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="石",e}return e=r,o&&YL(e.prototype,o),l&&YL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function zL(t){"@babel/helpers - typeof";return(zL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function WL(t,e){return(WL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function GL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JL(t);if(e){var n=JL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JL(t){return(JL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030105=kL;var HL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=GL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="沙",e}return e=r,o&&FL(e.prototype,o),l&&FL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function KL(t){"@babel/helpers - typeof";return(KL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qL(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QL(t,e){return(QL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ZL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=XL(t);if(e){var n=XL(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function XL(t){return(XL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030106=HL;var $L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QL(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol30020);var e,o,l,n=ZL(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).subText="练",e}return e=r,o&&qL(e.prototype,o),l&&qL(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function tV(t){"@babel/helpers - typeof";return(tV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eV(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oV(t,e){return(oV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nV(t);if(e){var n=nV(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nV(t){return(nV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030107=$L;var rV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oV(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lV(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=.05*SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.paraLine(t,e,!0),l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,e,!1),n=o[0],r=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,o[0],o[1]),i=[];i.push(n),i.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var a=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2+.2/3,o[0],o[1]),u=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3,o[0],o[1]),p=[];p.push(a),p.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var s=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3*2,o[0],o[1]),c=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(3*.2+.2/3*2,o[0],o[1]),P=[];P.push(s),P.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var f=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,o[0],o[1]),g=o[1],y=[];y.push(f),y.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=l[0],S=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,l[0],l[1]),b=[];b.push(h),b.push(S),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2+.2/3,l[0],l[1]),d=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3,l[0],l[1]),M=[];M.push(A),M.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M);var v=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.4+.2/3*2,l[0],l[1]),m=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(3*.2+.2/3*2,l[0],l[1]),O=[];O.push(v),O.push(m),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,l[0],l[1]),U=l[1],L=[];L.push(w),L.push(U),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,L);var V=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,t[0],t[1]),T=t[0].clone(),j=[];j.push(V),j.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j);var R=SuperMapAlgoPlot.PlottingUtil.radian(V,T)*SuperMapAlgoPlot.PlottingUtil.RTOD,_=SuperMapAlgoPlot.PlottingUtil.distance(V,T),E=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,V,T),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,.025*_,.025*_,R+90),B=SuperMapAlgoPlot.PlottingUtil.circlePoint(E,.025*_,.025*_,R-90),C=[];C.push(x),C.push(B),C.push(V);var Y={fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,C,Y);var I=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,t[1],t[0]),D=t[1].clone(),N=[];N.push(I),N.push(D),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N);var k=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.2,I,D),z=SuperMapAlgoPlot.PlottingUtil.circlePoint(k,.025*_,.025*_,R+90),F=SuperMapAlgoPlot.PlottingUtil.circlePoint(k,.025*_,.025*_,R-90),W=[];W.push(z),W.push(F),W.push(I),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,W,Y),this.finish()}}}])&&eV(e.prototype,o),l&&eV(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iV(t){"@babel/helpers - typeof";return(iV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aV(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uV(t,e){return(uV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sV(t);if(e){var n=sV(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sV(t){return(sV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030501=rV;var cV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uV(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=pV(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),6!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.05),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments);var e=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);if(t.splice(0,2),t.unshift(e),this.subSymbols.length>0){var o;if(null==this.subSymbols[0].symbolData)return;o=this.subSymbols[0].symbolData.symbolSize.x;var l=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]),n=l*this.scaleValues[4],r=l*this.scaleValues[5],i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n,t),a=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(r,t),u=SuperMapAlgoPlot.PlottingUtil.radian(a.pts,i.pts)*SuperMapAlgoPlot.PlottingUtil.RTOD+270,p=60*SuperMapAlgoPlot.PlottingUtil.distance(i.pts,a.pts)/o*2,s=new SuperMapAlgoPlot.Point(2*a.pts.x-i.pts.x,2*a.pts.y-i.pts.y),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,u),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,u-180);if(null==this.subSymbols.length)return;null!=this.subSymbols[0].code&&(this.computeSubSymbol(this.subSymbols[0],a.pts,p,u-90),this.computeSubSymbol(this.subSymbols[1],c,p,u-90),this.computeSubSymbol(this.subSymbols[2],P,p,u-90)),i.pts.isScalePoint=!0,i.pts.tag=this.scalePoints.length,this.scalePoints.push(i.pts.clone()),a.pts.isScalePoint=!0,a.pts.tag=this.scalePoints.length,this.scalePoints.push(a.pts.clone())}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<2)return;if(this.scaleValues.length<6&&(this.scaleValues=[],this.scaleValues.push(.05),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2),this.scaleValues.push(.01)),t<=2)SuperMapAlgoPlot.AlgoSymbol1004.prototype.computeScaleValues.apply(this,arguments);else if(3==t||4==t){var l=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),n=SuperMapAlgoPlot.PlottingUtil.clonePoints(o);n.splice(0,2),n.unshift(l);var r=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,n),i=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]);if(-1===r.index&&3===t&&(r.pt=l.clone()),-1==r.index&&4==t)this.scaleValues[t+1]=.01;else{var a=SuperMapAlgoPlot.PlottingUtil.distance(l,e);this.scaleValues[t+1]=a/i,this.scaleValues[4]>.5&&(this.scaleValues[4]=.5),this.scaleValues[5]>1&&(this.scaleValues[5]=1)}}}}}])&&aV(e.prototype,o),l&&aV(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PV(t){"@babel/helpers - typeof";return(PV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fV(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gV(t,e){return(gV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hV(t);if(e){var n=hV(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hV(t){return(hV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6031001=cV;var SV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gV(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yV(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o;if(2==t.length)e=t[0],o=t[1];else{var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),n=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]),r=SuperMapAlgoPlot.PlottingUtil.distance(t[2],t[0]);l>=n&&l>=r?(e=t[0],o=t[1]):n>=l&&n>=r?(e=t[1],o=t[2]):(e=t[0],o=t[2])}var i=SuperMapAlgoPlot.PlottingUtil.dirAngle(e,o)*SuperMapAlgoPlot.PlottingUtil.RTOD,a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),u=.1*a,p=[];if(p=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):t.length>3&&!0===this.polylineConnectLocationPoint?t:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),0!=(p=SuperMapAlgoPlot.PlottingUtil.clearSamePts(p)).length){for(var s=p[0].x,c=p[0].x,P=p[0].y,f=p[0].y,g=0;g<p.length;g++)s>p[g].x&&(s=p[g].x),c<p[g].x&&(c=p[g].x),P>p[g].y&&(P=p[g].y),f<p[g].y&&(f=p[g].y);for(var y=new SuperMapAlgoPlot.Point((c+s)/2,(f+P)/2),h=new SuperMapAlgoPlot.Point((c+s)/2,0),S=0,b=-1,A=SuperMapAlgoPlot.PlottingUtil.circlePoint(y,a,a,i),d=0;d+1<p.length;d++){var M,v;if((M=SuperMap.Plot.PlottingUtil.intersectLines(y,A,p[d],p[d+1])).isIntersectLines){v=M.intersectPoint;var m,O=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(v,p);-1!==O.index&&(m=O.index,O.pt,0==S?(h.y=v.y,b=m):h.y<v.y&&(h.y=v.y,b=m),S++)}}if(0!=S&&-1!=b&&!(0>=p.length)){var w=[];w.push(h);for(var U=b+1;U<p.length;U++)w.push(new SuperMapAlgoPlot.Point(p[U].x,p[U].y));for(var L=0;L<=b;L++)w.push(new SuperMapAlgoPlot.Point(p[L].x,p[L].y));var V=new SuperMapAlgoPlot.Point(0,0),T=-1,j=.8*u,R=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(j,w);if(R.bfind){T=R.index,V=R.pts;var _=[];_.push(V);for(var E=T+1;E<w.length;E++)_.push(w[E]);w=[];for(var x=_.length-1;x>0;x--)w.push(_[x]);V=new SuperMapAlgoPlot.Point(0,0),T=-1;var B=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(j,w);if(B.bfind){T=B.index,V=B.pts,(_=[]).push(V);for(var C=T+1;C<w.length;C++)_.push(w[C]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_);var Y,I=new SuperMapAlgoPlot.Point((_[0].x+_[_.length-1].x)/2,(_[0].y+_[_.length-1].y)/2),D=[],N=SuperMapAlgoPlot.PlottingUtil.circlePoint(I,u,u,i),k=SuperMapAlgoPlot.PlottingUtil.circlePoint(I,u,u,i+180);D.push(N),D.push(k),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D);var z=i;SuperMapAlgoPlot.PlottingUtil.distance(y,N)>SuperMapAlgoPlot.PlottingUtil.distance(y,k)?(Y=N,z=SuperMapAlgoPlot.PlottingUtil.dirAngle(N,k)*SuperMapAlgoPlot.PlottingUtil.RTOD):(Y=k,z=SuperMapAlgoPlot.PlottingUtil.dirAngle(Y,N)*SuperMapAlgoPlot.PlottingUtil.RTOD);var F=SuperMapAlgoPlot.PlottingUtil.circlePoint(Y,.2*u,.2*u,z),W=SuperMapAlgoPlot.PlottingUtil.circlePoint(F,.05*u,.05*u,z+90),G=SuperMapAlgoPlot.PlottingUtil.circlePoint(F,.05*u,.05*u,z-90);(D=[]).push(W),D.push(G),D.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,D),this.finish()}}}}}}}])&&fV(e.prototype,o),l&&fV(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bV(t){"@babel/helpers - typeof";return(bV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AV(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dV(t,e){return(dV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function MV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vV(t);if(e){var n=vV(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vV(t){return(vV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol70110=SV;var mV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dV(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=MV(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0]*e,l=t[0].clone(),n=t[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.linePnt(n,l,e+.2*e),i=SuperMapAlgoPlot.PlottingUtil.linePnt(l,n,e+.2*e),a=1.5*o,u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,n,r),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(a,l,i),s=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!0),c=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!1),P=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],3*e/11),f=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],4*e/11),g=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],7*e/11),y=SuperMapAlgoPlot.PlottingUtil.linePnt(s[0],s[s.length-1],8*e/11),h=[];h.push(u.pntRight),h.push(s[0]),h.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var S=[];S.push(f),S.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S);var b=[];b.push(y),b.push(s[s.length-1]),b.push(p.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var A=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],3*e/11),d=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],4*e/11),M=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],7*e/11),v=SuperMapAlgoPlot.PlottingUtil.linePnt(c[0],c[c.length-1],8*e/11),m=[];m.push(u.pntLeft),m.push(c[0]),m.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,m);var O=[];O.push(d),O.push(M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O);var w=[];w.push(v),w.push(c[c.length-1]),w.push(p.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w);var U=new SuperMapAlgoPlot.Point((u.pntLeft.x+u.pntRight.x)/2,(u.pntLeft.y+u.pntRight.y)/2),L=new SuperMapAlgoPlot.Point((P.x+A.x)/2,(P.y+A.y)/2),V=[];V.push(U),V.push(L),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V);var T=SuperMapAlgoPlot.PlottingUtil.radian(U,L)*SuperMapAlgoPlot.PlottingUtil.RTOD,j=SuperMapAlgoPlot.PlottingUtil.distance(U,L),R=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,U,L),_=SuperMapAlgoPlot.PlottingUtil.circlePoint(R,.025*j,.025*j,T+90),E=SuperMapAlgoPlot.PlottingUtil.circlePoint(R,.025*j,.025*j,T-90),x=[];x.push(_),x.push(E),x.push(L);var B={fillLimit:!0,fill:!0};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,x,B);var C=new SuperMapAlgoPlot.Point((p.pntLeft.x+p.pntRight.x)/2,(p.pntLeft.y+p.pntRight.y)/2),Y=new SuperMapAlgoPlot.Point((y.x+v.x)/2,(y.y+v.y)/2),I=[];I.push(C),I.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I);var D=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.8,C,Y),N=SuperMapAlgoPlot.PlottingUtil.circlePoint(D,.025*j,.025*j,T+90),k=SuperMapAlgoPlot.PlottingUtil.circlePoint(D,.025*j,.025*j,T-90),z=[];z.push(N),z.push(k),z.push(Y),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,z,B),this.finish()}}}])&&AV(e.prototype,o),l&&AV(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function OV(t){"@babel/helpers - typeof";return(OV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wV(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function UV(t,e){return(UV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function LV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=VV(t);if(e){var n=VV(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===OV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function VV(t){return(VV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol6030601=mV;var TV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UV(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=LV(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(1),e.scaleValues.push(1),e.scaleValues.push(1),e.scaleValues.push(1),e.scaleValues.push(1.3),e.scaleValues.push(90),e.scaleValues.push(90),e.scaleValues.push(270),e.scaleValues.push(270),e.scaleValues.push(1)),e.RTOD=57.29577951308232,e.subText="",e._style={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"},e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.controlPoints&&!(t.length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0]*3,o=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.midPoint(t[0],t[1]),n=[];n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[1],e*this.scaleValues[1],o+this.scaleValues[6])),n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e/2,e/2,o+90)),n.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],e*this.scaleValues[2],e*this.scaleValues[2],o+this.scaleValues[7]));var r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(n),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),a=.25*i,u=.1*a,p=this.computeDashLine(a,u,r);this.AddCellPoints(p,!0,u);var s=[];s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e*this.scaleValues[3],e*this.scaleValues[3],o+this.scaleValues[8])),s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(l,e/2,e/2,o+270)),s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],e*this.scaleValues[4],e*this.scaleValues[4],o+this.scaleValues[9]));var c=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(s);u=.1*(a=.25*(i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c)));var P,f=this.computeDashLine(a,u,c);this.AddCellPoints(f,!1,u),P=-1===this.scaleValues[10]?this.AddCellRec(f,e):this.AddCellRec(p,e);var g=p[0][0],y=p[p.length-1],h=y[y.length-1],S=f[0][0],b=f[f.length-1],A=b[b.length-1];this.addScalePoint(new SuperMapAlgoPlot.Point(g.x,g.y)),this.addScalePoint(new SuperMapAlgoPlot.Point(h.x,h.y)),this.addScalePoint(new SuperMapAlgoPlot.Point(S.x,S.y)),this.addScalePoint(new SuperMapAlgoPlot.Point(A.x,A.y)),this.addScalePoint(new SuperMapAlgoPlot.Point(P.x,P.y)),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l,n,r,i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)*this.scaleValues[0]*5;switch(t){case 0:if(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e))return;n=(SuperMapAlgoPlot.PlottingUtil.radian(o[0],e)-SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1]))*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/i,this.scaleValues[1]=l,this.scaleValues[6]=n,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1&&(this.scaleValues[5]=a);break;case 1:if(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e))return;n=(SuperMapAlgoPlot.PlottingUtil.radian(o[1],e)-SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1]))*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/i,this.scaleValues[2]=l,this.scaleValues[7]=n,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1.1&&(this.scaleValues[5]=a);break;case 2:if(!(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)))return;n=(SuperMapAlgoPlot.PlottingUtil.radian(o[0],e)-SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1]))*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/i,this.scaleValues[3]=l,this.scaleValues[8]=n,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1.1&&-1==this.scaleValues[10]&&(this.scaleValues[5]=a);break;case 3:if(!(u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)))return;n=(SuperMapAlgoPlot.PlottingUtil.radian(o[1],e)-SuperMapAlgoPlot.PlottingUtil.radian(o[0],o[1]))*this.RTOD,l=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/i,this.scaleValues[4]=l,this.scaleValues[9]=n,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1.1&&-1==this.scaleValues[10]&&(this.scaleValues[5]=a);break;case 4:var a,u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e);this.scaleValues[10]=u?-1:1,r=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]),(a=SuperMapAlgoPlot.PlottingUtil.distance(e,r)/i)>=1.1&&(this.scaleValues[5]=a)}}}},{key:"AddCellPoints",value:function(t,e,o){for(var l=0;l<t.length;l++){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t[l],this._style);var n=t[l],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.3*r),a=n[i.index+1],u=SuperMapAlgoPlot.PlottingUtil.radian(i.pt,a)*this.RTOD;u=e?u+90:u+270;var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(i.pt,o,o,u),s=[];s.push(i.pt),s.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s,this._style)}}},{key:"AddCellRec",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=t[0],n=t[t.length-1],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(l,.1*r),u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,.9*i),p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(a.pt,o[0],o[1]),s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(u.pt,o[0],o[1]),c=SuperMapAlgoPlot.PlottingUtil.linePnt(p.projectPoint,a.pt,e*this.scaleValues[5]),P=SuperMapAlgoPlot.PlottingUtil.linePnt(s.projectPoint,u.pt,e*this.scaleValues[5]),f=[];return f.push(a.pt),f.push(c),f.push(P),f.push(u.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f,this._style),SuperMapAlgoPlot.PlottingUtil.midPoint(c,P)}}])&&wV(e.prototype,o),l&&wV(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function jV(t){"@babel/helpers - typeof";return(jV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RV(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _V(t,e){return(_V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function EV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xV(t);if(e){var n=xV(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xV(t){return(xV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3002701=TV;var BV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_V(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=EV(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])*this.scaleValues[0];Math.sqrt(e*e/2);if(t.length>3){var o=[];o.push(t[0]),o.push(t[1]),o.push(t[2]);var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);this.addArrow(l,this.scaleValues[0]);for(var n=[],r=3;r<t.length;r++)n.push(t[r]);if(n.length>=2){var i=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(n);this.addArrow(i,this.scaleValues[0])}}else if(t.length<=3){var a=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);this.addArrow(a,this.scaleValues[0])}this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)){0===this.scaleValues.length&&this.scaleValues.push(.2);SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1])}}}])&&RV(e.prototype,o),l&&RV(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function CV(t){"@babel/helpers - typeof";return(CV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YV(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function IV(t,e){return(IV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function DV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=NV(t);if(e){var n=NV(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===CV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function NV(t){return(NV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50332=BV;var kV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IV(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=DV(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=.1,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,0===e.scaleValues.length&&(e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen),e.scaleValues.push(e.sv_arrowTailWidth)),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());for(var e=this.GetBaseGeometry(),o=this.ComputeArrowEndBody(t,e.ptLeft,e.ptRight,e.dTailLenght),l=[],n=o.leftBody.length-1;n>0;n--)l.push(o.leftBody[n]);var r=this.arrowMeshs(e.tempPt);l=(l=l.concat(r.shapePts)).concat(o.rightBody);var i={fillLimit:!0,fillColorLimit:!0,fillStyle:0,strokeOpacity:1,opacity:1,lineColorLimit:!0,strokeColor:"#0000ff",color:"#0000ff",lineColor:"#0000ff",surroundLineLimit:!0,surroundLineColor:"#ffff00",surroundLineColorOpacity:1,surroundLineWidth:4,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,i),SuperMapAlgoPlot.AlgoSymbol1004.prototype.scaleValues=this.scaleValues;var a=SuperMapAlgoPlot.AlgoSymbol1004.prototype.updateScalePoints(e.tempPt);this.scalePoints=[],this.addScalePoint(a[a.length-1]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.scaleValues.length<4&&(this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen));var l=o.length;if(l<=2)return;var n,r,i,a,u=this.operateCtrlPts(o);l=u.length,l--;if(this.scaleValues.length<4){var p=this.calcDefaultScaleValues(l);n=p[0],r=p[1],i=p[2],a=p[3]}else n=this.scaleValues[0],r=this.scaleValues[1],i=this.scaleValues[2],a=this.scaleValues[3];for(var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),c=[],P=0;P<this.scalePoints.length;P++)c.push(this.scalePoints[P].clone());if(0==c.length)return;c[t]=e.clone();var f,g,y=l-1;f=l<=3?new SuperMapAlgoPlot.Point((u[0].x+u[1].x)/2,(u[0].y+u[1].y)/2):u[y-1].clone();var h,S,b=new SuperMapAlgoPlot.Point(0,0),A=new SuperMapAlgoPlot.Point(0,0),d=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,f,u[y],u[y+1],A,d),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,u[l],u[l-1],d,b),g=b.clone();var M=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(u[l],g,c[0]);h=M.dLen1,M.dLen2,0==h&&(h=.1),h,n=(h/=a+1)/s,0==t&&(n=h/s),h*r,(S=SuperMapAlgoPlot.PlottingUtil.distance(u[l],u[l-1]))<2*h&&((h=.5*S)*r,n=h/s),this.scaleValues[0]=n,this.scaleValues[1]=r,this.scaleValues[2]=i,this.scaleValues[3]=a}}},{key:"GetBaseGeometry",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<2)return null;var e=this.GetLeftAndRightPt(),o=[];o.push(e.leftPt),o.push(e.rightPt);for(var l=1;l<t.length;l++)o.push(t[l]);return{tempPt:o,ptLeft:e.leftPt,ptRight:e.rightPt,dTailLenght:e.dTailLenght}}},{key:"ComputeArrowEndBody",value:function(t,e,o,l){var n,r,i,a=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),u=(SuperMapAlgoPlot.PlottingUtil.polylineDistance(a),.5*SuperMapAlgoPlot.PlottingUtil.distance(e,o)),p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(a,.9*l),s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(a,.7*l),c=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(a,.4*l);2==t.length?n=r=i=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*this.RTOD:t.length>=3&&(n=SuperMapAlgoPlot.PlottingUtil.radian(a[p.index-1],a[p.index+1])*this.RTOD,r=SuperMapAlgoPlot.PlottingUtil.radian(a[s.index-1],a[s.index+1])*this.RTOD,i=SuperMapAlgoPlot.PlottingUtil.radian(a[c.index-1],a[c.index+1])*this.RTOD);var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,.9*u,.9*u,n+90),f=SuperMapAlgoPlot.PlottingUtil.circlePoint(p.pt,.9*u,.9*u,n+270),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,.8*u,.8*u,r+90),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s.pt,.8*u,.8*u,r+270),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c.pt,.3*u,.3*u,i+90),S=SuperMapAlgoPlot.PlottingUtil.circlePoint(c.pt,.3*u,.3*u,i+270),b=[];b.push(e),b.push(P),b.push(g),b.push(h),b.push(t[0]);var A=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(b),d=[];return d.push(o),d.push(f),d.push(y),d.push(S),d.push(t[0]),{leftBody:A,rightBody:SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(d)}}},{key:"GetLeftAndRightPt",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),e=(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length;if(!(e<this.minEditPts)){var o,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.scaleValues[4]=this.getSubSymbolScaleValue();var n,r,i=l*this.scaleValues[4]*.1;if(2==e){var a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],l/3),u=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*this.RTOD;if(n=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i,i,u+90),r=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,i,i,u+270),SuperMapAlgoPlot.PlottingUtil.isRight(n,t[0],t[1])){var p=n;n=r,r=p}o=l/3}else if(e>=3){for(var s=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),c=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(t[1],s),P=[],f=0;f<=c.index;f++)P.push(s[f]);var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(P),y=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(s,.9*g);u=SuperMapAlgoPlot.PlottingUtil.radian(s[y.index-1],s[y.index+1])*this.RTOD;if(n=SuperMapAlgoPlot.PlottingUtil.circlePoint(y.pt,i,i,u+90),r=SuperMapAlgoPlot.PlottingUtil.circlePoint(y.pt,i,i,u+270),SuperMapAlgoPlot.PlottingUtil.isRight(n,s[y.index-1],s[y.index+1])){p=n;n=r,r=p}var h=[];for(f=0;f<=y.index;f++)h.push(s[f]);o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(h)}return{leftPt:n,rightPt:r,dTailLenght:o}}}},{key:"updateScalePoints",value:function(t){var e=t.length,o=[];if(!(e<3)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l,0)){var n=this.operateCtrlPts(t);e=n.length,e--;for(var r=[],i=0;i<this.scaleValues.length;i++)r.push(this.scaleValues[i]);var a=this.genArrowBodyPts(l,n,r),u=a.ArrowBodyCenterPts,p=this.genAtPts(e,u,r,a.ArrowTouLen),s=this.calc3rdScalePt(e,u,r,a.ArrowTouLen);return o.push(new SuperMapAlgoPlot.Point(a.LeftBodyPtsTemp[e].x,a.LeftBodyPtsTemp[e].y)),o.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),o.push(new SuperMapAlgoPlot.Point(s.x,s.y)),o}}}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(r,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),a=i.arrowTouLen,u=i.leftBodyPts,p=i.rightBodyPts;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var s=[];s.push(u[u.length-1]),s.push(p[p.length-1]);var c=[];c.push(this.scaleValues[2]),c.push(this.scaleValues[3]),c.push(0),c.push(0);for(var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(r,s,c,a,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),f=0;f<u.length;f++)e.push(u[f]),o.push(u[f]);for(var g=0;g<P.length;g++)e.push(P[g]),n.push(P[g]);for(var y=p.length-1;y>=0;y--)e.push(p[y]),l.push(p[y])}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);if(3===e.length){var o=((e[0].x+e[1].x)/2+e[2].x)/2,l=((e[0].y+e[1].y)/2+e[2].y)/2,n=new SuperMapAlgoPlot.Point(o,l),r=e[2];e[2]=n,e.push(r)}return e}}])&&YV(e.prototype,o),l&&YV(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function zV(t){"@babel/helpers - typeof";return(zV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FV(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function WV(t,e){return(WV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function GV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=JV(t);if(e){var n=JV(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function JV(t){return(JV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033301=kV;var HV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WV(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=GV(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.scaleValues.push(.2),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[1],l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-1.2*o),n=[];n.push(t[0]),n.push(l),this.addArrow(n,this.scaleValues[0]);for(var r=[],i=[],a=0;a<=360;a+=5)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,a)),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],.1*o,.1*o,a));var u={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"};if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,u),u={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,u),t.length>=3){var p=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[2],o),s=[];s.push(p),s.push(t[2]);var c=[];if(t.length>3){for(a=3;a<t.length;a++)s.push(t[a]);c=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(s)}this.addArrow(c,this.scaleValues[0])}r.length>0&&this.addScalePoint(r[0]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)&&0==t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/l;n<=.5&&(this.scaleValues[1]=n)}}}])&&FV(e.prototype,o),l&&FV(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function KV(t){"@babel/helpers - typeof";return(KV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qV(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function QV(t,e){return(QV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ZV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=XV(t);if(e){var n=XV(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===KV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function XV(t){return(XV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50336=HV;var $V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QV(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ZV(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.scaleValues.push(.2),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[1],l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-1.2*o),n=[];n.push(t[0]),n.push(l),this.addArrow(n,this.scaleValues[0]);for(var r=[],i=[],a=0;a<=360;a+=5)r.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,a)),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],.15*o,.15*o,a));var u={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"};if(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,u),u={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!0,fill:!0,lineColorLimit:!0,strokeColor:"#00ff00",strokeOpacity:1,color:"#00ff00",opacity:1,lineColor:"#00ff00",fillColor:"#00ff00"},this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,u),t.length>=3){var p=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[2],o),s=[];s.push(p),s.push(t[2]);var c=[];if(t.length>3){for(a=3;a<t.length;a++)s.push(t[a]);c=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(s)}this.addArrow(c,this.scaleValues[0])}r.length>0&&this.addScalePoint(r[0]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)&&0==t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/l;this.scaleValues[1]=n,this.scaleValues[1]>.7&&(this.scaleValues[1]=.7)}}}])&&qV(e.prototype,o),l&&qV(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tT(t){"@babel/helpers - typeof";return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oT(t,e){return(oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nT(t);if(e){var n=nT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nT(t){return(nT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033601=$V;var rT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lT(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.scaleValues.push(.5),e.scaleValues.push(-5),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e,o,l;if(this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue()),2==t.length)e=o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);else if((e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]))<(o=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]))){var n=e;e=o,o=n}if(t.length>3){var r=[];if(!this.isEdit){var i=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[3])*this.RTOD;this.scaleValues[2]=i}l=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,o,this.scaleValues[2]),r.push(l);for(var a=3;a<t.length;a++)r.push(t[a]);var u=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(r);this.addArrow(u,this.scaleValues[0])}var p=[],s=[],c=[];for(a=0;a<=this.scaleValues[2]-5;a+=5)p.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,o,a));for(a=this.scaleValues[2]+5;a<=360;a+=5)s.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],e,o,a));p.length>0&&s.push(p[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var P=[];for(a=0;a<=360;a+=5){var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],o*this.scaleValues[1],o*this.scaleValues[1],a);c.push(f),30!=a&&210!=a||P.push(f)}var g={lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"};this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P,g),c.length>0&&(this.addScalePoint(c[0]),t.length>3&&this.addScalePoint(l)),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)){if(0===t){var l,n;if(2===o.length)l=n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);else if((l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]))<(n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[2]))){var r=l;l=n,n=r}var i=n*this.scaleValues[1];(r=SuperMapAlgoPlot.PlottingUtil.distance(e,o[0])/i)<=2&&(this.scaleValues[1]*=r)}if(1===t){var a=SuperMapAlgoPlot.PlottingUtil.radian(o[0],e)*this.RTOD;this.scaleValues[2]=a}}}}])&&eT(e.prototype,o),l&&eT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function iT(t){"@babel/helpers - typeof";return(iT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function uT(t,e){return(uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sT(t);if(e){var n=sT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===iT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sT(t){return(sT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol50337=rT;var cT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pT(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.push(.1),e.scaleValues.push(.2),e.RTOD=57.29577951308232,e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=e*this.scaleValues[1],l=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],e-1.2*o),n=[];n.push(t[0]),n.push(l),this.addArrow(n,this.scaleValues[0]);for(var r=[],i=[],a=0;a<=360;a+=5){var u=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,a);r.push(u)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r);var p=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])*this.RTOD;i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,p-20)),i.push(SuperMapAlgoPlot.PlottingUtil.circlePoint(t[1],o,o,p+160));if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{lineColorLimit:!0,strokeColor:"#0000ff",strokeOpacity:1,color:"#0000ff",opacity:1,lineColor:"#0000ff"}),t.length>=3){var s=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[2],o),c=[];c.push(s),c.push(t[2]);var P=[];if(t.length>3){for(a=3;a<t.length;a++)c.push(t[a]);P=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(c)}this.addArrow(P,this.scaleValues[0])}r.length>0&&this.addScalePoint(r[0]),this.finish()}}},{key:"computeScaleValues",value:function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(2>o.length)&&0==t){var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=SuperMapAlgoPlot.PlottingUtil.distance(e,o[1])/l;this.scaleValues[1]=n,this.scaleValues[1]>.7&&(this.scaleValues[1]=.7)}}}])&&aT(e.prototype,o),l&&aT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function PT(t){"@babel/helpers - typeof";return(PT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fT(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gT(t,e){return(gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hT(t);if(e){var n=hT(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===PT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hT(t){return(hT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol5033701=cT;var ST=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yT(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.03),e.scaleValues.push(.25),e.scaleValues.push(.8),e.scaleValues.push(.02)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);4!=this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.03),this.scaleValues.push(.25),this.scaleValues.push(.8),this.scaleValues.push(.02));var l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(this.scaleValues[1]*o,e);if(l.bfind){var n=this.scaleValues[0]*o,r=l.pts,i=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[l.index],l.pts),a=i.pntRight,u=i.pntLeft,p=[];if(p.push(a),p.push(u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0,surroundLineLimit:!0}),(l=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(this.scaleValues[2]*o,e)).bfind){var s=l.pts,c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,e[l.index],l.pts),P=c.pntRight,f=c.pntLeft;(p=[]).push(P),p.push(f),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{lineTypeLimit:!0,surroundLineLimit:!0});for(var g=this.mergeDashLine(this.dashLines,[]),y=this.computeDashLine(g,e),h=0;h<y.length;h++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y[h]);for(var S=0;S<y.length;S++)y.length-1==S&&(y[S].length>=2?this.addArrow(y[S],this.scaleValues[3]):this.addArrow([e[e.length-2],e[e.length-1]],this.scaleValues[3]));this.scalePoints=[],this.addScalePoint(r),this.addScalePoint(s),this.addScalePoint(u),this.addScalePoint(f);var b=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3],A=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],b);this.addScalePoint(A),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0==t){for(var r=0,i=-1,a=null,u=0;u<l.length-1;u++){var p=null;(p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[u],l[u+1])).isOnline&&(0===r||SuperMapAlgoPlot.PlottingUtil.distance(p.projectPoint,e)<r)&&(a=p,i=u,r=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint))}if(-1==i)return;var s=[];for(u=0;u<i+1;u++)s.push(l[u]);s.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y)),(c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s)/n)>=1-this.scaleValues[3]&&(c=1-this.scaleValues[3]),this.scaleValues[1]=c}else if(1==t){var c;for(r=0,i=-1,a=null,u=0;u<l.length-1;u++){p=null;(p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[u],l[u+1])).isOnline&&(0===r||SuperMapAlgoPlot.PlottingUtil.distance(p.projectPoint,e)<r)&&(a=p,i=u,r=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint))}if(-1==i)return;for(s=[],u=0;u<i+1;u++)s.push(l[u]);s.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y)),(c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s)/n)>=1-this.scaleValues[3]&&(c=1-this.scaleValues[3]),this.scaleValues[2]=c}else if(2==t){if(!(P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(this.scaleValues[1]*n,l)).bfind)return;(f=SuperMapAlgoPlot.PlottingUtil.distance(P.pts,e)/n)<=.3&&(this.scaleValues[0]=f)}else if(3==t){var P,f;if(!(P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(this.scaleValues[2]*n,l)).bfind)return;(f=SuperMapAlgoPlot.PlottingUtil.distance(P.pts,e)/n)<=.3&&(this.scaleValues[0]=f)}else if(4==t){var g=.5*SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<g)return;this.scaleValues[3]=g}}}}])&&fT(e.prototype,o),l&&fT(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol37301=ST;SuperMapAlgoPlot.WJAlgoSymbolFactory=SuperMapAlgoPlot.WJAlgoSymbolFactory||{};SuperMapAlgoPlot.WJAlgoSymbolFactory.getAlgoSymbol=function(t,e,o){if(123===t)switch(e){case 20602:return new SuperMapAlgoPlot.AlgoSymbol15805(o);case 2060201:return new SuperMapAlgoPlot.AlgoSymbol2060201(o);case 2060202:return new SuperMapAlgoPlot.AlgoSymbol2060202(o);case 20915:return new SuperMapAlgoPlot.AlgoSymbol12500(o);case 2091501:return new SuperMapAlgoPlot.AlgoSymbol12501(o);case 2091502:return new SuperMapAlgoPlot.AlgoSymbol12502(o);case 2091503:return new SuperMapAlgoPlot.AlgoSymbol2091503(o);case 2092101:return new SuperMapAlgoPlot.AlgoSymbol2092101(o);case 21003:return new SuperMapAlgoPlot.AlgoSymbol13700(o);case 21206:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 2120601:return new SuperMapAlgoPlot.AlgoSymbol15201(o);case 2120602:return new SuperMapAlgoPlot.AlgoSymbol15202(o);case 21207:return new SuperMapAlgoPlot.AlgoSymbol21207(o);case 21212:return new SuperMapAlgoPlot.AlgoSymbol15800(o);case 2121201:return new SuperMapAlgoPlot.AlgoSymbol15801(o);case 2121202:return new SuperMapAlgoPlot.AlgoSymbol15802(o);case 2121203:return new SuperMapAlgoPlot.AlgoSymbol15803(o);case 2121204:return new SuperMapAlgoPlot.AlgoSymbol15804(o);case 2121205:return new SuperMapAlgoPlot.AlgoSymbol15806(o);case 21213:return new SuperMapAlgoPlot.AlgoSymbol15900(o);case 21214:return new SuperMapAlgoPlot.AlgoSymbol16200(o);case 2121401:return new SuperMapAlgoPlot.AlgoSymbol16201(o);case 2121402:return new SuperMapAlgoPlot.AlgoSymbol16202(o);case 2121403:return new SuperMapAlgoPlot.AlgoSymbol16203(o);case 2121404:return new SuperMapAlgoPlot.AlgoSymbol2121504(o);case 2121405:return new SuperMapAlgoPlot.AlgoSymbol2121505(o);case 2121406:return new SuperMapAlgoPlot.AlgoSymbol2121506(o);case 2121407:return new SuperMapAlgoPlot.AlgoSymbol2121507(o);case 21215:return new SuperMapAlgoPlot.AlgoSymbol21216(o);case 2121501:return new SuperMapAlgoPlot.AlgoSymbol2121601(o);case 2121502:return new SuperMapAlgoPlot.AlgoSymbol2121602(o);case 21217:return new SuperMapAlgoPlot.AlgoSymbol16700(o);case 21221:return new SuperMapAlgoPlot.AlgoSymbol17500(o);case 21220:return new SuperMapAlgoPlot.AlgoSymbol17400(o);case 2122001:return new SuperMapAlgoPlot.AlgoSymbol17401(o);case 2122101:return new SuperMapAlgoPlot.AlgoSymbol17501(o);case 21222:return new SuperMapAlgoPlot.AlgoSymbol17700(o);case 2122201:return new SuperMapAlgoPlot.AlgoSymbol2122201(o);case 2122202:return new SuperMapAlgoPlot.AlgoSymbol2122202(o);case 2122203:return new SuperMapAlgoPlot.AlgoSymbol17703(o);case 2122204:return new SuperMapAlgoPlot.AlgoSymbol17704(o);case 2122205:return new SuperMapAlgoPlot.AlgoSymbol1770501(o);case 21223:return new SuperMapAlgoPlot.AlgoSymbol17800(o);case 2122301:return new SuperMapAlgoPlot.AlgoSymbol17801(o);case 2122302:return new SuperMapAlgoPlot.AlgoSymbol17802(o);case 2122303:return new SuperMapAlgoPlot.AlgoSymbol17803(o);case 2122304:return new SuperMapAlgoPlot.AlgoSymbol17804(o);case 2122305:return new SuperMapAlgoPlot.AlgoSymbol17805(o);case 2122306:return new SuperMapAlgoPlot.AlgoSymbol17806(o);case 21605:return new SuperMapAlgoPlot.AlgoSymbol20300(o);case 2160501:return new SuperMapAlgoPlot.AlgoSymbol20301(o);case 30008:return new SuperMapAlgoPlot.AlgoSymbol30008(o);case 3000801:return new SuperMapAlgoPlot.AlgoSymbol3000801(o);case 3000802:return new SuperMapAlgoPlot.AlgoSymbol3000802(o);case 3000803:return new SuperMapAlgoPlot.AlgoSymbol3000803(o);case 3000804:return new SuperMapAlgoPlot.AlgoSymbol3000804(o);case 3000805:return new SuperMapAlgoPlot.AlgoSymbol3000805(o);case 3000806:return new SuperMapAlgoPlot.AlgoSymbol3000806(o);case 3000807:return new SuperMapAlgoPlot.AlgoSymbol3000807(o);case 3000808:return new SuperMapAlgoPlot.AlgoSymbol3000808(o);case 3000809:return new SuperMapAlgoPlot.AlgoSymbol3000809(o);case 30009:return new SuperMapAlgoPlot.AlgoSymbol30009(o);case 30010:return new SuperMapAlgoPlot.AlgoSymbol30010(o);case 30011:return new SuperMapAlgoPlot.AlgoSymbol30011(o);case 3001101:return new SuperMapAlgoPlot.AlgoSymbol3001101(o);case 3001102:return new SuperMapAlgoPlot.AlgoSymbol3001102(o);case 3001103:return new SuperMapAlgoPlot.AlgoSymbol3001103(o);case 3001104:return new SuperMapAlgoPlot.AlgoSymbol3001104(o);case 3001105:return new SuperMapAlgoPlot.AlgoSymbol3001105(o);case 30012:return new SuperMapAlgoPlot.AlgoSymbol30012(o);case 30013:return new SuperMapAlgoPlot.AlgoSymbol30013(o);case 3001301:return new SuperMapAlgoPlot.AlgoSymbol3001301(o);case 3001302:return new SuperMapAlgoPlot.AlgoSymbol3001302(o);case 30014:return new SuperMapAlgoPlot.AlgoSymbol30014(o);case 30018:return new SuperMapAlgoPlot.AlgoSymbol42500(o);case 30023:return new SuperMapAlgoPlot.AlgoSymbol30023(o);case 30024:return new SuperMapAlgoPlot.AlgoSymbol30020(o);case 3002401:return new SuperMapAlgoPlot.AlgoSymbol3002001(o);case 3002402:return new SuperMapAlgoPlot.AlgoSymbol3002002(o);case 3002403:return new SuperMapAlgoPlot.AlgoSymbol3002005(o);case 30025:return new SuperMapAlgoPlot.AlgoSymbol30025(o);case 3002501:return new SuperMapAlgoPlot.AlgoSymbol3002501(o);case 3002502:return new SuperMapAlgoPlot.AlgoSymbol3002502(o);case 3002503:return new SuperMapAlgoPlot.AlgoSymbol3002503(o);case 3002504:return new SuperMapAlgoPlot.AlgoSymbol3002504(o);case 3002505:return new SuperMapAlgoPlot.AlgoSymbol3002505(o);case 30026:return new SuperMapAlgoPlot.AlgoSymbol30026(o);case 30028:return new SuperMapAlgoPlot.AlgoSymbol30030(o);case 3002801:return new SuperMapAlgoPlot.AlgoSymbol3003001(o);case 30029:return new SuperMapAlgoPlot.AlgoSymbol30031(o);case 50106:return new SuperMapAlgoPlot.AlgoSymbol21900(o);case 5010301:return new SuperMapAlgoPlot.AlgoSymbol3010301(o);case 50108:return new SuperMapAlgoPlot.AlgoSymbol50108(o);case 5010303:return new SuperMapAlgoPlot.AlgoSymbol3010303(o);case 5010304:return new SuperMapAlgoPlot.AlgoSymbol3010304(o);case 5010401:return new SuperMapAlgoPlot.AlgoSymbol5010401(o);case 5020801:return new SuperMapAlgoPlot.AlgoSymbol5020801(o);case 5020802:return new SuperMapAlgoPlot.AlgoSymbol5020802(o);case 5021711:return new SuperMapAlgoPlot.AlgoSymbol26502(o);case 5021803:return new SuperMapAlgoPlot.AlgoSymbol5021803(o);case 5022001:return new SuperMapAlgoPlot.AlgoSymbol5022001(o);case 5022002:return new SuperMapAlgoPlot.AlgoSymbol5022002(o);case 50223:return new SuperMapAlgoPlot.AlgoSymbol50223(o);case 5022301:return new SuperMapAlgoPlot.AlgoSymbol5022301(o);case 40301:case 4030101:case 4030102:case 4030103:case 4030104:return new SuperMapAlgoPlot.AlgoSymbol22000(o);case 40302:case 4030201:case 4030202:case 4030203:case 4030204:return new SuperMapAlgoPlot.AlgoSymbol40302(o);case 40303:return new SuperMapAlgoPlot.AlgoSymbol26501(o);case 4030301:return new SuperMapAlgoPlot.AlgoSymbol4030301(o);case 4030302:return new SuperMapAlgoPlot.AlgoSymbol4030302(o);case 4030303:return new SuperMapAlgoPlot.AlgoSymbol4030303(o);case 40304:return new SuperMapAlgoPlot.AlgoSymbol40304(o);case 4030401:return new SuperMapAlgoPlot.AlgoSymbol4030401(o);case 40305:return new SuperMapAlgoPlot.AlgoSymbol40305(o);case 4030501:return new SuperMapAlgoPlot.AlgoSymbol4030501(o);case 4030602:return new SuperMapAlgoPlot.AlgoSymbol4030602(o);case 4030802:case 4031202:return new SuperMapAlgoPlot.AlgoSymbol4030802(o);case 50101:return new SuperMapAlgoPlot.AlgoSymbol25201(o);case 5010101:return new SuperMapAlgoPlot.AlgoSymbol21401(o);case 50102:return new SuperMapAlgoPlot.AlgoSymbol21500(o);case 5010202:return new SuperMapAlgoPlot.AlgoSymbol21502(o);case 5010203:return new SuperMapAlgoPlot.AlgoSymbol21503(o);case 5010204:return new SuperMapAlgoPlot.AlgoSymbol21504(o);case 50103:case 5010302:return new SuperMapAlgoPlot.AlgoSymbol21600(o);case 50104:return new SuperMapAlgoPlot.AlgoSymbol21800(o);case 50107:case 5010701:return new SuperMapAlgoPlot.AlgoSymbol22000(o);case 50208:return new SuperMapAlgoPlot.AlgoSymbol23400(o);case 50209:return new SuperMapAlgoPlot.AlgoSymbol23500(o);case 50210:return new SuperMapAlgoPlot.AlgoSymbol23800(o);case 50212:case 5021101:return new SuperMapAlgoPlot.AlgoSymbol23901(o);case 5021102:return new SuperMapAlgoPlot.AlgoSymbol23902(o);case 50220:return new SuperMapAlgoPlot.AlgoSymbol28900(o);case 50221:return new SuperMapAlgoPlot.AlgoSymbol29000(o);case 50225:return new SuperMapAlgoPlot.AlgoSymbol50225(o);case 50226:return new SuperMapAlgoPlot.AlgoSymbol50226(o);case 50222:return new SuperMapAlgoPlot.AlgoSymbol29101(o);case 5022201:return new SuperMapAlgoPlot.AlgoSymbol29103(o);case 50227:return new SuperMapAlgoPlot.AlgoSymbol35200(o);case 50301:return new SuperMapAlgoPlot.AlgoSymbol1004(o);case 5030101:return new SuperMapAlgoPlot.AlgoSymbol25200(o);case 5030102:return new SuperMapAlgoPlot.AlgoSymbol25201(o);case 50302:return new SuperMapAlgoPlot.AlgoSymbol25000(o);case 50303:return new SuperMapAlgoPlot.AlgoSymbol25400(o);case 5030103:return new SuperMapAlgoPlot.AlgoSymbol5030103(o);case 5030104:return new SuperMapAlgoPlot.AlgoSymbol5030104(o);case 5030105:return new SuperMapAlgoPlot.AlgoSymbol5030105(o);case 5030107:return new SuperMapAlgoPlot.AlgoSymbol5030107(o);case 5030106:return new SuperMapAlgoPlot.AlgoSymbol1021(o);case 5030301:return new SuperMapAlgoPlot.AlgoSymbol5030301(o);case 50308:return new SuperMapAlgoPlot.AlgoSymbol26400(o);case 50309:return new SuperMapAlgoPlot.AlgoSymbol26500(o);case 50310:return new SuperMapAlgoPlot.AlgoSymbol26600(o);case 5031001:return new SuperMapAlgoPlot.AlgoSymbol26601(o);case 50312:return new SuperMapAlgoPlot.AlgoSymbol28000(o);case 50313:return new SuperMapAlgoPlot.AlgoSymbol28100(o);case 50314:return new SuperMapAlgoPlot.AlgoSymbol28200(o);case 5031401:return new SuperMapAlgoPlot.AlgoSymbol5031401(o);case 50315:return new SuperMapAlgoPlot.AlgoSymbol28300(o);case 5031501:return new SuperMapAlgoPlot.AlgoSymbol28301(o);case 50316:return new SuperMapAlgoPlot.AlgoSymbol29800(o);case 50317:return new SuperMapAlgoPlot.AlgoSymbol1006(o);case 5031701:return new SuperMapAlgoPlot.AlgoSymbol1002(o);case 50318:return new SuperMapAlgoPlot.AlgoSymbol50318(o);case 50328:return new SuperMapAlgoPlot.AlgoSymbol50328(o);case 50320:return new SuperMapAlgoPlot.AlgoSymbol30000(o);case 5010201:return new SuperMapAlgoPlot.AlgoSymbol21501(o);case 5032001:case 5032002:case 5032003:return new SuperMapAlgoPlot.AlgoSymbol5032003(o);case 5032004:return new SuperMapAlgoPlot.AlgoSymbol5032004(o);case 50321:case 5032101:case 5032102:return new SuperMapAlgoPlot.AlgoSymbol50321(o);case 50322:return new SuperMapAlgoPlot.AlgoSymbol30200(o);case 50323:return new SuperMapAlgoPlot.AlgoSymbol50323(o);case 5032201:return new SuperMapAlgoPlot.AlgoSymbol30201(o);case 50330:return new SuperMapAlgoPlot.AlgoSymbol30800(o);case 50331:return new SuperMapAlgoPlot.AlgoSymbol50331(o);case 5033001:return new SuperMapAlgoPlot.AlgoSymbol5033001(o);case 50335:return new SuperMapAlgoPlot.AlgoSymbol50335(o);case 5033501:return new SuperMapAlgoPlot.AlgoSymbol5033501(o);case 5033502:return new SuperMapAlgoPlot.AlgoSymbol5033502(o);case 50338:return new SuperMapAlgoPlot.AlgoSymbol31300(o);case 5033801:return new SuperMapAlgoPlot.AlgoSymbol31301(o);case 5033802:return new SuperMapAlgoPlot.AlgoSymbol5033802(o);case 5033803:return new SuperMapAlgoPlot.AlgoSymbol5033803(o);case 50339:return new SuperMapAlgoPlot.AlgoSymbol31400(o);case 5033901:return new SuperMapAlgoPlot.AlgoSymbol31401(o);case 50341:return new SuperMapAlgoPlot.AlgoSymbol50341(o);case 5034101:return new SuperMapAlgoPlot.AlgoSymbol5034101(o);case 5034102:return new SuperMapAlgoPlot.AlgoSymbol5034102(o);case 50342:return new SuperMapAlgoPlot.AlgoSymbol50342(o);case 5034201:return new SuperMapAlgoPlot.AlgoSymbol5034201(o);case 5034202:return new SuperMapAlgoPlot.AlgoSymbol5034202(o);case 5034203:return new SuperMapAlgoPlot.AlgoSymbol5034203(o);case 50343:return new SuperMapAlgoPlot.AlgoSymbol50343(o);case 5034301:return new SuperMapAlgoPlot.AlgoSymbol5034301(o);case 5034302:return new SuperMapAlgoPlot.AlgoSymbol5034302(o);case 5034303:return new SuperMapAlgoPlot.AlgoSymbol5034303(o);case 50344:return new SuperMapAlgoPlot.AlgoSymbol50344(o);case 50348:return new SuperMapAlgoPlot.AlgoSymbol32300(o);case 5034801:return new SuperMapAlgoPlot.AlgoSymbol5034801(o);case 50352:return new SuperMapAlgoPlot.AlgoSymbol50352(o);case 5035201:return new SuperMapAlgoPlot.AlgoSymbol5035201(o);case 5035202:return new SuperMapAlgoPlot.AlgoSymbol5035202(o);case 5035203:return new SuperMapAlgoPlot.AlgoSymbol5035203(o);case 5035204:return new SuperMapAlgoPlot.AlgoSymbol21501(o);case 5035205:return new SuperMapAlgoPlot.AlgoSymbol5035205(o);case 50354:return new SuperMapAlgoPlot.AlgoSymbol50354(o);case 5035401:return new SuperMapAlgoPlot.AlgoSymbol5035401(o);case 50355:return new SuperMapAlgoPlot.AlgoSymbol50355(o);case 5035501:return new SuperMapAlgoPlot.AlgoSymbol5035501(o);case 60104:return new SuperMapAlgoPlot.GeoTooltipBox(o);case 60106:case 6010601:case 6010602:return new SuperMapAlgoPlot.AlgoSymbol26501(o);case 60108:return new SuperMapAlgoPlot.AlgoSymbol60108(o);case 60110:return new SuperMapAlgoPlot.AlgoSymbol34700(o);case 60111:return new SuperMapAlgoPlot.AlgoSymbol22103(o);case 6011101:return new SuperMapAlgoPlot.AlgoSymbol25400(o);case 6011102:return new SuperMapAlgoPlot.AlgoSymbol22103(o);case 60115:return new SuperMapAlgoPlot.AlgoSymbol60115(o);case 6011501:return new SuperMapAlgoPlot.AlgoSymbol6011501(o);case 60117:case 6011701:case 6011702:return new SuperMapAlgoPlot.AlgoSymbol21501(o);case 60127:return new SuperMapAlgoPlot.AlgoSymbol36400(o);case 6012702:return new SuperMapAlgoPlot.AlgoSymbol6012702(o);case 60131:return new SuperMapAlgoPlot.AlgoSymbol35000(o);case 60201:return new SuperMapAlgoPlot.AlgoSymbol60301(o);case 6020101:return new SuperMapAlgoPlot.AlgoSymbol6030101(o);case 6020102:return new SuperMapAlgoPlot.AlgoSymbol6030102(o);case 6020103:return new SuperMapAlgoPlot.AlgoSymbol6030103(o);case 6020104:return new SuperMapAlgoPlot.AlgoSymbol6030104(o);case 6020105:return new SuperMapAlgoPlot.AlgoSymbol6030105(o);case 6020106:return new SuperMapAlgoPlot.AlgoSymbol6030106(o);case 6020107:return new SuperMapAlgoPlot.AlgoSymbol6030107(o);case 60202:return new SuperMapAlgoPlot.AlgoSymbol60305(o);case 6020201:return new SuperMapAlgoPlot.AlgoSymbol6030501(o);case 60203:return new SuperMapAlgoPlot.AlgoSymbol60306(o);case 6020301:return new SuperMapAlgoPlot.AlgoSymbol6030601(o);case 60207:return new SuperMapAlgoPlot.AlgoSymbol60310(o);case 6020701:return new SuperMapAlgoPlot.AlgoSymbol6031001(o);case 70109:return new SuperMapAlgoPlot.AlgoSymbol40900(o);case 70110:return new SuperMapAlgoPlot.AlgoSymbol70110(o);case 70201:return new SuperMapAlgoPlot.AlgoSymbol41100(o);case 70202:return new SuperMapAlgoPlot.AlgoSymbol41200(o);case 7020201:return new SuperMapAlgoPlot.AlgoSymbol41201(o);case 7020202:return new SuperMapAlgoPlot.AlgoSymbol41202(o);case 80202:return new SuperMapAlgoPlot.AlgoSymbol42200(o);case 80203:return new SuperMapAlgoPlot.AlgoSymbol80203(o);case 8020301:return new SuperMapAlgoPlot.AlgoSymbol8020301(o);case 90114:return new SuperMapAlgoPlot.AlgoSymbol34300(o);case 90115:return new SuperMapAlgoPlot.AlgoSymbol34400(o);case 90207:return new SuperMapAlgoPlot.AlgoSymbol35500(o);case 90212:return new SuperMapAlgoPlot.AlgoSymbol90212(o);case 90213:return new SuperMapAlgoPlot.AlgoSymbol90213(o);case 90214:return new SuperMapAlgoPlot.AlgoSymbol36800(o);case 90215:return new SuperMapAlgoPlot.AlgoSymbol90215(o);case 90216:return new SuperMapAlgoPlot.AlgoSymbol37100(o);case 90217:return new SuperMapAlgoPlot.AlgoSymbol90217(o);case 90218:return new SuperMapAlgoPlot.AlgoSymbol37300(o);case 9021801:return new SuperMapAlgoPlot.AlgoSymbol37301(o);case 90305:return new SuperMapAlgoPlot.AlgoSymbol37700(o);case 90404:return new SuperMapAlgoPlot.AlgoSymbol40100(o);case 9040401:return new SuperMapAlgoPlot.AlgoSymbol40101(o);case 90507:return new SuperMapAlgoPlot.AlgoSymbol44100(o);case 30027:return new SuperMapAlgoPlot.AlgoSymbol3002701(o);case 50332:return new SuperMapAlgoPlot.AlgoSymbol50332(o);case 5033301:return new SuperMapAlgoPlot.AlgoSymbol5033301(o);case 50336:return new SuperMapAlgoPlot.AlgoSymbol50336(o);case 5033601:return new SuperMapAlgoPlot.AlgoSymbol5033601(o);case 50337:return new SuperMapAlgoPlot.AlgoSymbol50337(o);case 5033701:return new SuperMapAlgoPlot.AlgoSymbol5033701(o);default:return new SuperMapAlgoPlot.AlgoSymbol(o)}},SuperMapAlgoPlot.WJAlgoSymbolFactory.isAccessServer=function(t,e){if(123!==t)return!0;switch(e){case 20602:case 2060201:case 2060202:case 20915:case 2091501:case 2091502:case 2091503:case 2092101:case 21003:case 21206:case 2120601:case 2120602:case 21207:case 21212:case 2121201:case 2121202:case 2121203:case 2121204:case 2121205:case 21213:case 21214:case 2121401:case 2121402:case 2121403:case 2121404:case 2121405:case 2121406:case 2121407:case 21215:case 2121501:case 2121502:case 21217:case 21220:case 2122001:case 21221:case 2122101:case 21222:case 2122201:case 2122202:case 2122203:case 2122204:case 2122205:case 21223:case 2122301:case 2122302:case 2122303:case 2122304:case 2122305:case 2122306:case 21605:case 2160501:case 30008:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 30009:case 30010:case 30011:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30012:case 30013:case 3001301:case 3001302:case 30014:case 30018:case 30023:case 30024:case 3002401:case 3002402:case 3002403:case 30025:case 3002501:case 3002502:case 3002503:case 3002504:case 3002505:case 30026:case 30027:case 30028:case 3002801:case 30029:case 40301:case 4030101:case 4030102:case 4030103:case 4030104:case 40302:case 4030201:case 4030202:case 4030203:case 4030204:case 40303:case 4030301:case 4030302:case 4030303:case 40304:case 4030401:case 40305:case 4030501:case 4030602:case 4030802:case 4031202:case 50101:case 5010101:case 50102:case 5010201:case 5010202:case 5010203:case 5010204:case 50103:case 5010301:case 5010302:case 5010303:case 5010304:case 50104:case 5010401:case 50106:case 50107:case 5010701:case 50108:case 50208:case 5020801:case 5020802:case 50209:case 50210:case 5021101:case 5021102:case 50212:case 5021711:case 5021803:case 50220:case 5022001:case 5022002:case 50221:case 50222:case 5022201:case 50223:case 5022301:case 50225:case 50226:case 50227:case 50301:case 5030101:case 5030102:case 5030103:case 5030104:case 5030105:case 5030106:case 5030107:case 50302:case 50303:case 5030301:case 50308:case 50309:case 50310:case 5031001:case 50312:case 50313:case 50314:case 5031401:case 50315:case 5031501:case 50316:case 50317:case 5031701:case 50318:case 50328:case 50320:case 5032001:case 5032002:case 5032003:case 5032004:case 50321:case 5032101:case 5032102:case 50322:case 5032201:case 50323:case 50330:case 5033001:case 50331:case 50335:case 5033501:case 5033502:case 50338:case 5033801:case 5033802:case 5033803:case 50339:case 5033901:case 50341:case 5034101:case 5034102:case 50342:case 5034201:case 5034202:case 5034203:case 50343:case 5034301:case 5034302:case 5034303:case 50344:case 50348:case 5034801:case 50352:case 5035201:case 5035202:case 5035203:case 5035204:case 5035205:case 50354:case 5035401:case 50355:case 5035501:case 60104:case 60106:case 6010601:case 6010602:case 60108:case 60110:case 60111:case 6011101:case 6011102:case 60115:case 6011501:case 60117:case 6011701:case 6011702:case 60127:case 6012702:case 60131:case 60201:case 6020101:case 6020102:case 6020103:case 6020104:case 6020105:case 6020106:case 6020107:case 60202:case 6020201:case 60203:case 6020301:case 60207:case 6020701:case 70109:case 70110:case 70201:case 70202:case 7020201:case 7020202:case 80202:case 80203:case 8020301:case 90114:case 90115:case 90207:case 90212:case 90213:case 90214:case 90215:case 90216:case 90217:case 90218:case 9021801:case 90305:case 90404:case 9040401:case 90507:case 50332:case 5033301:case 50336:case 5033601:case 50337:case 5033701:return!1;default:return!0}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getSymbolWayType=function(t,e){if(123!==t)return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN;switch(e){case 21003:case 21217:case 21220:case 2122001:case 30008:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 30009:case 5021803:case 5022001:case 5022002:case 40301:case 4030101:case 4030102:case 4030103:case 4030104:case 40303:case 4030301:case 4030302:case 4030303:case 50101:case 5010101:case 50102:case 5010201:case 5010202:case 5010203:case 5010204:case 50103:case 5010301:case 5010302:case 5010303:case 5010304:case 50107:case 5010701:case 50210:case 5021711:case 50220:case 50221:case 50225:case 5030102:case 50303:case 5030301:case 50309:case 50320:case 5032001:case 5032002:case 5032003:case 5032004:case 50321:case 5032101:case 5032102:case 50322:case 5032201:case 50330:case 5033001:case 5034203:case 5035201:case 5035204:case 60127:case 60131:case 20915:case 2091502:case 2092101:case 21215:case 2121501:case 2121502:case 21605:case 30010:case 30011:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30012:case 30026:case 40302:case 4030201:case 4030202:case 4030203:case 4030204:case 50227:case 5035205:case 60201:case 6020101:case 6020102:case 6020103:case 6020104:case 6020105:case 6020106:case 6020107:case 70202:case 7020201:case 7020202:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;case 80203:case 8020301:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultSubSymbols=function(t,e){var o=[];if(123!==t)return o;switch(e){case 21220:case 2122001:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21219)),o.push(new SuperMapAlgoPlot.SubSymbol(123,2121901)),o;case 2092101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20921)),o;case 80202:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2170201)),o;case 21221:case 2122101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21220)),o.push(new SuperMapAlgoPlot.SubSymbol(123,2122001)),o;case 3000801:return o.push(new SuperMapAlgoPlot.SubSymbol(123,3000106)),o;case 50209:return o.push(new SuperMapAlgoPlot.SubSymbol(100,1300)),o;case 3000802:return o.push(new SuperMapAlgoPlot.SubSymbol(123,3000107)),o;case 3000803:return o.push(new SuperMapAlgoPlot.SubSymbol(123,3000108)),o;case 3000804:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20303)),o;case 2121404:case 3000805:case 3000808:case 3001301:case 4030103:case 4030202:case 5020802:case 5010201:case 50108:case 3002501:case 3002502:case 3002503:case 3002504:case 3002505:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21601)),o;case 3000806:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20404)),o;case 3000807:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2010103)),o.push(new SuperMapAlgoPlot.SubSymbol(123,21601)),o;case 3000809:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21601)),o.push(new SuperMapAlgoPlot.SubSymbol(123,30006)),o;case 30010:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10305)),o;case 3001104:case 3001105:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20404)),o;case 30012:return o.push(new SuperMapAlgoPlot.SubSymbol(123,30007)),o;case 3002403:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21305)),o;case 40301:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40201)),o;case 5021803:return o.push(new SuperMapAlgoPlot.SubSymbol(123,50218)),o;case 50225:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10103)),o;case 50226:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10103)),o.push(new SuperMapAlgoPlot.SubSymbol(123,10103)),o;case 5032003:case 5032102:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20304)),o.push(new SuperMapAlgoPlot.SubSymbol(123,20301)),o;case 5030301:case 5022301:case 5033001:case 5034201:case 5034202:case 50342:case 6011102:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10110)),o;case 5033802:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20202)),o;case 5033803:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20203)),o;case 5034203:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2050302)),o;case 50352:return o.push(new SuperMapAlgoPlot.SubSymbol(123,50231)),o;case 5035202:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21226)),o;case 5035205:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2050308)),o;case 4030101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2030303)),o;case 4030102:case 4030201:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20303)),o;case 4030104:case 4030203:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20401)),o;case 4030204:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10110)),o;case 40302:case 40303:case 4030301:case 4030302:case 4030303:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40201)),o;case 5010202:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2040301)),o;case 5010203:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20501)),o;case 5010204:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20503)),o;case 50107:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10106)),o;case 5010701:return o.push(new SuperMapAlgoPlot.SubSymbol(123,5010503)),o;case 5021101:case 5021102:case 50212:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2020301)),o;case 5021711:return o.push(new SuperMapAlgoPlot.SubSymbol(123,5021707)),o;case 50227:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10103)),o;case 5030101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2050302)),o;case 50315:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21302)),o;case 5031501:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21302)),o.push(new SuperMapAlgoPlot.SubSymbol(123,21302)),o;case 5032001:case 5032101:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20301)),o.push(new SuperMapAlgoPlot.SubSymbol(123,20301)),o;case 5032002:case 50321:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20304)),o.push(new SuperMapAlgoPlot.SubSymbol(123,20304)),o;case 5035201:return o.push(new SuperMapAlgoPlot.SubSymbol(123,50231)),o;case 5035204:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2040106)),o;case 5035401:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2030111)),o;case 60106:return o.push(new SuperMapAlgoPlot.SubSymbol(123,10302)),o;case 6010601:return o.push(new SuperMapAlgoPlot.SubSymbol(123,1030201)),o;case 6010602:return o.push(new SuperMapAlgoPlot.SubSymbol(123,1030202)),o;case 6012702:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21509)),o;case 60207:return o.push(new SuperMapAlgoPlot.SubSymbol(123,5023103)),o;case 6020701:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2122601)),o.push(new SuperMapAlgoPlot.SubSymbol(123,2122602)),o.push(new SuperMapAlgoPlot.SubSymbol(123,2122603)),o;case 60115:case 6011501:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21504)),o;case 60108:return o.push(new SuperMapAlgoPlot.SubSymbol(123,60107)),o;case 90114:return o.push(new SuperMapAlgoPlot.SubSymbol(100,6202)),o;case 90115:return o.push(new SuperMapAlgoPlot.SubSymbol(123,9010206)),o;case 90305:return o.push(new SuperMapAlgoPlot.SubSymbol(123,50304)),o;case 4030602:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40306)),o;case 4030802:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40308)),o;case 4031202:return o.push(new SuperMapAlgoPlot.SubSymbol(123,40312)),o;case 60111:return o.push(new SuperMapAlgoPlot.SubSymbol(123,90106)),o;case 60117:return o.push(new SuperMapAlgoPlot.SubSymbol(123,21701)),o;case 6011701:return o.push(new SuperMapAlgoPlot.SubSymbol(123,20603)),o;case 6011702:return o.push(new SuperMapAlgoPlot.SubSymbol(123,2170101)),o;case 90216:return o.push(new SuperMapAlgoPlot.SubSymbol(123,9020106)),o;default:return o}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getMinEditPts=function(t,e){if(123!==t)return 0;switch(e){case 20602:case 2060201:case 2060202:case 20915:case 21003:case 21206:case 2120601:case 2120602:case 21207:case 21212:case 2121201:case 2121202:case 2121203:case 2121204:case 2121205:case 21213:case 21214:case 2121401:case 2121402:case 2121403:case 2121404:case 2121405:case 2121406:case 2121407:case 21215:case 21217:case 21221:case 21222:case 2122201:case 2122202:case 2122203:case 2122204:case 2122205:case 21223:case 2122301:case 2122302:case 2122303:case 2122304:case 2122305:case 2122306:case 21605:case 30008:case 30009:case 30010:case 30013:case 30014:case 30018:case 30027:case 30028:case 3002801:case 30029:case 40301:case 40303:case 40304:case 40305:case 50101:case 50102:case 50103:case 50104:case 50106:case 50107:case 50108:case 50208:case 50209:case 50210:case 50212:case 50220:case 50221:case 50222:case 50223:case 50226:case 50302:case 50303:case 50308:case 50309:case 50310:case 50312:case 50313:case 50314:case 50315:case 50318:case 50328:case 50320:case 50321:case 5032101:case 5032102:case 50322:case 50323:case 50330:case 50331:case 50335:case 50338:case 50339:case 50341:case 5034101:case 5034102:case 50342:case 50343:case 5034301:case 5034302:case 5034303:case 50344:case 50348:case 50354:case 5035401:case 50355:case 5035501:case 60106:case 60108:case 60115:case 6011501:case 60127:case 60131:case 60202:case 6020201:case 60203:case 6020301:case 70109:case 70110:case 70201:case 70202:case 80202:case 80203:case 8020301:case 90114:case 90115:case 90207:case 90212:case 90213:case 90214:case 90215:case 90216:case 90217:case 90218:case 9021801:case 90305:case 90404:case 90507:case 2091501:case 2091502:case 2091503:case 2092101:case 2121501:case 2121502:case 21220:case 2122001:case 2122101:case 2160501:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 3001301:case 3001302:case 30025:case 3002501:case 3002502:case 3002503:case 3002504:case 3002505:case 30026:case 4030101:case 4030102:case 4030103:case 4030104:case 4030301:case 4030302:case 4030303:case 4030401:case 4030501:case 4030602:case 4030802:case 4031202:case 5010101:case 5010201:case 5010202:case 5010203:case 5010204:case 5010301:case 5010302:case 5010303:case 5010304:case 5010401:case 5010701:case 5020802:case 5021101:case 5021102:case 5021711:case 5021803:case 5022001:case 5022002:case 5022201:case 5022301:case 5030102:case 5030103:case 5030104:case 5030301:case 5031001:case 5031401:case 5031501:case 5032001:case 5032002:case 5032003:case 5032004:case 5032201:case 5033001:case 5033501:case 5033502:case 5033801:case 5033802:case 5033803:case 5033901:case 5034201:case 5034202:case 5034203:case 5034801:case 5035201:case 5035203:case 5035204:case 6010601:case 6010602:case 60110:case 60111:case 6011101:case 6011102:case 60117:case 6011701:case 6011702:case 6012702:case 7020201:case 7020202:case 9040401:case 50332:case 5033301:case 50336:case 5033601:case 50337:case 5033701:return 2;case 30011:case 30012:case 30024:case 3002401:case 3002402:case 3002403:case 40302:case 50225:case 50227:case 50301:case 50316:case 50317:case 5031701:case 50352:case 60104:case 60201:case 6020101:case 6020102:case 6020103:case 6020104:case 6020105:case 6020106:case 6020107:case 60207:case 6020701:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30023:case 4030201:case 4030202:case 4030203:case 4030204:case 5020801:case 5030101:case 5030105:case 5030106:case 5030107:case 5035202:case 5035205:return 3;default:return 0}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getMaxEditPts=function(t,e){if(123!==t)return 0;switch(e){case 21217:case 30018:case 30025:case 3002501:case 3002502:case 3002503:case 3002504:case 3002505:case 50104:case 50302:case 50313:case 50335:case 50338:case 50339:case 60202:case 6020201:case 60203:case 6020301:case 70201:case 90114:case 90115:case 90214:case 90216:case 90217:case 90218:case 9021801:case 90507:case 2120602:case 2121402:case 2121404:case 2121405:case 2121406:case 2121407:case 2122201:case 2122202:case 2160501:case 3001301:case 30026:case 4030401:case 5010401:case 5031401:case 5031501:case 5033501:case 5033502:case 5033801:case 5033802:case 5033803:case 5033901:case 50343:case 5034301:case 5034302:case 5034303:case 50344:case 60108:case 60115:case 6011501:case 90207:case 90212:case 90215:case 30027:return 2;case 21003:case 21207:case 21223:case 2122301:case 2122302:case 2122303:case 2122304:case 2122305:case 2122306:case 30023:case 50221:case 50222:case 50331:case 50348:case 60104:case 2021101:case 2021102:case 5021101:case 5021102:case 5022201:case 5034801:case 70110:return 3;case 50312:case 50317:case 5030106:return 4;case 21220:case 2122001:case 21221:case 50225:case 50226:case 50316:case 50320:case 5032004:case 50322:case 50328:case 60127:case 2122101:case 5020801:case 5031701:case 5032001:case 5032002:case 5032003:case 50321:case 5032101:case 5032102:case 5032201:case 80203:case 8020301:case 90213:return 30;case 30024:case 3002401:case 3002402:case 3002403:case 30028:case 3002801:case 30029:case 50227:case 50352:case 60207:case 6020701:case 5022001:case 5022002:case 5030101:case 50341:case 5034101:case 5034102:case 5035202:case 5035203:return 512;case 20915:case 21212:case 2121201:case 2121202:case 2121203:case 2121204:case 2121205:case 21213:case 21214:case 2121401:case 2121403:case 21215:case 21222:case 2122203:case 2122204:case 2122205:case 21605:case 30008:case 30010:case 30011:case 30012:case 40301:case 40302:case 40303:case 50101:case 50102:case 50106:case 50107:case 50108:case 50209:case 50210:case 50220:case 50223:case 50303:case 50309:case 50315:case 50330:case 60201:case 6020101:case 6020102:case 6020103:case 6020104:case 6020105:case 6020106:case 6020107:case 70202:case 80202:case 2091501:case 2091502:case 2091503:case 2121501:case 2121502:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 4030101:case 4030102:case 4030103:case 4030104:case 4030201:case 4030202:case 4030203:case 4030204:case 5010101:case 5010701:case 5020802:case 5022301:case 5030102:case 5030301:case 5035205:case 6010601:case 6010602:case 60110:case 60111:case 6011101:case 6011102:case 60117:case 6011701:case 6011702:case 7020201:case 7020202:case 50212:return 1e3;case 20602:case 2060201:case 2060202:case 21206:case 2120601:case 30009:case 30013:case 30014:case 40304:case 40305:case 50103:case 50208:case 50301:case 50308:case 50310:case 50314:case 50318:case 50323:case 50342:case 60106:case 60131:case 70109:case 90305:case 90404:case 2092101:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 3001302:case 4030301:case 4030302:case 4030303:case 4030501:case 4030602:case 4030802:case 4031202:case 5010201:case 5010202:case 5010203:case 5010204:case 5010301:case 5010302:case 5010303:case 5010304:case 5021711:case 5021803:case 5030103:case 5030104:case 5030105:case 5030107:case 5031001:case 5033001:case 5034201:case 5034202:case 5034203:case 5035201:case 5035204:case 50354:case 5035401:case 50355:case 5035501:case 6012702:case 9040401:case 5033301:case 50336:case 5033601:case 50337:case 5033701:return 9999;case 50332:return 6;default:return 0}},SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultStyle=function(t,e){var o={};if(123===t)switch(e){case 50108:case 30012:case 3000801:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30011:case 30013:case 30010:case 30014:case 30009:case 30008:case 30023:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:o.color=o.strokeColor="#0000ff"}return o},SuperMapAlgoPlot.WJAlgoSymbolFactory.zoomInCalSymbol=function(){return!1}}();

/***/ }),
/* 3 */
/***/ (function(module, exports) {

!function(){"use strict";function t(e){"@babel/helpers - typeof";return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(e){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var l,r=n(e);if(o){var i=n(this).constructor;l=Reflect.construct(r,arguments,i)}else l=r.apply(this,arguments);return function(e,o){if(o&&("object"===t(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,l)}}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,SuperMapAlgoPlot.AlgoSymbol);var n,r,i,a=l(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),0===(e=a.call(this,t)).scaleValues.length&&(e.scaleValues.push(.04),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return n=u,(r=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[2]*n,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var u=[],p=[],s=0,c=[],P=0;P<o.length;P++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].x,o[P].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].y,o[P].y)&&(c.length>0&&(c.push(o[P]),p.push(c),c=[]),s++),c.push(o[P]);for(var f=0;f<p.length;f++){var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p[f]),y=parseInt(g/i);0==y&&(y=1);var S=g/y;0==f&&S;for(var h=0;h<=g;h+=S){var b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[f],h);if(!(b.index<0)&&(u.push(b.pt),!((b=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[f],h+.5*S)).index<0))){var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,p[f][b.index+1],b.pt);a?u.push(A.pntLeft):u.push(A.pntRight)}}p.length-1===f&&u.push(p[f][p[f].length-1])}this.scalePoints=[];var d=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);d.isScalePoint=!0,d.tag=0,this.scalePoints.push(d),(d=new SuperMapAlgoPlot.Point(u[2].x,u[2].y)).isScalePoint=!0,d.tag=0,this.scalePoints.push(d),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var M=u.length,v=0,m=0;m<M-1;++m){var O=new SuperMapAlgoPlot.Point(u[m].x,u[m].y),w=new SuperMapAlgoPlot.Point(u[m+1].x,u[m+1].y);v=.3*SuperMapAlgoPlot.PlottingUtil.distance(O,w);var U=[],L=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(.5,u[m],u[m+1]),x=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.5*v,u[m],L);U.push(x.pntLeft),U.push(x.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U)}this.finish()}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(1,l[1],l[0]),i=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r.pntRight,r.pntLeft),a=SuperMapAlgoPlot.PlottingUtil.distance(i.projectPoint,o[0]);this.scaleValues[0]=a/n;var u=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[0],l[1],e);this.scaleValues[1]=u?0:1}else{for(var p,s=-1,c=0,P=l.length-1;c<P;c++){var f=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(e,l[c],l[c+1]),g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(f){p=e,s=c;break}if(g.isOnline){p=g.projectPoint,s=c;break}}if(-1===s)return void(this.scaleValues[2]=.05);var y=[];(y=y.concat(l.slice(0,s+1))).push(p);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(y)/n;if(S>=1)return;this.scaleValues[2]=S}}}}])&&e(n.prototype,r),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),u}();function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=s(t);if(e){var n=s(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15800=r;var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol15800);var e,o,l,n=p(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,t)).scaleValues.length>0&&(e.scaleValues.push(.029615),e.scaleValues.push(1),e.scaleValues.push(.12)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[2]=e}var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),r=l*n,i=this.scaleValues[2]*n,a=!1;if(a=0===this.scaleValues[1],0!==SuperMapAlgoPlot.PlottingUtil.polylineDistance(o)){for(var u=[],p=[],s=0,c=[],P=0;P<o.length;P++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].x,o[P].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[s].y,o[P].y)&&(c.length>0&&(c.push(o[P]),p.push(c),c=[]),s++),c.push(o[P]);for(var f=i,g=0;g<p.length;g++){var y=SuperMapAlgoPlot.PlottingUtil.polylineDistance(p[g]),S=parseInt(y/i);0==S&&(S=1);var h=y/S;0==g&&(f=h);for(var b=0;b<=y;b+=h){var A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b);if(!(A.index<0)&&(u.push(A.pt),!((A=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(p[g],b+.5*h)).index<0))){var d=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,p[g][A.index+1],A.pt);a?u.push(d.pntLeft):u.push(d.pntRight)}}p.length-1===g&&u.push(p[g][p[g].length-1])}this.scalePoints=[];var M=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);M.isScalePoint=!0,M.tag=0,this.scalePoints.push(M);d=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);this.addScalePoint(d.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u);for(var v=u.length,m=0,O=0;O<v-1;++O){var w=new SuperMapAlgoPlot.Point(u[O].x,u[O].y),U=new SuperMapAlgoPlot.Point(u[O+1].x,u[O+1].y);m=.25*SuperMapAlgoPlot.PlottingUtil.distance(w,U);c=[];var L=new SuperMapAlgoPlot.Point(.5*(w.x+U.x),.5*(w.y+U.y)),x=SuperMapAlgoPlot.PlottingUtil.dirAngle(w,U)*SuperMapAlgoPlot.PlottingUtil.RTOD,j=SuperMapAlgoPlot.PlottingUtil.circlePoint(L,m,m,x+90),E=1.5*m,V=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,E,E,x+260),T=SuperMapAlgoPlot.PlottingUtil.circlePoint(j,E,E,x+280);c.push(V),c.push(j),c.push(T),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}this.finish()}}}}])&&a(e.prototype,o),l&&a(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function P(t){"@babel/helpers - typeof";return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=S(t);if(e){var n=S(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15804=c;var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=y(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getSubSymbolScaleValue(l);(n>.3||n<=0)&&(n=.3),this.scaleValues[2]=n,this.scaleValues[0]=.5*this.scaleValues[2]}for(var r=this.scaleValues[0]*l,i=this.scaleValues[1],a=this.scaleValues[2]*l,u=.5*r,p=o-2*a-2*u,s=a,c=0;c<2;c++){var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(s,e);if(-1!==P.index){var f=s+u,g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(f,e);if(-1!==g.index){var y=[],S=[];if(y.push(P.pts),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[P.index].x,P.pts.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[P.index].y,P.pts.y)&&P.index+1<e.length){var h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[P.index+1],P.pts);0===i?y.push(new SuperMapAlgoPlot.Point(h.pntRight.x,h.pntRight.y)):y.push(new SuperMapAlgoPlot.Point(h.pntLeft.x,h.pntLeft.y))}else{h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[P.index],P.pts);0===i?y.push(new SuperMapAlgoPlot.Point(h.pntLeft.x,h.pntLeft.y)):y.push(new SuperMapAlgoPlot.Point(h.pntRight.x,h.pntRight.y))}S.push(g.pts);var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[g.index],g.pts);if(0===i?S.push(new SuperMapAlgoPlot.Point(b.pntLeft.x,b.pntLeft.y)):S.push(new SuperMapAlgoPlot.Point(b.pntRight.x,b.pntRight.y)),0===c){this.scalePoints=[];var A=new SuperMapAlgoPlot.Point(y[1].x,y[1].y);A.isScalePoint=!0,A.tag=0,this.scalePoints.push(A),(A=new SuperMapAlgoPlot.Point(y[0].x,y[0].y)).isScalePoint=!0,A.tag=1,this.scalePoints.push(A)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S),s+=p+u}}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[2],l);if(!r.bfind)return;var i=SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n,a=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[r.index],r.pts,e);this.scaleValues[1]=a?1:0,this.scaleValues[0]=i}else if(1===t){for(var u=0,p=-1,s=null,c=0;c<l.length-1;c++){var P=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(P.isOnline){var f=SuperMapAlgoPlot.PlottingUtil.distance(P.projectPoint,e);0==u?(u=f,p=c,s=e):f<u&&(u=f,p=c,s=e)}}if((f=SuperMapAlgoPlot.PlottingUtil.distance(e,l[0]))<u&&(u=f,p=0,s=l[0]),(f=SuperMapAlgoPlot.PlottingUtil.distance(e,l[l.length-1]))<u&&(u=f,p=l.length-1,s=l[l.length-1]),-1==p)return void(this.scaleValues[2]=0);for(var g=0,y=0;y<p;y++)g+=SuperMapAlgoPlot.PlottingUtil.distance(l[y],l[y+1]);var S=(g+=SuperMapAlgoPlot.PlottingUtil.distance(s,l[p]))/n;S>.7&&(S=.7),this.scaleValues[2]=S}}}}])&&f(e.prototype,o),l&&f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function b(t){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=v(t);if(e){var n=v(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15200=h;var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=M(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(l,o),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);for(var i=0;i<4;i++){var a=Math.floor(i*o.length/4),u=new SuperMapAlgoPlot.Point(o[a].x,o[a].y),p=new SuperMapAlgoPlot.Point(o[a+1].x,o[a+1].y),s=new SuperMapAlgoPlot.Point((u.x+p.x)/2,(u.y+p.y)/2),c=SuperMapAlgoPlot.PlottingUtil.radian(p,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=this.scaleValues[0]*e/2,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,P,P,c),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,4*P,4*P,c+270),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,P,P,c+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,g,y],{lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}])&&A(e.prototype,o),l&&A(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function O(t){"@babel/helpers - typeof";return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function U(t,e){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=x(t);if(e){var n=x(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29100=m;var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol29100);var e,o,l,n=L(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,t)}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=this.mergeDashLine(this.dashLines,[]),n=this.computeDashLine(l,o),r=0;r<n.length;r++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n[r]);for(var i=0;i<4;i++){var a=i*(o.length-1)/4,u=new SuperMapAlgoPlot.Point(o[a].x,o[a].y),p=new SuperMapAlgoPlot.Point(o[a+1].x,o[a+1].y),s=new SuperMapAlgoPlot.Point((u.x+p.x)/2,(u.y+p.y)/2),c=SuperMapAlgoPlot.PlottingUtil.radian(s,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=this.scaleValues[0]*e/2,f=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,P,P,c),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,4*P,4*P,c+270),y=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,P,P,c+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[f,g,y],{surroundLineLimit:!0,lineTypeLimit:!0})}this.finish()}}}])&&w(e.prototype,o),l&&w(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function E(t){"@babel/helpers - typeof";return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function T(t,e){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=B(t);if(e){var n=B(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol29101=j;var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=R(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.0375),e.scaleValues.push(.025)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.35*this.getSubSymbolScaleValue());var l=.5*o,n=180*SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])/Math.PI,r=o*this.scaleValues[0],i=Math.sqrt(r*r+r*r)+r/2,a=l-i,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e).pts,p=this.computeXPts(u,r,e,n),s=[];s.push(new SuperMapAlgoPlot.Point(p[0].x,p[0].y)),s.push(new SuperMapAlgoPlot.Point(p[1].x,p[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=[];c.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),c.push(new SuperMapAlgoPlot.Point(p[3].x,p[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e).pts,f=this.computeXPts(P,r,e,n),g=[];g.push(new SuperMapAlgoPlot.Point(f[0].x,f[0].y)),g.push(new SuperMapAlgoPlot.Point(f[1].x,f[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=[];y.push(new SuperMapAlgoPlot.Point(f[2].x,f[2].y)),y.push(new SuperMapAlgoPlot.Point(f[3].x,f[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var S=l+i,h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(S,e).pts,b=this.computeXPts(h,r,e,n),A=[];A.push(new SuperMapAlgoPlot.Point(b[0].x,b[0].y)),A.push(new SuperMapAlgoPlot.Point(b[1].x,b[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var d=[];d.push(new SuperMapAlgoPlot.Point(b[2].x,b[2].y)),d.push(new SuperMapAlgoPlot.Point(b[3].x,b[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);for(var M=l-2*i,v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(M,e),m=v.index,O=v.pts,w=[],U=0;U<=m;U++)w.push(e[U]);w.push(O),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,w);var L=l+2*i,x=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(L,e),j=x.index,E=x.pts,V=[];if(j<=e.length){V.push(E);for(var T=j+1;T<=e.length-1;T++)V.push(e[T])}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V);var R=e[0],B=e[1],Y=e[e.length-2],_=e[e.length-1],I=o*this.scaleValues[1],C=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,B,R),D=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(I,Y,_),N=[];N.push(R),N.push(C.pntRight),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,N);var k=[];k.push(_),k.push(D.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,k);var z=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],i,i,90);this.addScalePoint(z,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=.5*SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n;r>=.12&&(r=.12),this.scaleValues[0]=r}}},{key:"computeXPts",value:function(t,e,o,l){var n=[],r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+45),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+225);n.push(r),n.push(i);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+135),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+315);return n.push(a),n.push(u),n}}])&&V(e.prototype,o),l&&V(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function _(t){"@babel/helpers - typeof";return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function C(t,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=N(t);if(e){var n=N(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol510100=Y;var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=D(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.03)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());for(var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[1]*e,l=this.scaleValues[0]*e,n=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,l).pt,r=[],i=0;i<t.length;i++){if(i===t.length-1){r.push(t[i]);break}r.push(t[i]);var a=[];if(this.intersectLineAndCircle(t[i],t[i+1],n,o,a))for(var u=0;u<a.length;u++)r.push(a[u])}for(var p=[],s=0;s<r.length;s++){if(s===r.length-1){0!==p.length&&(p.push(r[s]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p),p=[]);break}this.isLineInCircle(r[s],r[s+1],n,o)?0!==p.length&&(p.push(r[s]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p),p=[]):p.push(r[s])}this.computeSubSymbol(n,2*o),this.addScalePoint(n);var c=new SuperMapAlgoPlot.Point(n.x+o,n.y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(n,30,c),this.addScalePoint(c),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){for(var n=0,r=-1,i=null,a=0;a<o.length-1;a++){var u=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(u.projectPoint,o[a],o[a+1])){var p=SuperMapAlgoPlot.PlottingUtil.distance(u.projectPoint,e);0===n?(n=p,r=a,i=u.projectPoint):p<n&&(n=p,r=a,i=u.projectPoint)}}if(-1===r)return;for(var s=0,c=0;c<r;c++)s+=SuperMapAlgoPlot.PlottingUtil.distance(o[c],o[c+1]);var P=(s+=SuperMapAlgoPlot.PlottingUtil.distance(i,o[r]))/l;P>1&&(P=1),this.scaleValues[0]=P}if(1===t){var f=this.scaleValues[0]*l,g=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,f);if(-1===g.index)return;var y=SuperMapAlgoPlot.PlottingUtil.distance(g.pt,e)/l;y>.4&&(y=.4),this.scaleValues[1]=y}}}},{key:"intersectLineAndCircle",value:function(t,e,o,l,n){for(var r=!1,i=SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[o,new SuperMapAlgoPlot.Point(o.x+l,o.y)]),a=0;a<i.length-1;a++){var u=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(t,e,i[a],i[a+1],u)&&(r=!0,n.push(u))}if(t.x>e.x){for(var p=0;p<n.length&&p!==n.length-1;p++)if(n[p].x<n[p+1].x){var s=n[p];n[p]=n[p+1],n[p+1]=s}}else if(t.x<e.x){for(var c=0;c<n.length&&c!==n.length-1;c++)if(n[c].x>n[c+1].x){var P=n[c];n[c]=n[c+1],n[c+1]=P}}else if(t.y>e.y){for(var f=0;f<n.length&&f!==n.length-1;f++)if(n[f].y<n[f+1].y){var g=n[f];n[f]=n[f+1],n[f+1]=g}}else if(t.y<e.y)for(var y=0;y<n.length&&y!==n.length-1;y++)if(n[y].y>n[y+1].y){var S=n[y];n[y]=n[y+1],n[y+1]=S}return r}},{key:"isLineInCircle",value:function(t,e,o,l){var n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2);return SuperMapAlgoPlot.PlottingUtil.distance(n,o)<l}},{key:"computeSubSymbol",value:function(t,e){var o=.5*e,l=[];l.push(t),l.push(new SuperMapAlgoPlot.Point(t.x+o,t.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,l);var n=[];n.push(new SuperMapAlgoPlot.Point(t.x-o,t.y)),n.push(new SuperMapAlgoPlot.Point(t.x+o,t.y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n);var r=new SuperMapAlgoPlot.Point(t.x+.75*o,t.y),i=.8*o,a=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,i,i,155),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,i,i,205),p=[];p.push(a);var s=i*(Math.cos(25*SuperMapAlgoPlot.PlottingUtil.DTOR)-Math.cos(75*SuperMapAlgoPlot.PlottingUtil.DTOR));p.push(new SuperMapAlgoPlot.Point(r.x-s,r.y)),p.push(u),p.push(r),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p,{fillLimit:!0,fill:!0})}}])&&I(e.prototype,o),l&&I(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function z(t){"@babel/helpers - typeof";return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function J(t,e){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=X(t);if(e){var n=X(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol520100=k;var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol520100);var e,o,l,n=q(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}return e=r,(o=[{key:"computeSubSymbol",value:function(t,e){var o=.5*e,l=[];l.push(t),l.push(new SuperMapAlgoPlot.Point(t.x+o,t.y)),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,l);var n=.6*o,r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,n,n,60),i=new SuperMapAlgoPlot.Point(t.x-.3*o,t.y),a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,n,n,240),u=new SuperMapAlgoPlot.Point(t.x+.3*o,t.y),p=[];p.push(r),p.push(i),p.push(t),p.push(u),p.push(a),p.push(t),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p,{fillLimit:!0,fill:!0})}}])&&F(e.prototype,o),l&&F(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function K(t){"@babel/helpers - typeof";return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function H(t,e){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Z(t);if(e){var n=Z(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol520200=G;var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Q(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.05)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.05):1==this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.8*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var l=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,.3*o);if(-1!==l.index){var n=l.pt,r=l.index,i=o*this.scaleValues[0]*.5,a=SuperMapAlgoPlot.PlottingUtil.radian(n,e[r+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,a+90),p=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,i,i,a-90),s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,u),c=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,n,p);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[s.pntLeft,s.pntRight]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[c.pntLeft,c.pntRight]);var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,.6*o);if(-1!==P.index){var f=P.pt,g=P.index,y=SuperMapAlgoPlot.PlottingUtil.radian(f,e[g+1])*SuperMapAlgoPlot.PlottingUtil.RTOD,S=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,i,i,y+90),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,i,i,y-90),b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,f,S),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,f,h);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b.pntLeft,b.pntRight]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[A.pntLeft,A.pntRight]),this.addDovetailArrow(e,this.scaleValues[1]),this.addScalePoint(h,0),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.6*n,l);if(!r.bfind)return;var i=2*SuperMapAlgoPlot.PlottingUtil.distance(e,r.pts);this.scaleValues[0]=i/n}}}])&&W(e.prototype,o),l&&W(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function tt(t){"@babel/helpers - typeof";return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ot(t,e){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nt(t);if(e){var n=nt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol520300=$;var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.15*this.getSubSymbolScaleValue(o));var l=.5*o,n=180*SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1])/Math.PI,r=o*this.scaleValues[0],i=Math.sqrt(r*r+r*r)+r/2,a=l-i,u=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,e).pts,p=this.computeXPts(u,r,e,n),s=[];s.push(new SuperMapAlgoPlot.Point(p[0].x,p[0].y)),s.push(new SuperMapAlgoPlot.Point(p[1].x,p[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s);var c=[];c.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),c.push(new SuperMapAlgoPlot.Point(p[3].x,p[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c);var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l,e).pts,f=this.computeXPts(P,r,e,n),g=[];g.push(new SuperMapAlgoPlot.Point(f[0].x,f[0].y)),g.push(new SuperMapAlgoPlot.Point(f[1].x,f[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g);var y=[];y.push(new SuperMapAlgoPlot.Point(f[2].x,f[2].y)),y.push(new SuperMapAlgoPlot.Point(f[3].x,f[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var S=l+i,h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(S,e).pts,b=this.computeXPts(h,r,e,n),A=[];A.push(new SuperMapAlgoPlot.Point(b[0].x,b[0].y)),A.push(new SuperMapAlgoPlot.Point(b[1].x,b[1].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var d=[];d.push(new SuperMapAlgoPlot.Point(b[2].x,b[2].y)),d.push(new SuperMapAlgoPlot.Point(b[3].x,b[3].y)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d);var M=l-2*i,v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(M,e);if(v.bfind){for(var m=v.index,O=v.pts,w=[],U=0;U<=m;U++)w.push(e[U]);w.push(O);var L=o*this.scaleValues[1];this.computeDashLines(w,L)}var x=l+2*i,j=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(x,e);if(j.bfind){var E=j.index,V=j.pts,T=[];if(E<=e.length){T.push(V);for(var R=E+1;R<=e.length-1;R++)T.push(e[R])}this.computeDashLines(T,L)}var B=SuperMapAlgoPlot.PlottingUtil.circlePoint(t[0],i,i,90);this.addScalePoint(B,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=.5*SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/n;r>=.12&&(r=.12),this.scaleValues[0]=r}}},{key:"computeXPts",value:function(t,e,o,l){var n=[],r=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+45),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+225);n.push(r),n.push(i);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+135),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l+315);return n.push(a),n.push(u),n}},{key:"computeDashLines",value:function(t,e){for(var o=this.computeDashLine(2*e,2*e,t),l=.5*e,n=0;n<o.length;n++){var r=o[n];if(!((r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r)).length<=1)){var i=new SuperMapAlgoPlot.Point(r[0].x,r[0].y),a=new SuperMapAlgoPlot.Point(r[r.length-1].x,r[r.length-1].y),u=180*SuperMapAlgoPlot.PlottingUtil.radian(i,a)/Math.PI,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,l,l,u+90),s=SuperMapAlgoPlot.PlottingUtil.circlePoint(i,l,l,u+270),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,l,l,u+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,l,l,u+270),f=[];f.push(p),f.push(s),f.push(P),f.push(c),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fillLimit:!0,fill:!0})}}}}])&&et(e.prototype,o),l&&et(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function it(t){"@babel/helpers - typeof";return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ut(t,e){return(ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=st(t);if(e){var n=st(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol520500=rt;var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var l=this.getLinePts(e,this.scaleValues[0]),n=new SuperMapAlgoPlot.Point((l.startPt.x+l.endPt.x)/2,(l.startPt.y+l.endPt.y)/2),r=180*SuperMapAlgoPlot.PlottingUtil.radian(l.startPt,l.endPt)/Math.PI,i=SuperMapAlgoPlot.PlottingUtil.distance(l.startPt,l.endPt);if(0<this.subSymbols.length)this.computeSubSymbol(this.subSymbols[0],n,i,r-90);else{var a=new SuperMapAlgoPlot.Point(-.5*i,.25*i),u=new SuperMapAlgoPlot.Point(-.5*i,-.25*i),p=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,a,r),s=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,u,r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[p,s]);var c=new SuperMapAlgoPlot.Point(-.5*i,.125*i),P=new SuperMapAlgoPlot.Point(.25*i,.125*i),f=new SuperMapAlgoPlot.Point(.5*i,0),g=new SuperMapAlgoPlot.Point(.25*i,-.125*i),y=new SuperMapAlgoPlot.Point(-.5*i,-.125*i),S=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,c,r),h=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,P,r),b=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,f,r),A=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,g,r),d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(n,y,r);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[S,h,b,A,d])}for(var M=[],v=[],m=0;m<=l.startIndex;m++)M.push(e[m]);if(M.push(l.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),l.endIndex<=e.length){v.push(l.endPt);for(var O=l.endIndex+1;O<=e.length-1;O++)v.push(e[O]);this.addDovetailArrow(v,this.scaleValues[1])}var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,.5*i,.5*i,r+90);this.addScalePoint(w,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*n,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;this.scaleValues[0]=i<=.5?i:.5}}}])&&at(e.prototype,o),l&&at(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function Pt(t){"@babel/helpers - typeof";return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gt(t,e){return(gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=St(t);if(e){var n=St(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol530100=ct;var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=e*this.scaleValues[0],n=this.getLinePts(o,this.scaleValues[0],5/14),r=this.getLinePts(o,this.scaleValues[0],9/14),i=new SuperMapAlgoPlot.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),a=180*SuperMapAlgoPlot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI;this.createSubSymbol(i,l,a);var u=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),p=180*SuperMapAlgoPlot.PlottingUtil.radian(r.startPt,r.endPt)/Math.PI;this.createSubSymbol(u,l,p);var s=SuperMapAlgoPlot.PlottingUtil.circlePoint(u,.5*l,.5*l,p+90);this.addScalePoint(s);for(var c=[],P=[],f=[],g=0;g<=n.startIndex;g++)c.push(o[g]);if(c.push(n.startPt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c),n.endIndex<=r.startIndex){P.push(n.endPt);for(var y=n.endIndex+1;y<=r.startIndex;y++)P.push(o[y]);P.push(r.startPt),2===o.length&&SuperMapAlgoPlot.PlottingUtil.distance(o[0],n.endPt)<=SuperMapAlgoPlot.PlottingUtil.distance(o[0],r.startPt)&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),o.length>2&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P)}f.push(r.endPt);for(var S=r.endIndex+1;S<o.length;S++)f.push(o[S]);this.addArrow(f,this.scaleValues[1]),this.finish()}}},{key:"createSubSymbol",value:function(t,e,o){var l=this.getSubSymbolPts1(e);this.createSubSymbol1(t,e,o,l);var n=this.getSubSymbolPts2(e);this.createSubSymbol2(t,e,o,n)}},{key:"createSubSymbol2",value:function(t,e,o,l){for(var n=[],r=0;r<l.length;r++){var i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[r],o);n.push(i)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n,{surroundLineLimit:!0})}},{key:"createSubSymbol1",value:function(t,e,o,l){for(var n=[],r=0;r<l.length;r++){var i=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[r],o);n.push(i)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,{surroundLineLimit:!0})}},{key:"getSubSymbolPts1",value:function(t){var e=t/2,o=[];return o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o}},{key:"getSubSymbolPts2",value:function(t){var e=t/2,o=[];return o.push(new SuperMapAlgoPlot.Point(-e,e)),o.push(new SuperMapAlgoPlot.Point(e,e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(9*n/14,l),i=2*SuperMapAlgoPlot.PlottingUtil.distance(r.pts,e)/n;i<=.3&&(this.scaleValues[0]=i)}}}])&&ft(e.prototype,o),l&&ft(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bt(t){"@babel/helpers - typeof";return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dt(t,e){return(dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vt(t);if(e){var n=vt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol530200=ht;var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(r,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Mt(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.01)),e}return e=r,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(),this.scaleValues[1]=.0625*this.getSubSymbolScaleValue());for(var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),l=o*this.scaleValues[0],n=o*this.scaleValues[1],r=e[0],i=0,a=1;a<e.length;a++){var u=e[a],p=SuperMapAlgoPlot.PlottingUtil.distance(r,u);switch(i%4){case 0:if(p>=l){var s=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,u,l);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[r,s]),r=s,i++,a--}break;case 1:case 3:var c=3*n;if(p>c)r=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,u,c),i++,a--;break;case 2:if(p>2*n){var P=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,u,2*n);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[new SuperMapAlgoPlot.Point(.5*(r.x+P.x),.5*(r.y+P.y)),P],{fillLimit:!0,fill:!0}),r=P,i++,a--}}}this.finish()}}}])&&At(e.prototype,o),l&&At(e,l),Object.defineProperty(e,"prototype",{writable:!1}),r}();SuperMapAlgoPlot.AlgoSymbol610100=mt;SuperMapAlgoPlot.YJAlgoSymbolFactory=SuperMapAlgoPlot.YJAlgoSymbolFactory||{};SuperMapAlgoPlot.YJAlgoSymbolFactory.getAlgoSymbol=function(t,e,o){if(999!==t)return new SuperMapAlgoPlot.AlgoSymbol(o);switch(e){case 510100:return new SuperMapAlgoPlot.AlgoSymbol510100(o);case 510200:return new SuperMapAlgoPlot.AlgoSymbol15804(o);case 520100:return new SuperMapAlgoPlot.AlgoSymbol520100(o);case 520200:return new SuperMapAlgoPlot.AlgoSymbol520200(o);case 520300:return new SuperMapAlgoPlot.AlgoSymbol520300(o);case 520400:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 520500:return new SuperMapAlgoPlot.AlgoSymbol520500(o);case 530100:return new SuperMapAlgoPlot.AlgoSymbol530100(o);case 530200:return new SuperMapAlgoPlot.AlgoSymbol530200(o);case 610100:return new SuperMapAlgoPlot.AlgoSymbol610100(o);case 610200:return new SuperMapAlgoPlot.AlgoSymbol29100(o);case 610300:return new SuperMapAlgoPlot.AlgoSymbol29101(o);default:return new SuperMapAlgoPlot.AlgoSymbol(o)}},SuperMapAlgoPlot.YJAlgoSymbolFactory.isAccessServer=function(t,e){if(999!==t)return!0;switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:case 610200:case 610300:return!1;default:return!0}},SuperMapAlgoPlot.YJAlgoSymbolFactory.getSymbolWayType=function(t,e){if(999===t)switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:case 610200:case 610300:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.YJAlgoSymbolFactory.getDefaultSubSymbols=function(){return[]},SuperMapAlgoPlot.YJAlgoSymbolFactory.getMinEditPts=function(t,e){if(999!==t)return 0;switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:case 610200:case 610300:return 2;default:return 0}},SuperMapAlgoPlot.YJAlgoSymbolFactory.getMaxEditPts=function(t,e){if(999!==t)return 0;switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:return 9999;case 610200:case 610300:return 3;default:return 0}},SuperMapAlgoPlot.YJAlgoSymbolFactory.getDefaultStyle=function(){return{}},SuperMapAlgoPlot.YJAlgoSymbolFactory.zoomInCalSymbol=function(){return!1}}();

/***/ }),
/* 4 */
/***/ (function(module, exports) {

/*!
 * 
 *          iclient-plot-webgl-common.(https://iclient.supermap.io)
 *          Copyright© 2000 - 2023 SuperMap Software Co.Ltd
 *          license: Apache-2.0
 *          version: v11.1.0
 *
 */!function(){"use strict";var t=window.SuperMap=window.SuperMap||{};t.Plot=t.Plot||{},window.SuperMapAlgoPlot=t.Plot||{};function e(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}var o=function(){function t(e,o,l,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),SuperMap.Util.isArray(e)&&(n=e[3],l=e[2],o=e[1],e=e[0]),this.left=null!=e?SuperMap.Util.toFloat(e):this.left,this.bottom=null!=o?SuperMap.Util.toFloat(o):this.bottom,this.right=null!=l?SuperMap.Util.toFloat(l):this.right,this.top=null!=n?SuperMap.Util.toFloat(n):this.top,this.centerLonLat=null,this.CLASS_NAME="SuperMap.Bounds"}var o,l,n;return o=t,n=[{key:"fromString",value:function(e,o){var l=e.split(",");return t.fromArray(l,o)}},{key:"fromArray",value:function(e,o){return!0===o?new t(e[1],e[0],e[3],e[2]):new t(e[0],e[1],e[2],e[3])}},{key:"fromSize",value:function(e){return new t(0,e.h,e.w,0)}},{key:"oppositeQuadrant",value:function(t){var e="";return e+="t"===t.charAt(0)?"b":"t",e+="l"===t.charAt(1)?"r":"l"}}],(l=[{key:"clone",value:function(){return new t(this.left,this.bottom,this.right,this.top)}},{key:"equals",value:function(t){var e=!1;return null!=t&&(e=this.left===t.left&&this.right===t.right&&this.top===t.top&&this.bottom===t.bottom),e}},{key:"toString",value:function(){return[this.left,this.bottom,this.right,this.top].join(",")}},{key:"toArray",value:function(t){return!0===t?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]}},{key:"toBBOX",value:function(t,e){null==t&&(t=6);var o=Math.pow(10,t),l=Math.round(this.left*o)/o,n=Math.round(this.bottom*o)/o,i=Math.round(this.right*o)/o,r=Math.round(this.top*o)/o;return!0===e?n+","+l+","+r+","+i:l+","+n+","+i+","+r}},{key:"getWidth",value:function(){return this.right-this.left}},{key:"getHeight",value:function(){return this.top-this.bottom}},{key:"getSize",value:function(){return new SuperMapAlgoPlot.Point(this.getWidth(),this.getHeight())}},{key:"getCenterPixel",value:function(){return new SuperMapAlgoPlot.Point((this.left+this.right)/2,(this.bottom+this.top)/2)}},{key:"getCenterLonLat",value:function(){return this.centerLonLat||(this.centerLonLat=new SuperMap.Point((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat}},{key:"scale",value:function(e,o){var l,n;return e=e||1,null==o&&(o=this.getCenterLonLat()),"SuperMap.LonLat"===o.CLASS_NAME?(l=o.lon,n=o.lat):(l=o.x,n=o.y),new t((this.left-l)*e+l,(this.bottom-n)*e+n,(this.right-l)*e+l,(this.top-n)*e+n)}},{key:"add",value:function(e,o){if(null==e||null==o)throw new TypeError("Bounds.add cannot receive null values");return new t(this.left+e,this.bottom+o,this.right+e,this.top+o)}},{key:"extend",value:function(e){var o=null;if(e){switch(e.CLASS_NAME){case"SuperMap.LonLat":o=new t(e.lon,e.lat,e.lon,e.lat);break;case"SuperMap.Geometry.Point":o=new t(e.x,e.y,e.x,e.y);break;case"SuperMap.Bounds":o=e}o&&(this.centerLonLat=null,(null==this.left||o.left<this.left)&&(this.left=o.left),(null==this.bottom||o.bottom<this.bottom)&&(this.bottom=o.bottom),(null==this.right||o.right>this.right)&&(this.right=o.right),(null==this.top||o.top>this.top)&&(this.top=o.top))}}},{key:"containsLonLat",value:function(t,e){"boolean"==typeof e&&(e={inclusive:e}),e=e||{};var o=this.contains(t.lon,t.lat,e.inclusive),l=e.worldBounds;if(l&&!o){var n=l.getWidth(),i=(l.left+l.right)/2,r=Math.round((t.lon-i)/n);o=this.containsLonLat({lon:t.lon-r*n,lat:t.lat},{inclusive:e.inclusive})}return o}},{key:"containsPixel",value:function(t,e){return this.contains(t.x,t.y,e)}},{key:"contains",value:function(t,e,o){if(null==o&&(o=!0),null==t||null==e)return!1;var l=!1;return l=o?t>=this.left&&t<=this.right&&e>=this.bottom&&e<=this.top:t>this.left&&t<this.right&&e>this.bottom&&e<this.top,l}},{key:"intersectsBounds",value:function(t,e){if("boolean"==typeof e&&(e={inclusive:e}),(e=e||{}).worldBounds){var o=this.wrapDateLine(e.worldBounds);t=t.wrapDateLine(e.worldBounds)}else o=this;null==e.inclusive&&(e.inclusive=!0);var l=!1,n=o.left===t.right||o.right===t.left||o.top===t.bottom||o.bottom===t.top;if(e.inclusive||!n){var i=t.bottom>=o.bottom&&t.bottom<=o.top||o.bottom>=t.bottom&&o.bottom<=t.top,r=t.top>=o.bottom&&t.top<=o.top||o.top>t.bottom&&o.top<t.top,a=t.left>=o.left&&t.left<=o.right||o.left>=t.left&&o.left<=t.right,s=t.right>=o.left&&t.right<=o.right||o.right>=t.left&&o.right<=t.right;l=(i||r)&&(a||s)}if(e.worldBounds&&!l){var p=e.worldBounds,u=p.getWidth(),c=!p.containsBounds(o),P=!p.containsBounds(t);c&&!P?(t=t.add(-u,0),l=o.intersectsBounds(t,{inclusive:e.inclusive})):P&&!c&&(o=o.add(-u,0),l=t.intersectsBounds(o,{inclusive:e.inclusive}))}return l}},{key:"containsBounds",value:function(t,e,o){null==e&&(e=!1),null==o&&(o=!0);var l=this.contains(t.left,t.bottom,o),n=this.contains(t.right,t.bottom,o),i=this.contains(t.left,t.top,o),r=this.contains(t.right,t.top,o);return e?l||n||i||r:l&&n&&i&&r}},{key:"determineQuadrant",value:function(t){var e="",o=this.getCenterLonLat();return e+=t.lat<o.lat?"b":"t",e+=t.lon<o.lon?"l":"r"}},{key:"wrapDateLine",value:function(t,e){var o=(e=e||{}).leftTolerance||0,l=e.rightTolerance||0,n=this.clone();if(t){for(var i=t.getWidth();n.left<t.left&&n.right-l<=t.left;)n=n.add(i,0);for(;n.left+o>=t.right&&n.right>t.right;)n=n.add(-i,0);var r=n.left+o;r<t.right&&r>t.left&&n.right-l>t.right&&(n=n.add(-i,0))}return n}},{key:"toServerJSONObject",value:function(){return{rightTop:{x:this.right,y:this.top},leftBottom:{x:this.left,y:this.bottom},left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},{key:"destroy",value:function(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.centerLonLat=null}}])&&e(o.prototype,l),n&&e(o,n),Object.defineProperty(o,"prototype",{writable:!1}),t}();function l(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}SuperMap.Bounds=o;var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,o,n;return e=t,n=[{key:"extend",value:function(t,e){if(t=t||{},e){for(var o in e){var l=e[o];void 0!==l&&(t[o]=l)}!("function"==typeof window.Event&&e instanceof window.Event)&&e.hasOwnProperty&&e.toString&&(t.toString=e.toString)}return t}},{key:"copy",value:function(t,e){var o;if(t=t||{},e)for(var l in t)void 0!==(o=e[l])&&(t[l]=o)}},{key:"reset",value:function(t){for(var e in t=t||{})if(t.p){if("object"===_typeof(t[e])&&t[e]instanceof Array){for(var o in t[e])t[e][o].destroy&&t[e][o].destroy();t[e].length=0}else"object"===_typeof(t[e])&&t[e]instanceof Object&&t[e].destroy&&t[e].destroy();t[e]=null}}},{key:"getElement",value:function(){for(var t=[],e=0,o=arguments.length;e<o;e++){var l=arguments[e];if("string"==typeof l&&(l=document.getElementById(l)),1===arguments.length)return l;t.push(l)}return t}},{key:"isElement",value:function(t){return!(!t||1!==t.nodeType)}},{key:"isArray",value:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{key:"removeItem",value:function(t,e){for(var o=t.length-1;o>=0;o--)t[o]===e&&t.splice(o,1);return t}},{key:"indexOf",value:function(t,e){if(null==t)return-1;if("function"==typeof t.indexOf)return t.indexOf(e);for(var o=0,l=t.length;o<l;o++)if(t[o]===e)return o;return-1}},{key:"modifyDOMElement",value:function(t,e,o,l,n,i,r,a){e&&(t.id=e),o&&(t.style.left=o.x+"px",t.style.top=o.y+"px"),l&&(t.style.width=l.w+"px",t.style.height=l.h+"px"),n&&(t.style.position=n),i&&(t.style.border=i),r&&(t.style.overflow=r),parseFloat(a)>=0&&parseFloat(a)<1?(t.style.filter="alpha(opacity="+100*a+")",t.style.opacity=a):1===parseFloat(a)&&(t.style.filter="",t.style.opacity="")}},{key:"applyDefaults",value:function(t,e){t=t||{};var o="function"==typeof window.Event&&e instanceof window.Event;for(var l in e)(void 0===t[l]||!o&&e.hasOwnProperty&&e[l]&&!t[l])&&(t[l]=e[l]);return!o&&e&&e.hasOwnProperty&&e.toString&&!t.toString&&(t.toString=e.toString),t}},{key:"getParameterString",value:function(t){var e=[];for(var o in t){var l,n=t[o];if(null!=n&&"function"!=typeof n)l=Array.isArray(n)||"[object Object]"===n.toString()?encodeURIComponent(JSON.stringify(n)):encodeURIComponent(n),e.push(encodeURIComponent(o)+"="+l)}return e.join("&")}},{key:"urlAppend",value:function(t,e){var o=t;if(e){0===e.indexOf("?")&&(e=e.substring(1));var l=(t+" ").split(/[?&]/);o+=" "===l.pop()?e:l.length?"&"+e:"?"+e}return o}},{key:"urlPathAppend",value:function(t,e){var o=t;if(!e)return o;0===e.indexOf("/")&&(e=e.substring(1));var l=t.split("?");return l[0].indexOf("/",l[0].length-1)<0&&(l[0]+="/"),o="".concat(l[0]).concat(e).concat(l.length>1?"?".concat(l[1]):"")}},{key:"toFloat",value:function(e,o){return null==o&&(o=t.DEFAULT_PRECISION),"number"!=typeof e&&(e=parseFloat(e)),0===o?e:parseFloat(e.toPrecision(o))}},{key:"rad",value:function(t){return t*Math.PI/180}},{key:"getParameters",value:function(t){t=null===t||void 0===t?window.location.href:t;var e="";if(StringExt.contains(t,"?")){var o=t.indexOf("?")+1,l=StringExt.contains(t,"#")?t.indexOf("#"):t.length;e=t.substring(o,l)}for(var n={},i=e.split(/[&;]/),r=0,a=i.length;r<a;++r){var s=i[r].split("=");if(s[0]){var p=s[0];try{p=decodeURIComponent(p)}catch(t){p=unescape(p)}var u=(s[1]||"").replace(/\+/g," ");try{u=decodeURIComponent(u)}catch(t){u=unescape(u)}1==(u=u.split(",")).length&&(u=u[0]),n[p]=u}}return n}},{key:"createUniqueID",value:function(e){return null==e&&(e="id_"),t.lastSeqID+=1,e+t.lastSeqID}},{key:"normalizeScale",value:function(t){return t>1?1/t:t}},{key:"getResolutionFromScale",value:function(e,o){var l;e&&(null==o&&(o="degrees"),l=1/(t.normalizeScale(e)*INCHES_PER_UNIT[o]*DOTS_PER_INCH));return l}},{key:"getScaleFromResolution",value:function(t,e){return null==e&&(e="degrees"),t*INCHES_PER_UNIT[e]*DOTS_PER_INCH}},{key:"getBrowser",value:function(){return Browser}},{key:"supportCanvas",value:function(){return t.isSupportCanvas}},{key:"isInTheSameDomain",value:function(t){if(!t)return!0;var e=t.indexOf("//"),o=document.location.toString(),l=o.indexOf("//");if(-1===e)return!0;var n,i=n=t.substring(0,e),r=o.substring(l+2);l=r.indexOf("/");var a=r.indexOf(":"),s=r.substring(0,l),p=document.location.protocol;if(-1!==a||(s+=":"+("http:"===p.toLowerCase()?80:443)),p.toLowerCase()!==i.toLowerCase())return!1;var u=(i=t.substring(e+2)).indexOf(":");e=i.indexOf("/");var c,P=i.substring(0,e);return-1!==u?c=i.substring(0,u):(c=i.substring(0,e),P+=":"+("http:"===n.toLowerCase()?80:443)),c===document.domain&&P===s}},{key:"calculateDpi",value:function(t,e,o,l,n){if(t&&e&&o){var i,r=t.getWidth(),a=t.getHeight(),s=e.w,p=e.h;if(n=n||6378137,"degree"===(l=l||"degrees").toLowerCase()||"degrees"===l.toLowerCase()||"dd"===l.toLowerCase()){var u=r/s,c=a/p;i=254/(u>c?u:c)/o/(2*Math.PI*n/360)/1e4}else{i=254/(r/s)/o/1e4}return i}}},{key:"toJSON",value:function(e){var o=e;if(null==o)return null;switch(o.constructor){case String:return o=(o=(o=(o=(o=(o=(o='"'+o.replace(/(["\\])/g,"\\$1")+'"').replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace("<","&lt;")).replace(">","&gt;")).replace(/%/g,"%25")).replace(/&/g,"%26");case Array:for(var l="",n=0,i=o.length;n<i;n++)l+=t.toJSON(o[n]),n!==o.length-1&&(l+=",");return"["+l+"]";case Number:return isFinite(o)?String(o):null;case Boolean:return String(o);case Date:return"{'__type':\"System.DateTime\",'Year':"+o.getFullYear()+",'Month':"+(o.getMonth()+1)+",'Day':"+o.getDate()+",'Hour':"+o.getHours()+",'Minute':"+o.getMinutes()+",'Second':"+o.getSeconds()+",'Millisecond':"+o.getMilliseconds()+",'TimezoneOffset':"+o.getTimezoneOffset()+"}";default:if(null!=o.toJSON&&"function"==typeof o.toJSON)return o.toJSON();if("object"===_typeof(o)){if(o.length){for(var r=[],a=0,s=o.length;a<s;a++)r.push(t.toJSON(o[a]));return"["+r.join(",")+"]"}var p=[];for(var u in o)"function"!=typeof o[u]&&"CLASS_NAME"!==u&&"parent"!==u&&p.push("'"+u+"':"+t.toJSON(o[u]));return p.length>0?"{"+p.join(",")+"}":"{}"}return o.toString()}}},{key:"getResolutionFromScaleDpi",value:function(e,o,l,n){return n=n||6378137,l=l||"",e>0&&o>0?(e=t.normalizeScale(e),"degree"===l.toLowerCase()||"degrees"===l.toLowerCase()||"dd"===l.toLowerCase()?254/o/e/(2*Math.PI*n/360)/1e4:254/o/e/1e4):-1}},{key:"getScaleFromResolutionDpi",value:function(t,e,o,l){return l=l||6378137,o=o||"",t>0&&e>0?"degree"===o.toLowerCase()||"degrees"===o.toLowerCase()||"dd"===o.toLowerCase()?254/e/t/(2*Math.PI*l/360)/1e4:254/e/t/1e4:-1}},{key:"transformResult",value:function(t){return t.responseText&&"string"==typeof t.responseText&&(t=JSON.parse(t.responseText)),t}},{key:"copyAttributes",value:function(t,e){if(t=t||{},e)for(var o in e){var l=e[o];void 0!==l&&"CLASS_NAME"!==o&&"function"!=typeof l&&(t[o]=l)}return t}},{key:"copyAttributesWithClip",value:function(t,e,o){if(t=t||{},e)for(var l in e){var n=!1;if(o&&o.length)for(var i=0,r=o.length;i<r;i++)if(l===o[i]){n=!0;break}if(!0!==n){var a=e[l];void 0!==a&&"CLASS_NAME"!==l&&"function"!=typeof a&&(t[l]=a)}}return t}},{key:"cloneObject",value:function(e){if(null===e||"object"!==_typeof(e))return e;if(e instanceof Date){var o=new Date;return o.setTime(e.getTime()),o}if(e instanceof Array)return e.slice(0);if(e instanceof Object){var l={};for(var n in e)e.attr&&(l[n]=t.cloneObject(e[n]));return l}throw new Error("Unable to copy obj! Its type isn't supported.")}},{key:"lineIntersection",value:function(t,e,o,l){var n,i,r=null,a=(l.x-o.x)*(t.y-o.y)-(l.y-o.y)*(t.x-o.x),s=(e.x-t.x)*(t.y-o.y)-(e.y-t.y)*(t.x-o.x),p=(l.y-o.y)*(e.x-t.x)-(l.x-o.x)*(e.y-t.y);if(0!=p)i=s/p,r=(n=a/p)>=0&&i<=1&&n<=1&&i>=0?new Geometry.Point(t.x+n*(e.x-t.x),t.y+n*(e.y-t.y)):"No Intersection";else if(0==a&&0==s){var u=Math.max(t.y,e.y),c=Math.min(t.y,e.y),P=Math.max(t.x,e.x),g=Math.min(t.x,e.x);r=(o.y>=c&&o.y<=u||l.y>=c&&l.y<=u)&&o.x>=g&&o.x<=P||l.x>=g&&l.x<=P?"Coincident":"Parallel"}else r="Parallel";return r}},{key:"getTextBounds",value:function(t,e,o){document.body.appendChild(o),o.style.width="auto",o.style.height="auto",t.fontSize&&(o.style.fontSize=t.fontSize),t.fontFamily&&(o.style.fontFamily=t.fontFamily),t.fontWeight&&(o.style.fontWeight=t.fontWeight),o.style.position="relative",o.style.visibility="hidden",o.style.display="inline-block",o.innerHTML=e;var l=o.clientWidth,n=o.clientHeight;return document.body.removeChild(o),{textWidth:l,textHeight:n}}},{key:"convertPath",value:function(t,e){return e?t.replace(/\{([\w-\.]+)\}/g,function(t,o){var l;return l=e[o]?paramToString(e[o]):t,encodeURIComponent(l)}):t}}],(o=null)&&l(e.prototype,o),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function i(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}n.lastSeqID=0,n.isSupportCanvas=!0,n.DEFAULT_PRECISION=14,SuperMap.Util=n;var r=function(){function t(e,o,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l=l||{},this.libID=e,this.code=o,this.symbolData=l.symbolData?l.symbolData:null,this.textContent=l.textContent?l.textContent:null,this.totalNum=l.totalNum?l.totalNum:null,this.lineColor=l.color?l.lineColor:"#ff0000",this.width2D=l.width2D?l.width2D:2,this.width3D=l.width3D?l.width3D:-1,this.CLASS_NAME="SuperMap.Plot.SubSymbol"}var e,o,l;return e=t,(o=[{key:"destroy",value:function(){this.libID=null,this.code=null,this.symbolData=null,this.totalNum=null,this.lineColor=null,this.width2D=null,this.width3D=null}},{key:"clone",value:function(){var t=new SuperMap.Plot.SubSymbol(this.libID,this.code);return t.symbolData={},t.symbolData=SuperMap.Util.copyAttributes(t.symbolData,this.symbolData),t.textContent=this.textContent,t.totalNum=this.totalNum,t.lineColor=this.lineColor,t.width2D=this.width2D,t.width3D=this.width3D,t}}])&&i(e.prototype,o),l&&i(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();SuperMap.Plot.SubSymbol=r;SuperMap.Plot.ArrowTailType={ARROWTAIL_NONE:0,ARROWTAIL_LINE:1,ARROWTAIL_CURVE:2,ARROWTAIL_COATTAIL:3,ARROWTAIL_COATTAIL_POLYBODY:4},SuperMap.Plot.ArrowHeadType={ARROWHEAD_POLYLINE:0,ARROWHEAD_TRIANGLE:1,ARROWHEAD_COATTAIL:2,ARROWHEAD_TRIANGLE_SOLID:3,ARROWHEAD_WITH_EAR:4,ARROWHEAD_WITHOUT_EAR:5,ARROWHEAD_COATTAIL_HOLLOW:6},SuperMap.Plot.ArrowBodyType={ARROWBODY_POLYLINE:0,ARROWBODY_POLYBEZIER:1,ARROWBODY_PARALLEL:2,ARROWBODY_TRAPEZOID:3,ARROWBODY_MULTIPOLYBEZIER:4,ARROWBODY_COATTAIL:5},SuperMap.Plot.SymbolType={DOTSYMBOL:1,ALGOSYMBOL:2,TEXTSYMBOL:34,ELLIPSESYMBOL:31,CIRCLESYMBOL:29,RECTANGLESYMBOL:26,ARBITRARYPOLYGONSYMBOL:32,POLYLINESYMBOL:24,PARALLELOGRAM:28,ARCSYMBOL:44,NEWARCSYMBOL:4401,REGULARPOLYGON:410,CHORDSYMBOL:370,NEWCHORDSYMBOL:3701,PIESYMBOL:380,NEWPIESYMBOL:3801,KIDNEY:390,POLYBEZIERSYMBOL:590,PARALLELLINE:48,BRACESYMBOL:400,ANNOFRAMESYMBOL:320,ANNOFRAMESYMBOLM:321,TRAPEZOIDSYMBOL:350,POLYBEZIERCLOSESYMBOL:360,GROUPOBJECT:1e3,LINERELATION:1001,INTERFERENCEBEAM:1002,POLYGONREGION:1003,ARCREGION:1004,AIRROUTE:1005,NAVYROUTE:1006,MISSILEROUTE:1007,NAVYDEPLOYMENT:1008,AIRDEPLOYMENT:1009,SATELLITE:1010,SATELLITETIMEWINDOWS:1011,SYMBOLTEXT:1012,RUNWAY:1013,CURVEEIGHT:1014,ROUTENODE:1015,ARROWLINE:1016,PATHTEXT:1017,LITERATESIGN:1018,CONCENTRICCIRCLE:1019,FLAGGROUP:1020,SYMBOLTEXT1:1021,COMBINATIONALCIRCLE:1022,FREECURVE:1023,SYMBOLTEXTBOX:1024,NODECHAIN:1025,LINEMARKING:1026,AVOIDREGION:1027,WIRE:1028,LINEARARROW:1029,PICTURE:3e3},SuperMap.Plot.LineRelationType={SOLID:0,DASH:1,ARROW:2},SuperMap.Plot.AlgoSurroundLineType={NONE:0,INNER:1,OUT:2,ALL:3},SuperMap.Plot.RouteNodeType={RENDEZVOUS:"RENDEZVOUS",EXPANDING:"EXPANDING",VOLLEY:"VOLLEY",STANDBY:"STANDBY",SUPPLY:"SUPPLY",TAKEOFF:"TAKEOFF",INITIAL:"INITIAL",VISUALINITAL:"VISUALINITAL",LANCH:"LANCH",TURNING:"TURNING",AIMING:"AIMING",COMMONROUTE:"COMMONROUTE",WEAPONLAUNCH:"WEAPONLAUNCH",TARGET:"TARGET",ATTACK:"ATTACK",SUPPRESS:"SUPPRESS",EIGHTSPIRAL:"EIGHTSPIRAL",HAPPYVALLEY:"HAPPYVALLEY"},SuperMap.Plot.RelLineText={ONLINE:0,ONLEFTLINE:1,ONRIGHTLINE:2,ONBOTHLINE:3},SuperMap.Plot.RadiusLineType={NONE:0,SOLID:1,ARROW:2},SuperMap.Plot.Position={TOP:4,BOTTOM:5,LEFT:6,RIGHT:7},SuperMap.Plot.AnnoPosition={LEFTTOP:0,LEFTBOTTOM:1,RIGHTTOP:2,RIGHTBOTTOM:3,TOP:4,BOTTOM:5,LEFT:6,RIGHT:7,MIDDLE:8,ANCHOR:9},SuperMap.Plot.ArrowLineType={DOUBLELINE:0,TRIANGLESOLID:1,NONE:2},SuperMap.Plot.TextBoxType={WITHTIPBOX:0,RECTBOX:1,LINEBOX:2,NONEBOX:3},SuperMap.Plot.PositionOffsetType={LINE:0,GRADIENTLINE:1},SuperMap.Plot.AlignType={LEFT:0,RIGHT:1,UP:2,DOWN:3,VERTICALCENTER:4,HORIZONTALCENTER:5},SuperMap.Plot.EditMode={ADDCONTROLPOINT:0,EDITCONTROLPOINT:1,EDITCIRCUMRECTANGLE:2,REMOVECONTROLPOINT:3};SuperMap.Plot.EqualLargeType={WIDTH:0,HEIGHT:1,SAME:2},SuperMap.Plot.UniformDistributionType={LEVEL:0,VERTICAL:1};SuperMap.Plot.TransactionType={CREATE:0,EDIT:1,REMOVE:2};function a(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/* Copyright© 2000 - 2018 SuperMap Software Co.Ltd. All rights reserved.
 * This program are made available under the terms of the Apache License, Version 2.0
 * which accompanies this distribution and is available at http://www.apache.org/licenses/LICENSE-2.0.html.*/var u=function(){function t(e,o,l,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=parseFloat(e),this.y=parseFloat(o),this.tag=n||0==n?parseFloat(n):null,this.type=l||"Point",this.CLASS_NAME="SuperMapAlgoPlot"}var e,o,l;return e=t,(o=[{key:"clone",value:function(e){return null==e&&(e=new t(this.x,this.y)),SuperMap.Util.applyDefaults(e,this),e}},{key:"calculateBounds",value:function(){this.bounds=new Bounds(this.x,this.y,this.x,this.y)}},{key:"equals",value:function(t){var e=!1;return null!=t&&(e=this.x===t.x&&this.y===t.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(t.x)&&isNaN(t.y)),e}},{key:"move",value:function(t,e){this.x=this.x+t,this.y=this.y+e,this.clearBounds()}},{key:"toShortString",value:function(){return this.x+", "+this.y}},{key:"destroy",value:function(){this.x=null,this.y=null,this.tag=null,s(p(t.prototype),"destroy",this).call(this)}},{key:"getVertices",value:function(t){return[this]}}])&&a(e.prototype,o),l&&a(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();SuperMapAlgoPlot.Point=u;SuperMapAlgoPlot.AnalysisSymbol=SuperMapAlgoPlot.AnalysisSymbol||{};function c(t){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}SuperMapAlgoPlot.AnalysisSymbol.analysisBasicInfo=function(t){var e=new Object;return e.libID=t.libID,e.code=t.code,e.symbolType=t.symbolType,e.symbolName=t.symbolName,e.textContent=t.textContent,e.minEditPts=t.algoMinEditPts,e.maxEditPts=t.algoMaxEditPts,e.surroundLineType=t.surroundLineType,e},SuperMapAlgoPlot.AnalysisSymbol.analysisDotBasicInfo=function(t){var e=SuperMapAlgoPlot.PlottingUtil.DPI,o=new Object;o.anchorPoint=new SuperMapAlgoPlot.Point(t.anchorPoint.x,t.anchorPoint.y);var l=0,n=0;return void 0!==t.symbolSizeInLib?(l=Math.round(t.symbolSizeInLib.x*e/25.4/10),n=Math.round(t.symbolSizeInLib.y*e/25.4/10)):(l=Math.round(t.symbolSize.x*e/25.4/10),n=Math.round(t.symbolSize.y*e/25.4/10)),o.symbolSizeInLib=new SuperMap.Size(l,n),o.symbolSizeInLib.w=l,o.symbolSizeInLib.h=n,t.middleMarkBounds&&(o.middleMarkBounds=new SuperMap.Bounds(t.middleMarkBounds.leftBottom.x,t.middleMarkBounds.leftBottom.y,t.middleMarkBounds.rightTop.x,t.middleMarkBounds.rightTop.y)),o},SuperMapAlgoPlot.AnalysisSymbol.analysisAlgoBasicInfo=function(t,e){var o=new Object;if(o.subSymbols=[],o.scalePoints=[],o.scaleValues=[],e&&t.subSymbols)for(var l=0;l<t.subSymbols.length;l++)o.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(t.libID,t.subSymbols[l]));if(t.scalePoints){o.scalePoints=[];for(var n=0;n<t.scalePoints.length;n++){var i=new SuperMapAlgoPlot.Point(t.scalePoints[n].x,t.scalePoints[n].y);i.tag=n,i.isScalePoint=!0,o.scalePoints.push(i)}}if(t.scaleValues)for(var r=0;r<t.scaleValues.length;r++)o.scaleValues.push(t.scaleValues[r]);return o},SuperMapAlgoPlot.AnalysisSymbol.analysisSymbolCells=function(t,e){var o=[];if(t&&(function(t,o){if(t.innerCells&&t.innerCells.length)for(var l=0;l<t.innerCells.length;l++){var n=t.innerCells[l];if(t.symbolIsCanFill&&n.type!==SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL){var i=new Object,r=SuperMapAlgoPlot.AnalysisSymbol.getStyle(t,e);i.type=32,i.style={fillSymbolID:r.fillSymbolID,fillColor:r.fillColor,fillOpacity:r.fillOpacity,strokeOpacity:0,strokeWidth:0,fillLimit:!1,lineColorLimit:!0,lineWidthLimit:!0},i.positionPoints=[];for(var a=0;a<n.positionPoints.length;a++){var s=new SuperMapAlgoPlot.Point(n.positionPoints[a].x,n.positionPoints[a].y);i.positionPoints.push(s)}o.push(i)}}}(t,o),t.innerCells)){var l=t.innerCells;if(0!==l.length)for(var n=0;n<l.length;n++)o.push(SuperMapAlgoPlot.AnalysisSymbol.analysisInnerCell(l[n],e))}return o},SuperMapAlgoPlot.AnalysisSymbol.analysisInnerCell=function(t,e){var o=new Object;if(o.positionPoints=[],t){if(void 0!==t.polybezierClose&&(o.polybezierClose=t.polybezierClose),o.type=t.type,o.surroundLineFlag=t.surroundLineFlag,o.textContent=t.textContent,o.style=SuperMapAlgoPlot.AnalysisSymbol.getStyle(t,e),null!=t.positionPoints)for(var l=t.positionPoints,n=0;n<l.length;n++){var i=new SuperMapAlgoPlot.Point(l[n].x,l[n].y);o.positionPoints.push(i)}if(o.style.lineColorLimit=t.lineColorLimit,o.style.lineTypeLimit=t.lineTypeLimit,o.style.lineWidthLimit=t.lineWidthLimit,o.style.fillLimit=t.fillLimit,o.style.fillColorLimit=t.fillColorLimit,o.style.fontColorLimit=t.fontColorLimit,o.style.surroundLineLimit=t.surroundLineLimit,o.style.surroundLineFlag=t.surroundLineFlag,o.style.surroundLineType=t.surroundLineType,34==t.type?o.style.fontColorLimit=!0:o.style.fontColorLimit=t.fontColorLimit,o.type===SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL){var r=o.positionPoints[0],a=o.positionPoints[1],s=r.clone(),p=new SuperMapAlgoPlot.Point(a.x,r.y),u=a.clone(),c=new SuperMapAlgoPlot.Point(r.x,a.y);o.positionPoints=[],o.positionPoints.push(s),o.positionPoints.push(p),o.positionPoints.push(u),o.positionPoints.push(c),o.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL}o.type===SuperMapAlgoPlot.SymbolType.TEXTSYMBOL&&(o.style.fontSizeLimit=!0)}return o},SuperMapAlgoPlot.AnalysisSymbol.getStyle=function(t,e){function o(t){var e=t.red.toString(16);e.length<2&&(e="0"+e);var o=t.green.toString(16);o.length<2&&(o="0"+o);var l=t.blue.toString(16);return l.length<2&&(l="0"+l),"#"+e+o+l}function l(t){return"TOPLEFT"===t?"lt":"TOPCENTER"===t?"ct":"TOPRIGHT"===t?"rt":"BOTTOMLEFT"===t?"lb":"BOTTOMCENTER"===t?"cb":"BOTTOMRIGHT"===t?"rb":"MIDDLELEFT"===t?"lm":"MIDDLECENTER"===t?"cm":"MIDDLERIGHT"===t?"rm":0===t?"lt":1===t?"ct":2===t?"rt":6===t?"lb":7===t?"cb":8===t?"rb":9===t?"lm":10===t?"cm":11===t?"rm":"lt"}var n=SuperMapAlgoPlot.PlottingUtil.DPI,i={};return t.style?(e?(i.fillSymbolID=t.style.fillSymbolID,i.fillSymbolID||(i.fill=t.style.fill)):(!1===t.style.fill?t.style.fillSymbolID=1:!0===t.style.fill&&(t.style.fillSymbolID=0),i.fillSymbolID=t.style.fillSymbolID),void 0!==t.style.strokeGradientMode&&null!=t.style.strokeGradientMode?1===t.style.strokeGradientMode?i.strokeGradientMode="LINEAR":2===t.style.strokeGradientMode?i.strokeGradientMode="RADIAL":"LINEAR"!==t.style.strokeGradientMode&&"RADIAL"!==t.style.strokeGradientMode&&(i.strokeGradientMode="NONE"):i.strokeGradientMode="NONE",t.style.strokeBackColor?void 0!==t.style.strokeBackColor.red?(i.strokeBackColor=o(t.style.strokeBackColor),i.strokeBackOpacity=(t.style.strokeBackColor.alpha/255).toFixed(2)):(i.strokeBackColor=t.style.strokeBackColor,i.strokeBackOpacity=t.style.strokeBackOpacity):t.style.fillBackColor&&(void 0!==t.style.fillBackColor.red?(i.strokeBackColor=o(t.style.fillBackColor),i.strokeBackOpacity=(t.style.fillBackColor.alpha/255).toFixed(2)):(i.strokeBackColor=t.style.strokeBackColor,i.strokeBackOpacity=t.style.strokeBackOpacity)),void 0!==t.style.fillGradientMode&&null!=t.style.fillGradientMode&&(1===t.style.fillGradientMode?i.fillGradientMode="LINEAR":2===t.style.fillGradientMode?i.fillGradientMode="RADIAL":"LINEAR"!==t.style.fillGradientMode&&"RADIAL"!==t.style.fillGradientMode&&(i.fillGradientMode="NONE")),null!=t.style.fillGradientAngle&&void 0!==t.style.fillGradientAngle?i.fillAngle=t.style.fillGradientAngle:void 0!==t.style.fillAngle&&null!=t.style.fillAngle&&(i.fillAngle=t.style.fillAngle),void 0!==t.style.fillGradientOffsetRatioX&&null!=t.style.fillGradientOffsetRatioX?i.fillCenterOffsetX=t.style.fillGradientOffsetRatioX/100:void 0!==t.style.fillCenterOffsetX&&null!=t.style.fillCenterOffsetX&&(i.fillCenterOffsetX=t.style.fillCenterOffsetX/100),void 0!==t.style.fillGradientOffsetRatioY&&null!=t.style.fillGradientOffsetRatioY?i.fillCenterOffsetY=t.style.fillGradientOffsetRatioY/100:void 0!==t.style.fillCenterOffsetY&&null!=t.style.fillCenterOffsetY&&(i.fillCenterOffsetY=t.style.fillCenterOffsetY/100),void 0!==t.style.fillForeColor&&(i.fillColor=o(t.style.fillForeColor)),void 0!==t.style.fillOpaqueRate&&(i.fillOpacity=(t.style.fillOpaqueRate/100).toFixed(2),100!==t.style.fillOpaqueRate||1===t.style.fillGradientMode&&2===t.style.fillGradientMode||(i.fillOpacity=(t.style.fillForeColor.alpha/255).toFixed(2))),void 0!==t.style.fillBackColor&&(void 0!==t.style.fillBackColor.red?i.fillBackColor=o(t.style.fillBackColor):i.fillBackColor=t.style.fillBackColor),0===t.style.fillBackOpaque?i.fillBackOpacity=0:t.style.fillBackColor&&t.style.fillBackColor.alpha?i.fillBackOpacity=(t.style.fillBackColor.alpha/255).toFixed(2):i.fillBackOpacity=t.style.fillBackOpacity,void 0!==t.style.lineColor&&(!0===e?(i.color=o(t.style.lineColor),i.opacity=(t.style.lineColor.alpha/255).toFixed(2)):(i.strokeColor=o(t.style.lineColor),i.strokeOpacity=(t.style.lineColor.alpha/255).toFixed(2))),!0===e?null!=t.style.lineWidth?i.weight=Math.ceil(t.style.lineWidth*n/25.4):null!=t.style.weight&&(i.weight=t.style.weight):null!=t.style.lineWidth?i.strokeWidth=Math.ceil(t.style.lineWidth*n/25.4):null!=t.style.strokeWidth&&(i.strokeWidth=t.style.strokeWidth),e?(i.lineSymbolID=t.style.lineSymbolID,i.lineSymbolID||(i.dashArray=t.style.dashArray),!i.dashArray&&t.style.strokeDashstyle&&("dash"===t.style.strokeDashstyle?i.lineSymbolID=1:"dot"===t.style.strokeDashstyle?i.lineSymbolID=2:"dashdot"===t.style.strokeDashstyle?i.lineSymbolID=3:i.lineSymbolID=0)):1===t.style.lineSymbolID?i.strokeDashstyle="dash":2===t.style.lineSymbolID?i.strokeDashstyle="dot":3===t.style.lineSymbolID?i.strokeDashstyle="dashdot":t.style.strokeDashstyle?i.strokeDashstyle=t.style.strokeDashstyle:i.strokeDashstyle="solid",t.textStyle2D&&null!=t.textStyle2D?(void 0!==t.textStyle2D.sizeFixed&&(i.sizeFixed=t.textStyle2D.sizeFixed),void 0!==t.textStyle2D.fontName&&(i.fontFamily=t.textStyle2D.fontName),void 0!==t.textStyle2D.fontHeight&&(i.fontSize=Math.ceil(t.textStyle2D.fontHeight*n/25.4)),void 0!==t.textStyle2D.foreColor&&(i.fontColor=o(t.textStyle2D.foreColor),i.fontOpacity=(t.textStyle2D.foreColor.alpha/255).toFixed(2)),void 0!==t.textStyle2D.align&&(i.labelAlign=l(t.textStyle2D.align)),void 0!==t.textStyle2D.rotation&&(i.labelRotation=-t.textStyle2D.rotation),null!=t.textStyle2D.bold&&(t.textStyle2D.bold?i.fontWeight="bold":i.fontWeight="normal"),i.labelXOffset=0,i.labelYOffset=0):t.textStyle&&null!=t.textStyle&&(void 0!==t.textStyle.sizeFixed&&(i.sizeFixed=t.textStyle.sizeFixed),void 0!==t.textStyle.fontName&&(i.fontFamily=t.textStyle.fontName),void 0!==t.textStyle.fontHeight&&(i.sizeFixed?i.fontSize=Math.ceil(t.textStyle.fontHeight*n/25.4):i.fontSize=t.textStyle.fontHeight),void 0!==t.textStyle.foreColor&&(i.fontColor=o(t.textStyle.foreColor),i.fontOpacity=(t.textStyle.foreColor.alpha/255).toFixed(2)),void 0!==t.textStyle.align&&(i.labelAlign=l(t.textStyle.align)),void 0!==t.textStyle.rotation&&(i.labelRotation=-t.textStyle.rotation),null!=t.textStyle.bold&&(t.textStyle.bold?i.fontWeight="bold":i.fontWeight="normal"),i.labelXOffset=0,i.labelYOffset=0),void 0!=t.style.fontStroke?i.fontStroke=t.style.fontStroke:t.textStyle2D&&null!=t.textStyle2D.outline&&(i.fontStroke=t.textStyle2D.outline),null!=t.style.fontStrokeColor?i.fontStrokeColor=t.style.fontStrokeColor:t.textStyle2D&&null!=t.textStyle2D.fontStrokeColor?i.fontStrokeColor=o(t.textStyle2D.fontStrokeColor):t.textStyle2D&&null!=t.textStyle2D.backColor&&(i.fontStrokeColor=o(t.textStyle2D.backColor)),t.textStyle2D&&null!=t.textStyle2D.outlineWidth?i.fontStrokeWidth=t.textStyle2D.outlineWidth*n/25.4:null!=i.fontStrokeWidth&&(i.fontStroke=t.style.fontStrokeWidth),void 0!==t.style.fontBackground?i.fontBackground=t.style.fontBackground:t.textStyle2D&&null!=t.textStyle2D.backOpaque&&(i.fontBackground=t.textStyle2D.backOpaque),null!=t.style.fontBackgroundColor?i.fontBackgroundColor=t.style.fontBackgroundColor:t.textStyle2D&&null!=t.textStyle2D.fontBackgroundColor?i.fontBackgroundColor=o(t.textStyle2D.fontBackgroundColor):t.textStyle2D&&null!=t.textStyle2D.backColor&&(i.fontBackgroundColor=o(t.textStyle2D.backColor)),null!=t.style.fontShadow?i.fontShadow=t.style.fontShadow:t.textStyle2D&&null!=t.textStyle2D.shadow&&(i.fontShadow=t.textStyle2D.shadow),void 0!==t.style.fontShadowColor?i.fontShadowColor=t.style.fontShadowColor:t.textStyle2D&&null!=t.textStyle2D.shadowColor&&(i.fontShadowColor=o(t.textStyle2D.shadowColor)),void 0!==t.style.fontShadowOffsetX?i.fontShadowOffsetX=t.style.fontShadowOffsetX*n/25.4:t.textStyle2D&&null!=t.textStyle2D.shadowOffsetX&&(i.fontShadowOffsetX=t.textStyle2D.shadowOffsetX*n/25.4),void 0!==t.style.fontShadowOffsetY?i.fontShadowOffsetY=t.style.fontShadowOffsetY*n/25.4:t.textStyle2D&&null!=t.textStyle2D.shadowOffsetY&&(i.fontShadowOffsetY=t.textStyle2D.shadowOffsetY*n/25.4),void 0!==t.style.fontSpace&&(i.fontSpace=t.style.fontSpace),void 0!==t.style.fontPercent&&(i.fontPercent=t.style.fontPercent),null!=t.style.fontWeight&&(i.fontWeight=t.style.fontWeight),void 0!==t.style.fontStyle&&(i.fontStyle=t.style.fontStyle),void 0!==t.surroundLineColor&&null!=t.surroundLineColor&&(i.surroundLineColor=o(t.surroundLineColor),i.surroundLineColorOpacity=(t.surroundLineColor.alpha/255).toFixed(2)),void 0!==t.surroundLineWidth2D&&null!=t.surroundLineWidth2D?i.surroundLineWidth=Math.round(t.surroundLineWidth2D*n/25.4):void 0!==t.surroundLineWidth&&null!=t.surroundLineWidth&&(i.surroundLineWidth=Math.round(t.surroundLineWidth*n/25.4)),null!=t.style.graphicWidth&&(i.graphicWidth=t.style.graphicWidth),null!=t.style.graphicHeight&&(i.graphicHeight=t.style.graphicHeight),null!=t.style.graphicOpacity&&(i.graphicOpacity=t.style.graphicOpacity),null!=t.style.graphicXOffset&&(i.graphicXOffset=t.style.graphicXOffset),null!=t.style.graphicYOffset&&(i.graphicYOffset=t.style.graphicYOffset),!1===t.visible?i.display="none":i.display="display",void 0!==t.style.extendHeight&&(i.extendHeight=t.style.extendHeight),i):i},SuperMapAlgoPlot.AnalysisSymbol.setStyle=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.DPI;if(null!=e)return e.style||(e.style={}),e.textStyle2D||(e.textStyle2D={}),o?(e.style.fillSymbolID=t.fillSymbolID,e.style.fillSymbolID||(e.style.fill=t.fill)):(!1===t.fill?t.fillSymbolID=1:!0===t.fill&&(t.fillSymbolID=0),e.style.fillSymbolID=t.fillSymbolID),null!=t.fillGradientMode&&(e.style.fillGradientMode=t.fillGradientMode),null!=t.fillGradientMode&&("LINEAR"===t.fillGradientMode?e.style.fillGradientMode=1:"RADIAL"===t.fillGradientMode?e.style.fillGradientMode=2:e.style.fillGradientMode=0),null!=t.strokeGradientMode&&("LINEAR"===t.strokeGradientMode?e.style.strokeGradientMode=1:"RADIAL"===t.strokeGradientMode?e.style.strokeGradientMode=2:e.style.strokeGradientMode=0),null!=t.strokeBackColor&&(e.style.strokeBackColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.strokeBackColor)),null!=t.strokeBackOpacity&&null!=t.strokeBackColor&&(e.style.strokeBackColor.alpha=255*t.strokeBackOpacity),null!=t.fillAngle&&void 0!==t.fillAngle&&(e.style.fillAngle=t.fillAngle,e.style.fillGradientAngle=t.fillAngle),null!=t.fillCenterOffsetX&&void 0!==t.fillCenterOffsetX&&(e.style.fillCenterOffsetX=100*t.fillCenterOffsetX,e.style.fillGradientOffsetRatioX=100*t.fillCenterOffsetX),null!=t.fillCenterOffsetY&&void 0!==t.fillCenterOffsetY&&(e.style.fillCenterOffsetY=100*t.fillCenterOffsetY,e.style.fillGradientOffsetRatioY=100*t.fillCenterOffsetY),null!=t.fillColor&&(e.style.fillForeColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fillColor)),void 0!==t.fillOpacity&&null!=t.fillOpacity&&(e.style.fillOpaqueRate=100*t.fillOpacity,e.style.fillForeColor.alpha=255),null!=t.fillBackColor&&(e.style.fillBackColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fillBackColor)),null!=t.fillBackOpacity&&(0===t.fillBackOpacity?(e.style.fillBackOpaque=0,e.style.fillBackColor.alpha=255):e.style.fillBackColor&&(e.style.fillBackOpaque=1,e.style.fillBackColor.alpha=255*t.fillBackOpacity)),!0===o&&t.color?e.style.lineColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.color):t.strokeColor&&(e.style.lineColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.strokeColor)),!0===o&&null!=t.opacity&&void 0!==t.opacity?(e.style.lineColor.alpha=255*t.opacity,e.style.lineColor.alpha<1&&(e.style.lineColor.alpha=1)):null!=t.strokeOpacity&&void 0!==t.strokeOpacity&&(e.style.lineColor.alpha=255*t.strokeOpacity,e.style.lineColor.alpha<1&&(e.style.lineColor.alpha=1)),!0===o&&t.weight?e.style.lineWidth=25.4*t.weight/l:t.strokeWidth&&(e.style.lineWidth=25.4*t.strokeWidth/l),o?(e.style.lineSymbolID=t.lineSymbolID,e.style.lineSymbolID||(e.style.dashArray=t.dashArray)):"dot"===t.strokeDashstyle?e.style.lineSymbolID=2:"dash"===t.strokeDashstyle||"longdash"===t.strokeDashstyle?e.style.lineSymbolID=1:"dashdot"===t.strokeDashstyle||"longdashdot"===t.strokeDashstyle?e.style.lineSymbolID=3:e.style.lineSymbolID=0,null!=t.fontFamily&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.fontName=t.fontFamily:e.textStyle&&null!=e.textStyle&&(e.textStyle.fontName=t.fontFamily)),null!=t.sizeFixed&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.sizeFixed=t.sizeFixed:e.textStyle&&null!=e.textStyle&&(e.textStyle.sizeFixed=t.sizeFixed)),null!=t.fontSize&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.fontHeight=25.4*t.fontSize/l:e.textStyle&&null!=e.textStyle&&(e.textStyle.fontHeight=25.4*t.fontSize/l)),null!=t.fontWeight&&(e.textStyle2D&&null!=e.textStyle2D?"bold"===t.fontWeight?e.textStyle2D.bold=!0:e.textStyle2D.bold=!1:e.textStyle&&null!=e.textStyle&&("bold"===t.fontWeight?e.textStyle.bold=!0:e.textStyle.bold=!1)),null!=t.fontColor&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.foreColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontColor):e.textStyle&&null!=e.textStyle&&(e.textStyle.foreColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontColor))),null!=t.fontOpacity&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.foreColor.alpha=255*t.fontOpacity:e.textStyle&&null!=e.textStyle&&(e.textStyle.foreColor.alpha=255*t.fontOpacity)),null!=t.labelRotation&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.rotation=-t.labelRotation:e.textStyle&&null!=e.textStyle&&(e.textStyle.rotation=-t.labelRotation)),void 0!==t.fontStroke&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.outline=t.fontStroke:e.textStyle&&null!=e.textStyle&&(e.textStyle.outline=t.fontStroke)),null!=t.fontStrokeColor&&(e.textStyle2D.fontStrokeColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontStrokeColor)),void 0!==t.fontStrokeWidth&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.outlineWidth=25.4*t.fontStrokeWidth/l:e.textStyle&&null!=e.textStyle&&(e.textStyle.outlineWidth=25.4*t.fontStrokeWidth/l)),void 0!==t.fontBackground&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.backOpaque=t.fontBackground:e.textStyle&&null!=e.textStyle&&(e.textStyle.backOpaque=t.fontBackground)),void 0!==t.fontBackgroundColor&&(e.textStyle2D.fontBackgroundColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontBackgroundColor)),null!=t.fontStroke&&!0===t.fontStroke?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.backColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontStrokeColor):e.textStyle&&null!=e.textStyle&&(e.textStyle.backColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontStrokeColor)):null!=t.fontBackground&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.backColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontBackgroundColor):e.textStyle&&null!=e.textStyle&&(e.textStyle.backColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontBackgroundColor))),void 0!==t.fontShadow&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.shadow=t.fontShadow:e.textStyle&&null!=e.textStyle&&(e.textStyle.shadow=t.fontShadow)),void 0!==t.fontShadowColor&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.shadowColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontShadowColor):e.textStyle&&null!=e.textStyle&&(e.textStyle.shadowColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.fontShadowColor))),void 0!==t.fontShadowOffsetX&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.shadowOffsetX=25.4*t.fontShadowOffsetX/l:e.textStyle&&null!=e.textStyle&&(e.textStyle.shadowOffsetX=25.4*t.fontShadowOffsetX/l)),void 0!==t.fontShadowOffsetY&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.shadowOffsetY=25.4*t.fontShadowOffsetY/l:e.textStyle&&null!=e.textStyle&&(e.textStyle.shadowOffsetY=25.4*t.fontShadowOffsetY/l)),void 0!==t.fontSpace&&(e.style.fontSpace=t.fontSpace),void 0!==t.fontPercent&&(e.style.fontPercent=t.fontPercent),void 0!==t.fontWeight&&(e.style.fontWeight=t.fontWeight),void 0!==t.fontStyle&&(e.style.fontStyle=t.fontStyle),t.surroundLineColor&&(e.surroundLineColor=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(t.surroundLineColor)),null!=t.surroundLineColorOpacity&&void 0!==t.surroundLineColorOpacity&&(e.surroundLineColor.alpha=255*t.surroundLineColorOpacity),null!=t.surroundLineWidth&&(e.surroundLineWidth2D=25.4*t.surroundLineWidth/l),void 0!==t.labelAlign&&("lt"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=0:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=0):"ct"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=1:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=1):"rt"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=2:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=2):"lb"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=6:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=6):"cb"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=7:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=7):"rb"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=8:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=8):"lm"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=9:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=9):"cm"===t.labelAlign?e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=10:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=10):"rm"===t.labelAlign&&(e.textStyle2D&&null!=e.textStyle2D?e.textStyle2D.align=11:e.textStyle&&null!=e.textStyle&&(e.textStyle.align=11))),null!=t.graphicWidth&&(e.style.graphicWidth=t.graphicWidth),null!=t.graphicHeight&&(e.style.graphicHeight=t.graphicHeight),null!=t.graphicOpacity&&(e.style.graphicOpacity=t.graphicOpacity),null!=t.graphicXOffset&&(e.style.graphicXOffset=t.graphicXOffset),null!=t.graphicYOffset&&(e.style.graphicYOffset=t.graphicYOffset),t.display&&"none"===t.display?e.visible=!1:e.visible=!0,void 0!==t.extendHeight&&(e.style.extendHeight=t.extendHeight),t},SuperMapAlgoPlot.AnalysisSymbol.mergeDefaultStyleToFeature=function(t,e,o){var l,n;l=t.style,n=!0!==o?t.geometry:t,e&&!0===e.defaultFlag&&!1===n.isEdit&&(n.surroundLineType=e.surroundLineType,l.surroundLineColor=e.surroundLineColor,l.surroundLineWidth=e.surroundLineWidth,l.surroundLineColorOpacity=e.surroundLineColorOpacity,l.fillBackColor=e.fillBackColor,l.fillBackOpacity=e.fillBackOpacity,l.fillGradientMode=e.fillGradientMode,l.fillCenterOffsetX=e.fillCenterOffsetX,l.fillCenterOffsetY=e.fillCenterOffsetY,l.fillAngle=e.fillAngle,!0===o?(l.color=e.lineColor,l.weight=e.lineWidth,l.opacity=e.lineOpacity,l.lineSymbolID=e.lineType,l.lineCap=e.lineCap,l.lineJoin=e.lineJoin):(l.strokeColor=e.lineColor,l.strokeWidth=e.lineWidth,l.strokeOpacity=e.lineOpacity,l.strokeDashstyle=e.lineType,l.strokeLinecap=e.lineCap,l.strokeLinejoin=e.lineJoin),l.fillSymbolID=e.fillSymbolID,l.fillColor=e.fillColor,l.fillOpacity=e.fillOpacity,l.fontColor=e.fontColor,l.fontOpacity=e.fontOpacity,l.fontSize=e.fontSize,l.fontFamily=e.fontFamily,l.fontWeight=e.fontWeight,l.fontStyle=e.fontStyle,l.fontStroke=e.fontStroke,l.fontStrokeColor=e.fontStrokeColor,l.fontStrokeWidth=e.fontStrokeWidth,l.fontBackground=e.fontBackground,l.fontBackgroundColor=e.fontBackgroundColor,l.fontShadow=e.fontShadow,l.fontShadowColor=e.fontShadowColor,l.fontShadowOffsetX=e.fontShadowOffsetX,l.fontShadowOffsetY=e.fontShadowOffsetY,l.fontSpace=e.fontSpace,l.fontPercent=e.fontPercent,l.strokeGradientMode=e.strokeGradientMode,l.strokeBackColor=e.strokeBackColor,l.strokeBackOpacity=e.strokeBackOpacity)},SuperMapAlgoPlot.AnalysisSymbol.mergeSymbolDataAndServerData=function(t,e){Object.prototype.hasOwnProperty.call(t,"algoMinEditPts")||(t.algoMinEditPts=e.algoMinEditPts),Object.prototype.hasOwnProperty.call(t,"algoMaxEditPts")||(t.algoMaxEditPts=e.algoMaxEditPts),Object.prototype.hasOwnProperty.call(t,"innerCells")||(t.innerCells=SuperMap.Util.cloneObject(e.innerCells)),Object.prototype.hasOwnProperty.call(t,"symbolRanks")||(t.symbolRanks=SuperMap.Util.cloneObject(e.symbolRanks)),Object.prototype.hasOwnProperty.call(t,"symbolSizeInLib")||(t.symbolSizeInLib=SuperMap.Util.cloneObject(e.symbolSize)),Object.prototype.hasOwnProperty.call(t,"middleMarkExist")||(t.middleMarkExist=SuperMap.Util.cloneObject(e.middleMarkExist)),Object.prototype.hasOwnProperty.call(t,"middleMarkBounds")||(t.middleMarkBounds=SuperMap.Util.cloneObject(e.middleMarkBounds)),Object.prototype.hasOwnProperty.call(t,"anchorPoint")||(t.anchorPoint=SuperMap.Util.cloneObject(e.anchorPoint))},SuperMapAlgoPlot.AnalysisSymbol.setSymbolData=function(t,e,o){null==e&&(e={}),Object.prototype.hasOwnProperty.call(e,"type")||(0!=t.libID||t.code!=SuperMap.Plot.SymbolType.GROUPOBJECT&&t.code!=SuperMap.Plot.SymbolType.FLAGGROUP?e.type="GRAPHICOBJECT":e.type="GraphicCollection"),Object.prototype.hasOwnProperty.call(e,"version")||(e.version=2),e.isEdit=!0,e.uuid=t.uuid,e.associatedUuid=t.associatedUuid,Object.prototype.hasOwnProperty.call(e,"rotate2D")?e.rotate2D.x=t.dRotate:e.rotate2D={x:t.dRotate,y:0,z:0},Object.prototype.hasOwnProperty.call(e,"scale2D")?e.scale2D.x=t.dScale:e.scale2D={x:t.dScale,y:0,z:0},e.libID=t.libID,e.code=t.code,e.algoMaxEditPts=t.maxEditPts,e.algoMinEditPts=t.minEditPts,e.symbolType=t.symbolType,e.symbolName=t.symbolName,e.annotationPosition=null!=t.annotationPosition?t.annotationPosition:t.textPosition,e.textContent=t.textContent,e.textDisplay=t.textDisplay,e.scaleByMap=t.scaleByMap,e.resolution=t.resolution,e.isLocked=t.isLocked,e.note=t.note,e.custom=t.custom,e.subSymbols=[];for(var l=0;l<t.subSymbols.length;l++){var n=t.subSymbols[l],i=void 0;"string"==typeof n.lineColor&&(i=SuperMapAlgoPlot.PlottingUtil.colorStringToRGB(n.lineColor));var r=25.4*n.width2D/SuperMapAlgoPlot.PlottingUtil.DPI;e.subSymbols.push({libID:n.libID,code:n.code,symbolData:n.symbolData,textContent:n.textContent,totalNum:n.totalNum,lineColor:i,width2D:r,width3D:n.width3D})}e.extendProperty=[];for(var a=t.getExtendProperty().getPropertyCount(),s=0;s<a;s++){var p=t.getExtendProperty().getPropertyByIndex(s);e.extendProperty.push({key:p.key,value:p.value})}e.avoidRegions=[];for(var u=0;u<t.avoidRegions.length;u++){for(var c=[],P=0;P<t.avoidRegions[0].latLngs.length;P++)c.push({x:t.avoidRegions[0].getLatLngs()[P].lng,y:t.avoidRegions[0].getLatLngs()[P].lat,z:0});e.avoidRegions.push(c)}if(!0===o?SuperMapAlgoPlot.AnalysisSymbol.setStyle(t.style,e,o):null!=t.feature&&SuperMapAlgoPlot.AnalysisSymbol.setStyle(t.feature.style,e),t.symbolType===SuperMapAlgoPlot.SymbolType.AIRROUTE||t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYROUTE||t.symbolType===SuperMapAlgoPlot.SymbolType.MISSILEROUTE){for(var g in e.routeNodes=[],t.routeNodes)e.routeNodes.push(t.routeNodes[g].setSymbolData());e.arrRoutePts=t.arrRoutePts,o||SuperMapAlgoPlot.AnalysisSymbol.setStyle(t.lineStyle,e)}else if(t.symbolType===SuperMapAlgoPlot.SymbolType.GROUPOBJECT||t.symbolType===SuperMapAlgoPlot.SymbolType.FLAGGROUP||t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYDEPLOYMENT||t.symbolType===SuperMapAlgoPlot.SymbolType.AIRDEPLOYMENT){if(e.subAssociatedUuids=t.subAssociatedUuids,e.geometries=[],o)for(P=0;P<t.subObjects.length;P++)e.geometries.push(t.subObjects[P].getSymbolData());else for(var y=0;y<t.components.length;y++)e.geometries.push(t.components[y].geometry.getSymbolData());0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.FLAGGROUP?e.ratios=t.ratio:0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.AIRDEPLOYMENT?(e.colNum=t.colNum,e.speceDis=t.speceDis,e.isShowTooltip=t.isShowTooltip):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYDEPLOYMENT&&(e.colNum=t.colNum,e.speceDis=t.speceDis)}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXT){var h=[];for(var f in t.symbolTexts)h.push(t.symbolTexts[f].setSymbolData());e.symbolTexts=h,e.addFrame=t.addFrame}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXT1)e.space=t.space,e.offsetX=t.offsetX,e.offsetY=t.offsetY;else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.TRAJECTORY)e.trajectoryType=t.trajectoryType,e.trajectoryLength=t.trajectoryLength,e.showTrackingLine=t.showTrackingLine,e.showTrackingPoint=t.showTrackingPoint,e.trackingPointRadius=t.trackingPointRadius,e.saveTrackingPoint=t.saveTrackingPoint;else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SATELLITE){if(Object.prototype.hasOwnProperty.call(e,"scaleValues"))for(var S=0;S<t.scaleValues.length;S++)e.scaleValues.length>S?e.scaleValues[S]=t.scaleValues[S]:e.scaleValues.push(t.scaleValues[S]);else e.scaleValues=[],e.scaleValues=t.scaleValues;e.visible=t.visible,e.orbitPoints=t.orbitPoints}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SATELLITETIMEWINDOWS)e.timeWindows=t.timeWindows;else{var A;A=!0===o?L.Util.latLngsToSuperMapPoints(t.getLatLngs()):t.controlPoints,t.symbolData&&"number"==typeof e.dotShowMode&&(e.dotShowMode=t.dotShowMode),t.picturePath&&(e.picturePath=t.picturePath),t.modelPath&&(e.modelPath=t.modelPath),t.symbolRank&&(e.symbolRank=t.symbolRank),e.localePoints=[];var M=A.length;t.symbolType===SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL&&(M=3);for(var d=0;d<M;d++)null!=t.arrZ&&t.arrZ.length>d?e.localePoints.push({x:A[d].x,y:A[d].y,z:t.arrZ[d]}):e.localePoints.push({x:A[d].x,y:A[d].y,z:0});if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.LINERELATION)e.endAssociation=t.endAssociatedUuid,e.lineRelationType=t.lineRelationType,e.startAssociation=t.startAssociatedUuid,e.subSectionCount=t.subSectionCount;else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.PICTURE){if(e.path=t.path,e.symbolTexts=[],null!=t.symbolTexts&&0!=t.symbolTexts.length)for(var b=0;b<t.symbolTexts.length;b++)e.symbolTexts.push(t.symbolTexts[b].setSymbolData());if(e.bloodVolumes=[],null!=t.bloodVolumes&&0!=t.bloodVolumes.length)for(var v=0;v<t.bloodVolumes.length;v++)e.bloodVolumes.push(t.bloodVolumes[v].setSymbolData());null!=t.trajectory&&(e.trajectory=t.trajectory.setSymbolData()),null!=e.antoRotation&&(t.antoRotation=e.antoRotation)}else if(t.symbolType===SuperMapAlgoPlot.SymbolType.DOTSYMBOL){e.surroundLineType=t.surroundLineType,e.symbolRank=t.symbolRank,e.negativeImage=t.negativeImage,e.horizontalMirror=t.horizontalMirror,e.verticalMirror=t.verticalMirror,e.space=25.4*t.space/SuperMapAlgoPlot.PlottingUtil.DPI,e.flagTextSize=t.flagTextSize,e.maxScale=t.maxScale,e.minScale=t.minScale,e.actualScale=t.actualScale,void 0!==t.fontSize&&(e.fontSize=t.fontSize),void 0!==t.strokeWidth&&(e.strokeWidth=t.strokeWidth);var m=25.4*t.symbolSize.w*10/SuperMapAlgoPlot.PlottingUtil.DPI,O=25.4*t.symbolSize.h*10/SuperMapAlgoPlot.PlottingUtil.DPI;e.symbolSize={x:m,y:O};var T=25.4*t.symbolSizeInLib.w*10/SuperMapAlgoPlot.PlottingUtil.DPI,w=25.4*t.symbolSizeInLib.h*10/SuperMapAlgoPlot.PlottingUtil.DPI;if(e.symbolSizeInLib={x:T,y:w},e.positionOffset=t.positionOffset,e.positionOffsetType=t.positionOffsetType,e.positionOffsetX=25.4*t.positionOffsetX*10/SuperMapAlgoPlot.PlottingUtil.DPI,e.positionOffsetY=25.4*t.positionOffsetY*10/SuperMapAlgoPlot.PlottingUtil.DPI*-1,!1===t.widthHeightLimit||!0===t.widthHeightLimit?e.limitWidthHeight=t.widthHeightLimit:e.limitWidthHeight=t.limitWidthHeight,e.symbolTexts=[],null!=t.symbolTexts&&0!=t.symbolTexts.length)for(var x=0;x<t.symbolTexts.length;x++)e.symbolTexts.push(t.symbolTexts[x].setSymbolData());if(e.bloodVolumes=[],null!=t.bloodVolumes&&0!=t.bloodVolumes.length)for(var R=0;R<t.bloodVolumes.length;R++)e.bloodVolumes.push(t.bloodVolumes[R].setSymbolData());if(e.pictureFrames=[],null!=t.pictureFrames&&0!=t.pictureFrames.length)for(var U=0;U<t.pictureFrames.length;U++)e.pictureFrames.push(t.pictureFrames[U].setSymbolData());null!=t.trajectory&&(e.trajectory=t.trajectory.setSymbolData()),null!=e.antoRotation&&(t.antoRotation=e.antoRotation)}else{if(e.surroundLineType=t.surroundLineType,Object.prototype.hasOwnProperty.call(e,"scaleValues"))for(var E=0;E<t.scaleValues.length;E++)e.scaleValues.length>E?e.scaleValues[E]=t.scaleValues[E]:e.scaleValues.push(t.scaleValues[E]);else e.scaleValues=[],e.scaleValues=t.scaleValues;e.subSymbolScaleValue=t.subSymbolScaleValue,e.baseScale=t.baseScale,e.strokeWidth=t.strokeWidth,e.polylineConnectLocationPoint=t.polylineConnectLocationPoint,void 0!==t.isClampToGround&&(e.isClampToGround=t.isClampToGround),22===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ALGOSYMBOL?(e.arrowHeadType=t.arrowHeadType,e.arrowBodyType=t.arrowBodyType,e.arrowTailType=t.arrowTailType):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ARROWLINE?e.arrowAngle=t.arrowAngle:0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE?e.defaultRadius=t.defaultRadius:0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE||(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.LINEMARKING?(e.islocationCircle=t.islocationCircle,e.textBoxType=t.textBoxType):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX?(e.roundBox=t.roundBox,e.textBoxType=t.textBoxType):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.PATHTEXT?(e.isAvoid=t.isAvoid,e.isCurve=t.isCurve,e.relLineText=t.relLineText,e.showPathLine=t.showPathLine,e.textToLineDistance=t.textToLineDistance,e.showPathLineArrow=t.showPathLineArrow):0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ARCREGION&&(o?(e.centerPoint={x:t.centerPoint.lng,y:t.centerPoint.lat},e.circlePts=t.circlePts,e.spatialAnalystUrl=t.spatialAnalystUrl):e.centerPoint=t.centerPoint,e.endAngle=t.endAngle,e.radius=t.radius,e.radiusPosAngle=t.radiusPosAngle,e.startAngle=t.startAngle,e.textPosition=t.textPosition,e.radiusLineType=t.radiusLineType,e.radiusText=t.radiusText))}}t.symbolData=e},SuperMapAlgoPlot.AnalysisSymbol.parseSymbolData=function(t,e,o){if(null!=e){if(null!=e.isEdit&&(t.isEdit=e.isEdit),Object.prototype.hasOwnProperty.call(e,"version")&&(t.version=e.version),Object.prototype.hasOwnProperty.call(e,"libID")&&(t.libID=parseInt(e.libID)),Object.prototype.hasOwnProperty.call(e,"code")&&(t.code=parseInt(e.code)),Object.prototype.hasOwnProperty.call(e,"algoMaxEditPts")&&(t.maxEditPts=parseInt(e.algoMaxEditPts)),Object.prototype.hasOwnProperty.call(e,"algoMinEditPts")&&(t.minEditPts=parseInt(e.algoMinEditPts)),Object.prototype.hasOwnProperty.call(e,"symbolType")&&(t.symbolType=parseInt(e.symbolType)),Object.prototype.hasOwnProperty.call(e,"symbolName")&&(t.symbolName=e.symbolName),Object.prototype.hasOwnProperty.call(e,"textContent")&&(t.textContent=e.textContent),Object.prototype.hasOwnProperty.call(e,"bubbleHeight")&&(t.bubbleHeight=e.bubbleHeight),Object.prototype.hasOwnProperty.call(e,"bubbleWidth")&&(t.bubbleWidth=e.bubbleWidth),Object.prototype.hasOwnProperty.call(e,"description")&&(t.description=e.description),Object.prototype.hasOwnProperty.call(e,"mediaList")&&(t.mediaList=e.mediaList),null!=e.dScale?t.dScale=e.dScale:void 0!==e.scale2D&&(t.dScale=e.scale2D.x),null!=e.dRotate?t.dRotate=e.dRotate:void 0!==e.rotate2D&&(t.dRotate=e.rotate2D.x),null!=e.resolution&&(t.resolution=e.resolution),null!=e.uuid&&(t.uuid=e.uuid),null!=e.associatedUuid&&(t.associatedUuid=e.associatedUuid),null!=e.textDisplay&&(t.textDisplay=e.textDisplay),null!=e.annotationPosition&&(o?t.annotationPosition=e.annotationPosition:t.textPosition=e.annotationPosition),null!=e.scaleByMap&&(t.scaleByMap=e.scaleByMap),void 0!==e.isLocked&&(t.isLocked=e.isLocked),void 0!==e.note&&(t.note=e.note),void 0!==e.custom&&(t.custom=e.custom),e.extendProperty)for(var l=0;l<e.extendProperty.length;l++){var n=e.extendProperty[l];t.extendProperty.addProperty(n.key,n.value)}if(Object.prototype.hasOwnProperty.call(e,"subSymbols")&&null!=e.subSymbols){t.subSymbols=[];for(var i=0;i<e.subSymbols.length;i++){var r=e.subSymbols[i].libID;void 0===r&&(r=t.libID);var a=e.subSymbols[i].code;if(void 0!==a){var s={};void 0!==e.subSymbols[i].textContent&&(s.textContent=e.subSymbols[i].textContent),void 0!==e.subSymbols[i].totalNum&&(s.totalNum=e.subSymbols[i].totalNum),void 0!==e.subSymbols[i].symbolData&&(s.symbolData=e.subSymbols[i].symbolData),void 0!==e.subSymbols[i].lineColor&&(s.lineColor=e.subSymbols[i].lineColor),void 0!==e.subSymbols[i].width2D&&(s.width2D=Math.ceil(e.subSymbols[i].width2D*SuperMapAlgoPlot.PlottingUtil.DPI/25.4)),void 0!==e.subSymbols[i].width3D&&(s.width3D=e.subSymbols[i].width3D),t.subSymbols.push(new SuperMapAlgoPlot.SubSymbol(r,a,s))}}}if(e.avoidRegions&&0!==e.avoidRegions.length)for(var p=0;p<e.avoidRegions.length;p++){var u=null;if(Object.prototype.hasOwnProperty.call(e.avoidRegions[p][0],"controlPoints")){var c={libID:0,code:SuperMapAlgoPlot.SymbolType.AVOIDREGION,map:t.map,symbolData:e.avoidRegions[p][0]};if(o)(u=L.supermap.plotting.avoidRegion(0,SuperMapAlgoPlot.SymbolType.AVOIDREGION,[],c)).style=SuperMapAlgoPlot.AnalysisSymbol.getStyle(t.symbolData.avoidRegions[p][1],!0);else{u=new SuperMap.Geometry.AvoidRegion(c);var P=new SuperMap.Feature.Vector(u);P.style=SuperMapAlgoPlot.AnalysisSymbol.getStyle(e.avoidRegions[p][1],o),u.feature=P,u.calculateParts()}}else{for(var g=[],y=0;y<e.avoidRegions[p].length;y++)g.push(new SuperMapAlgoPlot.Point(e.avoidRegions[p][y].x,e.avoidRegions[p][y].y));if(o){var h={libID:0,code:SuperMapAlgoPlot.SymbolType.AVOIDREGION,map:t.map,latLngs:L.Util.superMapPointsToLatLngs(g)};u=L.supermap.plotting.avoidRegion(0,SuperMapAlgoPlot.SymbolType.AVOIDREGION,[],h)}else{var f={libID:0,code:SuperMapAlgoPlot.SymbolType.AVOIDREGION,map:t.map,controlPoints:g};u=new SuperMap.Geometry.AvoidRegion(f);var S=new SuperMap.Feature.Vector(u);u.feature=S,u.calculateParts()}}t.avoidRegions.push(u)}if(!0===o){var A=SuperMapAlgoPlot.AnalysisSymbol.getStyle(e,!0);SuperMap.Util.applyDefaults(A,t.style),t.style=A}if(t.symbolType===SuperMapAlgoPlot.SymbolType.AIRROUTE||t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYROUTE||t.symbolType===SuperMapAlgoPlot.SymbolType.MISSILEROUTE){for(var M in t.routeNodes=[],e.routeNodes){var d=new SuperMapAlgoPlot.RouteNode;t.routeNodes.push(d.parseSymbolData(e.routeNodes[M]))}t.arrRoutePts=[];for(var b=0;b<e.arrRoutePts.length;b++){for(var v=[],m=0;m<e.arrRoutePts[b].length;m++)Object.prototype.hasOwnProperty.call(e.arrRoutePts[b][m],"lat")&&Object.prototype.hasOwnProperty.call(e.arrRoutePts[b][m],"lng")?v.push(new SuperMapAlgoPlot.Point(e.arrRoutePts[b][m].lng,e.arrRoutePts[b][m].lat)):void 0===e.arrRoutePts[b][m].x&&void 0===e.arrRoutePts[b][m].y||v.push(new SuperMapAlgoPlot.Point(e.arrRoutePts[b][m].x,e.arrRoutePts[b][m].y));o&&(v=L.Util.superMapPointsToLatLngs(v)),t.arrRoutePts.push(v)}o||(t.lineStyle=SuperMapAlgoPlot.AnalysisSymbol.getStyle(e,!1))}else if(t.symbolType===SuperMapAlgoPlot.SymbolType.GROUPOBJECT||t.symbolType===SuperMapAlgoPlot.SymbolType.FLAGGROUP||t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYDEPLOYMENT||t.symbolType===SuperMapAlgoPlot.SymbolType.AIRDEPLOYMENT){if(null!=e.subAssociatedUuids&&(t.subAssociatedUuids=e.subAssociatedUuids),null!=e.geometries)if(o){for(var O=[],T=0;T<e.geometries.length;T++){var w=e.geometries[T];w.uuid=SuperMapAlgoPlot.PlottingUtil.generateUuid();var x=L.supermap.plotting.PlottingObject.createSymbol(w.libID,w.code,null,{symbolData:w});O.push(x)}t.subObjects=O}else for(var R=0;R<e.geometries.length;R++){var U=e.geometries[R],E=SuperMap.Geometry.PlottingGeometry.createFeature(U.libID,U.code,null,{symbolData:U,map:t.map});E.geometry.ownGroupObj=t,t.components.push(E)}else if(o){O=[];for(var C=0;C<e.subFeatures.length;C++){var I=e.subFeatures[C];I.uuid=SuperMapAlgoPlot.PlottingUtil.generateUuid();var B=L.supermap.plotting.PlottingObject.createSymbol(I.libID,I.code,null,{symbolData:I});O.push(B)}t.subObjects=O}else for(var D=0;D<e.subFeatures.length;D++){var _=e.subFeatures[D],N=SuperMap.Geometry.PlottingGeometry.createFeature(_.libID,_.code,null,{symbolData:_,map:t.map});N.geometry.ownGroupObj=t,t.components.push(N)}0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.FLAGGROUP&&(null!=e.ratios?t.ratios=e.ratios:null!=e.ratio&&(t.ratios=e.ratio)),0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.AIRDEPLOYMENT&&(t.colNum=e.colNum,t.speceDis=e.speceDis,t.isShowTooltip=e.isShowTooltip),0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.NAVYDEPLOYMENT&&(t.colNum=e.colNum,t.speceDis=e.speceDis)}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXT){t.addFrame=e.addFrame,t.symbolTexts=[];for(var V=0,k=e.symbolTexts.length;V<k;V++){var j=new SuperMapAlgoPlot.SymbolText;j.parseSymbolData(e.symbolTexts[V]),t.symbolTexts.push(j)}}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXT1)void 0!==e.space&&(t.space=e.space),void 0!==e.offsetX&&(t.offsetX=e.offsetX),void 0!==e.offsetY&&(t.offsetY=e.offsetY);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.TRAJECTORY)void 0!==e.trajectoryType&&(t.trajectoryType=e.trajectoryType),void 0!==e.trajectoryLength&&(t.trajectoryLength=e.trajectoryLength),void 0!==e.showTrackingLine&&(t.showTrackingLine=e.showTrackingLine),void 0!==e.showTrackingPoint&&(t.showTrackingPoint=e.showTrackingPoint),void 0!==e.trackingPointRadius&&(t.trackingPointRadius=e.trackingPointRadius),void 0!==e.saveTrackingPoint&&(t.saveTrackingPoint=e.saveTrackingPoint);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SATELLITE){if(e.scaleValues&&0!==e.scaleValues.length){t.scaleValues=[];for(var Y=0;Y<e.scaleValues.length;Y++)t.scaleValues.push(e.scaleValues[Y])}if(e.subSymbol&&(t.subSymbols=[e.subSymbol]),t.visible=e.visible,e.orbitPoints){t.orbitPoints=[];for(var z=0;z<e.orbitPoints.length;z++)t.orbitPoints.push(new SuperMapAlgoPlot.OrbitPoint(e.orbitPoints[z].x,e.orbitPoints[z].y,e.orbitPoints[z].z,e.orbitPoints[z].number,e.orbitPoints[z].time))}}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SATELLITETIMEWINDOWS){t.timeWindows=e.timeWindows;for(var F=0;F<t.timeWindows.length;F++)"Time"!==e.type&&"number"!==e.type||(t.timeWindows[F].type=e.type)}else{if(e.localePoints){t.controlPoints=[],t.arrZ=[];for(var W=0;W<e.localePoints.length;W++)t.controlPoints.push(new SuperMapAlgoPlot.Point(e.localePoints[W].x,e.localePoints[W].y)),null!=e.localePoints[W].z?t.arrZ.push(e.localePoints[W].z):t.arrZ.push(0);!0===o&&(t.latLngs=L.Util.superMapPointsToLatLngs(t.controlPoints),delete t.controlPoints)}if(e.modelPath&&(t.modelPath=e.modelPath),e.picturePath&&(t.picturePath=e.picturePath),"number"==typeof e.dotShowMode&&(t.dotShowMode=e.dotShowMode),e.symbolRank&&(t.symbolData.symbolRank=e.symbolRank),0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.LINERELATION)null!=e.startAssociation?t.startAssociatedUuid=e.startAssociation:null!=e.startAssociatedUuid&&(t.startAssociatedUuid=e.startAssociatedUuid),null!=e.endAssociation?t.endAssociatedUuid=e.endAssociation:null!=e.endAssociatedUuid&&(t.endAssociatedUuid=e.endAssociatedUuid),null!=e.lineRelationType&&(t.lineRelationType=e.lineRelationType),null!=e.subSectionCount&&(t.subSectionCount=e.subSectionCount);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.PICTURE){if(t.path=e.path,null!=e.symbolTexts&&0!==e.symbolTexts.length){t.symbolTexts=[];for(var G=0;G<e.symbolTexts.length;G++){var H=new SuperMapAlgoPlot.SymbolText;H.parseSymbolData(e.symbolTexts[G]),t.symbolTexts.push(H)}}if(null!=e.bloodVolumes&&0!==e.bloodVolumes.length){t.bloodVolumes=[];for(var q=0;q<e.bloodVolumes.length;q++){var J=new SuperMapAlgoPlot.BloodVolume;J.parseSymbolData(e.bloodVolumes[q]),t.bloodVolumes.push(J)}}if(null!=e.trajectory){var Z=new SuperMapAlgoPlot.Trajectory;Z.parseSymbolData(e.trajectory),t.trajectory=Z}null!=e.antoRotation&&(t.antoRotation=e.antoRotation)}else if(t.symbolType===SuperMapAlgoPlot.SymbolType.DOTSYMBOL){t.surroundLineType=e.surroundLineType,t.symbolRank=e.symbolRank,t.negativeImage=e.negativeImage,t.horizontalMirror=e.horizontalMirror,t.verticalMirror=e.verticalMirror;var X=SuperMapAlgoPlot.AnalysisSymbol.analysisDotBasicInfo(e);if(t.anchorPoint=X.anchorPoint,t.symbolSizeInLib=X.symbolSizeInLib,t.middleMarkBounds=X.middleMarkBounds,void 0!==e.actualScale&&(t.actualScale=e.actualScale),void 0!==e.limitWidthHeight&&(t.limitWidthHeight=e.limitWidthHeight),void 0!==e.fontSize&&(t.fontSize=e.fontSize),void 0!==e.strokeWidth&&(t.strokeWidth=e.strokeWidth),void 0!==e.space&&(t.space=e.space*SuperMapAlgoPlot.PlottingUtil.DPI/25.4),void 0!==e.flagTextSize&&(t.flagTextSize=e.flagTextSize),void 0!==e.maxScale&&(t.maxScale=e.maxScale),void 0!==e.minScale&&(t.minScale=e.minScale),!1!==t.isEdit){var Q={x:0,y:0};-1===e.symbolSize.x&&-1===e.symbolSize.x?(Q.x=e.symbolSizeInLib.x*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10,Q.y=e.symbolSizeInLib.y*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10):(Q.x=e.symbolSize.x*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10,Q.y=e.symbolSize.y*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10),t.setSymbolSize(Q.x,Q.y,!1)}if(void 0!==e.positionOffset&&null!==e.positionOffset&&(t.positionOffset=e.positionOffset),void 0!==e.positionOffsetType&&null!==e.positionOffsetType&&(t.positionOffsetType=e.positionOffsetType),void 0!==e.positionOffsetX&&null!==e.positionOffsetX&&(t.positionOffsetX=e.positionOffsetX*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10),void 0!==e.positionOffsetY&&null!==e.positionOffsetY&&(t.positionOffsetY=e.positionOffsetY*SuperMapAlgoPlot.PlottingUtil.DPI/25.4/10*-1),null!=e.symbolTexts&&0!==e.symbolTexts.length){t.symbolTexts=[];for(var K=0;K<e.symbolTexts.length;K++){var $=new SuperMapAlgoPlot.SymbolText;$.parseSymbolData(e.symbolTexts[K]),t.symbolTexts.push($)}}if(null!=e.bloodVolumes&&0!==e.bloodVolumes.length){t.bloodVolumes=[];for(var tt=0;tt<e.bloodVolumes.length;tt++){var et=new SuperMapAlgoPlot.BloodVolume;et.parseSymbolData(e.bloodVolumes[tt]),t.bloodVolumes.push(et)}}if(null!=e.pictureFrames&&0!==e.pictureFrames.length){t.pictureFrames=[];for(var ot=0;ot<e.pictureFrames.length;ot++){var lt=new SuperMapAlgoPlot.PictureFrame;lt.parseSymbolData(e.pictureFrames[ot]),t.pictureFrames.push(lt)}}if(null!=e.trajectory){var nt=new SuperMapAlgoPlot.Trajectory;nt.parseSymbolData(e.trajectory),t.trajectory=nt}null!=e.antoRotation&&(t.antoRotation=e.antoRotation)}else{if(t.surroundLineType=e.surroundLineType,e.scaleValues&&0!==e.scaleValues.length){t.scaleValues=[];for(var it=0;it<e.scaleValues.length;it++)t.scaleValues.push(e.scaleValues[it])}if(void 0!==e.isClampToGround&&(t.isClampToGround=e.isClampToGround),void 0!==e.strokeWidth&&null!==e.strokeWidth&&(t.strokeWidth=e.strokeWidth),void 0!==e.baseScale&&null!==e.baseScale&&(t.baseScale=e.baseScale),void 0!==e.polylineConnectLocationPoint&&null!==e.polylineConnectLocationPoint&&(t.polylineConnectLocationPoint=e.polylineConnectLocationPoint),22===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ALGOSYMBOL)void 0!==e.arrowHeadType&&null!==e.arrowHeadType&&(t.arrowHeadType=e.arrowHeadType),void 0!==e.arrowBodyType&&null!==e.arrowBodyType&&(t.arrowBodyType=e.arrowBodyType),void 0!==e.arrowTailType&&null!==e.arrowTailType&&(t.arrowTailType=e.arrowTailType);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ARROWLINE)t.arrowAngle=e.arrowAngle,void 0!==e.arrowTypeStart&&(t.scaleValues[1]=e.arrowTypeStart),void 0!==e.arrowTypeEnd&&(t.scaleValues[2]=e.arrowTypeEnd);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE){if(e.radius&&0!==e.radius.length&&0===t.scaleValues.length)for(var rt=0;rt<e.radius.length;rt++)t.scaleValues.push(e.radius[rt])}else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE)Object.prototype.hasOwnProperty.call(t.symbolData,"startAngle")&&(t.scaleValues[0]=t.symbolData.startAngle),Object.prototype.hasOwnProperty.call(t.symbolData,"endAngle")&&(t.scaleValues[1]=t.symbolData.endAngle);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.LINEMARKING)void 0!==e.islocationCircle&&null!==e.islocationCircle&&(t.islocationCircle=e.islocationCircle),void 0!==e.textBoxType&&null!==e.textBoxType&&(t.textBoxType=e.textBoxType),e.tipPoint&&(this.scaleValues[1]=e.tipPoint.x,this.scaleValues[2]=e.tipPoint.y);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX)void 0!==e.roundBox&&null!==e.roundBox&&(t.roundBox=e.roundBox),void 0!==e.textBoxType&&null!==e.textBoxType&&(t.textBoxType=e.textBoxType),e.tipPoint&&(this.scaleValues[1]=e.tipPoint.x,this.scaleValues[2]=e.tipPoint.y);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM)e.tipPoint1&&(this.scaleValues[0]=e.tipPoint1.x,this.scaleValues[1]=e.tipPoint1.y),e.tipPoint2&&(this.scaleValues[2]=e.tipPoint2.x,this.scaleValues[3]=e.tipPoint2.y);else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.PATHTEXT)t.isAvoid=e.isAvoid,t.isCurve=e.isCurve,t.relLineText=e.relLineText,t.showPathLine=e.showPathLine,t.textToLineDistance=e.textToLineDistance,t.showPathLineArrow=e.showPathLineArrow;else if(0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.ARCREGION){if(o){if(t.centerPoint=L.latLng(e.centerPoint.y,e.centerPoint.x),t.symbolData.circlePts){for(var at=[],st=0;st<e.circlePts.length;st++)at.push(new SuperMapAlgoPlot.Point(e.circlePts[st].x,e.circlePts[st].y));0!==at.length&&(t.circlePts=at)}t.spatialAnalystUrl=e.spatialAnalystUrl}else t.centerPoint=new SuperMapAlgoPlot.Point(e.centerPoint.x,e.centerPoint.y);t.endAngle=e.endAngle,t.radius=e.radius,t.radiusPosAngle=e.radiusPosAngle,t.startAngle=e.startAngle,t.textPosition=e.textPosition,t.radiusLineType=e.radiusLineType,t.radiusText=e.radiusText}else 0===t.libID&&t.symbolType===SuperMapAlgoPlot.SymbolType.POLYGONREGION&&(Object.prototype.hasOwnProperty.call(t.symbolData,"textPosition")?t.scaleValues[1]=t.symbolData.textPosition:void 0===t.scaleValues[1]&&(t.scaleValues[1]=t.symbolData.annotationPosition))}}}};SuperMapAlgoPlot.PlottingUtil=SuperMapAlgoPlot.PlottingUtil||{};SuperMapAlgoPlot.PlottingUtil.DEFAULT_PRECISION=14,SuperMapAlgoPlot.PlottingUtil.DPI=96,SuperMapAlgoPlot.PlottingUtil.RTOD=57.29577951308232,SuperMapAlgoPlot.PlottingUtil.DTOR=.017453292519943295,SuperMapAlgoPlot.PlottingUtil.dirAngle=function(t,e){var o,l,n,i;o=e.x,l=e.y,n=o-t.x,i=l-t.y;var r=Math.atan2(i,n);return r<0&&(r+=2*Math.PI),r},SuperMapAlgoPlot.PlottingUtil.generateUuid=function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},SuperMapAlgoPlot.PlottingUtil.cloneObject=function(t){return JSON.parse(JSON.stringify(t))},SuperMapAlgoPlot.PlottingUtil.colorRGBA=function(t,e){var o=t.substring(1,3),l=parseInt(o,16),n=t.substring(3,5),i=parseInt(n,16),r=t.substring(5);return"rgba("+l+","+i+","+parseInt(r,16)+","+e+")"},SuperMapAlgoPlot.PlottingUtil.colorRGBToString=function(t){var e=t.red.toString(16);e.length<2&&(e="0"+e);var o=t.green.toString(16);o.length<2&&(o="0"+o);var l=t.blue.toString(16);return l.length<2&&(l="0"+l),"#"+e+o+l},SuperMapAlgoPlot.PlottingUtil.colorStringToRGB=function(t){var e={},o=t.substring(1,3);e.red=parseInt(o,16);var l=t.substring(3,5);e.green=parseInt(l,16);var n=t.substring(5);return e.blue=parseInt(n,16),e},SuperMapAlgoPlot.PlottingUtil.decimalToHex=function(t){for(var e=t.toString(16);e.length<8;)e="0"+e;var o=e.substring(0,2),l=e.substring(2,4),n=e.substring(4,6);return{color:"#"+e.substring(6)+n+l,alpha:parseInt(o,16)/255}},SuperMapAlgoPlot.PlottingUtil.hexToDecimal=function(t,e){var o=t.substring(1,3),l=t.substring(3,5),n=t.substring(5),i=parseInt(n+l+o,16),r=Math.round(255*e).toString(16);return parseInt(r+"000000",16)+i},SuperMapAlgoPlot.PlottingUtil.getAlign=function(t){return"TOPLEFT"===t?"lt":"TOPCENTER"===t?"ct":"TOPRIGHT"===t?"rt":"BOTTOMLEFT"===t?"lb":"BOTTOMCENTER"===t?"cb":"BOTTOMRIGHT"===t?"rb":"MIDDLELEFT"===t?"lm":"MIDDLECENTER"===t?"cm":"MIDDLERIGHT"===t?"rm":"lt"},SuperMapAlgoPlot.PlottingUtil.trim=function(t){return null==t?"":t.replace(/(^\s*)|(\s*$)/g,"")},SuperMapAlgoPlot.PlottingUtil.getTextWidth=function(t,e){e=e.replace(new RegExp(" ","g"),"_");var o=1;t.fontSize<12&&(o=t.fontSize/12);var l=document.createElement("span");document.body.appendChild(l),l.style.width="auto",l.style.height="auto",t.fontStyle&&(l.style.fontStyle=t.fontStyle),t.fontSize&&(l.style.fontSize=new String(t.fontSize)+"px"),t.fontFamily&&(l.style.fontFamily=t.fontFamily),t.fontWeight&&(l.style.fontWeight=t.fontWeight),l.style.position="absolute",l.style.visibility="hidden",l.style.display="inline-block",l.innerHTML=e;var n=l.clientWidth,i=e.length;return null!=t.fontSpace&&null!=t.fontPercent?n=t.fontPercent/100*n+t.fontSpace*(t.fontPercent/100)*(i-1):null==t.fontSpace&&null!=t.fontPercent?n=t.fontPercent/100*n:null!=t.fontSpace&&null==t.fontPercent&&(n+=t.fontSpace*(i-1)),document.body.removeChild(l),n*o},SuperMapAlgoPlot.PlottingUtil.getTextCount=function(t){for(var e=0,o=0,l=0;l<t.length;l++)t.charCodeAt(l)>255?e++:o++;return e+o/2},SuperMapAlgoPlot.PlottingUtil.toJSON=function(t){var e=t;if(null==e)return null;switch(e.constructor){case String:return e=(e=(e=(e=(e=(e=(e='"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace("<","&lt;")).replace(">","&gt;")).replace(/%/g,"%2525")).replace(/&/g,"%26");case Array:for(var o=[],l=0,n=e.length;l<n;l++)o.push(SuperMapAlgoPlot.PlottingUtil.toJSON(e[l]));return"["+o.join(",")+"]";case Number:return isFinite(e)?String(e):null;case Boolean:return String(e);case Date:return"{'__type':\"System.DateTime\",'Year':"+e.getFullYear()+",'Month':"+(e.getMonth()+1)+",'Day':"+e.getDate()+",'Hour':"+e.getHours()+",'Minute':"+e.getMinutes()+",'Second':"+e.getSeconds()+",'Millisecond':"+e.getMilliseconds()+",'TimezoneOffset':"+e.getTimezoneOffset()+"}";default:if(null!=e.toJSON&&"function"==typeof e.toJSON)return e.toJSON();if("object"===c(e)){if(e.length){for(var i=[],r=0,a=e.length;r<a;r++)i.push(SuperMapAlgoPlot.PlottingUtil.toJSON(e[r]));return"["+i.join(",")+"]"}var s=[];for(var p in e)"function"!=typeof e[p]&&"CLASS_NAME"!==p&&"parent"!==p&&s.push('"'+p+'":'+SuperMapAlgoPlot.PlottingUtil.toJSON(e[p]));return s.length>0?"{"+s.join(",")+"}":"{}"}return e.toString()}},SuperMapAlgoPlot.PlottingUtil.copyFeature=function(t){var e=null;if(null!=t&&t.geometry){var o=t.geometry.clone();e=new SuperMap.Feature.Vector(o),t.style&&(e.style=SuperMapAlgoPlot.PlottingUtil.copyAttributes(e.style,t.style)),o.feature=e,o.calculateParts()}return e},SuperMapAlgoPlot.PlottingUtil.inverse=function(t){for(var e=[],o=t.length-1;o>=0;o--)e.push(t[o]);return e},SuperMapAlgoPlot.PlottingUtil.getSurroundLinePts=function(t,e){for(var o=[],l=[],n=0;n<t.length-1;n++){var i,r,a=[];if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].x,t[n+1].x)||!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n].y,t[n+1].y)){a.push(t[n]),a.push(t[n+1]);var s=SuperMapAlgoPlot.PlottingUtil.parallel(a,e);if(i=s[0],r=s[1],0!=o.length){var p=SuperMapAlgoPlot.PlottingUtil.intersectLines(i,r,o[0],o[1]);if(p.isIntersectLines){var u=p.intersectPoint,c=SuperMapAlgoPlot.PlottingUtil.distance(i,r);SuperMapAlgoPlot.PlottingUtil.distance(u,r)>2*c?l.push(r):(l[l.length-1]=u,l.push(r))}else l.push(r)}else l.push(i),l.push(r);(o=[]).push(l[l.length-2]),o.push(l[l.length-1])}}if(t[0].x===t[t.length-1].x&&t[0].y===t[t.length-1].y&&1<l.length){var P=SuperMapAlgoPlot.PlottingUtil.intersectLines(l[0],l[1],l[l.length-2],l[l.length-1]);if(P.isIntersectLines){var g=P.intersectPoint;l[l.length-1]=g,l[0]=g}}return l},SuperMapAlgoPlot.PlottingUtil.copyFontStyle=function(t,e){void 0===t.labelAlign&&void 0!==e.labelAlign&&(t.labelAlign=e.labelAlign),!0!==t.fontSizeLimit&&(void 0!==e.fontSize&&(t.fontSize=e.fontSize),void 0!==e.fontWeight&&(t.fontWeight=e.fontWeight),void 0!==e.fontStyle&&(t.fontStyle=e.fontStyle),void 0!==e.fontSpace&&(t.fontSpace=e.fontSpace),void 0!==e.fontPercent&&(t.fontPercent=e.fontPercent)),t.strokeWidth=e.strokeWidth},SuperMapAlgoPlot.PlottingUtil.getDataFromServer=function(t,e,o,l,n,i,r,a){var s;if(void 0!==i&&(s=i),"undefined"!=typeof SuperMap&&void 0!==SuperMap.GetSymbolInfoService){var p=new SuperMap.GetSymbolInfoService(t);p.events.on({processCompleted:r,processFailed:a,scope:s});var u=new SuperMap.GetSymbolInfoParameters;u.libID=e,u.code=o,n&&SuperMapAlgoPlot.PlottingUtil.extend(u,n),l&&null!=l&&(SuperMapAlgoPlot.PlottingUtil.isArray(l)||(l=[l]),u.inputPoints=l),p.processAsync(u)}else if(void 0!==("undefined"==typeof SuperMap?"undefined":c(SuperMap))&&void 0!==c(SuperMap.REST)&&void 0!==c(SuperMap.REST.GetSymbolInfoService)){var P=new SuperMap.REST.GetSymbolInfoService(t);P.events.on({processCompleted:r,processFailed:a,scope:s});var g=new SuperMap.REST.GetSymbolInfoParameters;if(g.libID=e,g.code=o,n&&SuperMapAlgoPlot.PlottingUtil.extend(g,n),l&&null!=l&&(SuperMapAlgoPlot.PlottingUtil.isArray(l)||(l=[l]),g.inputPoints=l),n&&n.credential){var y=n.credential;P.processAsync(g,y)}else P.processAsync(g)}},SuperMapAlgoPlot.PlottingUtil.innerOutlineDir=function(t){function e(t,e){function o(t){var e=Math.atan2(t.y,t.x);return e<0&&(e+=2*Math.PI),e}var l=o(e)-o(t);return l<-Math.PI&&(l+=2*Math.PI),l>Math.PI&&(l-=2*Math.PI),l}if(t.length<3)return 1;for(var o=0,l={x:0,y:0},n={x:0,y:0},i=2;i<t.length;i++)n.x=t[i].x-t[i-1].x,n.y=t[i].y-t[i-1].y,l.x=t[i-1].x-t[i-2].x,l.y=t[i-1].y-t[i-2].y,o+=e(l,n);return n.x=t[1].x-t[0].x,n.y=t[1].y-t[0].y,l.x=t[0].x-t[t.length-1].x,l.y=t[0].y-t[t.length-1].y,(o+=e(l,n))>=0?-1:1},SuperMapAlgoPlot.PlottingUtil.isNear=function(t,e){return e||(e=SuperMapAlgoPlot.PlottingUtil.TORLERANCE_STATIC),t<e&&t>-e},SuperMapAlgoPlot.PlottingUtil.equalFuzzy=function(t,e,o){return o||(o=1e-18),Math.abs(t-e)<=o},SuperMapAlgoPlot.PlottingUtil.intersectLines=function(t,e,o,l){var n={isIntersectLines:!1};if(t.x===e.x&&t.y===e.y||o.x===l.x&&o.y===l.y)return n;var i=e.x-t.x,r=e.y-t.y,a=l.x-o.x,s=l.y-o.y,p=i*s-a*r;if(SuperMapAlgoPlot.PlottingUtil.isNear(p))return n;var u=(i*(t.y-o.y)-r*(t.x-o.x))/p,c=new SuperMapAlgoPlot.Point(0,0);return c.x=u*a+o.x,c.y=u*s+o.y,n.isIntersectLines=!0,n.intersectPoint=c,n},SuperMap.Plot.PlottingUtil.limitSigDigs=function(t,e){var o=0;if(e>0){var l=new Number(t);o=parseFloat(l.toPrecision(e))}return o},SuperMap.Plot.PlottingUtil.containsPoint=function(t,e){for(var o=SuperMap.Plot.PlottingUtil.getPolygonCenterPt(t.components),l=SuperMap.Plot.PlottingUtil.distance(o,e),n=0,i=SuperMap.Plot.PlottingUtil.radian(e,t.components[0]),r=1;r<t.components.length;r++){var a=SuperMap.Plot.PlottingUtil.radian(e,t.components[r]);i>a&&(i=a,n=r)}return l<SuperMap.Plot.PlottingUtil.distance(o,t.components[n])},SuperMap.Plot.PlottingUtil.intersects=function(t,e){var o=!1;if("SuperMap.Geometry.Point"===e.CLASS_NAME)o=t.containsPoint(e);else if("SuperMap.Geometry.LineString"===e.CLASS_NAME)o=e.intersects(t);else if("SuperMap.Geometry.LinearRing"===e.CLASS_NAME)o=SuperMap.Geometry.LineString.prototype.intersects.apply(this,[e]);else for(var l=0,n=e.components.length;l<n&&!(o=e.components[l].intersects(this));++l);return o},SuperMapAlgoPlot.PlottingUtil.getEnvelopePoints=function(t){function e(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(t[o].x!==e[o].x||t[o].y!==e[o].y)return!1;return!0}function o(t,e,o){for(var l=0;l<t.length;l++)if(SuperMap.Plot.PlottingUtil.containsPoint(t[l].components[0],e))return o.index=l,!0;return!1}function l(t,e,o){for(var l=t.components[0].components,n=new SuperMapAlgoPlot.Point(0,0),i=0;i<l.length-1;i++)if(SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(e,o,l[i],l[i+1],n))return n;return null}function n(t,e){if(0===t.length||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[0].x,e[e.length-1].x,.5)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[0].y,e[e.length-1].y,.5))return e;for(var o=e[e.length-1],l=0;l<t.length;l++)if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l][0].x,o.x,.5)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l][0].y,o.y,.5)){e=e.concat(t[l]),t.splice(l,1);var i=n(t,e);if(void 0!==i&&0!==i.length)return i}else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l][t[l].length-1].x,o.x,.5)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l][t[l].length-1].y,o.y,.5)){for(var r=t[l].length-1;r>=0;r--)e.push(t[l][r]);t.splice(l,1);var a=n(t,e);if(void 0!==a&&0!==a.length)return a}return e}if(SuperMapAlgoPlot.PlottingUtil.isArray(t)||(t=[t]),0===t.length)return[];if(1===t.length)return t[0];for(var i=0;i<t.length;i++)for(var r=i+1;r<t.length;)e(t[i],t[r])?t.splice(r,1):r++;for(var a=[],s=0;s<t.length;s++)a.push(new SuperMap.Geometry.Polygon([new SuperMap.Geometry.LinearRing(t[s])]));for(var p=[],u=0;u<t.length;u++){var c=[],P=[],g=-1,y=-1,h=a.slice();h.splice(u,1);for(var f={},S=0;S<t[u].length;S++)if(o(h,t[u][S],f)){if(0!==P.length){var A=l(a[f.index],t[u][S-1],t[u][S]);A&&A!==t[u][S-1]&&A!==t[u][S]&&P.push(A),c.push(P),P=[]}}else{if(0===S&&(g=c.length),S===t[u].length-1&&(y=c.length),0===P.length&&void 0!==f.index){var M=l(a[f.index],t[u][S-1],t[u][S]);M&&M!==t[u][S-1]&&M!==t[u][S]&&P.push(M)}P.push(t[u][S].clone())}if(0!==P.length&&c.push(P),g<c.length&&y<c.length&&g!==y){for(var d=0;d<c[g].length;d++)c[y].push(c[g][d]);c.splice(g,1)}p=p.concat(c)}for(var b=[];0!==p.length;){var v=p[0];p.splice(0,1);var m=n(p,v);void 0!==m&&(v=m),v.length>2&&b.push(v)}return b},SuperMapAlgoPlot.PlottingUtil.isRight=function(t,e,o){var l=e,n=o,i=e,r=t;return(n.x-l.x)*(r.y-i.y)-(r.x-i.x)*(n.y-l.y)<0},SuperMapAlgoPlot.PlottingUtil.radian=function(t,e){var o,l,n=0;return o=e.x-t.x,l=e.y-t.y,(n=Math.atan2(l,o))<0&&(n+=2*Math.PI),n},SuperMapAlgoPlot.PlottingUtil.findBisectorPoint=function(t,e,o,l){var n=SuperMapAlgoPlot.PlottingUtil.radian(e,t),i=(n+SuperMapAlgoPlot.PlottingUtil.radian(e,o))/2,r=Math.cos(i-n+Math.PI/2),a=l;SuperMapAlgoPlot.PlottingUtil.isNear(r,.15)||(a=l/r);var s=e.x+a*Math.cos(i),p=e.y+a*Math.sin(i);return new SuperMapAlgoPlot.Point(s,p)},SuperMapAlgoPlot.PlottingUtil.findPoint=function(t,e,o,l){if(t===e||Math.abs(o)<1e-18)return t;var n=SuperMapAlgoPlot.PlottingUtil.radian(t,e)+l*Math.PI/180,i=t.x+o*Math.cos(n),r=t.y+o*Math.sin(n);return new SuperMapAlgoPlot.Point(i,r)},SuperMapAlgoPlot.PlottingUtil.isSameQuadrant=function(t,e,o,l){var n=(e.x-t.x)*(l.x-o.x),i=(e.y-t.y)*(l.y-o.y);return!(Math.abs(n)<1e-18&&Math.abs(i)<1e-18)&&((n>0||Math.abs(n)<1e-18)&&(i>0||Math.abs(i)<1e-18))},SuperMapAlgoPlot.PlottingUtil.isCross=function(t,e,o,l){var n=new SuperMapAlgoPlot.Point(0,0);return!(!SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(t,e,o,l,n)||n==t||n===e||n===o||n==l)},SuperMapAlgoPlot.PlottingUtil.intersectLineSegs=function(t,e,o,l,n){if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.x,e.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.y,e.y))return n.x=t.x,n.y=t.y,!1;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.x,l.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.y,l.y))return n.x=o.x,n.y=o.y,!1;var i=0,r=0;if(i=t.x>e.x?t.x:e.x,r=t.x<e.x?t.x:e.x,o.x-i>1e-16&&l.x-i>1e-16||o.x-r<-1e-16&&l.x-r<-1e-16)return!1;if(i=t.y>e.y?t.y:e.y,r=t.y<e.y?t.y:e.y,o.y-i>1e-16&&l.y-i>1e-16||o.y-r<-1e-16&&l.y-r<-1e-16)return!1;var a=e.x-t.x,s=e.y-t.y,p=l.x-o.x,u=l.y-o.y,c=t.x-o.x,P=t.y-o.y,g=a*u-p*s,y=g;if(Math.abs(a)>1e-18&&Math.abs(p)>1e-18&&(y/=a*p),Math.abs(y)<1e-18)return t===o?(n.x=t.x,n.y=t.y,!SuperMapAlgoPlot.PlottingUtil.isSameQuadrant(t,e,o,l)):e===l?(n.x=e.x,n.y=e.y,!SuperMapAlgoPlot.PlottingUtil.isSameQuadrant(t,e,o,l)):t===l?(n.x=t.x,n.y=t.y,SuperMapAlgoPlot.PlottingUtil.isSameQuadrant(t,e,o,l)):e===o&&(n.x=e.x,n.y=e.y,SuperMapAlgoPlot.PlottingUtil.isSameQuadrant(t,e,o,l));var h=(a*P-s*c)/g,f=(p*P-u*c)/g;return!(h<0&&(Math.abs(h*p)>1e-16||Math.abs(h*u)>1e-16))&&(!(h>1&&(Math.abs((h-1)*p)>1e-16||Math.abs((h-1)*u)>1e-16))&&(!(f<0&&(Math.abs(f*a)>1e-16||Math.abs(f*s)>1e-16))&&(!(f>1&&(Math.abs((f-1)*a)>1e-16||Math.abs((f-1)*s)>1e-16))&&(Math.abs(h)<1e-18?(n.x=o.x,n.y=o.y,!0):Math.abs(h-1)<1e-18?(n.x=l.x,n.y=l.y,!0):Math.abs(f)<1e-18?(n.x=t.x,n.y=t.y,!0):Math.abs(f-1)<1e-18?(n.x=e.x,n.y=e.y,!0):!(h<0&&(Math.abs(h*p)>1e-16||Math.abs(h*u)>1e-16))&&(!(h>1&&(Math.abs((h-1)*p)>1e-16||Math.abs((h-1)*u)>1e-16))&&(!(f<0&&(Math.abs(f*a)>1e-16||Math.abs(f*s)>1e-16))&&(!(f>1&&(Math.abs((f-1)*a)>1e-16||Math.abs((f-1)*s)>1e-16))&&(n.x=h*p+o.x,n.y=h*u+o.y,!0))))))))},SuperMapAlgoPlot.PlottingUtil.parallel=function(t,e){var o=[],l=t.length;if(!t||null==t||t.length<2)return o;var n=!1;t.length>3&&t[0].x===t[t.length-1].x&&t[0].y===t[t.length-1].y&&(n=!0),n?(o[0]=SuperMapAlgoPlot.PlottingUtil.findBisectorPoint(t[t.length-2],t[0],t[1],e),o[t.length-1]=o[0]):(o[0]=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,90),o[t.length-1]=SuperMapAlgoPlot.PlottingUtil.findPoint(t[t.length-1],t[t.length-2],-e,90));for(var i=t[0],r=t[1],a=t[1],s=1;s<t.length-1;s++)if(r=t[s],t[s]!==t[s-1]&&(i=t[s-1]),t[s]!==t[s+1]){a=t[s+1];var p=SuperMapAlgoPlot.PlottingUtil.findBisectorPoint(i,r,a,e);SuperMapAlgoPlot.PlottingUtil.isCross(i,o[s-1],r,p)&&(p=o[s-1]),o[s]=p}else{for(var u=s;u<l-1;){if(t[u]!==t[u+1]){a=t[u+1];break}u++}if(u<l-1){var c=SuperMapAlgoPlot.PlottingUtil.FindBisectorPoint(i,r,a,e);for(SuperMapAlgoPlot.PlottingUtil.isCross(i,o[s-1],r,c)&&(c=o[s-1]);s<u;)o[s]=c,s++;s=u-1}}return o},SuperMapAlgoPlot.PlottingUtil.distance=function(t,e){var o=[];o.push(t),o.push(e);var l=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;if(0===l.length){var n=o[0],i=o[1];return Math.sqrt((n.x-i.x)*(n.x-i.x)+(n.y-i.y)*(n.y-i.y))}var r=l[0],a=l[1];return Math.sqrt((r.x-a.x)*(r.x-a.x)+(r.y-a.y)*(r.y-a.y))},SuperMapAlgoPlot.PlottingUtil.projectPoint=function(t,e,o){if(e===o)return e;var l=new SuperMapAlgoPlot.Point(0,0),n=o.x-e.x,i=e.y-o.y,r=n*n,a=i*i,s=n*i,p=n*n+i*i;return l.x=(s*(e.y-t.y)+e.x*a+t.x*r)/p,l.y=(s*(e.x-t.x)+e.y*r+t.y*a)/p,l},SuperMapAlgoPlot.PlottingUtil.pointToLineDis=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.projectPoint(t,e,o);return SuperMapAlgoPlot.PlottingUtil.distance(t,l)},SuperMapAlgoPlot.PlottingUtil.pointToPloyLineDis=function(t,e,o){if(e===o)return SuperMapAlgoPlot.PlottingUtil.distance(t,e);var l=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y),n=(o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y),i=(e.x-o.x)*(e.x-o.x)+(e.y-o.y)*(e.y-o.y),r=(l+i-n)/(2*i);r<0?r=0:r>1&&(r=1);var a=(o.x-e.x)*r+e.x,s=(o.y-e.y)*r+e.y,p=(a-t.x)*(a-t.x)+(s-t.y)*(s-t.y);return Math.sqrt(p)},SuperMapAlgoPlot.PlottingUtil.isCounterClockwise=function(t,e,o){return(o.x-e.x)*(t.y-e.y)-(t.x-e.x)*(o.y-e.y)>0},SuperMapAlgoPlot.PlottingUtil.clearSamePts=function(t){for(var e=t.length,o=0;o<e-1;)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[o].x,t[o+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[o].y,t[o+1].y)?(t.splice(o,1),e--):o++;return t},SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt=function(t){var e=[],o=t.length;if(o<3)for(var l=0;l<o;++l)e[l]=t[l].clone();else{for(var n=0,i=0;i<3*o-2;i+=3)e[i]=t[n].clone(),e[i+1]=new SuperMapAlgoPlot.Point(0,0),e[i+2]=new SuperMapAlgoPlot.Point(0,0),n++;for(var r=1;r<o-1;r++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(8,3,t[r-1],t[r],t[r+1],e[3*r+1],e[3*r+2]);SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.6,e[0],e[3],e[4],e[2]),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.6,e[3*o-3],e[3*o-6],e[3*o-4],e[3*o-2]),e[1]=t[0].clone(),e[3*o-1]=t[o-1].clone()}return e},SuperMapAlgoPlot.PlottingUtil.isOnLine=function(t,e,o){if(e.x===o.x&&e.y===o.y)return!1;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.x,e.x))return SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.x,t.x);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.y,e.y))return SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o.y,t.y);if(e.x===t.x&&e.y===t.y||t.x===o.x&&t.y===o.y)return!0;var l=(t.y-o.y)*(o.x-e.x)-(o.y-e.y)*(t.x-o.x);return(l/=(o.x-e.x)*(t.x-o.x))<1e-10&&l>1e-10},SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt=function(t,e){var o=t.slice();!0===e&&o.push(o[0]);for(var l=[],n=[],i=0;i<o.length-1;i++)o[i+1].x-o[0].x>-360&&o[i+1].x-o[0].x<-180&&l.push(i+1),o[i+1].x-o[0].x<360&&o[i+1].x-o[0].x>180&&n.push(i+1);if(n.length>l.length)for(var r=0;r<n.length;r++)o[n[r]].x=o[n[r]].x-360;else for(var a=0;a<l.length;a++)o[l[a]].x=o[l[a]].x+360;for(var s=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(o),p=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(s),u=0;u<p.length;u++)p[u].x>180?p[u].x=p[u].x-360:p[u].x<-180&&(p[u].x=p[u].x+360);return p},SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt=function(t){var e=t.length,o=[];if(t.length<3)for(var l=0;l<e;l++)o[l]=t[l].clone();else for(var n=0;n<e;n+=3)if(!(n+4>=e)){var i=t[n].x,r=t[n].y,a=t[n+2].x,s=t[n+2].y,p=t[n+4].x,u=t[n+4].y,c=t[n+3].x,P=t[n+3].y;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,a,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,s,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,c,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(u,P,1e-10))o.push(new SuperMapAlgoPlot.Point(i,r)),o.push(new SuperMapAlgoPlot.Point(p,u));else for(var g=0;g<=1;g+=.03125){var y,h,f,S,A=g*g,M=A*g;y=1-3*g+3*A-M,h=3*(g-2*A+M),f=3*(A-M),S=M;var d=new SuperMapAlgoPlot.Point(y*i+h*a+f*p+S*c,y*r+h*s+f*u+S*P);o.push(d)}}return o},SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints0=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=[],i=[],r=[];if(t){i.push(e[0]);var a=o[0],s=o[1],p=e[0].x+l*a,u=e[0].y+l*s;i.push(new SuperMapAlgoPlot.Point(p,u)),n.push(new SuperMapAlgoPlot.Point(p,u));for(var c=1;c<e.length-1;c++){var P=o[4*c-2],g=o[4*c-1],y=e[c].x+l*P,h=e[c].y+l*g;i.push(new SuperMapAlgoPlot.Point(y,h)),n.push(new SuperMapAlgoPlot.Point(y,h)),i.push(new SuperMapAlgoPlot.Point(e[c].x,e[c].y)),P=o[4*c],g=o[4*c+1],y=e[c].x+l*P,h=e[c].y+l*g,i.push(new SuperMapAlgoPlot.Point(y,h)),n.push(new SuperMapAlgoPlot.Point(y,h))}var f=e.length-1;a=o[4*f-2],s=o[4*f-1],p=e[f].x+l*a,u=e[f].y+l*s,i.push(new SuperMapAlgoPlot.Point(p,u)),n.push(new SuperMapAlgoPlot.Point(p,u)),i.push(new SuperMapAlgoPlot.Point(e[f].x,e[f].y)),i.push(new SuperMapAlgoPlot.Point(e[f].x,e[f].y)),i.push(new SuperMapAlgoPlot.Point(e[f].x,e[f].y)),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(i)}else{o=[];var S=(i=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(e))[1].x-i[0].x,A=i[1].y-i[0].y,M=S/l,d=A/l;o.push(M),o.push(d),n.push(i[1]);for(var b=1;b<e.length-1;b++){var v=(i[3*b-1].x-i[3*b].x)/l,m=(i[3*b-1].y-i[3*b].y)/l;o.push(v),o.push(m),n.push(i[3*b-1]);var L=(i[3*b+1].x-i[3*b].x)/l,O=(i[3*b+1].y-i[3*b].y)/l;o.push(L),o.push(O),n.push(i[3*b+1])}M=(S=i[3*(e.length-1)-1].x-i[3*(e.length-1)].x)/l,d=(A=i[3*(e.length-1)-1].y-i[3*(e.length-1)].y)/l,o.push(M),o.push(d),n.push(i[3*(e.length-1)-1]),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(i)}return{scalePoints:n,scaleValues:o,beizerPoints:r}},SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),n=[],i=[],r=[];if(t){i.push(new SuperMapAlgoPlot.Point(e[0].x,e[0].y)),i.push(new SuperMapAlgoPlot.Point(e[0].x,e[0].y));var a=o[0],s=o[1],p=e[0].x+l*a,u=e[0].y+l*s;i.push(new SuperMapAlgoPlot.Point(p,u)),n.push(new SuperMapAlgoPlot.Point(p,u));for(var c=1;c<e.length-1;c++){i.push(new SuperMapAlgoPlot.Point(e[c].x,e[c].y));var P=o[4*c-2],g=o[4*c-1],y=e[c].x+l*P,h=e[c].y+l*g;i.push(new SuperMapAlgoPlot.Point(y,h)),n.push(new SuperMapAlgoPlot.Point(y,h)),P=o[4*c],g=o[4*c+1],y=e[c].x+l*P,h=e[c].y+l*g,i.push(new SuperMapAlgoPlot.Point(y,h)),n.push(new SuperMapAlgoPlot.Point(y,h))}var f=e.length-1;i.push(new SuperMapAlgoPlot.Point(e[f].x,e[f].y)),a=o[4*f-2],s=o[4*f-1],p=e[f].x+l*a,u=e[f].y+l*s,i.push(new SuperMapAlgoPlot.Point(p,u)),n.push(new SuperMapAlgoPlot.Point(p,u)),i.push(new SuperMapAlgoPlot.Point(e[f].x,e[f].y)),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(i)}else{o=[];var S=(i=SuperMapAlgoPlot.PlottingUtil.getBeizerCtrlPt(e))[2].x-i[0].x,A=i[2].y-i[0].y,M=S/l,d=A/l;o.push(M),o.push(d),n.push(i[2]);for(var b=1;b<e.length-1;b++){var v=(i[3*b+1].x-i[3*b].x)/l,m=(i[3*b+1].y-i[3*b].y)/l;o.push(v),o.push(m),n.push(i[3*b+1]);var L=(i[3*b+2].x-i[3*b].x)/l,O=(i[3*b+2].y-i[3*b].y)/l;o.push(L),o.push(O),n.push(i[3*b+2])}M=(S=i[3*(e.length-1)+1].x-i[3*(e.length-1)].x)/l,d=(A=i[3*(e.length-1)+1].y-i[3*(e.length-1)].y)/l,o.push(M),o.push(d),n.push(i[3*(e.length-1)+1]),r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(i)}return{scalePoints:n,scaleValues:o,beizerPoints:r}},SuperMapAlgoPlot.PlottingUtil.getBeizerInputPoints=function(t){var e=[],o=t.length;if(o<3)e.push(t);else for(var l=0;l<o;l+=3)e.push(t[l]);return e},SuperMapAlgoPlot.PlottingUtil.getTrianglePoints=function(t,e,o,l,n,i,r){var a=o.x,s=o.y,p=l.x,u=l.y,c=n.x,P=n.y;SuperMapAlgoPlot.PlottingUtil.getPointsByTriangle(t,e,a,s,p,u,c,P,i,r)},SuperMapAlgoPlot.PlottingUtil.getPointsByTriangle=function(t,e,o,l,n,i,r,a,s,p){var u=n+(r-o),c=i+(a-l),P=0,g=0;if(o==r)P=o,g=c;else if(l==a)P=u,g=l;else{var y=1*(a-l)/(r-o),h=l-o*y;g=y*(P=(c+u/y-h)/(y+1/y))+h}var f=Math.sqrt(1*(n-u)*(n-u)+1*(i-c)*(i-c)),S=Math.sqrt(1*(o-n)*(o-n)+1*(l-i)*(l-i)),A=Math.sqrt(1*(n-r)*(n-r)+1*(i-a)*(i-a)),M=0;u=P+(u-P)*(M=S+A?1+(A-S)*t/(A+S):1),c=g+(c-g)*M,0==f&&(f=1),s.x=n+(n-u)*S/(e*f),s.y=i+(i-c)*S/(e*f),p.x=n+(u-n)*A/(e*f),p.y=i+(c-i)*A/(e*f)},SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints=function(t,e,o,l,n){var i=e.x,r=e.y,a=o.x,s=o.y,p=l.x,u=l.y;return SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid(t,i,r,a,s,p,u,n)},SuperMapAlgoPlot.PlottingUtil.getPointsByTrapezoid=function(t,e,o,l,n,i,r,a){var s=0,p=0,u=0,c=0;if(0==Math.abs(o-n))s=e+l-i,p=r;else if(0==Math.abs(e-l))s=i,p=o+n-r;else{var P=1*(o-n)/(e-l),g=r-P*i;p=P*(s=((n+o)/2+(e+l)/(2*P)-g)/(P+1/P))+g,s=2*s-i,p=2*p-r}var y=Math.sqrt(1*(e-l)*(e-l)+1*(o-n)*(o-n)),h=Math.sqrt(1*(e-s)*(e-s)+1*(o-p)*(o-p));return y>0?(u=e+(l-e)*h/y,c=o+(n-o)*h/y):(u=e,c=o),a.x=u+(s-u)*t,a.y=c+(p-c)*t,a},SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine=function(t,e,o){if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.x,e.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.y,e.y)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.x,o.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.y,o.y))return!0;var l=t.x-e.x,n=t.y-e.y,i=t.x-o.x,r=t.y-o.y,a=(l*i+n*r)/(Math.sqrt(l*l+n*n)*Math.sqrt(i*i+r*r));return!!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,-1,.1)},SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines=function(t,e){if(!e||0===e.length)return{isOnPolyLine:!1,index:-1};for(var o=!1,l=-1,n=0;n<e.length-1;n++)if(o=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(t,e[n],e[n+1])){l=n;break}return{isOnPolyLine:o,index:l}},SuperMapAlgoPlot.PlottingUtil.computePointToLineMinDis=function(t,e){for(var o=-1,l=-1,n=0;n<e.length-1;n++){var i=e[n],r=e[n+1],a=SuperMapAlgoPlot.PlottingUtil.projectPoint(t,i,r);if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(a,i,r)){var s=SuperMapAlgoPlot.PlottingUtil.distance(t,a);o<0?(o=s,l&&(l=n)):o>s&&(o=s,l=n)}}return l&&o<0&&(l=-1),{minDis:o,index:l}},SuperMapAlgoPlot.PlottingUtil.findPointInLine=function(t,e,o){if(t===e||Math.abs(o)<1e-18)return t;var l=e.x-t.x,n=e.y-t.y,i=o/Math.sqrt(l*l+n*n),r=t.x+l*i,a=t.y+n*i;return new SuperMapAlgoPlot.Point(r,a)},SuperMapAlgoPlot.PlottingUtil.operateControlPoints=function(t){var e=t,o=e.length;if(3==o){var l=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(1,t[0],t[1],t[2],l),e.push(l)}if(o>4&&(e.splice(4,o-4),o=e.length),SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(t[0],t[1],e[2])){var n=e[0];e[0]=e[1],e[1]=n}if(!SuperMapAlgoPlot.PlottingUtil.pointIsRightToVerticle(e[0],e[1],e[2])){var i=e[2];e[2]=e[3],e[3]=i}return e},SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine=function(t,e,o){return(e.x-t.x)*(o.y-t.y)-(o.x-t.x)*(e.y-t.y)<0},SuperMapAlgoPlot.PlottingUtil.pointIsRightToVerticle=function(t,e,o){var l=new SuperMapAlgoPlot.Point(.5*(e.x+t.x),.5*(e.y+t.y)),n=new SuperMapAlgoPlot.Point(e.x-t.x,e.y-t.y),i=new SuperMapAlgoPlot.Point(o.x-l.x,o.y-l.y);return n.x*i.x+n.y*i.y>0},SuperMapAlgoPlot.PlottingUtil.linePnt=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.distance(t,e);if(0==l)return t;var n=o/l;return SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(n,t,e)},SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio=function(t,e,o){var l=new SuperMapAlgoPlot.Point(0,0);return l.x=e.x+(o.x-e.x)*t,l.y=e.y+(o.y-e.y)*t,l},SuperMapAlgoPlot.PlottingUtil.rotateAngle=function(t,e,o){var l=e,n=Math.cos(l),i=Math.sin(l),r=o.x-t.x,a=o.y-t.y;return o.x=r*n-a*i+t.x,o.y=r*i+a*n+t.y,o},SuperMapAlgoPlot.PlottingUtil.resize=function(t,e,o){return o.x=t.x+e*(o.x-t.x),o.y=t.y+e*(o.y-t.y),o},SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine=function(t,e){if(e<0||t.length<2)return{index:-1,pt:null};if(Math.abs(e)<1e-18)return{index:0,pt:t[0]};for(var o=0,l=0;l<t.length-1;l++)if((o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],t[l+1]))>e||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o,e)){var n=o-e,i=t[l+1],r=t[l],a=n/SuperMapAlgoPlot.PlottingUtil.distance(i,r),s=new SuperMapAlgoPlot.Point(0,0);return s.x=i.x+(r.x-i.x)*a,s.y=i.y+(r.y-i.y)*a,{index:l,pt:s}}return{index:-1,pt:null}},SuperMapAlgoPlot.PlottingUtil.polylineDistance=function(t){if(0===t.length)return 0;for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);return e},SuperMapAlgoPlot.PlottingUtil.rotate=function(t,e,o,l){var n=l.x-t.x,i=l.y-t.y,r=n*e-i*o+t.x,a=n*o+i*e+t.y;return new SuperMapAlgoPlot.Point(r,a)},SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale=function(t,e,o){var l=e.x,n=e.y,i=o.x,r=o.y,a=Math.sqrt(1*(l-i)*(l-i)+1*(n-r)*(n-r)),s=0,p=0;return 0==a?(s=l,p=n):(s=l+(i-l)*t/a,p=n+(r-n)*t/a),new SuperMapAlgoPlot.Point(s,p)},SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale=function(t,e,o){var l=e.x,n=e.y,i=o.x,r=o.y,a=0,s=0,p=Math.sqrt(1*(l-i)*(l-i)+1*(n-r)*(n-r));return 0===p?(a=l,s=n):(a=l+(l-i)*t/p,s=n+(n-r)*t/p),new SuperMapAlgoPlot.Point(a,s)},SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine=function(t,e,o){var l=e.x,n=e.y,i=o.x,r=o.y,a=Math.sqrt(1*(l-i)*(l-i)+1*(n-r)*(n-r)),s=0,p=0;0==a?(p=0,s=t):(s=t*(l-i)/a,p=t*(n-r)/a);var u=-p+i,c=+s+r,P=+p+i,g=-s+r;return{pntLeft:new SuperMapAlgoPlot.Point(P,g),pntRight:new SuperMapAlgoPlot.Point(u,c)}},SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLineWithPoints=function(t,e,o,l,n){var i=Math.sqrt(1*(e.x-o.x)*(e.x-o.x)+1*(e.y-o.y)*(e.y-o.y)),r=0,a=0;0==i?(a=0,r=t):(r=t*(e.x-o.x)/i,a=t*(e.y-o.y)/i),l.x=-a+o.x,l.y=+r+o.y,n.x=+a+o.x,n.y=-r+o.y},SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment=function(t,e,o){var l,n,i=0,r=0,a=0,s=1;if(r=e.x!==t.x?(e.y-t.y)/(e.x-t.x):1.7976931348623157e308,a=o.x!==t.x?(o.y-t.y)/(o.x-t.x):1.7976931348623157e308,i=o.y!==e.y?(o.x-e.x)/(e.y-o.y):1.7976931348623157e308,(l=e.x>=t.x&&e.y>=t.y?1:e.x<t.x&&e.y>t.y?2:e.x<=t.x&&e.y<=t.y?3:4)==(n=o.x>t.x&&o.y>t.y?1:o.x<t.x&&o.y>t.y?2:o.x<t.x&&o.y<t.y?3:4))(r<i&&a<i||r>i&&a>i)&&(s=0);else switch(l){case 1:(4==n&&r<i||2==n&&r>i)&&(s=0);break;case 2:(1==n&&r<i||3==n&&r>i)&&(s=0);break;case 3:(2==n&&r<i||4==n&&r>i)&&(s=0);break;case 4:(3==n&&r<i||1==n&&r>i)&&(s=0)}var p=new SuperMapAlgoPlot.Point(0,0);return SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i-1.7976931348623157e308,0)?(p.x=t.x,p.y=e.y):SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0)?(p.x=e.x,p.y=t.y):(p.x=(i*(e.y-t.y)+i*i*t.x+e.x)/(i*i+1),p.y=t.y+i*(p.x-t.x)),{isOnline:1===s,projectPoint:p}},SuperMapAlgoPlot.PlottingUtil.coordinateTrans=function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(0,0),e),n=SuperMapAlgoPlot.PlottingUtil.radian(new SuperMapAlgoPlot.Point(0,0),e)+o*Math.PI/180,i=l*Math.cos(n)+t.x,r=l*Math.sin(n)+t.y;return new SuperMapAlgoPlot.Point(i,r)},SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen=function(t,e,o){var l,n,i=(o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y),r=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),a=Math.sqrt((t.x-o.x)*(t.x-o.x)+(t.y-o.y)*(t.y-o.y));if(0==a||0==r)l=0,n=0;else if(0==i)l=r,n=0;else{var s=(r*r+a*a-i)/2/r/a,p=0;s>=1?(s=1,p=0):p=Math.sqrt(1-s*s),l=a*s,n=a*p}return{dLen1:l,dLen2:n}},SuperMapAlgoPlot.PlottingUtil.paraLine=function(t,e,o){var l=[];if(2>t.length)return l;if(o){var n=t[1].clone();n=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/2,n),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],n,e));for(var i=1;i<t.length-1;i++)if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[i].x,t[i+1].x)||!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[i].y,t[i+1].y)){for(var r=SuperMapAlgoPlot.PlottingUtil.radian(t[i],t[i+1]),a=SuperMapAlgoPlot.PlottingUtil.radian(t[i],t[i-1])-r;a<0;)a+=2*Math.PI;var s=a/2,p=void 0;p=s>Math.PI/2?s-Math.PI/2:Math.PI/2-s;var u=e/Math.cos(p);n=t[i+1].clone(),n=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[i],s,n),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[i],n,u))}n=t[t.length-2].clone(),n=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],-1*Math.PI/2,n),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],n,e))}else{var c=t[1].clone();c=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],-Math.PI/2,c),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],c,e));for(var P=1;P<t.length-1;P++)if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[P].x,t[P+1].x)||!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[P].y,t[P+1].y)){for(var g=SuperMapAlgoPlot.PlottingUtil.radian(t[P],t[P+1]),y=SuperMapAlgoPlot.PlottingUtil.radian(t[P],t[P-1])-g;y<0;)y+=2*Math.PI;var h=Math.PI-y/2,f=void 0;f=h>Math.PI/2?h-Math.PI/2:Math.PI/2-h;var S=e/Math.cos(f);c=t[P-1].clone(),c=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[P],h,c),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[P],c,S))}c=t[t.length-2].clone(),c=SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[t.length-1],Math.PI/2,c),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(t[t.length-1],c,e))}return l},SuperMapAlgoPlot.PlottingUtil.circlePoint=function(t,e,o,l){l*=Math.PI/180;var n=t.x+e*Math.cos(l),i=t.y+o*Math.sin(l);return new SuperMapAlgoPlot.Point(n,i)},SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt=function(t){if(!t||0===t.length)return null;for(var e=0,o=0,l=0;l<t.length;l++)e+=t[l].x,o+=t[l].y;return new SuperMapAlgoPlot.Point(e/t.length,o/t.length)},SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon=function(t,e){if(!t||0===t.length)return!1;for(var o=0,l=t.length,n=0;n<l;n++){var i=t[n],r=t[(n+1)%l];if(i.y!==r.y){var a=i.y<r.y?i.y:r.y,s=i.y>r.y?i.y:r.y;if(!(e.y<a||e.y>s))(e.y-i.y)*(r.x-i.x)/(r.y-i.y)+i.x>e.x&&o++}}return o%2==1},SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine=function(t,e){if(2>e.length)return{index:-1,pt:null};for(var o=0;o<e.length-1;o++){var l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(t,e[o],e[o+1]);if(l.isOnline)return{index:o,pt:l.projectPoint}}return{index:-1,pt:null}},SuperMapAlgoPlot.PlottingUtil.ptOnPolyLine=function(t,e){if(2>e.length)return!1;for(var o=0;o<e.length-1;o++){var l=new SuperMapAlgoPlot.Point(t.x-e[o].x,t.y-e[o].y),n=new SuperMapAlgoPlot.Point(t.x-e[o+1].x,t.y-e[o+1].y);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l.x,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l.y,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n.x,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n.y,0))return index=o,!0;var i=(l.x*n.x+l.y*n.y)/(Math.sqrt(l.x*l.x+l.y*l.y)*(n.x*n.x+n.y*n.y));if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,-1))return!0}return!1},SuperMapAlgoPlot.PlottingUtil.isPloyClockwise=function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length;if(!(o<3)){var l=e[0].y*(e[o-1].x-e[1].x);e.push(e[0].clone());for(var n=1;n<o;++n)l+=e[n].y*(e[n-1].x-e[n+1].x);return l>0?0:1}},SuperMapAlgoPlot.PlottingUtil.isSamePt=function(t,e){return!(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.x,e.x)||!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t.y,e.y))},SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance=function(t,e){var o=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(e,t);return{index:o.index,pts:o.pt,bfind:-1!==o.index}},SuperMapAlgoPlot.PlottingUtil.ptInBounds=function(t,e){return t.x>e.left&&t.x<e.right&&t.y<e.top&&t.y>e.bottom},SuperMapAlgoPlot.PlottingUtil.InnerAngle=function(t,e,o){if(t==e||t==o)return 0;var l=SuperMapAlgoPlot.PlottingUtil.distance(t,e),n=SuperMapAlgoPlot.PlottingUtil.distance(t,o),i=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=(l*l+n*n-i*i)/(2*l*n);return r>1&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,1)?r=1:r<1&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,-1)&&(r=-1),Math.acos(r)},SuperMapAlgoPlot.PlottingUtil.plumbLineLen=function(t,e,o){return SuperMapAlgoPlot.PlottingUtil.distance(t,e)*Math.sin(SuperMapAlgoPlot.PlottingUtil.InnerAngle(e,t,o))},SuperMapAlgoPlot.PlottingUtil.paraPolygon=function(t,e,o){var l=[],n=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),i=n.length;if(i<2)return l;var r=new SuperMapAlgoPlot.Point(0,0);if(o){if(i<3)r=n[1].clone(),SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[0],Math.PI,r),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],r,e));else{for(var a=SuperMapAlgoPlot.PlottingUtil.radian(n[0],n[1]),s=SuperMapAlgoPlot.PlottingUtil.radian(n[0],n[n.length-1])-a;s<0;)s+=2*Math.PI;var p,u=s/2;p=u>Math.PI/2?u-Math.PI/2:Math.PI/2-u;var c=e/Math.cos(p);r=n[1].clone(),r=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[0],u,r),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],r,c))}for(var P=1;P<i-1;P++){for(var g=SuperMapAlgoPlot.PlottingUtil.radian(n[P],n[P+1]),y=SuperMapAlgoPlot.PlottingUtil.radian(n[P],n[P-1])-g;y<0;)y+=2*Math.PI;var h=y/2,f=void 0;f=h>Math.PI/2?h-Math.PI/2:Math.PI/2-h;var S=e/Math.cos(f);r=n[P+1].clone(),r=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[P],h,r),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[P],r,S))}if(i<3)r=n[i-2].clone(),SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[i-1],0,r),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[i-1],r,e));else{for(var A=SuperMapAlgoPlot.PlottingUtil.radian(n[i-1],n[0]),M=SuperMapAlgoPlot.PlottingUtil.radian(n[i-1],n[i-2])-A;M<0;)M+=2*Math.PI;var d,b=M/2;d=b>Math.PI/2?b-Math.PI/2:Math.PI/2-b;var v=e/Math.cos(d);r=n[0].clone(),r=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[i-1],b,r),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[i-1],r,v))}}else{if(i<3){var m=n[1].clone();SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[0],0,m),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],m,e))}else{for(var L=SuperMapAlgoPlot.PlottingUtil.radian(n[0],n[1]),O=SuperMapAlgoPlot.PlottingUtil.radian(n[0],n[i-1])-L;O<0;)O+=2*Math.PI;var T,w=Math.PI-O/2;T=w>Math.PI/2?w-Math.PI/2:Math.PI/2-w;var x=e/Math.cos(T);r=n[i-1].clone(),r=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[0],w,r),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[0],r,x))}for(var R=1;R<i-1;R++){for(var U=SuperMapAlgoPlot.PlottingUtil.radian(n[R],n[R+1]),E=SuperMapAlgoPlot.PlottingUtil.radian(n[R],n[R-1])-U;E<0;)E+=2*Math.PI;var C=Math.PI-E/2,I=void 0;I=C>Math.PI/2?C-Math.PI/2:Math.PI/2-C;var B=e/Math.cos(I);r=n[R-1].clone(),r=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[R],C,r),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[R],r,B))}if(i<3)r=n[i-2].clone(),SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[i-1],Math.PI,r),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[i-1],r,e));else{for(var D=SuperMapAlgoPlot.PlottingUtil.radian(n[i-1],n[0]),_=SuperMapAlgoPlot.PlottingUtil.radian(n[i-1],n[i-2])-D;_<0;)_+=2*Math.PI;var N,V=Math.PI-_/2;N=V>Math.PI/2?V-Math.PI/2:Math.PI/2-V;var k=e/Math.cos(N);r=n[i-2].clone(),r=SuperMapAlgoPlot.PlottingUtil.rotateAngle(n[i-1],V,r),l.push(SuperMapAlgoPlot.PlottingUtil.linePnt(n[i-1],r,k))}}return l},SuperMapAlgoPlot.PlottingUtil.getOutRectangleDis=function(t){if(2>t.length)return 0;for(var e=t[0].x,o=t[0].x,l=t[0].y,n=t[0].y,i=1;i<t.length;i++)e<t[i].x&&(e=t[i].x),o>t[i].x&&(o=t[i].x),l<t[i].y&&(l=t[i].y),n>t[i].y&&(n=t[i].y);return SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(e,l),new SuperMapAlgoPlot.Point(o,n))},SuperMapAlgoPlot.PlottingUtil.clonePoints=function(t){var e=[];if(void 0===t||null===t)return e;if(SuperMapAlgoPlot.PlottingUtil.isArray(t)||(t=[t]),t&&null!=t)for(var o=0;o<t.length;o++)void 0!==t[o]&&null!==t[o]&&t[o].clone&&e.push(t[o].clone());return e},SuperMapAlgoPlot.PlottingUtil.extend=function(t,e){if("function"==typeof SuperMap.Util.extend)return SuperMap.Util.extend(t,e);if(t=t||{},e){for(var o in e){var l=e[o];void 0!==l&&(t[o]=l)}!("function"==typeof window.Event&&e instanceof window.Event)&&e.hasOwnProperty&&e.hasOwnProperty.call("toString")&&(t.toString=e.toString)}return t},SuperMapAlgoPlot.PlottingUtil.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},SuperMapAlgoPlot.PlottingUtil.indexOf=function(t,e){if(null==t)return-1;if("function"==typeof t.indexOf)return t.indexOf(e);for(var o=0,l=t.length;o<l;o++)if(t[o]===e)return o;return-1},SuperMapAlgoPlot.PlottingUtil.copyAttributes=function(t,e){if(t=t||{},e)for(var o in e){var l=e[o];void 0!==l&&"CLASS_NAME"!==o&&"function"!=typeof l&&(t[o]=l)}return t},SuperMapAlgoPlot.PlottingUtil.cloneObject=function(t){if(null===t||"object"!==c(t))return t;if(t instanceof Date){var e=new Date;return e.setTime(t.getTime()),e}if(t instanceof Array)return t.slice(0);if(t instanceof Object){var o={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(o[l]=SuperMapAlgoPlot.PlottingUtil.cloneObject(t[l]));return o}throw new Error("Unable to copy obj! Its type isn't supported.")},SuperMapAlgoPlot.PlottingUtil.rad=function(t){return t*Math.PI/180},SuperMapAlgoPlot.PlottingUtil.deg=function(t){return 180*t/Math.PI},SuperMapAlgoPlot.PlottingUtil.VincentyConstants={a:6378137,b:6356752.3142,f:1/298.257223563},SuperMapAlgoPlot.PlottingUtil.distVincenty=function(t,e){var o,l,n,i=SuperMapAlgoPlot.PlottingUtil.VincentyConstants,r=i.a,a=i.b,s=i.f;"undefined"!=typeof L&&void 0!==L.LatLng&&t instanceof L.LatLng&&e instanceof L.LatLng?(o=SuperMapAlgoPlot.PlottingUtil.rad(e.lng-t.lng),l=Math.atan((1-s)*Math.tan(SuperMapAlgoPlot.PlottingUtil.rad(t.lat))),n=Math.atan((1-s)*Math.tan(SuperMapAlgoPlot.PlottingUtil.rad(e.lat)))):(o=SuperMapAlgoPlot.PlottingUtil.rad(e.lon-t.lon),l=Math.atan((1-s)*Math.tan(SuperMapAlgoPlot.PlottingUtil.rad(t.lat))),n=Math.atan((1-s)*Math.tan(SuperMapAlgoPlot.PlottingUtil.rad(e.lat))));for(var p=Math.sin(l),u=Math.cos(l),c=Math.sin(n),P=Math.cos(n),g=o,y=2*Math.PI,h=20;Math.abs(g-y)>1e-12&&--h>0;){var f=Math.sin(g),S=Math.cos(g),A=Math.sqrt(P*f*(P*f)+(u*c-p*P*S)*(u*c-p*P*S));if(0==A)return 0;var M=p*c+u*P*S,d=Math.atan2(A,M),b=Math.asin(u*P*f/A),v=Math.cos(b)*Math.cos(b),m=M-2*p*c/v,O=s/16*v*(4+s*(4-3*v));y=g,g=o+(1-O)*s*Math.sin(b)*(d+O*A*(m+O*M*(2*m*m-1)))}if(0==h)return NaN;var T=v*(r*r-a*a)/(a*a),w=T/1024*(256+T*(T*(74-47*T)-128));return(a*(1+T/16384*(4096+T*(T*(320-175*T)-768)))*(d-w*A*(m+w/4*(M*(2*m*m-1)-w/6*m*(4*A*A-3)*(4*m*m-3))))).toFixed(3)/1e3},SuperMapAlgoPlot.PlottingUtil.destinationVincenty=function(t,e,o){var l,n,i=SuperMapAlgoPlot.PlottingUtil,r=i.VincentyConstants,a=r.a,s=r.b,p=r.f;"undefined"!=typeof L&&void 0!==L.LatLng&&t instanceof L.LatLng?(l=t.lng,n=t.lat):(l=t.lon,n=t.lat);for(var u=o,c=i.rad(e),P=Math.sin(c),g=Math.cos(c),y=(1-p)*Math.tan(i.rad(n)),h=1/Math.sqrt(1+y*y),f=y*h,S=Math.atan2(y,g),A=h*P,M=1-A*A,d=M*(a*a-s*s)/(s*s),b=1+d/16384*(4096+d*(d*(320-175*d)-768)),v=d/1024*(256+d*(d*(74-47*d)-128)),m=u/(s*b),O=2*Math.PI;Math.abs(m-O)>1e-12;){var T=Math.cos(2*S+m),w=Math.sin(m),x=Math.cos(m);O=m,m=u/(s*b)+v*w*(T+v/4*(x*(2*T*T-1)-v/6*T*(4*w*w-3)*(4*T*T-3)))}var R=f*w-h*x*g,U=Math.atan2(f*x+h*w*g,(1-p)*Math.sqrt(A*A+R*R)),E=p/16*M*(4+p*(4-3*M)),C=Math.atan2(w*P,h*x-f*w*g)-(1-E)*p*A*(m+E*w*(T+E*x*(2*T*T-1)));return"undefined"!=typeof L&&void 0!==L.LatLng&&t instanceof L.LatLng?L.latLng(i.deg(U),l+i.deg(C)):new SuperMap.LonLat(l+i.deg(C),i.deg(U))},SuperMapAlgoPlot.PlottingUtil.midPoint=function(t,e){var o=new SuperMapAlgoPlot.Point(0,0);return o.x=.5*(t.x+e.x),o.y=.5*(t.y+e.y),o},SuperMapAlgoPlot.PlottingUtil.makeDottedLine=function(t,e){for(var o,l,n=[],i=e,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=e,s=t[0].clone(),p=1,u=0,c=!0,P=!0;u<r;){var g;(l=[]).push(s),u+=i;var y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,t);if(g=y.index,o=y.pts,!(c=y.bfind))break;if(p<g)for(var h=p;h<g;h++)l.push(t[h]);l.push(o),n.push(l),u+=a;var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,t);if(g=f.index,s=f.pts,p=g+1,!(P=f.bfind))break}if(!c){(l=[]).push(s);for(var S=p;S<t.length;S++)l.push(t[S]);2===l.length&&0===SuperMapAlgoPlot.PlottingUtil.distance(l[0],l[1])||n.push(l)}if(!P){var A=t[t.length-1],M=SuperMapAlgoPlot.PlottingUtil.distance(o,A);if(M*=.01,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(M,0)){var d=SuperMapAlgoPlot.PlottingUtil.linePnt(A,o,M);(l=[]).push(d),l.push(A),n.push(l)}}return n},SuperMapAlgoPlot.PlottingUtil.getLineDistance=function(t,e){for(var o=0,l=0;l<t.length-1;l++){if(SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLine(e,t[l],t[l+1])){o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],e);break}o+=SuperMapAlgoPlot.PlottingUtil.distance(t[l],t[l+1])}return o};SuperMapAlgoPlot.Primitives=SuperMapAlgoPlot.Primitives||{};SuperMapAlgoPlot.Primitives={nSegmentCount:72,initialize:function(t){t&&t.nSegmentCount&&(this.nSegmentCount=t.nSegmentCount)},polyline:function(t){return t},parallelline:function(t){if(t&&t.length>=3){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);SuperMapAlgoPlot.PlottingUtil.isRight(t[0],t[1],t[2])&&(e=-e);for(var o=[],l=1;l<t.length;l++)o.push(t[l].clone());var n=SuperMapAlgoPlot.PlottingUtil.parallel(o,e);return t[0].x=n[0].x,t[0].y=n[0].y,[o,n]}return[]},kidney:function(t,e){if(t){var o=[];return o=e?this.getKendyShapePts(t):t,SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o}},bezier:function(t,e){if(t){var o=[];return o=e?SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t):t,SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o}},loopbezier:function(t,e){if(t){t[0].x===t[t.length-1].x&&t[0].y===t[t.length-1].y||t.push(t[0]);var o=[];return o=e?SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t):t,SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o}},parallelogram:function(t){if(t&&t.length>=3){var e=t[0].x+(t[2].x-t[1].x),o=t[0].y+(t[2].y-t[1].y),l=new SuperMapAlgoPlot.Point(e,o),n=[];return n.push.apply(n,t),n.push(l),n.push(n[0]),n}},polygon:function(t){if(t&&t.length>2)return t},circle:function(t){if(t&&2===t.length){for(var e=t[0],o=t[1],l=[],n=Math.sqrt((o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y)),i=360/this.nSegmentCount,r=0;r<this.nSegmentCount;r++){var a=(r*i+1)*Math.PI/180,s=new SuperMapAlgoPlot.Point(Math.cos(a)*n+e.x,Math.sin(a)*n+e.y);l[r]=s}return l}},rectangle:function(t){if(t&&2===t.length){var e=t[0],o=t[1],l=e.clone();return[l,new SuperMapAlgoPlot.Point(o.x,e.y),o.clone(),new SuperMapAlgoPlot.Point(e.x,o.y),l]}},sector:function(t){if(t&&t.length>=3){var e=this.getArcInfo(t[0],t[1],t[2]);e.dStartAngle*=Math.PI/180,e.dEndAngle*=Math.PI/180;var o=(e.dEndAngle-e.dStartAngle)/this.nSegmentCount,l=this.getArcSpatialData(e.pntCenter,e.dRadius,e.dRadius,0,e.dStartAngle,e.dEndAngle,o);if(l.push(e.pntCenter),0!==l.length)return l}},lune:function(t){if(t&&t.length>=3){var e=this.getArcInfo(t[0],t[1],t[2]);e.dStartAngle*=Math.PI/180,e.dEndAngle*=Math.PI/180;var o=(e.dEndAngle-e.dStartAngle)/this.nSegmentCount,l=this.getArcSpatialData(e.pntCenter,e.dRadius,e.dRadius,0,e.dStartAngle,e.dEndAngle,o);if(0!==l.length)return l}},arc:function(t){if(t&&t.length>=3){var e=this.getArcInfo(t[0],t[1],t[2]);e.dStartAngle*=Math.PI/180,e.dEndAngle*=Math.PI/180;var o=(e.dEndAngle-e.dStartAngle)/this.nSegmentCount,l=this.getArcSpatialData(e.pntCenter,e.dRadius,e.dRadius,0,e.dStartAngle,e.dEndAngle,o);if(0!==l.length)return l}},ellipse:function(t,e,o,l,n){if(!0===o){if((!l||null==l)&&t&&t.length>=3&&(l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1])),(!n||null==n)&&t&&t.length>=3){var i=SuperMapAlgoPlot.PlottingUtil.projectPoint(t[2],t[0],t[1]);n=SuperMapAlgoPlot.PlottingUtil.distance(i,t[2])}}else n=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[2]),l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(e&&null!=e?e*=Math.PI/180:e=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1]),t&&t.length>0){var r=2*Math.PI,a=r/this.nSegmentCount,s=this.getArcSpatialData(t[0],l,n,e,0,r,a);if(!0===o){var p=Math.sin(e),u=Math.cos(e);t[2].x>t[1].x?(t[2].x=t[0].x-n*p,t[2].y=t[0].y+n*u):(t[2].x=t[0].x+n*p,t[2].y=t[0].y-n*u)}return s}},getArcSpatialData:function(t,e,o,l,n,i,r){var a=[];if(Math.abs(r)<1e-9)return a;for(;i<n;)i+=2*Math.PI;for(;i>n+2*Math.PI;)n+=2*Math.PI;var s=Math.cos(l)*e,p=Math.sin(l)*e,u=Math.cos(l)*o,c=Math.sin(l)*o,P=this.calcEllipseRadian(n,e,o),g=this.calcEllipseRadian(i,e,o);g-P<1e-5&&(g+=2*Math.PI);var y=Math.round(Math.abs((g-P)/r)+1);if(y<2)return a;for(var h=0;h<y-1;P+=r,h++){h===y-2&&(P=i);var f=t.x+s*Math.cos(P)-c*Math.sin(P),S=t.y+p*Math.cos(P)+u*Math.sin(P);a.push(new SuperMapAlgoPlot.Point(f,S))}return 0>a.length&&(a[a.length-1].x=t.x+s*Math.cos(g)-c*Math.sin(g),a[a.length-1].y=t.y+p*Math.cos(g)+u*Math.sin(g)),a},getArcCircleSpatialData:function(t,e,o,l){for(var n=[];l<o;)l+=2*Math.PI;for(;l>o+2*Math.PI;)o+=2*Math.PI;l-o<1e-10&&(l+=2*Math.PI);for(var i=(l-o)/50,r=o;r<l;r+=i){var a=t.x+e*Math.cos(r),s=t.y+e*Math.sin(r);n.push(new SuperMapAlgoPlot.Point(a,s))}var p=t.x+e*Math.cos(l),u=t.y+e*Math.sin(l);return n.push(new SuperMapAlgoPlot.Point(p,u)),n},getArcInfo:function(t,e,o){var l={};l.pntCenter=new SuperMapAlgoPlot.Point(0,0),l.dRadius=0,l.dStartAngle=0,l.dEndAngle=0;var n=e.x-t.x,i=e.y-t.y;if(Math.abs(n)<1e-9){var r={},a={};r.x=(e.x+t.x)/2,r.y=(e.y+t.y)/2,a.x=(e.x+o.x)/2,a.y=(e.y+o.y)/2;var s=0;Math.abs(o.x-e.x)>=1e-9&&(s=(o.y-e.y)/(o.x-e.x)),l.pntCenter.y=r.y,Math.abs(s)<1e-9?l.pntCenter.x=a.x:l.pntCenter.x=a.x-s*(r.y-a.y)}else{var p={},u={};p.x=(e.x+t.x)/2,p.y=(e.y+t.y)/2,u.x=(e.x+o.x)/2,u.y=(e.y+o.y)/2;var c=i/n,P=1;Math.abs(c)<1e-9?(l.pntCenter.x=p.x,Math.abs(o.x-e.x<1e-9)?l.pntCenter.y=u.y:l.pntCenter.y=-(o.x-e.x)/(o.y-e.y)*(l.pntCenter.x-u.x)+u.y):Math.abs(o.x-e.x)<1e-9?(l.pntCenter.y=u.y,l.pntCenter.x=-c*(l.pntCenter.y-p.y)+p.x):(P=(o.y-e.y)/(o.x-e.x),l.pntCenter.x=(c*P*(p.y-u.y)+P*p.x-c*u.x)/(P-c),l.pntCenter.y=(u.x-p.x+P*u.y-c*p.y)/(P-c))}var g=Math.atan2(t.y-l.pntCenter.y,t.x-l.pntCenter.x),y=Math.atan2(o.y-l.pntCenter.y,o.x-l.pntCenter.x);if(SuperMapAlgoPlot.PlottingUtil.isCounterClockwise(t,e,o)){for(;g>=2*Math.PI;)g-=2*Math.PI;for(;g<0;)g+=2*Math.PI;for(;y>2*Math.PI;)y-=2*Math.PI;for(;y<g;)y+=2*Math.PI}else{for(;y>=2*Math.PI;)y-=2*Math.PI;for(;y<0;)y+=2*Math.PI;for(;g>2*Math.PI;)g-=2*Math.PI;for(;y>g;)g+=2*Math.PI;var h=g;g=y,y=h}return l.dRadius=Math.sqrt((l.pntCenter.x-t.x)*(l.pntCenter.x-t.x)+(l.pntCenter.y-t.y)*(l.pntCenter.y-t.y)),l.dEndAngle=180*y/Math.PI,l.dStartAngle=180*g/Math.PI,l},calcEllipseRadian:function(t,e,o){var l=t,n=e*Math.sin(t),i=o*Math.cos(t),r=Math.atan2(n,i);if(t>Math.PI)for(;l>Math.PI;)l-=2*Math.PI,r+=2*Math.PI;else if(t<-Math.PI)for(;l<-Math.PI;)l+=2*Math.PI,r-=2*Math.PI;return r},getKendyShapePts:function(t){var e=[];if(2>(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length)return e;var o=this.calcShapePoints(t);if(12!=o.length)return e;o.push(o[0]),o.push(o[1]),o.splice(0,1);for(var l=0;l<o.length-3;l+=3){var n;n=this.getBezierPtsWithScalePts(o[l],o[l+1],o[l+2],o[l+3]),e=e.concat(n)}return e},calcShapePoints:function(t){var e=[],o=[],l=t.length;if(0!==l){if(1!==l){if(2==l){var n=this.calcProtudeC3(t[1],t[0]);o.push(t[0]),o.push(t[1]),o.push(n)}else if(o.push(t[0]),o.push(t[1]),o.push(t[2]),(SuperMapAlgoPlot.PlottingUtil.isSamePt(t[0],t[2])||SuperMapAlgoPlot.PlottingUtil.isSamePt(t[1],t[2]))&&(e.push(t[0]),e.push(t[1])),SuperMapAlgoPlot.PlottingUtil.isSamePt(t[0],t[1]))return e.push(t[0]),void e.push(t[2]);o=this.reNormalizeKidneyCtrlPoints(o);var i=new SuperMapAlgoPlot.Point(0,0),r=new SuperMapAlgoPlot.Point(0,0);i.x=.5*(o[0].x+o[1].x),i.y=.5*(o[0].y+o[1].y),r.x=i.x-.1*(o[2].x-i.x),r.y=i.y-.1*(o[2].y-i.y);var a=this.GetPtsByTriangle(3,0,o[1],o[0],r);e.push(a.pr),e.push(r),e.push(a.pl);var s=this.GetPtsByTriangle(4,2,o[2],o[0],o[1]);e.push(s.pr),e.push(o[1]),e.push(s.pl);var p=this.GetPtsByTriangle(2,0,o[0],o[1],o[2]);e.push(p.pr),e.push(o[2]),e.push(p.pl);var u=this.GetPtsByTriangle(4,1,o[1],o[2],o[0]);return e.push(u.pr),e.push(o[0]),e.push(u.pl),e}e.push(t[0])}},calcProtudeC3:function(t,e){var o,l=new SuperMapAlgoPlot.Point(0,0);return l.x=.5*(t.x+e.x),l.y=.5*(t.y+e.y),o=SuperMapAlgoPlot.PlottingUtil.distance(e,t)/2.7,this.GetPointsOfNormal(o,t,l).pt3},GetPointsOfNormal:function(t,e,o){var l,n=new SuperMapAlgoPlot.Point(0,0),i=new SuperMapAlgoPlot.Point(0,0),r=new SuperMapAlgoPlot.Point(0,0);return 0==(l=SuperMapAlgoPlot.PlottingUtil.distance(e,o))?(r.y=0,r.x=t):(r.x=t*(e.x-o.x)/l,r.y=t*(e.y-o.y)/l),n.x=-r.y+o.x,n.y=r.x+o.y,i.x=r.y+o.x,i.y=-r.x+o.y,{pt3:n,pt4:i}},reNormalizeKidneyCtrlPoints:function(t){var e=[];e.push(new SuperMapAlgoPlot.Point(0,0)),e.push(new SuperMapAlgoPlot.Point(0,0)),e.push(new SuperMapAlgoPlot.Point(0,0));var o=t.length;if(o<2)return e;if(2==o)e[0]=t[0],e[1]=t[1],e[2]=this.calcProtudeC3(t[0],t[1]);else{var l,n,i,r=t[0],a=t[1],s=t[2];if(l=SuperMapAlgoPlot.PlottingUtil.distance(a,r),n=SuperMapAlgoPlot.PlottingUtil.distance(s,a),i=SuperMapAlgoPlot.PlottingUtil.distance(r,s),n>=l&&n>=i){var p=r.clone();r=s.clone(),s=p.clone()}else if(i>=l&&i>=n){var u=s.clone();s=a.clone(),a=u.clone()}if(!SuperMapAlgoPlot.PlottingUtil.isRight(s,r,a)){var c=r.clone();r=a.clone(),a=c.clone()}e[0]=r,e[1]=a,e[2]=s}return e},GetPtsByTriangle:function(t,e,o,l,n){var i=new SuperMapAlgoPlot.Point(0,0),r=0,a=0;return r=SuperMapAlgoPlot.PlottingUtil.distance(n,o),a=SuperMapAlgoPlot.PlottingUtil.distance(l,n),1==e&&(r*=2),2==e&&(a*=2),i.x=(r*l.x+a*o.x)/(r+a),i.y=(r*l.y+a*o.y)/(r+a),{pl:this.GetWhichPtOfNormal(t,o,i,n),pr:this.GetWhichPtOfNormal(t,l,i,n)}},GetWhichPtOfNormal:function(t,e,o,l){var n=0;n=SuperMapAlgoPlot.PlottingUtil.distance(l,e)/t;var i=this.GetPointsOfNormal(n,o,l);return SuperMapAlgoPlot.PlottingUtil.distance(e,i.pt4)>=(n=SuperMapAlgoPlot.PlottingUtil.distance(e,i.pt3))?i.pt3:i.pt4},getBezierPtsWithScalePts:function(t,e,o,l){var n=[],i=t.x,r=t.y,a=e.x,s=e.y,p=o.x,u=o.y,c=l.x,P=l.y;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,a,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,s,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,c,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(u,P,1e-10))n.push(new SuperMapAlgoPlot.Point(i,r)),n.push(new SuperMapAlgoPlot.Point(p,u));else for(var g=0;g<=1;g+=.03125){var y,h,f,S,A=g*g,M=A*g;y=1-3*g+3*A-M,h=3*(g-2*A+M),f=3*(A-M),S=M;var d=new SuperMapAlgoPlot.Point(y*i+h*a+f*p+S*c,y*r+h*s+f*u+S*P);n.push(d)}return n},getSpatialData:function(t,e,o,l){switch(null==l&&(l=!0),t){case 24:return this.polyline(e);case 390:return this.kidney(e,l);case 590:return this.bezier(e,l);case 360:return this.loopbezier(e,l);case 28:return this.parallelogram(e);case 32:return this.polygon(e);case 29:return this.circle(e);case 26:return this.rectangle(e);case 380:return this.sector(e);case 370:return this.lune(e);case 44:return this.arc(e);case 31:return this.ellipse(e,o,l);case 48:return this.parallelline(e);default:return e}}};SuperMapAlgoPlot.RouteNodePrimitives=SuperMapAlgoPlot.RouteNodePrimitives||{};SuperMapAlgoPlot.RouteNodePrimitives={initialize:function(){},rendezvousPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.textContent="会",o.style={surroundLineFlag:!1,fontSize:14,fontSizeLimit:!0},o.style.labelAlign="cm",t.push(o),t.push(e),t},expandingPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.textContent="展",o.style={surroundLineFlag:!1,fontSize:14,fontSizeLimit:!0},o.style.labelAlign="cm",t.push(o),t.push(e),t},volleyPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.textContent="齐",o.style={surroundLineFlag:!1,fontSize:14,fontSizeLimit:!0},o.style.labelAlign="cm",t.push(o),t.push(e),t},standbyPoint_Outer:function(t,e){var o=[],l=new SuperMapAlgoPlot.Point(0,0),n=new SuperMapAlgoPlot.Point(0,30);t||(t=90);var i=new Object;i.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i.positionPoints=[];for(var r=t+10;r<170+t;r+=10){var a=SuperMapAlgoPlot.PlottingUtil.findPoint(l,n,30,r);i.positionPoints.push(a)}i.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},o.push(i);var s=i.positionPoints[i.positionPoints.length-1],p=i.positionPoints[i.positionPoints.length-2],u=SuperMapAlgoPlot.PlottingUtil.findPoint(s,p,9,22.5),c=SuperMapAlgoPlot.PlottingUtil.findPoint(s,p,9,-22.5),P=new Object;P.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P.positionPoints=[],P.positionPoints.push(u),P.positionPoints.push(s.clone()),P.positionPoints.push(c),P.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},o.push(P);var g=new Object;g.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g.positionPoints=[];for(var y=190+t;y<350+t;y+=10){var h=SuperMapAlgoPlot.PlottingUtil.findPoint(l,n,30,y);g.positionPoints.push(h)}g.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},o.push(g);var f=g.positionPoints[g.positionPoints.length-1],S=g.positionPoints[g.positionPoints.length-2],A=SuperMapAlgoPlot.PlottingUtil.findPoint(f,S,9,22.5),M=SuperMapAlgoPlot.PlottingUtil.findPoint(f,S,9,-22.5),d=new Object;d.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d.positionPoints=[],d.positionPoints.push(A),d.positionPoints.push(f.clone()),d.positionPoints.push(M),d.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},o.push(d);for(var b=0;b<o.length;b++)for(var v=0;v<o[b].positionPoints.length;v++){var m=e*(Math.PI/180);SuperMapAlgoPlot.PlottingUtil.rotateAngle(l,m,o[b].positionPoints[v])}return o},standbyPoint_Inner:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(-20,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(20,10)),e.positionPoints.push(new SuperMapAlgoPlot.Point(20,-10)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e);var o=new Object;o.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(-5,0)),o.positionPoints.push(new SuperMapAlgoPlot.Point(17,0)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(o);var l=new Object;return l.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l.positionPoints=[],l.positionPoints.push(new SuperMapAlgoPlot.Point(-2,1.5)),l.positionPoints.push(new SuperMapAlgoPlot.Point(-5,0)),l.positionPoints.push(new SuperMapAlgoPlot.Point(-2,-1.5)),l.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(l),t},supplyPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.textContent="补",o.style={surroundLineFlag:!1,fontSize:14,fontSizeLimit:!0},o.style.labelAlign="cm",t.push(o),t.push(e),t},takeoffPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(-15,25)),e.positionPoints.push(new SuperMapAlgoPlot.Point(15,25)),e.positionPoints.push(new SuperMapAlgoPlot.Point(15,-25)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,-35)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-15,-25)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-15,25)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},initialPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,-30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},visualInitalPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,0)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},lanchPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(20,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-20,-30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},turningPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},aimingPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(20,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-20,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},targetPoint:function(){var t=[],e=new Object;return e.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,-30)),e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,-30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t},eightSpiralPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(30,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(-30,0)),o.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t.push(o),t},happyValleyPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(-30,20)),e.positionPoints.push(new SuperMapAlgoPlot.Point(30,20)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;o.type=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(30,-20)),o.positionPoints.push(new SuperMapAlgoPlot.Point(-30,-20)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var l=new Object;l.type=SuperMapAlgoPlot.SymbolType.ARCSYMBOL,l.positionPoints=[],l.positionPoints.push(new SuperMapAlgoPlot.Point(-30,20)),l.positionPoints.push(new SuperMapAlgoPlot.Point(-50,0)),l.positionPoints.push(new SuperMapAlgoPlot.Point(-30,-20)),l.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var n=new Object;return n.type=SuperMapAlgoPlot.SymbolType.ARCSYMBOL,n.positionPoints=[],n.positionPoints.push(new SuperMapAlgoPlot.Point(30,20)),n.positionPoints.push(new SuperMapAlgoPlot.Point(50,0)),n.positionPoints.push(new SuperMapAlgoPlot.Point(30,-20)),n.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(e),t.push(o),t.push(l),t.push(n),t},attackPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fillLimit:!0,fill:!1};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(0,20)),o.positionPoints.push(new SuperMapAlgoPlot.Point(20,-20)),o.positionPoints.push(new SuperMapAlgoPlot.Point(-20,-20)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(o),t.push(e),t},suppressPoint:function(){var t=[],e=new Object;e.type=SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,e.positionPoints=[],e.positionPoints.push(new SuperMapAlgoPlot.Point(0,0)),e.positionPoints.push(new SuperMapAlgoPlot.Point(0,30)),e.style={surroundLineFlag:!1,fontSize:14};var o=new Object;return o.type=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o.positionPoints=[],o.positionPoints.push(new SuperMapAlgoPlot.Point(-15,15)),o.positionPoints.push(new SuperMapAlgoPlot.Point(15,15)),o.positionPoints.push(new SuperMapAlgoPlot.Point(15,-15)),o.positionPoints.push(new SuperMapAlgoPlot.Point(-15,-15)),o.style={surroundLineFlag:!1,fillLimit:!0,fill:!1},t.push(o),t.push(e),t},getRouteNodeCells:function(t,e,o){switch(t){case SuperMapAlgoPlot.RouteNodeType.RENDEZVOUS:return this.rendezvousPoint();case SuperMapAlgoPlot.RouteNodeType.EXPANDING:return this.expandingPoint();case SuperMapAlgoPlot.RouteNodeType.VOLLEY:return this.volleyPoint();case SuperMapAlgoPlot.RouteNodeType.STANDBY:return e?this.standbyPoint_Inner():this.standbyPoint_Outer(null,o);case SuperMapAlgoPlot.RouteNodeType.SUPPLY:return this.supplyPoint();case SuperMapAlgoPlot.RouteNodeType.TAKEOFF:return this.takeoffPoint();case SuperMapAlgoPlot.RouteNodeType.INITIAL:return this.initialPoint();case SuperMapAlgoPlot.RouteNodeType.VISUALINITAL:return this.visualInitalPoint();case SuperMapAlgoPlot.RouteNodeType.LANCH:case SuperMapAlgoPlot.RouteNodeType.WEAPONLAUNCH:return this.lanchPoint();case SuperMapAlgoPlot.RouteNodeType.TURNING:case SuperMapAlgoPlot.RouteNodeType.COMMONROUTE:return this.turningPoint();case SuperMapAlgoPlot.RouteNodeType.AIMING:return this.aimingPoint();case SuperMapAlgoPlot.RouteNodeType.TARGET:return this.targetPoint();case SuperMapAlgoPlot.RouteNodeType.ATTACK:return this.attackPoint();case SuperMapAlgoPlot.RouteNodeType.SUPPRESS:return this.suppressPoint();case SuperMapAlgoPlot.RouteNodeType.EIGHTSPIRAL:return this.eightSpiralPoint();case SuperMapAlgoPlot.RouteNodeType.HAPPYVALLEY:return this.happyValleyPoint();default:return[]}},getRouteNodeNameByType:function(t){switch(t){case SuperMapAlgoPlot.RouteNodeType.RENDEZVOUS:return"会合点";case SuperMapAlgoPlot.RouteNodeType.EXPANDING:return"展开点";case SuperMapAlgoPlot.RouteNodeType.VOLLEY:return"齐射点";case SuperMapAlgoPlot.RouteNodeType.STANDBY:return"待机点";case SuperMapAlgoPlot.RouteNodeType.SUPPLY:return"补给点";case SuperMapAlgoPlot.RouteNodeType.TAKEOFF:return"起飞点";case SuperMapAlgoPlot.RouteNodeType.INITIAL:return"初始点";case SuperMapAlgoPlot.RouteNodeType.VISUALINITAL:return"可视化初始点";case SuperMapAlgoPlot.RouteNodeType.LANCH:return"发射点";case SuperMapAlgoPlot.RouteNodeType.WEAPONLAUNCH:return"武器发射点";case SuperMapAlgoPlot.RouteNodeType.TURNING:return"转弯点";case SuperMapAlgoPlot.RouteNodeType.COMMONROUTE:return"普通航路点";case SuperMapAlgoPlot.RouteNodeType.AIMING:return"目标瞄准点";case SuperMapAlgoPlot.RouteNodeType.TARGET:return"目标点";case SuperMapAlgoPlot.RouteNodeType.ATTACK:return"攻击点";case SuperMapAlgoPlot.RouteNodeType.SUPPRESS:return"压制点";case SuperMapAlgoPlot.RouteNodeType.EIGHTSPIRAL:return"八字盘旋点";case SuperMapAlgoPlot.RouteNodeType.HAPPYVALLEY:return"跑马圈点";default:return""}}};SuperMapAlgoPlot.AddPoint_WayType={UNKNOWN:0,POLYLINE:1,CURVE:2,CURVE_WITHCONTROLPT:3,POLYLINE_CLOSE:4,CURVE_CLOSE:5};function P(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.m_pData=null,this.CLASS_NAME="SuperMapAlgoPlot.Path2D"}var e,o,l;return e=t,l=[{key:"mtRef",value:function(t){return 0!=++t}},{key:"mtDeRef",value:function(t){return 0!=--t}}],(o=[{key:"MoveTo",value:function(t){this.ensureData(),this.detach();var e=this.getDataPtr();if(e.require_StartNewFigure=!1,0==e.elements[e.elements.length-1].GetType())e.elements[e.elements.length-1].SetPosition(t.x,t.y);else{var o=new SuperMapAlgoPlot.Element(t.x,t.y,0);e.elements.push(o)}e.cStart=e.elements.length-1}},{key:"LineTo",value:function(t){this.ensureData(),this.detach();var e=this.getDataPtr();if(e.MaybeStartNewFigure(),e.elements[e.elements.length-1].GetX()!=t.x||e.elements[e.elements.length-1].GetY()!=t.y){var o=new SuperMapAlgoPlot.Element(t.x,t.y,1);e.elements.push(o)}}},{key:"CurveTo",value:function(t,e,o){this.ensureData(),this.detach();var l=this.getDataPtr();if(l.elements[l.elements.length-1].GetX()!=t.x||l.elements[l.elements.length-1].GetY()!=t.y||t.x!=e.x||t.y!=e.y||e.x!=o.x||e.y!=o.y){l.MaybeStartNewFigure();var n=new SuperMapAlgoPlot.Element(t.x,t.y,2),i=new SuperMapAlgoPlot.Element(e.x,e.y,3),r=new SuperMapAlgoPlot.Element(o.x,o.y,3);l.elements.push(n),l.elements.push(i),l.elements.push(r)}}},{key:"CubicTo",value:function(t,e,o){this.ensureData(),this.detach();var l=this.getDataPtr();if(l.elements[l.elements.length-1].GetX()!=t.x||l.elements[l.elements.length-1].GetY()!=t.y||t.x!=e.x||t.y!=e.y||e.x!=o.x||e.y!=o.y){l.MaybeStartNewFigure();var n=new SuperMapAlgoPlot.Element(t.x,t.y,2),i=new SuperMapAlgoPlot.Element(e.x,e.y,3),r=new SuperMapAlgoPlot.Element(o.x,o.y,3);l.elements.push(n),l.elements.push(i),l.elements.push(r)}}},{key:"ToSubPathPolygons",value:function(t){var e,o,l=this.getDataPtr();if(this.IsEmpty())return!1;for(var n=[],i=this.GetElementCount(),r=0;r<i;r++){var a=l.elements[r];switch(a.GetType()){case 0:n.length>1&&t.push(n),n=[],e=a.GetX(),o=a.GetY(),n.push(new SuperMapAlgoPlot.Point(e,o));break;case 1:e=a.GetX(),o=a.GetY(),n.push(new SuperMapAlgoPlot.Point(e,o));break;case 2:if(3!=l.elements[r+1].GetType()||3!=l.elements[r+1].GetType())break;for(var s=l.elements[r-1].GetX(),p=l.elements[r-1].GetY(),u=a.GetX(),c=a.GetY(),P=l.elements[r+1].GetX(),g=l.elements[r+1].GetY(),y=l.elements[r+2].GetX(),h=l.elements[r+2].GetY(),f=0;f<=1;f+=.03125){var S=f*f,A=S*f,M=1-3*f+3*S-A,d=3*(f-2*S+A),b=3*(S-A),v=A;n.push(new SuperMapAlgoPlot.Point(M*s+d*u+b*P+v*y,M*p+d*c+b*g+v*h))}r+=2}}return n.length>1&&t.push(n),!0}},{key:"ensureData",value:function(){null==this.m_pData&&this.ensureData_helper()}},{key:"ensureData_helper",value:function(){var t=new SuperMapAlgoPlot.Path2DData,e=new SuperMapAlgoPlot.Element(0,0,0);t.elements.push(e),null==this.m_pData||this.mtDeRef(this.m_pData.ref)||(this.m_pData=null),this.m_pData=t}},{key:"detach",value:function(){1!=this.m_pData.ref&&this.detach_helper(),this.setBoundsDirty(!0)}},{key:"detach_helper",value:function(){var t=new SuperMapAlgoPlot.Path2DData;null==this.m_pData||this.mtDeRef(this.m_pData.ref)||(this.m_pData=null),this.m_pData=t}},{key:"setBoundsDirty",value:function(t){this.getDataPtr().isBoundsDirty=t}},{key:"getDataPtr",value:function(){return this.m_pData}},{key:"IsEmpty",value:function(){if(null==this.m_pData)return!0;var t=this.m_pData.elements.length;return 0==t||1==t&&0==this.m_pData.elements[0].GetType()}},{key:"GetElementCount",value:function(){return null!=this.m_pData?this.m_pData.elements.length:0}}])&&P(e.prototype,o),l&&P(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}SuperMapAlgoPlot.Path2D=g;var h=function(){function t(e,o,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.m_x=e,this.m_y=o,this.m_type=l,this.CLASS_NAME="SuperMapAlgoPlot.Element"}var e,o,l;return e=t,(o=[{key:"GetX",value:function(){return this.m_x}},{key:"GetY",value:function(){return this.m_y}},{key:"GetType",value:function(){return this.m_type}},{key:"GetPosition",value:function(){return SuperMapAlgoPlot.Point(this.m_x,this.m_y)}},{key:"SetPosition",value:function(t,e){this.m_x=t,this.m_y=e}},{key:"SetType",value:function(t){this.m_type=t}},{key:"IsCurveTo",value:function(){return 2==this.m_type}},{key:"IsLineTo",value:function(){return 1==this.m_type}},{key:"IsMoveTo",value:function(){return 0==this.m_type}},{key:"Equal",value:function(t){return SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.m_x,t.m_x,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.m_y,t.m_y,1e-10)&&this.m_type==t.m_type}},{key:"clone",value:function(){return new SuperMapAlgoPlot.Path2D.Element(this.m_x,this.m_y,this.m_type)}}])&&y(e.prototype,o),l&&y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}SuperMapAlgoPlot.Element=h;var S=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e){this.cStart=e.cStart,this.fillRule=e.fillRule,this.require_StartNewFigure=e.require_StartNewFigure,this.isBoundsDirty=e.isBoundsDirty,this.bounds=new SuperMap.Bounds(e.bounds.left,e.bounds.bottom,e.bounds.right,e.bounds.top),this.ref=1,this.elements=[];for(var o=0;o<e.elements.length;o++)this.elements.push(e.elements[o].clone())}else this.ref=1,this.bounds=new SuperMap.Bounds(0,0,0,0),this.elements=[];this.CLASS_NAME="SuperMapAlgoPlot.Path2DData"}var e,o,l;return e=t,(o=[{key:"IsClosed",value:function(){var t=this.elements[this.cStart],e=this.elements[this.elements.length-1];return t.GetX()==e.GetX()&&t.GetY()==e.GetY()}},{key:"Close",value:function(){this.require_StartNewFigure=!0;var t=this.elements[this.cStart],e=this.elements[this.elements.length-1];t!=e&&(t.Equal(e)?e.SetPosition(t.GetX(),t.GetY()):this.elements.push(new SuperMapAlgoPlot.Element(t.GetX(),t.GetY(),SuperMapAlgoPlot.ElementType.LineToElement)))}},{key:"MaybeStartNewFigure",value:function(){if(this.require_StartNewFigure){var t=this.elements[this.elements.length-1].clone();t.SetType(0),this.elements.push(t),this.require_StartNewFigure=!1}}}])&&f(e.prototype,o),l&&f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();SuperMapAlgoPlot.Path2DData=S;SuperMapAlgoPlot.ArrowToolkit=SuperMapAlgoPlot.ArrowToolkit||{};function A(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}SuperMapAlgoPlot.ArrowToolkit.ConstValue={MAX_ARRAY_SIZE:128,sv_AtScaleParameter:1.5,sv_AtLenDivAtWidth:1.35,sv_AtWidthDivAwWidth:.5,DUOJIANTOU_TAIL_RATE_1:8,DUOJIANTOU_TAIL_RATE_2:3,DUOJIANTOU_TAIL_RATE_3:.6},SuperMapAlgoPlot.ArrowToolkit.ArrowTailType={ARROWTAIL_NONE:0,ARROWTAIL_LINE:1,ARROWTAIL_CURVE:2,ARROWTAIL_COATTAIL:3,ARROWTAIL_COATTAIL_POLYBODY:4},SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType={ARROWHEAD_POLYLINE:0,ARROWHEAD_TRIANGLE:1,ARROWHEAD_COATTAIL:2,ARROWHEAD_TRIANGLE_SOLID:3,ARROWHEAD_COATTAIL_HOLLOW:6,ARROWHEAD_WITH_EAR:4,ARROWHEAD_WITHOUT_EAR:5},SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType={ARROWBODY_POLYLINE:0,ARROWBODY_POLYBEZIER:1,ARROWBODY_COATTAIL:5,ARROWBODY_PARALLEL:2,ARROWBODY_TRAPEZOID:3,ARROWBODY_MULTIPOLYBEZIER:4},SuperMapAlgoPlot.ArrowToolkit.parallel=function(t,e){var o={leftParallelPts:[],rightParallelPts:[]};return 1===t.length||2===t.length&&t[0].x===t[1].x&&t[0].y===t[1].y?o:(o.leftParallelPts=SuperMapAlgoPlot.PlottingUtil.parallel(t,e),o.rightParallelPts=SuperMapAlgoPlot.PlottingUtil.parallel(t,-e),o)},SuperMapAlgoPlot.ArrowToolkit.trapezoid=function(t,e,o){var l={leftParallelPts:[],rightParallelPts:[]};if(1===t.length||2===t.length&&t[0].x===t[1].x&&t[0].y===t[1].y)return l;for(var n=0;n<t.length-1;n++){t[n].x===t[n+1].x&&t[n].y===t[n+1].y&&(l.leftParallelPts.push(l.leftParallelPts[l.leftParallelPts.length-1]),l.rightParallelPts.push(l.rightParallelPts[l.rightParallelPts.length-1]));var i=t[n+1];i=SuperMapAlgoPlot.PlottingUtil.rotate(t[n],0,1,i),l.leftParallelPts.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[n],i,e)),i=t[n],i=SuperMapAlgoPlot.PlottingUtil.rotate(t[n+1],0,-1,i),l.leftParallelPts.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[n+1],i,o)),i=t[n+1],i=SuperMapAlgoPlot.PlottingUtil.rotate(t[n],0,-1,i),l.rightParallelPts.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[n],i,e)),i=t[n],i=SuperMapAlgoPlot.PlottingUtil.rotate(t[n+1],0,1,i),l.rightParallelPts.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[n+1],i,o))}return l},SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts=function(t,e,o){var l={};switch(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o){case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_PARALLEL:case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_TRAPEZOID:var n=e[0],i=e[1],r=e[2],a=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,0);if(!a&&t.length>2){var s=t.length;t.splice(2,s-2)}var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);l.arrowTouLen=p*n;for(var u=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,p-l.arrowTouLen).pt,c=[],P=l.arrowTouLen*r,g=l.arrowTouLen*i,y=t.length-1,h=0;h<y;h++)c.push(t[h]);c.push(u);var f={leftParallelPts:[],rightParallelPts:[]};f=!0===a?SuperMapAlgoPlot.ArrowToolkit.parallel(c,g):SuperMapAlgoPlot.ArrowToolkit.trapezoid(c,P,g);var S=t[t.length-1];t[t.length-1]=u,t.push(S);l.leftBodyPts=f.leftParallelPts,l.rightBodyPts=f.rightParallelPts,l.OpectrlPoints=null;break;case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER:var A=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0==A)return;var M=SuperMapAlgoPlot.ArrowToolkit.OperateCtrlPts(t),d=M.length;d--;var b=SuperMapAlgoPlot.ArrowToolkit.generateMultiBezier(M,d,e,A);t=[];for(var v=0;v<M.length;v++)t.push(M[v]);l.arrowTouLen=b.arrowTouLen,l.leftBodyPts=b.leftBodyPts,l.rightBodyPts=b.rightBodyPts,l.OpectrlPoints=M}return t=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t),l.leftBodyPts=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l.leftBodyPts),l.rightBodyPts=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l.rightBodyPts),l.OpectrlPoints=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l.OpectrlPoints),l},SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone=function(t){var e=!0,o=[];if(t.length<=1)return{pts:t,isEast:e};var l=!1;if(void 0!==t[t.length-1].z&&(l=!0),!l)return{pts:t,isEast:e};for(var n=0;n<t.length;n++){var i=new Cesium.PlotPoint3D(t[n].x,t[n].y,t[n].z);o.push(i)}for(var r=SuperMapAlgoPlot.PlottingUtil.clonePoints(o),a=[],s=[],p=0;p<r.length-1;p++)r[p+1].x-r[0].x>-360&&r[p+1].x-r[0].x<-180&&a.push(p+1),r[p+1].x-r[0].x<360&&r[p+1].x-r[0].x>180&&s.push(p+1);if(s.length>a.length){for(var u=0;u<s.length;u++)r[s[u]].x=r[s[u]].x-360;e=!1}else{for(var c=0;c<a.length;c++)r[a[c]].x=r[a[c]].x+360;e=!0}return{pts:r,isEast:e}},SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone=function(t){if(null===t||t.length<=1)return t;var e=!1;if(void 0!==t[0].z&&(e=!0),!e)return t;for(var o=[],l=0;l<t.length;l++){var n=new Cesium.PlotPoint3D(t[l].x,t[l].y,t[l].z);o.push(n)}for(var i=SuperMapAlgoPlot.PlottingUtil.clonePoints(o),r=0;r<i.length;r++)i[r].x>180?i[r].x=i[r].x-360:i[r].x<-180&&(i[r].x=i[r].x+360);return i},SuperMapAlgoPlot.ArrowToolkit.eastCrossZone=function(t){var e=!1;if(void 0!==t[0].z&&(e=!0),!e)return t;for(var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),l=0;l<o.length;l++)o[l].x<0&&o[l].x>-180&&(o[l].x=o[l].x+360);return o},SuperMapAlgoPlot.ArrowToolkit.westCrossZone=function(t){var e=!1;if(void 0!==t[0].z&&(e=!0),!e)return t;for(var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),l=0;l<o.length;l++)o[l].x>0&&o[l].x<180&&(o[l].x=o[l].x-360);return o},SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts=function(t,e,o,l,n){var i=[];switch(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,e=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(e).pts,n){case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR:case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITHOUT_EAR:var r=o[0],a=o[1],s=0,p=0;3==o.length&&(s=o[2]),4==o.length&&(s=o[2],p=o[3]);var u=0;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(s,0)&&!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,0)){var c=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);c.splice(c.length-1,1),u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(c)*s*p}var P=new SuperMapAlgoPlot.Point((e[0].x+e[1].x)/2,(e[0].y+e[1].y)/2);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var g=l*r,y=t[t.length-1];return y=SuperMapAlgoPlot.PlottingUtil.rotate(P,0,1,y),i.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(P,y,g)),i.push(t[t.length-1]),y=t[t.length-1],y=SuperMapAlgoPlot.PlottingUtil.rotate(P,0,-1,y),i.push(SuperMapAlgoPlot.PlottingUtil.findPointInLine(P,y,g)),t=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t),i=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(i)}var h=l*a,f=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(h,P,t[t.length-1]);h=l*r,h+=u;var S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(h,t[t.length-1],f),A=S.pntLeft,M=S.pntRight,d=t[t.length-1];return i.push(M),i.push(d),i.push(A),t=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t),i=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(i)}},SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine=function(t,e,o,l){var n=[];if(2>t.length)return n;t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var i,r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),a=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e,0);switch(o){case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYLINE:n=n.concat(t),l&&!a&&SuperMapAlgoPlot.PlottingUtil.distance(t[t.length-1],t[t.length-2])>e&&(i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,r-e),n.splice(n.length-1,1),n.push(i.pt));break;case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYBEZIER:if(2==t.length)n=n.concat(t),l&&!a&&SuperMapAlgoPlot.PlottingUtil.distance(t[t.length-1],t[t.length-2])>e&&(i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,r-e),n.splice(n.length-1,1),n.push(i.pt));else{var s=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t),p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(s);if(a)n=n.concat(s);else{var u=s[s.length-1];if(!a&&(e<p||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,e,1e-7))){for(var c=s.length-1;c>1;c--){if(!(e>SuperMapAlgoPlot.PlottingUtil.distance(u,s[c]))){var P=SuperMapAlgoPlot.PlottingUtil.findPoint(u,s[c],e,0);s.push(P),n=s;break}s.splice(c,1)}l||n.push(u)}else n=n.concat(s)}}break;case SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_COATTAIL:var g=e;if(g>r)return n;for(var y,h,f=Math.ceil(r/(1.4*g)),S=0,A=[],M=0;M<f;M++)y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g*S,t),h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g*(S+1),t),y.bfind&&h.bfind&&(A.push(y.pts),A.push(h.pts)),S=1.4*(M+1);n=A}return n=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(n)},SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine=function(t,e,o){var l=[];if(2>t.length)return l;switch(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o){case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_POLYLINE:var n=t[0],i=t[1],r=SuperMapAlgoPlot.PlottingUtil.distance(n,i);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(r,e,1e-7)||r>e){var a=SuperMapAlgoPlot.PlottingUtil.findPoint(n,i,e,0),s=e*Math.tan(.125*Math.PI),p=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(s,t[0],a);l.push(p.pntLeft),l.push(t[0]),l.push(p.pntRight)}break;case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE:break;case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID:var u=t[0],c=t[1],P=SuperMapAlgoPlot.PlottingUtil.distance(u,c);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(P,e,1e-7)||P>e){var g=e*Math.tan(.125*Math.PI),y=SuperMapAlgoPlot.PlottingUtil.findPoint(u,c,e,0),h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(g,t[0],y);l.push(h.pntLeft),l.push(u),l.push(h.pntRight),l.push(h.pntLeft)}else{c=t[2];var f=e*Math.tan(.125*Math.PI),S=SuperMapAlgoPlot.PlottingUtil.findPoint(u,c,e,0),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(f,t[0],S);l.push(A.pntLeft),l.push(u),l.push(A.pntRight),l.push(A.pntLeft)}break;case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL:var M=t[0],d=2*Math.sqrt(e*e/3),b=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(d/2,b,1e-7)||b>d/2){var v=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],d,-20),m=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],d,20),L=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],d/2,0);l.push(M),l.push(m),l.push(L),l.push(v),l.push(M)}else{M=t[2];var O=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],d,20),T=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],d,-20),w=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],d/2,0);l.push(M),l.push(O),l.push(w),l.push(T),l.push(M)}break;case SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW:var x=[],R=t[0],U=2*Math.sqrt(e*e/3),E=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(U/1.4,E,1e-7)||E>U/1.4){var C=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],U,20),I=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],U,-20),B=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],U/1.4,0);x.push(R),x.push(C),x.push(B),x.push(I),x.push(R);var D=new SuperMapAlgoPlot.Point((x[0].x+x[1].x)/2,(x[0].y+x[1].y)/2),_=new SuperMapAlgoPlot.Point((x[3].x+x[4].x)/2,(x[3].y+x[4].y)/2),N=new SuperMapAlgoPlot.Point((D.x+_.x)/2,(D.y+_.y)/2),V=.75*SuperMapAlgoPlot.PlottingUtil.distance(D,_)/2,k=SuperMapAlgoPlot.PlottingUtil.findPointInLine(N,D,V),j=SuperMapAlgoPlot.PlottingUtil.findPointInLine(N,_,V);l.push(x[0]),l.push(k),l.push(x[1]),l.push(x[2]),l.push(x[3]),l.push(j),l.push(x[4])}else{R=t[0];var Y=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],U,20),z=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],U,-20),F=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],U/1.4,0);x.push(R),x.push(Y),x.push(F),x.push(z),x.push(R);D=new SuperMapAlgoPlot.Point((x[0].x+x[1].x)/2,(x[0].y+x[1].y)/2),_=new SuperMapAlgoPlot.Point((x[3].x+x[4].x)/2,(x[3].y+x[4].y)/2),N=new SuperMapAlgoPlot.Point((D.x+_.x)/2,(D.y+_.y)/2),V=.75*SuperMapAlgoPlot.PlottingUtil.distance(D,_)/2,k=SuperMapAlgoPlot.PlottingUtil.findPointInLine(N,D,V),j=SuperMapAlgoPlot.PlottingUtil.findPointInLine(N,_,V);l.push(x[0]),l.push(k),l.push(x[1]),l.push(x[2]),l.push(x[3]),l.push(j),l.push(x[4])}}return l=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l)},SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePts=function(t,e,o,l){var n=e.length,i=[],r=0;t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;for(var a=0;a<t.length-1;a++)r+=SuperMapAlgoPlot.PlottingUtil.distance(t[a],t[a+1]);var s=r*o;switch(l){case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_NONE:break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_LINE:var p=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],s,90),u=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],s,-90);i.push(p),i.push(u);break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_CURVE:var c=new SuperMapAlgoPlot.Point(.5*(e[0].x+e[n-1].x),.5*(e[0].y+e[n-1].y)),P=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[n-1]),g=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(P*o,c,t[t.length-1]),y=new SuperMapAlgoPlot.Point(0,0),h=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(SuperMapAlgoPlot.ArrowToolkit.ConstValue.DUOJIANTOU_TAIL_RATE_1,SuperMapAlgoPlot.ArrowToolkit.ConstValue.DUOJIANTOU_TAIL_RATE_2,e[0],g,e[n-1],y,h);var f=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(SuperMapAlgoPlot.ArrowToolkit.ConstValue.DUOJIANTOU_TAIL_RATE_3,e[0],g,y,f);var S=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(SuperMapAlgoPlot.ArrowToolkit.ConstValue.DUOJIANTOU_TAIL_RATE_3,e[n-1],g,h,S);break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL:var A=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],s,157.5),M=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],s,-157.5);i.push(A),i.push(t[0]),i.push(M);break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL_POLYBODY:var d=new SuperMapAlgoPlot.Point(.5*(e[0].x+e[n-1].x),.5*(e[0].y+e[n-1].y)),b=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[n-1]),v=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(b*o,e[0],d);i.push(e[n-1]),i.push(v.pntLeft),i.push(e[0])}return t=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t),i=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(i)},SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePtsBySingleLine=function(t,e,o){var l=[];switch(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o){case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_NONE:break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_LINE:var n=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,90),i=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,-90);l.push(n),l.push(i);break;case SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL:var r=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,157.5),a=SuperMapAlgoPlot.PlottingUtil.findPoint(t[0],t[1],e,-157.5);l.push(r),l.push(t[0]),l.push(a)}return l=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l)},SuperMapAlgoPlot.ArrowToolkit.OperateCtrlPts=function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);if(3==e.length){var o=((e[0].x+e[1].x)/2+e[2].x)/2,l=((e[0].y+e[1].y)/2+e[2].y)/2,n=new SuperMapAlgoPlot.Point(o,l),i=e[2].clone();e[2]=n,e.push(i)}return e},SuperMapAlgoPlot.ArrowToolkit.generateMultiBezier=function(t,e,o,l){var n=0,i=[],r=[],a=[],s=[],p=[],u=[],c=o[0],P=o[1],g=(t[0].x+t[1].x)/2,y=(t[0].y+t[1].y)/2,h=Math.abs(g-t[2].x),f=Math.abs(y-t[2].y),S=0;if(h>0&&f>0){var A=1/(g-t[2].x),M=-1/(y-t[2].y),d=1*t[2].y/(y-t[2].y)-1*t[2].x/(g-t[2].x);S=Math.abs(A*t[0].x+M*t[0].y+d)/Math.sqrt(A*A+M*M)}else f<=1e-4?S=Math.abs(y-t[1].y):h<=1e-4&&(S=Math.abs(g-t[1].x));var b=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(S,t[2],new SuperMapAlgoPlot.Point(g,y)),v=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(t[1],t[2],t[0]);v?(i[1]=t[1],r[1]=t[0]):(i[1]=t[0],r[1]=t[1]),t[1]=new SuperMapAlgoPlot.Point((t[0].x+t[1].x)/2,(t[0].y+t[1].y)/2);var m=Math.sqrt((b.pntLeft.x-b.pntRight.x)*(b.pntLeft.x-b.pntRight.x)+(b.pntLeft.y-b.pntRight.y)*(b.pntLeft.y-b.pntRight.y))*SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtWidthDivAwWidth,L=(n=m*SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtLenDivAtWidth)*P;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,0)||(L=(n=l*c)*P);var O,T,w=SuperMapAlgoPlot.PlottingUtil.distance(t[e],t[e-1]),x=2*n;w<x&&(L=(n=w/2)*P),t.push(t[e]),O=0,T=0;var R=0,U=[];for(R=2;R<=e;R++)O+=SuperMapAlgoPlot.PlottingUtil.distance(t[R],t[R-1]);for(O-=n,R=2;R<=e-1;R++)T+=SuperMapAlgoPlot.PlottingUtil.distance(t[R],t[R-1]),U[R]=L+(m-L)*Math.pow((O-T)/O,SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtScaleParameter);U[e]=L;var E,C,I=new SuperMapAlgoPlot.Point(0,0),B=new SuperMapAlgoPlot.Point(0,0),D=new SuperMapAlgoPlot.Point(0,0);for(R=2;R<=e-1;R++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,t[R-1],t[R],t[R+1],B,D),R==e-1&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,t[e],t[e-1],D,I),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U[R],B,t[R]),(v=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(D,B,E.pntRight))?(i[R]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y),r[R]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y)):(i[R]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y),r[R]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y));for(Math.sqrt(1*(t[e].x-I.x)*(t[e].x-I.x)+1*(t[e].y-I.y)*(t[e].y-I.y))>0&&(t[e]=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(n,t[e],I)),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(L,t[e+1],t[e]),(v=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(t[e],t[e+1],E.pntLeft))?(r[e]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y),i[e]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y)):(r[e]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y),i[e]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y)),R=2;R<e;R++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,i[R-1],i[R],i[R+1],B,D),a[R]=new SuperMapAlgoPlot.Point(B.x,B.y),s[R]=new SuperMapAlgoPlot.Point(D.x,D.y),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,r[R-1],r[R],r[R+1],B,D),p[R]=new SuperMapAlgoPlot.Point(B.x,B.y),u[R]=new SuperMapAlgoPlot.Point(D.x,D.y),2==R&&(SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,i[1],i[2],a[2],I),s[1]=new SuperMapAlgoPlot.Point(I.x,I.y),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,r[1],r[2],p[2],I),u[1]=new SuperMapAlgoPlot.Point(I.x,I.y)),R==e-1&&(x=(w=SuperMapAlgoPlot.PlottingUtil.distance(i[e],i[e-1]))/3,(C=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(x,t[e],t[e+1])).x+=i[e].x-t[e].x,C.y+=i[e].y-t[e].y,x=(w=m-L)*Math.pow(x/O,SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtScaleParameter),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(x,i[e],C),a[e]=new SuperMapAlgoPlot.Point(E.pntLeft.x,E.pntLeft.y),x=(w=SuperMapAlgoPlot.PlottingUtil.distance(r[e],r[e-1]))/3,(C=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(x,t[e],t[e+1])).x+=r[e].x-t[e].x,C.y+=r[e].y-t[e].y,x=(w=m-L)*Math.pow(x/O,SuperMapAlgoPlot.ArrowToolkit.ConstValue.sv_AtScaleParameter),E=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(x,r[e],C),p[e]=new SuperMapAlgoPlot.Point(E.pntRight.x,E.pntRight.y));return{arrowTouLen:n,leftBodyPts:SuperMapAlgoPlot.ArrowToolkit.genArrowBody(e,i,a,s),rightBodyPts:SuperMapAlgoPlot.ArrowToolkit.genArrowBody(e,r,p,u)}},SuperMapAlgoPlot.ArrowToolkit.genArrowBody=function(t,e,o,l){var n=new SuperMapAlgoPlot.Path2D;if(!(t<2)){n.MoveTo(e[1]);for(var i=1;i<=t-1;i++)n.CubicTo(l[i],o[i+1],e[i+1]);var r=[];return n.ToSubPathPolygons(r),r[0]}};var M=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this.style=null,this.libID=e.libID?e.libID:0,this.code=e.code?e.code:0,this.maxEditPts=e.maxEditPts?e.maxEditPts:SuperMapAlgoPlot.AlgoSymbolFactory.getMaxEditPts(e.libID,e.code),this.minEditPts=e.minEditPts?e.minEditPts:SuperMapAlgoPlot.AlgoSymbolFactory.getMinEditPts(e.libID,e.code),this.isEdit=!!e.isEdit&&e.isEdit,this.controlPoints=e.controlPoints?e.controlPoints:[],this.scalePoints=e.scalePoints?e.scalePoints:[],this.scaleValues=e.scaleValues?e.scaleValues:[],this.subSymbols=e.subSymbols?e.subSymbols:SuperMapAlgoPlot.AlgoSymbolFactory.getDefaultSubSymbols(e.libID,e.code),this.polylineConnectLocationPoint=!!e.polylineConnectLocationPoint&&e.polylineConnectLocationPoint,this.style=e.style?e.style:SuperMapAlgoPlot.PlottingUtil.copyAttributes(this.style,SuperMapAlgoPlot.AlgoSymbolFactory.getDefaultStyle(e.libID,e.code)),this.textContent=e.textContent?e.textContent:"",this.map=e.map?e.map:null,this.scene=e.scene?e.scene:null,this.subSymbolDefaultPixelSize=e.subSymbolDefaultPixelSize?e.subSymbolDefaultPixelSize:30,this.symScaleDefinition=e.symScaleDefinition?e.symScaleDefinition:1,this.components=[],this.dashLines=e.dashLines?e.dashLines:[],this.symbolType=0===this.libID?this.code:2}var e,o,l;return e=t,(o=[{key:"addScalePoint",value:function(t,e){if(null!=t){void 0!==e&&null!==e||(e=this.scalePoints.length);var o=new SuperMapAlgoPlot.Point(t.x,t.y);o.isScalePoint=!0,o.tag=e,this.scalePoints.push(o)}}},{key:"setOptions",value:function(t){if(t)for(var e in this)t[e]&&(this[e]=t[e])}},{key:"getAlgorithmResult",value:function(t){t.components=this.components,t.scalePoints=this.scalePoints,t.scaleValues=this.scaleValues}},{key:"destroy",value:function(){this.minEditPts=null,this.maxEditPts=null,this.controlPoints.length=0,this.controlPoints=null,this.scalePoints.length=0,this.scalePoints=null,this.scaleValues.length=0,this.scaleValues=null,this.subSymbols.length=0,this.subSymbols=null,this.subSymbolSize=0,this.dashLines=[],this.components=null,this.style=null}},{key:"init",value:function(){if(this.components.length=0,this.scalePoints.length=0,this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine(),this.maxEditPts<this.controlPoints.length&&this.symbolType!==SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL){var t=this.controlPoints.shift(),e=this.controlPoints.pop();this.controlPoints=[],this.controlPoints.push(t,e)}}},{key:"finish",value:function(){}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),this.controlPoints.length>=this.minEditPts){var e={textContent:this.textContent,type:this.symbolType,surroundLineFlag:!1,positionPoints:t,style:{}};if(e.type===SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL&&e.positionPoints.push(e.positionPoints[0]),this.symbolType===SuperMapAlgoPlot.SymbolType.PARALLELLINE){if(this.controlPoints&&this.controlPoints.length>=3){var o=!1;void 0!==this.controlPoints[0].z&&(o=!0);var l=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]);SuperMapAlgoPlot.PlottingUtil.isRight(this.controlPoints[0],this.controlPoints[1],this.controlPoints[2])&&(l=-l);for(var n=[],i=1;i<this.controlPoints.length;i++)n.push(this.controlPoints[i].clone());var r=SuperMapAlgoPlot.PlottingUtil.parallel(n,l);if(this.controlPoints[0].x=r[0].x,this.controlPoints[0].y=r[0].y,o)for(var a=0;a<n.length;a++)r[a].z=n[a].z;this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r)}}else this.components.push(e)}}},{key:"modifyPoint",value:function(t,e){this.computeScaleValues(t,e),this.calculateParts()}},{key:"computeScaleValues",value:function(){}},{key:"getLonLatDistanceFromPixel",value:function(t){if(null===this.map)return 0;var e,o;if(this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map){var l=this.map.layerPointToLatLng(L.point(0,0)),n=this.map.layerPointToLatLng(L.point(t*this.symScaleDefinition,0));e=new SuperMapAlgoPlot.Point(l.lng,l.lat),o=new SuperMapAlgoPlot.Point(n.lng,n.lat)}else if(this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map){l=this.map.getLonLatFromPixel(new SuperMap.Pixel(0,0)),n=this.map.getLonLatFromPixel(new SuperMap.Pixel(t*this.symScaleDefinition,0));e=new SuperMapAlgoPlot.Point(l.lon,l.lat),o=new SuperMapAlgoPlot.Point(n.lon,n.lat)}return SuperMapAlgoPlot.PlottingUtil.distance(e,o)}},{key:"getPixelDistanceFromLonLat",value:function(t){if(null===this.map)return 0;var e,o;if(this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map){var l=this.map.latLngToLayerPoint(L.latLng(0,0)),n=this.map.latLngToLayerPoint(L.latLng(t,0));e=new SuperMapAlgoPlot.Point(l.x,l.y),o=new SuperMapAlgoPlot.Point(n.x,n.y)}else if(this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map){l=this.map.getPixelFromLonLat(new SuperMap.LonLat(0,0)),n=this.map.getPixelFromLonLat(new SuperMap.LonLat(t,0));e=new SuperMapAlgoPlot.Point(l.x,l.y),o=new SuperMapAlgoPlot.Point(n.x,n.y)}return SuperMapAlgoPlot.PlottingUtil.distance(e,o)}},{key:"getPixelFromLonLat",value:function(t,e){if(this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map){var o=this.map.latLngToLayerPoint(L.latLng(e,t));return{x:o.x,y:o.y}}if(this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map){var l=this.map.getPixelFromLonLat(new SuperMap.LonLat(t,e));return{x:l.x,y:l.y}}}},{key:"getLonLatFromPixel",value:function(t,e){if(this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map){var o=this.map.layerPointToLatLng(L.point(t,e));return{lon:o.lng,lat:o.lat}}if(this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map){var l=this.map.getLonLatFromPixel(new SuperMap.Pixel(t,e));return{lon:l.lon,lat:l.lat}}}},{key:"pixelBoundsToLonLat",value:function(t){var e=this.getLonLatFromPixel(t.left,t.top),o=this.getLonLatFromPixel(t.right,t.bottom);return new SuperMap.Bounds(e.lon,o.lat,o.lon,e.lat)}},{key:"annotationContent",value:function(t,e,o,l){var n=this.textContent;if(0!==n.length){var i=n.split("\n");n="";var r=0,a={};SuperMap.Util.copyAttributes(a,this.style),a.fontSize*=this.symScaleDefinition;for(var s=0;s<i.length;s++){r++;var p=i[s],u=SuperMapAlgoPlot.PlottingUtil.getTextWidth(a,p),c=this.getPixelFromLonLat(t,e),P=this.getPixelFromLonLat(o,l),g=parseFloat(Math.abs(P.x-c.x)),y=parseFloat(Math.abs(c.y-P.y)),h=0;if(a.weight?h=parseFloat(a.fontSize)+2*a.weight+.2*parseFloat(a.fontSize)+r:this.style.strokeWidth&&(h=parseFloat(a.fontSize)+2*a.strokeWidth+.2*parseFloat(a.fontSize)+r),h>y)break;if(u>=g){var f=p.split("");p="";for(var S="",A=f.length,M=0;M<A;M++){if(S+=f[M],SuperMapAlgoPlot.PlottingUtil.getTextWidth(a,S)>=g){var d=f[M];if(f[M]="\n",r++,a.weight?h=parseFloat(a.fontSize)*r+r+2*a.weight+.2*parseFloat(a.fontSize):this.style.strokeWidth&&(h=parseFloat(a.fontSize)*r+r+2*a.strokeWidth+.2*parseFloat(a.fontSize)),!(h<y)){0===n.length?n=p:(n+="\n",n+=p);break}f[M]+=d,S=d}p+=f[M],M===A-1&&(0===n.length?n=p:(n+="\n",n+=p))}}else 0===n.length?n=p:(n+="\n",n+=p)}if(0!==n.length){var b=a.labelAlign,v=0,m=0;"l"===b[0]?v=t:"r"===b[0]?v=o:"c"===b[0]&&(v=(t+o)/2),"t"===b[1]?m=e:"b"===b[1]?m=l:"m"===b[1]&&(m=(e+l)/2);var L=new SuperMapAlgoPlot.Point(v,m),O={};O.positionPoints=[L],O.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,O.textContent=n,O.style={surroundLineFlag:!1,labelAlign:b},this.components.push(O)}}}},{key:"addCell",value:function(t,e,o,l){if(t&&e){var n={};n.type=t,n.textContent=l,n.positionPoints=e,null==o?n.style={surroundLineFlag:!1}:(n.style=o,null==o.surroundLineFlag&&(n.style.surroundLineFlag=!1)),this.components.push(n)}}},{key:"addText",value:function(t,e,o,l,n){if(t&&e){var i={};i.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,i.textContent=t,i.positionPoints=[e];var r=o/t.length/2;i.style={},i.style.surroundLineFlag=!1,i.style.labelRotation=-l,i.style.fontSize=r,void 0===n?i.style.fontColor="#000000":(i.style.fontColor=n,i.style.fontColorLimit=!0),i.style.fontSizeLimit=!0,i.style.sizeFixed=!1,i.style.labelAlign="cm",i.style.label=t,this.components.push(i)}}},{key:"getLinePts",value:function(t,e,o){var l=new Object;if(e+o>1||e+o<0)return l.startIndex=0,l.startPt=t[0],l.endIndex=t.length-1,l.endPt=t[t.length-1],l;null==o&&(o=.5);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*(o-e),t),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*(o+e),t);return l.startIndex=i.index,l.startPt=i.pts,l.endIndex=r.index,l.endPt=r.pts,l}},{key:"addArrow",value:function(t,e,o){if(t.length<2)return t;null==o&&(o=!0);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints)*e;Math.cos(9.59/180*Math.PI);if(o){var n=t[t.length-1];if(t.length>2){for(var i=-1,r=t.length-2;r>=0;r--)if(l<SuperMapAlgoPlot.PlottingUtil.distance(n,t[r])){i=r;break}t.splice(i+1,t.length-i-1),t.push(n)}if(t.length>1){var a=SuperMapAlgoPlot.PlottingUtil.findPointInLine(n,t[t.length-2],l);t.splice(t.length-1,1),t.push(a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var s=t[t.length-1],p=n,u=1.2*l,c=SuperMapAlgoPlot.PlottingUtil.radian(s,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,u,u,c+180-9.59),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,u,u,c+180+9.59),y={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[P,n,g,a],y)}}else{n=t[0];if(t.length>2){i=-1;for(var h=1;h<t.length;h++)if(l<SuperMapAlgoPlot.PlottingUtil.distance(n,t[h])){i=h;break}t.splice(1,i-1)}if(t.length>1){a=SuperMapAlgoPlot.PlottingUtil.findPointInLine(n,t[1],l);t.splice(0,1),t.splice(0,0,a),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);s=t[0],p=n,u=1.2*l,c=SuperMapAlgoPlot.PlottingUtil.radian(s,p)*SuperMapAlgoPlot.PlottingUtil.RTOD,P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,u,u,c+180-9.59),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,u,u,c+180+9.59),y={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[P,n,g,a],y)}}t.length<=1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t)}},{key:"addDashLineAndArrow",value:function(t,e,o,l){if(t.length<2)return t;null==l&&(l=!0);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints)*e,i=n*Math.cos(9.59*SuperMapAlgoPlot);if(l){var r=t[t.length-1];if(t.length>2){for(var a=-1,s=t.length-2;s>=0;s--)if(n<SuperMapAlgoPlot.PlottingUtil.distance(r,t[s])){a=s;break}t.splice(a+1,t.length-a-1),t.push(r)}if(t.length>1){var p=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,t[t.length-2],n);t.splice(t.length-1,1),t.push(p);for(var u=o*(i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)),c=.02*i,P=0;P<=i;){var g,y,h=-1,f=-1;if(g=(T=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,P)).pt,-1!=(h=T.index)){f=(w=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,P+u)).index,y=w.pt,-1==f&&(y=t[t.length-1],f=t.length-1),(x=[]).push(g);for(var S=h+1;S<=f;S++)x.push(t[S]);x.push(y),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x),P+=u+c}else P+=u+c}var A=t[t.length-1],M=r,d=1.2*n,b=SuperMapAlgoPlot.PlottingUtil.radian(A,M)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,d,d,b+180-9.59),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,d,d,b+180+9.59),L={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[v,r,m,p],L)}}else{r=t[0];if(t.length>2){a=-1;for(var O=1;O<t.length;O++)if(n<SuperMapAlgoPlot.PlottingUtil.distance(r,t[O])){a=O;break}t.splice(1,a-1)}if(t.length>1){p=SuperMapAlgoPlot.PlottingUtil.findPointInLine(r,t[1],n);t.splice(0,1),t.splice(0,0,p);for(u=o*(i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)),c=.02*i,P=0;P<=i;){var T,w;h=-1,f=-1;if((T=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P,t)).bfind)if((w=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(P+u,t)).bfind){var x;h=T.index,f=w.index,(x=[]).push(T.pts);for(S=h+1;S<=f;S++)x.push(t[S]);x.push(w.pts),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x),P+=u+c}}A=t[0],M=r,d=1.2*n,b=SuperMapAlgoPlot.PlottingUtil.radian(A,M)*SuperMapAlgoPlot.PlottingUtil.RTOD,v=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,d,d,b+180-9.59),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(M,d,d,b+180+9.59),L={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[v,r,m,p],L)}}t.length<=1&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x)}},{key:"addArrowWithOutLine",value:function(t,e){if(t.length<2)return t;var o,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);void 0===e&&(e=(this.isEdit,.5*this.getSubSymbolScaleValue()));var n=t.slice();o=l*e;var i,r=t[t.length-1],a=o*Math.cos(.125*Math.PI);if(t.length>2){for(var s=-1,p=t.length-2;p>=0;p--)if(o<SuperMapAlgoPlot.PlottingUtil.distance(r,t[p])){s=p;break}t.splice(s+1,t.length-s),t.push(r)}if(t.length>1){SuperMapAlgoPlot.PlottingUtil.distance(t[t.length-1],t[t.length-2])>a&&(i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(a,[t[t.length-1],t[t.length-2]])).bfind&&(t.splice(t.length-1,1),t.push(i.pts));var u=t[t.length-1],c=r,P=o;if(void 0===u)return t;var g=SuperMapAlgoPlot.PlottingUtil.radian(u,c)*SuperMapAlgoPlot.PlottingUtil.RTOD,y=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,P,P,g+157.5),h=SuperMapAlgoPlot.PlottingUtil.circlePoint(c,P,P,g+202.5),f={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[y,r,h],f)}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}},{key:"addDovetailArrow",value:function(t,e){if(t.length<2)return t;var o,l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);void 0===e&&(e=(this.isEdit,.5*this.getSubSymbolScaleValue())),o=l*e;var n=t[t.length-1];if(t.length>2){for(var i=-1,r=t.length-2;r>=0;r--)if(o<SuperMapAlgoPlot.PlottingUtil.distance(n,t[r])){i=r;break}t.splice(i+1,t.length-i),t.push(n)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t);var a=t[t.length-2],s=t[t.length-1],p=o;if(void 0===a)return t;if(!(SuperMapAlgoPlot.PlottingUtil.distance(a,s)<o)){var u=SuperMapAlgoPlot.PlottingUtil.radian(a,s)*SuperMapAlgoPlot.PlottingUtil.RTOD,c=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,u+157.5),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,p,p,u+202.5),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(s,.5*p,.5*p,u+180),y=[];y.push(c),y.push(t[t.length-1]),y.push(P),y.push(g);var h={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0,surroundLineType:SuperMapAlgoPlot.AlgoSurroundLineType.NONE};this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,y,h)}}},{key:"getDefaultSubSymbolSize",value:function(){var t=0;if(this.map){var e=this.getLonLatFromPixel(0,0),o=this.getLonLatFromPixel(this.subSymbolDefaultPixelSize,0),l=new SuperMapAlgoPlot.Point(e.lon,e.lat),n=new SuperMapAlgoPlot.Point(o.lon,o.lat);t=SuperMapAlgoPlot.PlottingUtil.distance(l,n)}if(0===t){if(0!==this.subSymbolSize)return this.subSymbolSize;for(var i=0,r=0;r<this.controlPoints.length-1;r++)i+=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[r],this.controlPoints[r+1]);t=.3*i}return t}},{key:"getTextBounds",value:function(t,e){" "===e&&(e="_");var o=document.createElement("span");document.body.appendChild(o),o.style.width="auto",o.style.height="auto",t.fontSize&&(o.style.fontSize=new String(t.fontSize)+"px"),t.fontFamily&&(o.style.fontFamily=t.fontFamily),t.fontWeight&&(o.style.fontWeight=t.fontWeight),o.style.position="absolute",o.style.visibility="hidden",o.innerHTML=e;var l=new SuperMap.Bounds(o.clientLeft,o.clientTop+o.clientHeight-6,o.clientLeft+o.clientWidth,o.clientTop+4),n=this.pixelBoundsToLonLat(l);return document.body.removeChild(o),n}},{key:"calAssistantLine",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);this.symbolType===SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL&&(t.splice(1,0,new SuperMapAlgoPlot.Point(this.controlPoints[1].x,this.controlPoints[0].y)),t.push(new SuperMapAlgoPlot.Point(this.controlPoints[0].x,this.controlPoints[1].y)),t.push(new SuperMapAlgoPlot.Point(this.controlPoints[0].x,this.controlPoints[0].y)));var e={type:24,surroundLineFlag:!1,positionPoints:t,style:{color:"#0000ff",opacity:1,weight:1,dashArray:"5, 5",strokeColor:"#0000ff",strokeOpacity:1,strokeWidth:1,strokeDashstyle:"dash",lineColorLimit:!0,lineTypeLimit:!0,lineWidthLimit:!0,surroundLineFlag:!1}};this.components.push(e)}},{key:"getSubSymbolScaleValue",value:function(t,e){var o=0;o=t&&!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t,0)?t:SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints);var l=this.getDefaultSubSymbolSize()/o;return void 0===e&&(e=.3),(l>e||l<=0)&&(l=e),l}},{key:"computeSubSymbol",value:function(t,e,o,l,n,i){if(null==t.symbolData||null==t.symbolData.innerCells)return null;void 0===n&&(n=0),void 0===i&&(i=0);for(var r=SuperMapAlgoPlot.AnalysisSymbol.analysisSymbolCells(t.symbolData,!0),a=0,s=0,p=0,u=0,c=0;c<r.length;c++){null!=r[c].polybezierClose&&(r[c].type===SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL||r[c].type===SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL?(r[c].type,SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL,r[c].positionPoints=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsWithCtrlPt(r[c].positionPoints),r[c].isClosed&&r[c].positionPoints[0]!==r[c].positionPoints[symbolCell.positionPoints.length-1]&&r[c].positionPoints.push(r[c].positionPoints[0])):r[c].type===SuperMapAlgoPlot.SymbolType.KIDNEY&&(r[c].positionPoints=SuperMapAlgoPlot.Primitives.getSpatialData(r[c].type,r[c].positionPoints)));for(var P=SuperMapAlgoPlot.Primitives.getSpatialData(r[c].type,r[c].positionPoints,r[c].textContent,0,r[c].isCalculate),g=0,y=P.length;g<y;g++)a<P[g].x&&(a=P[g].x),s<P[g].y&&(s=P[g].y),p>P[g].x&&(p=P[g].x),u>P[g].y&&(u=P[g].y)}var h=new SuperMapAlgoPlot.Point(a,s),f=new SuperMapAlgoPlot.Point(p,u),S=(h.y-f.y)/o,A=(h.x-f.x)/o,M=A>S?A:S,d=new SuperMapAlgoPlot.Point(.5*(h.x+f.x),.5*(h.y+f.y));d.x+=n*(h.x-f.x),d.y+=i*(h.y-f.y);for(var b=0,v=r.length;b<v;b++){for(var m=0,L=r[b].positionPoints.length;m<L;m++)r[b].positionPoints[m].x-=d.x,r[b].positionPoints[m].y-=d.y,r[b].positionPoints[m].x/=M,r[b].positionPoints[m].y/=M,SuperMapAlgoPlot.PlottingUtil.rotateAngle(new SuperMapAlgoPlot.Point(0,0),l*Math.PI/180,r[b].positionPoints[m]),r[b].positionPoints[m].x+=e.x,r[b].positionPoints[m].y+=e.y;r[b].type===SuperMapAlgoPlot.SymbolType.TEXTSYMBOL&&(r[b].style.fontSize/=10*M,r[b].style.labelRotation=-l,r[b].style.sizeFixed=!1),r[b].isCalculate=!1,r[b].style.surroundLineType=0,r[b].style.surroundLineLimit=!0,r[b].style.lineTypeLimit=!0,r[b].style.lineColorLimit||(r[b].style.lineColorLimit=!0,r[b].style.color=t.lineColor),r[b].style.lineWidthLimit||(r[b].style.lineWidthLimit=!0,r[b].style.weight=t.width2D),this.components.push(r[b])}return r}},{key:"ComputeZValue",value:function(t,e,o){var l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(t,e,o),n=new SuperMapAlgoPlot.Point(l.projectPoint.x,l.projectPoint.y),i=SuperMapAlgoPlot.PlottingUtil.distance(e,o),r=SuperMapAlgoPlot.PlottingUtil.distance(e,t),a=SuperMapAlgoPlot.PlottingUtil.distance(o,t);if(!l.isOnline){if(r>=i)return o.z;if(a>=i)return e.z}return n.x!=e.x&&e.x!=o.x?e.z+(n.x-e.x)/(e.x-o.x)*(e.z-o.z):n.y!=e.y&&e.y!=o.y?e.z+(n.y-e.y)/(e.y-o.y)*(e.z-o.z):0==(r=SuperMapAlgoPlot.PlottingUtil.distance(e,n))?e.z:e.z-(e.z-o.z)*(r/i)}},{key:"ComputeBeizerZValueByDis",value:function(t,e,o){if(t.length<2)return!1;for(var l=[],n=0;n<t.length;n++)l.push({x:t[n].x,y:t[n].y});var i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0==i)return!1;var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),a=[];a.push(l[0]);for(var s=-1,p=0,u=e[0],c=1;c<l.length;c++){a.push(l[c]);var P=SuperMapAlgoPlot.PlottingUtil.polylineDistance(a)/i,g=r*P,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,e),h=y.index,f=y.pts;if(y.bfind){for(var S=t[c-1].z,A=t[c].z,M=r*(P-p),d=0,b=++s;b<=h;b++){var v=S+(A-S)*((d+=b==s?SuperMapAlgoPlot.PlottingUtil.distance(u,e[b]):SuperMapAlgoPlot.PlottingUtil.distance(e[b-1],e[b]))/M);o.push({x:e[b].x,y:e[b].y,z:v})}s=h}p=P,u=f}for(var m=s+1;m<e.length;m++)o.push({x:e[m].x,y:e[m].y,z:t[t.length-1].z});return!0}},{key:"ComputeHeight",value:function(t,e,o,l){if(o!=l){if(0!=t.length)if(1==t.length)e.push({x:t[0].x,y:t[0].y,z:o});else if(2==t.length)e.push({x:t[0].x,y:t[0].y,z:o}),e.push({x:t[1].x,y:t[1].y,z:l});else{var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!=n){var i=[];i.push(t[0]),e.push({x:t[0].x,y:t[0].y,z:o});for(var r=1;r<t.length-1;r++){i.push(t[r]);var a=o+(l-o)*SuperMapAlgoPlot.PlottingUtil.polylineDistance(i)/n;e.push({x:t[r].x,y:t[r].y,z:a})}e.push({x:t[t.length-1].x,y:t[t.length-1].y,z:l})}else for(var s=0;s<t.length;s++)e.push({x:t[s].x,y:t[s].y,z:o})}}else for(var p=0;p<t.length;p++)e.push({x:t[p].x,y:t[p].y,z:o})}},{key:"computeDashLine",value:function(t,e){var o=[];if(0==t.length)o.push(e);else{var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(l<=0)return o;for(var n=0;n<t.length-1;n+=2){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l*t[n],e),r=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(l*t[n+1],e),a=i.pts,s=i.index,p=r.pts,u=r.index,c=[];c.push(a);for(var P=s+1;P<=u;P++)c.push(e[P]);c.push(p),o.push(c)}}return o}},{key:"mergeDashLine",value:function(t,e){if(1==t.length&&0==t[0])return[0];for(var o=[],l=0;l<t.length;)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(0,t[l])?t.splice(l,1):l++;if(t.length>0){var n=0,i=0;o.push(0);for(;;){if(n>=t.length&&(n=0),(i+=t[n])>1||1===i){o.length,o.push(1);break}o.push(i),n++}}if(o.length>0){for(var r=1;r<e.length;r+=2)if(e.length>r+2){var a=0;for(a=0;a<o.length-1&&!(e[r]>o[a]&&e[r]<o[a+1]);a++);var s=a;for(s=a;s<o.length-1&&!(e[r+1]>o[s]&&e[r+1]<o[s+1]);s++);a==s&&a%2==0?(o.splice(a+1,0,e[r+1]),o.splice(a+1,0,e[r])):a!=s&&a%2==0&&s%2==0?(o.splice(a+1,s-a),o.splice(a+1,0,e[r+1]),o.splice(a+1,0,e[r])):a!=s&&a%2==0&&s%2!=0?(o.splice(a+1,s-a),o.splice(a+1,0,e[r])):a!=s&&a%2!=0&&s%2==0?(o.splice(a+1,s-a),o.splice(a+1,0,e[r+1])):a!=s&&a%2!=0&&s%2!=0&&o.splice(a+1,s-a)}}else o=o.concat(e);return o}}])&&A(e.prototype,o),l&&A(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=O(t);if(e){var n=O(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol=M;var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=m(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).arrowAngle=t.arrowAngle?t.arrowAngle:45,0===e.scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(0),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.ArrowLine",e}return e=i,(o=[{key:"calculateParts",value:function(){if(this.init(),!(null==this.controlPoints||this.controlPoints.length<this.minEditPts)){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(o));var l,n=this.scaleValues[0]*o,i=this.arrowAngle*Math.PI/180/2,r=(l=e.length>2?SuperMapAlgoPlot.PlottingUtil.radian(e[e.length-1],e[e.length-2]):SuperMapAlgoPlot.PlottingUtil.radian(e[1],e[0]))-i,a=e[e.length-1].x+n*Math.cos(r),s=e[e.length-1].y+n*Math.sin(r),p=new SuperMapAlgoPlot.Point(a,s),u=l+i,c=e[e.length-1].x+n*Math.cos(u),P=e[e.length-1].y+n*Math.sin(u),g=new SuperMapAlgoPlot.Point(c,P),y=[];y.push(p),y.push(e[e.length-1].clone()),y.push(g);var h={surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0},f=SuperMapAlgoPlot.PlottingUtil.radian(e[0],e[1]);r=f-i,a=e[0].x+n*Math.cos(r),s=e[0].y+n*Math.sin(r),p=new SuperMapAlgoPlot.Point(a,s),u=f+i,c=e[0].x+n*Math.cos(u),P=e[0].y+n*Math.sin(u),g=new SuperMapAlgoPlot.Point(c,P);var S=[];S.push(p),S.push(e[0].clone()),S.push(g);var A=this.scaleValues[1]===SuperMapAlgoPlot.ArrowLineType.DOUBLELINE?SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,M=this.scaleValues[2]===SuperMapAlgoPlot.ArrowLineType.DOUBLELINE?SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL;this.scaleValues[1]===SuperMapAlgoPlot.ArrowLineType.DOUBLELINE?this.addCell(A,S,h):this.scaleValues[1]===SuperMapAlgoPlot.ArrowLineType.TRIANGLESOLID&&this.addCell(A,S,h),this.scaleValues[2]===SuperMapAlgoPlot.ArrowLineType.DOUBLELINE?this.addCell(M,y,h):this.scaleValues[2]===SuperMapAlgoPlot.ArrowLineType.TRIANGLESOLID&&this.addCell(M,y,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish()}}}])&&b(e.prototype,o),l&&b(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function w(t){"@babel/helpers - typeof";return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function R(t,e){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=E(t);if(e){var n=E(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.ArrowLine=T;var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=U(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(1),e.CLASS_NAME="SuperMapAlgoPlot.RegularPolygon",e}return e=i,(o=[{key:"calculateParts",value:function(){if(this.init(),!(this.controlPoints.length<this.minEditPts)){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),e=this.controlPoints.length+1,o=2*Math.PI/e;if(!this.isEdit){var l=this.controlPoints[this.controlPoints.length-1],n=new SuperMapAlgoPlot.Point(this.controlPoints[this.controlPoints.length-1].x,this.controlPoints[this.controlPoints.length-1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(this.controlPoints[0],o,n),this.scaleValues[0]=SuperMapAlgoPlot.PlottingUtil.distance(t[0],this.calculateMidPt(l,n))/SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[t.length-1])}var i=[],r=this.controlPoints[this.controlPoints.length-1].clone();i.push(r.clone()),r=SuperMapAlgoPlot.PlottingUtil.rotateAngle(this.controlPoints[0],o/2,r);var a=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(this.scaleValues[0],this.controlPoints[0],r);i.push(a);for(var s=1;s<e;s++)r=SuperMapAlgoPlot.PlottingUtil.rotateAngle(this.controlPoints[0],o/2,r),i.push(r.clone()),r=SuperMapAlgoPlot.PlottingUtil.rotateAngle(this.controlPoints[0],o/2,r),a=SuperMapAlgoPlot.PlottingUtil.findPointOnLineByRatio(this.scaleValues[0],this.controlPoints[0],r),i.push(a);var p=i[1];this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,{surroundLineFlag:!1,fill:!1}),this.addScalePoint(p),this.finish()}}},{key:"calculateMidPt",value:function(t,e){return new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2)}},{key:"modifyPoint",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[this.controlPoints.length-1]),l=this.scalePoints[0],n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,this.controlPoints[0],l),i=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],n);this.scaleValues[0]=i/o}this.calculateParts()}}])&&x(e.prototype,o),l&&x(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function I(t){"@babel/helpers - typeof";return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function D(t,e){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=N(t);if(e){var n=N(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.RegularPolygon=C;var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.1)),e.CLASS_NAME="SuperMapAlgoPlot.Brace",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=t[0],o=t[1],l=SuperMapAlgoPlot.PlottingUtil.distance(e,o);this.scaleValues.length<2&&(this.scaleValues=[],this.scaleValues.push(.1),this.scaleValues.push(.1));for(var n=this.scaleValues[0],i=this.scaleValues[1],r=new SuperMapAlgoPlot.Point(l*n,l*n),a=new SuperMapAlgoPlot.Point(l*(.5-i/2),0),s=new SuperMapAlgoPlot.Point(.5*l,-l*i),p=new SuperMapAlgoPlot.Point(l*(.5+i/2),0),u=new SuperMapAlgoPlot.Point(l*(1-n),l*n),c=[],P=180*Math.PI/180,g=270*Math.PI/180,y=3*Math.PI/180,h=P;h<=g;h+=y){var f=new SuperMapAlgoPlot.Point(r.x+l*n,r.y);f=SuperMapAlgoPlot.PlottingUtil.rotateAngle(r,h,f),c.push(f)}c.push(a),c.push(s),c.push(p),P=270*Math.PI/180,g=360*Math.PI/180;for(var S=P;S<=g;S+=y){var A=new SuperMapAlgoPlot.Point(u.x+l*n,u.y);A=SuperMapAlgoPlot.PlottingUtil.rotateAngle(u,S,A),c.push(A)}for(var M=SuperMapAlgoPlot.PlottingUtil.radian(e,o),d=[],b=0;b<c.length;b++){var v=new SuperMapAlgoPlot.Point(c[b].x+e.x,c[b].y+e.y);v=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,M,v),d.push(v)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d),this.scalePoints=[];var m=new SuperMapAlgoPlot.Point(l*n,0),L=new SuperMapAlgoPlot.Point(m.x+e.x,m.y+e.y);(L=SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,M,L)).isScalePoint=!0,L.tag=0,this.addScalePoint(L);var O=new SuperMapAlgoPlot.Point(s.x+e.x,s.y+e.y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(e,M,O),O.isScalePoint=!0,O.tag=1,this.addScalePoint(O)}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]);if(0==t){var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;n>0&&n<.4&&(this.scaleValues[0]=n)}else if(1==t){var i=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),r=SuperMapAlgoPlot.PlottingUtil.distance(e,i)/l;0<r&&.2>r&&(this.scaleValues[1]=r)}}this.calculateParts()}}])&&B(e.prototype,o),l&&B(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function k(t){"@babel/helpers - typeof";return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Y(t,e){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=F(t);if(e){var n=F(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Brace=V;var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=z(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.Trapezoid",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=[],o=t[0],l=t[1],n=t[2],i=new SuperMapAlgoPlot.Point(0,0);this.GetPointsByTrapezoid(1,n,l,o,i),e.push(o),e.push(l),e.push(n),e.push(i);var r=SuperMapAlgoPlot.PlottingUtil.intersectLines(o,l,n,i),a=r.intersectPoint;r.isIntersectLines&&(a.x>o.x&&a.x<l.x||a.y>o.y&&a.y<l.y||a.x<o.x&&a.x>l.x||a.y<o.y&&a.y>l.y)&&(e[0]=i,e[3]=o),4==e.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e)}}},{key:"GetPointsByTrapezoid",value:function(t,e,o,l,n){var i=e.x,r=e.y,a=o.x,s=o.y,p=l.x,u=l.y,c=0,P=0,g=0,y=0;if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(Math.abs(r-s),0))c=i+a-p,P=u;else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(Math.abs(i-a),0))c=p,P=r+s-u;else{var h=1*(r-s)/(i-a),f=u-h*p;P=h*(c=((s+r)/2+(i+a)/(2*h)-f)/(h+1/h))+f,c=2*c-p,P=2*P-u}var S=Math.sqrt(1*(i-a)*(i-a)+1*(r-s)*(r-s)),A=Math.sqrt(1*(i-c)*(i-c)+1*(r-P)*(r-P));S>0?(g=i+(a-i)*A/S,y=r+(s-r)*A/S):(g=i,y=r);var M=g+(c-g)*t,d=y+(P-y)*t;n.x=M,n.y=d}}])&&j(e.prototype,o),l&&j(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function G(t){"@babel/helpers - typeof";return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function q(){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=X(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function J(t,e){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=X(t);if(e){var n=X(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Trapezoid=W;var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Z(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.126),e.CLASS_NAME="SuperMapAlgoPlot.GeoTooltipBox",e}return e=i,(o=[{key:"destroy",value:function(){q(X(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=this.scaleValues[0];if(!(t<0||t>1)){if(t=(1-t)/2,this.controlPoints.length>=this.minEditPts){var e,o,l,n,i,r;this.controlPoints[2]&&(this.controlPoints[2].isFixedPos=!0),this.controlPoints[0].x<this.controlPoints[1].x?(e=this.controlPoints[0].x,l=this.controlPoints[1].x):(e=this.controlPoints[1].x,l=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(n=this.controlPoints[0].y,o=this.controlPoints[1].y):(n=this.controlPoints[1].y,o=this.controlPoints[0].y),i=this.controlPoints[2].x,r=this.controlPoints[2].y;var a=0,s=(o-n)/(l-e);a=i<e?r>o?Math.abs((r-o)/(i-e))>s?2:1:r<n&&Math.abs((r-n)/(i-e))>s?4:1:i>l?r>o?Math.abs((r-o)/(i-l))>s?2:3:r<n&&Math.abs((r-n)/(i-l))>s?4:3:r>o?2:r<n?4:0,this.scalePoints=[];var p=[];switch(p.push(new SuperMapAlgoPlot.Point(e,n)),p.push(new SuperMapAlgoPlot.Point(e,o)),p.push(new SuperMapAlgoPlot.Point(l,o)),p.push(new SuperMapAlgoPlot.Point(l,n)),a){case 0:break;case 1:this.addScalePoint(new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),p.splice(a,0,new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(e,n+(o-n)*t));break;case 2:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),p.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,o));break;case 3:this.addScalePoint(new SuperMapAlgoPlot.Point(l,o-(o-n)*t)),p.splice(a,0,new SuperMapAlgoPlot.Point(l,n+(o-n)*t)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(l,o-(o-n)*t));break;case 4:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,n)),p.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,n)),p.splice(a,0,this.controlPoints[2].clone()),p.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,n))}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p),this.annotationContent(e,o,l,n)}this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint&&0==t){var o,l,n,i,r,a,s=this.scalePoints[0];this.controlPoints[0].x<this.controlPoints[1].x?(o=this.controlPoints[0].x,n=this.controlPoints[1].x):(o=this.controlPoints[1].x,n=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(i=this.controlPoints[0].y,l=this.controlPoints[1].y):(i=this.controlPoints[1].y,l=this.controlPoints[0].y),r=this.controlPoints[2].x,a=this.controlPoints[2].y;var p=(l-i)/(n-o),u=.25;switch(r<o?a>l?Math.abs((a-l)/(r-o))>p?2:1:a<i&&Math.abs((a-i)/(r-o))>p?4:1:r>n?a>l?Math.abs((a-l)/(r-n))>p?2:3:a<i&&Math.abs((a-i)/(r-n))>p?4:3:a>l?2:a<i?4:0){case 1:case 3:var c=s.y+(e.y-s.y);c>l&&(c=l),c<(l+i)/2&&(c=(l+i)/2),u=1-2*(l-c)/(l-i);break;case 2:case 4:var P=s.x+(e.x-s.x);P>n&&(P=n),P<(o+n)/2&&(P=(o+n)/2),u=1-2*(n-P)/(n-o)}u<0&&(u=0),u>1&&(u=1),this.scaleValues[0]=u}this.calculateParts()}}])&&H(e.prototype,o),l&&H(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function K(t){"@babel/helpers - typeof";return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tt(){return(tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function et(t,e){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=lt(t);if(e){var n=lt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.GeoTooltipBox=Q;var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ot(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.GeoTooltipBoxM",e}return e=i,(o=[{key:"destroy",value:function(){tt(lt(i.prototype),"destory",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){var e,o,l,n;t[0].x<t[1].x?(e=t[0].x,l=t[1].x):(e=t[1].x,l=t[0].x),t[0].y<t[1].y?(n=t[0].y,o=t[1].y):(n=t[1].y,o=t[0].y),this.scalePoints=[];var i=[];i.push(new SuperMapAlgoPlot.Point(e,n)),i.push(new SuperMapAlgoPlot.Point(e,o)),i.push(new SuperMapAlgoPlot.Point(l,o)),i.push(new SuperMapAlgoPlot.Point(l,n)),this.isEdit||(this.scaleValues[0]=e,this.scaleValues[1]=n-.3*(o-n),this.scaleValues[2]=e+.5*(l-e),this.scaleValues[3]=n-.3*(o-n));for(var r=[],a=[],s=0;s<this.scaleValues.length/2;s++)r.push(this.getAction(this.scaleValues[2*s],this.scaleValues[2*s+1],e,o,l,n)),a.push(new SuperMapAlgoPlot.Point(this.scaleValues[2*s],this.scaleValues[2*s+1]));for(var p,u,c,P,g=a.length,y=[],h=[],f=[],S=[],A=[],M=0;M<r.length;M++)0===r[M]&&y.push(a[M]),1===r[M]&&h.push(a[M]),2===r[M]&&f.push(a[M]),3===r[M]&&S.push(a[M]),4===r[M]&&A.push(a[M]);var d=r.slice();d.sort();var b=new SuperMapAlgoPlot.Point(0,0);if(d[0]===d[d.length-1]&&0!==d[0]){var v=[];switch(d[0]){case 0:break;case 1:p=1/(2*h.length+1);for(var m=new SuperMapAlgoPlot.Point,L=0;L<2*h.length;L++)m=new SuperMapAlgoPlot.Point(e,n+(o-n)*p*(L+1)),v.unshift(m);break;case 2:u=1/(2*f.length+1);for(var O=new SuperMapAlgoPlot.Point,T=0;T<2*f.length;T++)O=new SuperMapAlgoPlot.Point(e+(l-e)*u*(T+1),o),v.unshift(O);break;case 3:c=1/(2*S.length+1);for(var w=new SuperMapAlgoPlot.Point,x=0;x<2*S.length;x++)w=new SuperMapAlgoPlot.Point(l,n+(o-n)*c*(x+1)),v.push(w);break;case 4:P=1/(2*A.length+1);for(var R=new SuperMapAlgoPlot.Point,U=0;U<2*A.length;U++)R=new SuperMapAlgoPlot.Point(e+(l-e)*P*(U+1),n),v.push(R)}for(var E=0;E<g;E++)for(var C=0;C<g;C++){var I=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(v[2*E+1],a[E],v[2*C],a[C],b);if(I&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,v[2*E+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,v[2*E+1].y)&&(I=!1),I){var B=a[C].clone();a[C]=a[E],a[E]=B}}for(var D=0;D<g;D++)i.splice(d[0],0,v[2*D]),i.splice(d[0],0,a[D]),i.splice(d[0],0,v[2*D+1])}else{for(var _,N,V=[],k=[],j=[],Y=[],z=0;z<r.length;z++)switch(r[z]){case 0:break;case 1:p=1/(2*h.length+1);for(var F=0;F<2*h.length;F++){var W=new SuperMapAlgoPlot.Point(e,n+(o-n)*p*(F+1));V.unshift(W)}for(var G=0;G<h.length;G++)for(var H=1;H<h.length;H++)(_=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(V[2*G+1],h[G],V[2*H],h[H],b))&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,V[2*G+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,V[2*G+1].y)&&(_=!1),_&&(N=h[H].clone(),h[H]=h[G],h[G]=N);break;case 2:u=1/(2*f.length+1);for(var q=0;q<2*f.length;q++){var J=new SuperMapAlgoPlot.Point(e+(l-e)*u*(q+1),o);k.unshift(J)}for(var Z=0;Z<f.length;Z++)for(var X=1;X<f.length;X++)(_=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(k[2*Z+1],f[Z],k[2*X],f[X],b))&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,k[2*Z+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,k[2*Z+1].y)&&(_=!1),_&&(N=f[X].clone(),f[X]=f[Z],f[Z]=N);break;case 3:c=1/(2*S.length+1);for(var Q=0;Q<2*S.length;Q++){var K=new SuperMapAlgoPlot.Point(l,n+(o-n)*c*(Q+1));j.push(K)}for(var $=0;$<S.length;$++)for(var tt=1;tt<S.length;tt++)(_=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(j[2*$+1],S[$],j[2*tt],S[tt],b))&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,j[2*$+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,j[2*$+1].y)&&(_=!1),_&&(N=S[tt].clone(),S[tt]=S[$],S[$]=N);break;case 4:P=1/(2*A.length+1);for(var et=0;et<2*A.length;et++){var ot=new SuperMapAlgoPlot.Point(e+(l-e)*P*(et+1),n);Y.push(ot)}for(var lt=0;lt<A.length;lt++)for(var nt=1;nt<A.length;nt++)(_=SuperMapAlgoPlot.PlottingUtil.intersectLineSegs(Y[2*lt+1],A[lt],Y[2*nt],A[nt],b))&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.x,Y[2*lt+1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(b.y,Y[2*lt+1].y)&&(_=!1),_&&(N=A[nt].clone(),A[nt]=A[lt],A[lt]=N)}for(var it=0;it<A.length;it++)i.splice(4,0,Y[2*it]),i.splice(4,0,A[it]),i.splice(4,0,Y[2*it+1]);for(var rt=0;rt<S.length;rt++)i.splice(3,0,j[2*rt]),i.splice(3,0,S[rt]),i.splice(3,0,j[2*rt+1]);for(var at=0;at<f.length;at++)i.splice(2,0,k[2*at]),i.splice(2,0,f[at]),i.splice(2,0,k[2*at+1]);for(var st=0;st<h.length;st++)i.splice(1,0,V[2*st]),i.splice(1,0,h[st]),i.splice(1,0,V[2*st+1])}for(var pt=0;pt<a.length;pt++)this.addScalePoint(a[pt],pt)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i),this.annotationContent(e,o,l,n),this.finish()}},{key:"modifyPoint",value:function(t,e){!0===e.isScalePoint&&(null==t&&void 0===t||(this.scaleValues[2*t]=e.x,this.scaleValues[2*t+1]=e.y)),this.calculateParts()}},{key:"getAction",value:function(t,e,o,l,n,i){var r=(l-i)/(n-o);return t<o?e>l?Math.abs((e-l)/(t-o))>r?2:1:e<i&&Math.abs((e-i)/(t-o))>r?4:1:t>n?e>l?Math.abs((e-l)/(t-n))>r?2:3:e<i&&Math.abs((e-i)/(t-n))>r?4:3:e>l?2:e<i?4:0}}])&&$(e.prototype,o),l&&$(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function it(t){"@babel/helpers - typeof";return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function at(){return(at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ut(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function st(t,e){return(st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ut(t);if(e){var n=ut(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.GeoTooltipBoxM=nt;var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&st(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).roundBox=!!t.roundBox&&t.roundBox,e.textBoxType=t.textBoxType?t.textBoxType:SuperMapAlgoPlot.TextBoxType.WITHTIPBOX,0===e.scaleValues.length&&(e.scaleValues.push(.126),e.scaleValues.push(0),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.SymbolTextBox",e}return e=i,(o=[{key:"destroy",value:function(){this.roundBox=null,this.textBoxType=null,at(ut(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=this.scaleValues[0];if(!(t<0||t>1)){if(t=(1-t)/2,this.controlPoints.length>=this.minEditPts){var e,o,l,n;this.scalePoints=[];var i=[];this.controlPoints[0].x<this.controlPoints[1].x?(e=this.controlPoints[0].x,l=this.controlPoints[1].x):(e=this.controlPoints[1].x,l=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(n=this.controlPoints[0].y,o=this.controlPoints[1].y):(n=this.controlPoints[1].y,o=this.controlPoints[0].y);var r=1,a=2,s=3,p=4;if(this.roundBox){var u=Math.max(e,l),c=Math.min(e,l),P=Math.max(o,n),g=Math.min(o,n),y=.1*Math.min(Math.abs(e-l),Math.abs(o-n)),h=new SuperMapAlgoPlot.Point(c+y,g+y),f=new SuperMapAlgoPlot.Point(c+y,P-y),S=new SuperMapAlgoPlot.Point(u-y,P-y),A=new SuperMapAlgoPlot.Point(u-y,g+y),M=this.calculateArc(h,y,3*Math.PI/2,Math.PI,-1,180),d=this.calculateArc(f,y,Math.PI,Math.PI/2,-1,180),b=this.calculateArc(S,y,Math.PI/2,0,-1,180),v=this.calculateArc(A,y,2*Math.PI,3*Math.PI/2,-1,180);r=M.length,a=M.length+d.length,s=M.length+d.length+b.length,p=M.length+d.length+b.length+v.length,i=M.concat(d,b,v)}else i.push(new SuperMapAlgoPlot.Point(e,n)),i.push(new SuperMapAlgoPlot.Point(e,o)),i.push(new SuperMapAlgoPlot.Point(l,o)),i.push(new SuperMapAlgoPlot.Point(l,n));this.isEdit||(this.scaleValues[1]=e+.1*(l-e),this.scaleValues[2]=n+-.3*(o-n));var m=new SuperMapAlgoPlot.Point(this.scaleValues[1],this.scaleValues[2]),L=this.getAction(this.scaleValues[1],this.scaleValues[2],e,o,l,n);if(this.textBoxType===SuperMapAlgoPlot.TextBoxType.WITHTIPBOX)switch(this.addScalePoint(m,0),L){case 0:break;case 1:this.addScalePoint(new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),i.splice(r,0,new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),i.splice(r,0,m),i.splice(r,0,new SuperMapAlgoPlot.Point(e,n+(o-n)*t));break;case 2:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),i.splice(a,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),i.splice(a,0,m),i.splice(a,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,o));break;case 3:this.addScalePoint(new SuperMapAlgoPlot.Point(l,o-(o-n)*t)),i.splice(s,0,new SuperMapAlgoPlot.Point(l,n+(o-n)*t)),i.splice(s,0,m),i.splice(s,0,new SuperMapAlgoPlot.Point(l,o-(o-n)*t));break;case 4:this.addScalePoint(new SuperMapAlgoPlot.Point(l-(l-e)*t,n)),i.splice(p,0,new SuperMapAlgoPlot.Point(e+(l-e)*t,n)),i.splice(p,0,m),i.splice(p,0,new SuperMapAlgoPlot.Point(l-(l-e)*t,n))}if(0!==i.length)if(this.textBoxType===SuperMapAlgoPlot.TextBoxType.NONEBOX){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,{surroundLineFlag:!1,weight:0,lineWidthLimit:!0})}else this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i)}else this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,this.controlPoints);this.annotationContent(e,o,l,n),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint)if(0===t)this.scaleValues[1]=e.x,this.scaleValues[2]=e.y;else if(1===t){var o,l,n,i,r,a,s=this.scalePoints[0];this.controlPoints[0].x<this.controlPoints[1].x?(o=this.controlPoints[0].x,n=this.controlPoints[1].x):(o=this.controlPoints[1].x,n=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(i=this.controlPoints[0].y,l=this.controlPoints[1].y):(i=this.controlPoints[1].y,l=this.controlPoints[0].y),r=this.scaleValues[1],a=this.scaleValues[2];var p=(l-i)/(n-o),u=.25;switch(r<o?a>l?Math.abs((a-l)/(r-o))>p?2:1:a<i&&Math.abs((a-i)/(r-o))>p?4:1:r>n?a>l?Math.abs((a-l)/(r-n))>p?2:3:a<i&&Math.abs((a-i)/(r-n))>p?4:3:a>l?2:a<i?4:0){case 1:case 3:var c=s.y+(e.y-s.y);c>l&&(c=l),c<(l+i)/2&&(c=(l+i)/2),u=1-2*(l-c)/(l-i);break;case 2:case 4:var P=s.x+(e.x-s.x);P>n&&(P=n),P<(o+n)/2&&(P=(o+n)/2),u=1-2*(n-P)/(n-o)}u<0&&(u=0),u>1&&(u=1),this.scaleValues[0]=u}this.calculateParts()}},{key:"calculateArc",value:function(t,e,o,l,n,i){(!n||1!=n&&-1!=n)&&(n=-1),i||(i=360);for(var r=Math.PI/i/2,a=r*n,s=Math.abs(l-o),p=[],u=o,c=0;c<s;c+=r){var P=new SuperMapAlgoPlot.Point(Math.cos(u)*e+t.x,Math.sin(u)*e+t.y);p.push(P),u=(u=(u+=a)<0?u+2*Math.PI:u)>2*Math.PI?u-2*Math.PI:u}return p}},{key:"getAction",value:function(t,e,o,l,n,i){var r=(l-i)/(n-o);return t<o?e>l?Math.abs((e-l)/(t-o))>r?2:1:e<i&&Math.abs((e-i)/(t-o))>r?4:1:t>n?e>l?Math.abs((e-l)/(t-n))>r?2:3:e<i&&Math.abs((e-i)/(t-n))>r?4:3:e>l?2:e<i?4:0}}])&&rt(e.prototype,o),l&&rt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pt(t){"@babel/helpers - typeof";return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function yt(t,e){return(yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ft(t);if(e){var n=ft(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.SymbolTextBox=ct;var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ht(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),void 0===(e=n.call(this,t)).scaleValues[0]&&(e.scaleValues[0]=0),void 0===e.scaleValues[1]&&(e.scaleValues[1]=360),e.CLASS_NAME="SuperMapAlgoPlot.ConcentricCircle",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!(null==(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t))||t.length<2)){for(;this.scaleValues[0]>360;)this.scaleValues[0]-=360;for(;this.scaleValues[0]<0;)this.scaleValues[0]+=360;for(;this.scaleValues[1]>360;)this.scaleValues[1]-=360;for(;this.scaleValues[1]<0;)this.scaleValues[1]+=360;for(;this.scaleValues[1]<=this.scaleValues[0];)this.scaleValues[1]+=360;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[1],this.scaleValues[0])&&(this.scaleValues[1]+=360);for(var e=[],o=0;o<t.length-1;o++){for(var l=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[o+1]),n=[],i=Math.PI/180,r=(this.scaleValues[1]-this.scaleValues[0])/72,a=this.scaleValues[0];a<this.scaleValues[1]+r/2;a+=r){var s=t[0].x+l*Math.cos(a*i),p=t[0].y+l*Math.sin(a*i);n.push(new SuperMapAlgoPlot.Point(s,p))}if(o>0){for(var u=[],c=0;c<e.length;c++)u.push(e[c]);for(var P=n.length-1;P>=0;P--)u.push(n[P]);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,{surroundLineFlag:!1,lineWidthLimit:!0,weight:0,strokeWidth:0})}e.length=0;for(var g=0;g<n.length;g++)e.push(n[g]);if(this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[t[0],t[o+1]],{surroundLineFlag:!1,fillLimit:!0,fill:!1}),o<2){var y=o%2,h=t[0].x+l/2*Math.cos(this.scaleValues[y]*i),f=t[0].y+l/2*Math.sin(this.scaleValues[y]*i),S=new SuperMapAlgoPlot.Point(h,f);S.isScalePoint=!0,S.tag=o,this.addScalePoint(S)}}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){for(var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=180*SuperMapAlgoPlot.PlottingUtil.radian(o[0],e)/Math.PI;l>360;)l-=360;for(;l<0;)l+=360;t%2==0?this.scaleValues[0]=l:t%2==1&&(this.scaleValues[1]=l)}this.calculateParts()}}])&&gt(e.prototype,o),l&&gt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function At(t){"@babel/helpers - typeof";return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function dt(t,e){return(dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vt(t);if(e){var n=vt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.ConcentricCircle=St;var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=bt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).angleRange=[],e.defaultRadius=t.defaultRadius?t.defaultRadius:60,e.CLASS_NAME="SuperMapAlgoPlot.CombinationalCircle",e}return e=i,(o=[{key:"calculateParts",value:function(){if(this.init(),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints),!(null==this.controlPoints||this.controlPoints.length<1)){var t=this.getCircleLonLat(this.controlPoints[0],this.defaultRadius);this.angleRange=[];for(var e=0;e<this.controlPoints.length;e++)null==this.scaleValues[e]&&(this.scaleValues[e]=t),this.angleRange.push([{Start:0,End:360}]);for(var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=0;l<o.length;l++)if(0!==this.angleRange[l].length&&(0!==this.angleRange[l][0].Start||0!==this.angleRange[l][0].End))for(var n=l+1;n<o.length;n++)if(0!==this.angleRange[n].length&&(0!==this.angleRange[n][0].Start||0!==this.angleRange[n][0].End)){var i=SuperMapAlgoPlot.PlottingUtil.distance(o[l],o[n]);if(i<this.scaleValues[l]+this.scaleValues[n])if(i>Math.abs(this.scaleValues[l]-this.scaleValues[n]))for(var r=0;r<2;r++){var a,s,p;0==r?(p=l,a=SuperMapAlgoPlot.PlottingUtil.radian(o[l],o[n])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((i*i+this.scaleValues[l]*this.scaleValues[l]-this.scaleValues[n]*this.scaleValues[n])/(2*i*this.scaleValues[l]))*SuperMapAlgoPlot.PlottingUtil.RTOD):(p=n,a=SuperMapAlgoPlot.PlottingUtil.radian(o[n],o[l])*SuperMapAlgoPlot.PlottingUtil.RTOD,s=Math.acos((i*i+this.scaleValues[n]*this.scaleValues[n]-this.scaleValues[l]*this.scaleValues[l])/(2*i*this.scaleValues[n]))*SuperMapAlgoPlot.PlottingUtil.RTOD);var u=a-s,c=a+s,P=u<0&&c>0||u>360||c>360;u=this.adjustAngle(u),c=this.adjustAngle(c);for(var g=this.angleRange[p].length-1;g>=0;g--)if(P){if(c>this.angleRange[p][g].End||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,this.angleRange[p][g].End)){this.angleRange[p].splice(g,1);continue}if(c>this.angleRange[p][g].Start&&(this.angleRange[p][g].Start=c),u<this.angleRange[p][g].Start||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(u,this.angleRange[p][g].Start)){this.angleRange[p].splice(g,1);continue}u<this.angleRange[p][g].End&&(this.angleRange[p][g].End=u)}else if(u<this.angleRange[p][g].Start&&c>this.angleRange[p][g].End)this.angleRange[p].splice(g,1);else if(u>this.angleRange[p][g].Start&&c<this.angleRange[p][g].End)this.angleRange[p].push({Start:this.angleRange[p][g].Start,End:u}),this.angleRange[p].push({Start:c,End:this.angleRange[p][g].End}),this.angleRange[p].splice(g,1);else{if(u>this.angleRange[p][g].End)continue;if(u>this.angleRange[p][g].Start&&(this.angleRange[p][g].End=u),c<this.angleRange[p][g].Start)continue;c<this.angleRange[p][g].End&&(this.angleRange[p][g].Start=c)}}else{if(this.scaleValues[l]<this.scaleValues[n]){this.angleRange[l][0].Start=0,this.angleRange[l][0].End=0;break}this.angleRange[n][0].Start=0,this.angleRange[n][0].End=0}}for(var y=[],h=0;h<o.length;h++)if(0!==this.angleRange[h].length&&(0!==this.angleRange[h][0].Start||0!==this.angleRange[h][0].End))for(var f=this.angleRange[h].length-1;f>=0;f--){for(var S=this.adjustAngle(this.angleRange[h][f].Start),A=this.adjustAngle(this.angleRange[h][f].End);A<S;)A+=360;if(A-S==360)this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[o[h],new SuperMapAlgoPlot.Point(o[h].x,o[h].y+this.scaleValues[h])]);else{for(var M=[],d=(A-S)/72,b=S;b<A+d/2;b+=d){var v=o[h].x+this.scaleValues[h]*Math.cos(b*SuperMapAlgoPlot.PlottingUtil.DTOR),m=o[h].y+this.scaleValues[h]*Math.sin(b*SuperMapAlgoPlot.PlottingUtil.DTOR);M.push(new SuperMapAlgoPlot.Point(v,m))}y.push(M)}}for(var L=[],O=[];0!==y.length;){var T=y[0];y.splice(0,1),void 0!==(T=this.generatePolygon(y,T))&&(L.push(T),O.push(T))}for(var w=L.length,x=w-1;x>=0;x--)for(var R=0;R<L[x].length;R++){for(var U=-1,E=-1,C=0;C<w;C++)if(parseInt(C)!==x){var I=L[C];if(SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(I,L[x][R])){U=x;L[E=parseInt(C)].push(L[E][0]),L[U].push(L[U][0]),L[E]=L[E].concat(L[U]),L.splice(U,1),w=L.length;break}}if(-1!==U&&-1!==E)break}for(var B={surroundLineFlag:!1,lineWidthLimit:!0,weight:0,strokeWidth:0,surroundLineType:0},D=0;D<L.length;D++)L[D][0]!=L[D][L[D].length-1]&&L[D].push(L[D][0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,L[D],B);for(var _=0;_<O.length;_++)O[_][0]!=O[_][O[_].length-1]&&O[_].push(O[_][0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[_]);for(var N=0;N<o.length;N++){var V=new SuperMapAlgoPlot.Point(o[N].x+this.scaleValues[N],o[N].y);V.isScalePoint=!0,V.tag=N,this.addScalePoint(V)}}}},{key:"generatePolygon",value:function(t,e){if(0===t.length||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[0].x,e[e.length-1].x,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[0].y,e[e.length-1].y,1e-10))return e;for(var o,l=e[e.length-1],n=0;n<t.length;n++)if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n][0].x,l.x,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n][0].y,l.y,1e-10)){if(e=e.concat(t[n]),t.splice(n,1),void 0!==(o=this.generatePolygon(t,e))&&0!==o.length)return o}else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n][t[n].length-1].x,l.x,1e-10)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[n][t[n].length-1].y,l.y,1e-10)){for(var i=t[n].length-1;i>=0;i--)e.push(t[n][i]);if(t.splice(n,1),void 0!==(o=this.generatePolygon(t,e))&&0!==o.length)return o}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>=this.controlPoints.length)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),l=SuperMapAlgoPlot.PlottingUtil.distance(o[t],e);this.scaleValues[t]=l}this.calculateParts()}},{key:"adjustAngle",value:function(t){for(;t>360;)t-=360;for(;t<0;)t+=360;return t}},{key:"getCircleLonLat",value:function(t,e){return null===this.map?2*this.getDefaultSubSymbolSize():this.map&&"undefined"!=typeof L&&void 0!==L.Map&&this.map instanceof L.Map?((o=this.map.latLngToLayerPoint(L.latLng(t.y,t.x))).x+=e,this.map.layerPointToLatLng(L.point(o.x,o.y)).lng-t.x):this.map&&"undefined"!=typeof SuperMap&&void 0!==SuperMap.Map&&this.map instanceof SuperMap.Map?((o=this.map.getPixelFromLonLat(new SuperMap.LonLat(t.x,t.y))).x+=e,this.map.getLonLatFromPixel(new SuperMap.Pixel(o.x,o.y)).lon-t.x):void 0;var o}}])&&Mt(e.prototype,o),l&&Mt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Lt(t){"@babel/helpers - typeof";return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Tt(t,e){return(Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xt(t);if(e){var n=xt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.CombinationalCircle=mt;var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.FreeCurve",e}return e=i,(o=[{key:"calculateParts",value:function(){if(this.init(),!(null==this.controlPoints||this.controlPoints.length<this.minEditPts)){this.scalePoints=[];var t=[];if(this.controlPoints.length<3)t.push(this.controlPoints[0]),t.push(this.controlPoints[1]);else{if(!this.isEdit){var e=this.getLonLatFromPixel(0,0),o=this.getLonLatFromPixel(100,100),l=Math.abs(e.lon-o.lon),n=this.reSample(this.controlPoints,l/50);n.length<3&&(n=this.controlPoints),this.controlPoints=[],this.controlPoints=this.controlPoints.concat(n)}var i=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,this.controlPoints,this.scaleValues);i.scalePoints=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i.scalePoints),i.scaleValues=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i.scaleValues),this.scaleValues=i.scaleValues;for(var r=0,a=i.scalePoints.length;r<a;r++){var s=i.scalePoints[r];s.isScalePoint=!0,s.tag=r,this.addScalePoint(s)}t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t)}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(2>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=-1;n=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var i=(e.x-o[n].x)/l,r=(e.y-o[n].y)/l;this.scaleValues[2*t]=i,this.scaleValues[2*t+1]=r}this.calculateParts()}},{key:"reSample",value:function(t,e){var o=[];if(null==t||e<0)return o;var l=t.length;if(l>2){var n=new SuperMapAlgoPlot.Point(0,0),i=0,r=0,a=0,s=2*Math.PI;n=t[0],o.push(n);for(var p=!1,u=!1,c=!1,P=1;P<l;P++)if(r=Math.sqrt((t[P].y-n.y)*(t[P].y-n.y)+(t[P].x-n.x)*(t[P].x-n.x)),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(0,r))p&&(n=t[P-1],P--,o.push(n),a=0,s=2*Math.PI,p=!1,u=!1,c=!1);else{var g=(t[P].x-n.x)/r,y=(t[P].y-n.y)/r;if(i=y>0||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(0,y)?Math.acos(g):2*Math.PI-Math.acos(g),s>2*Math.PI&&i+2*Math.PI<s?(i+=2*Math.PI,a<0&&(a+=2*Math.PI)):a<0&&i-2*Math.PI>a&&(i-=2*Math.PI,s>2*Math.PI&&(s-=2*Math.PI)),i>a&&i<s||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(0,i-a)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(0,i-s)){var h=Math.atan(e/r);u?a<i-h&&(a=i-h):(u=!0,a=i-h),c?s>i+h&&(s=i+h):(c=!0,s=i+h),p=!0}else n=t[P-1],P--,o.push(n),a=0,s=2*Math.PI,p=!1,u=!1,c=!1}return o.push(t[l-1]),o}return o}},{key:"reSampleByAngle",value:function(t,e){var o=[],l=t.length;if(null==t||l<=0||e<=0)return o;for(var n=t,i=l,r=!1;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n[0].x,n[i-1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n[0].y,n[i-1].y);){if((i-=1)<=0)return o;r=!0}var a,s,p=[];for(a=0;a<i;a++)p.push(0);for(p[0]=1,p[i-1]=1,s=0,a=1;a<i-1;a++)if(SuperMapAlgoPlot.PlottingUtil.distance(n[s],n[a])>1e-10&&SuperMapAlgoPlot.PlottingUtil.distance(n[s],n[a+1])>1e-10){var u=180*SuperMapAlgoPlot.PlottingUtil.InnerAngle(n[a],n[s],n[a+1])/Math.PI;u>e&&u<180-e&&(p[a]=1,s++)}var c=0;for(a=0;a<i;a++)1==p[a]&&c++;if(c>0){for(r&&c++,o=[],s=0,a=0;a<i;a++)1==p[a]&&(o[s++]=n[a]);return r&&(o[s]=o[0]),o}return o}}])&&Ot(e.prototype,o),l&&Ot(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ut(t){"@babel/helpers - typeof";return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ct(){return(Ct="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dt(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function It(t,e){return(It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Dt(t);if(e){var n=Dt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.FreeCurve=Rt;var _t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Bt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues[1]=.1),e.CLASS_NAME="SuperMapAlgoPlot.NodeChain",e}return e=i,(o=[{key:"destroy",value:function(){Ct(Dt(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){if(this.init(),this.controlPoints&&null!==this.controlPoints){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t),this.isEdit||(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=e*this.scaleValues[0],l=e*this.scaleValues[1];if(0<this.subSymbols.length&&null!==this.subSymbols[0]&&void 0!==this.subSymbols[0])if(this.subSymbols[0].code>0)for(var n=0;n<t.length;n++){var i=new SuperMapAlgoPlot.Point(t[n].x,t[n].y+o);this.computeSubSymbol(this.subSymbols[0],i,l,0)}else this.addCircles(t,o,l);else this.addCircles(t,o,l);var r=new SuperMapAlgoPlot.Point(t[0].x,t[0].y+o);this.addScalePoint(r);var a=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,l,l,90);this.addScalePoint(a)}}}},{key:"addCircles",value:function(t,e,o){for(var l={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0},n=0;n<t.length;n++){var i=new SuperMapAlgoPlot.Point(t[n].x,t[n].y+e),r=this.getCirclePts(i,o);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,r,l)}}},{key:"getCirclePts",value:function(t,e){for(var o=[],l=0;l<=360;l+=12){var n=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,e,e,l);o.push(n)}return o}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t)this.scaleValues[0]=(e.y-o[0].y)/l;else if(1===t){var n=l*this.scaleValues[0],i=new SuperMapAlgoPlot.Point(o[0].x,o[0].y+n),r=SuperMapAlgoPlot.PlottingUtil.distance(e,i);this.scaleValues[1]=r/l}}this.calculateParts()}}])&&Et(e.prototype,o),l&&Et(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Nt(t){"@babel/helpers - typeof";return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function kt(){return(kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zt(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function jt(t,e){return(jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=zt(t);if(e){var n=zt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.NodeChain=_t;var Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Yt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.2),e.CLASS_NAME="SuperMapAlgoPlot.Runway",e}return e=i,(o=[{key:"destroy",value:function(){kt(zt(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){if(this.init(),this.controlPoints.length>=this.minEditPts){for(var t=this.controlPoints[0],e=this.controlPoints[1],o=SuperMapAlgoPlot.PlottingUtil.distance(t,e),l=this.scaleValues[0]*o,n=SuperMapAlgoPlot.PlottingUtil.parallel(this.controlPoints,l/2),i=SuperMapAlgoPlot.PlottingUtil.parallel(this.controlPoints,-l/2),r=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,a=[],s=r+90;s<=r+270;s+=10){var p=SuperMapAlgoPlot.PlottingUtil.circlePoint(t,l/2,l/2,s);a.push(p)}for(var u=[],c=r-90;c<=r+90;c+=10){var P=SuperMapAlgoPlot.PlottingUtil.circlePoint(e,l/2,l/2,c);u.push(P)}var g=[];(g=(g=(g=(g=g.concat(a)).concat(i)).concat(u)).concat(n)).push(g[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g);var y=new SuperMapAlgoPlot.Point(a[0].x,a[0].y);this.addScalePoint(y)}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint&&0==t){var o=SuperMapAlgoPlot.PlottingUtil.distance(e,this.controlPoints[0]),l=SuperMapAlgoPlot.PlottingUtil.distance(this.controlPoints[0],this.controlPoints[1]);this.scaleValues[0]=2*o/l}this.calculateParts()}}])&&Vt(e.prototype,o),l&&Vt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Wt(t){"@babel/helpers - typeof";return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ht(){return(Ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zt(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function qt(t,e){return(qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Zt(t);if(e){var n=Zt(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Runway=Ft;var Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qt(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Jt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.CurveEight",e}return e=i,(o=[{key:"destroy",value:function(){Ht(Zt(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){if(this.init(),this.controlPoints&&null!==this.controlPoints&&!(this.minEditPts>this.controlPoints.length))if(2===this.controlPoints.length){var t=this.controlPoints[0].clone(),e=this.controlPoints[1].clone(),o=SuperMapAlgoPlot.PlottingUtil.distance(t,e)/2,l=180*SuperMapAlgoPlot.PlottingUtil.radian(t,e)/Math.PI,n=new SuperMapAlgoPlot.Point((t.x+e.x)/2,(t.y+e.y)/2),i=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,o,o,l+90),r=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,3*o,3*o,l+90);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[i,new SuperMapAlgoPlot.Point(i.x+o,i.y)]),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[r,new SuperMapAlgoPlot.Point(r.x+o,r.y)])}else{var a=this.controlPoints[0].clone(),s=this.controlPoints[1].clone(),p=this.controlPoints[2].clone(),u=0;u=SuperMapAlgoPlot.PlottingUtil.isRight(p,a,s)?180*SuperMapAlgoPlot.PlottingUtil.radian(s,a)/Math.PI+90:180*SuperMapAlgoPlot.PlottingUtil.radian(a,s)/Math.PI+90;var c=SuperMapAlgoPlot.PlottingUtil.distance(a,s)/2,P=new SuperMapAlgoPlot.Point((a.x+s.x)/2,(a.y+s.y)/2),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,c,c,u),y=SuperMapAlgoPlot.PlottingUtil.plumbLineLen(p,a,s);if(y<=4*c){var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,3*c,3*c,u);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[g,new SuperMapAlgoPlot.Point(g.x+c,g.y)]),this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[h,new SuperMapAlgoPlot.Point(h.x+c,h.y)])}else{for(var f=SuperMapAlgoPlot.PlottingUtil.circlePoint(P,y-c,y-c,u),S=180*Math.acos(c/(y-2*c))/Math.PI,A=u-S,M=u-180+S,d=u-180-S+360,b=[],v=u+S-360;v<=A;v+=4){var m=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,c,c,v);b.push(m)}var L=SuperMapAlgoPlot.PlottingUtil.circlePoint(g,c,c,A);b.push(L);for(var O=[],T=M;T<d;T+=4){var w=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,c,c,T);O.push(w)}var x=SuperMapAlgoPlot.PlottingUtil.circlePoint(f,c,c,d);O.push(x);var R=[];R=R.concat(b);for(var U=O.length-1;U>=0;U--)R.push(O[U]);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,R)}}}}])&&Gt(e.prototype,o),l&&Gt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Qt(t){"@babel/helpers - typeof";return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function $t(t,e){return($t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ee(t);if(e){var n=ee(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ee(t){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.CurveEight=Xt;var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$t(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=te(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).relLineText=t.relLineText?t.relLineText:0,e.showPathLine=!t.showPathLine||t.showPathLine,e.showPathLineArrow=!!t.showPathLineArrow&&t.showPathLineArrow,e.isCurve=!!t.isCurve&&t.isCurve,e.isAvoid=!!t.isAvoid&&t.isAvoid,e.textToLineDistance=t.textToLineDistance?t.textToLineDistance:0,e.fontSpace=t.fontSpace?t.fontSpace:0,e.dNowPassedDistance=t.dNowPassedDistance?t.dNowPassedDistance:2,e.isScalePoint=!1,e.oldPathTextStart=void 0,e.oldDNowPassedDistance=2,e.CLASS_NAME="SuperMapAlgoPlot.PathText",e}return e=i,(o=[{key:"calculateParts",value:function(){if(this.init(),null!==this.controlPoints&&0!==this.controlPoints.length&&!(this.controlPoints.length<this.minEditPts)){SuperMap.Util.isArray(this.textContent)||(this.textContent=[this.textContent]);var t=[];if(t=this.isCurve?SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(this.controlPoints):SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),this.relLineText===SuperMapAlgoPlot.RelLineText.ONBOTHLINE){this.relLineText=SuperMapAlgoPlot.RelLineText.ONRIGHTLINE,this.textPathPts=this.getTextPathPts(t,!1),this.computeText(this.textPathPts,this.textContent[0],t),this.relLineText=SuperMapAlgoPlot.RelLineText.ONLEFTLINE;var e=this.showPathLine;this.showPathLine=!1,this.textPathPts=this.getTextPathPts(t,!0),this.textContent.length>1?this.computeText(this.textPathPts,this.textContent[1],t):this.computeText(this.textPathPts,this.textContent[0],t),this.relLineText=SuperMapAlgoPlot.RelLineText.ONBOTHLINE,this.showPathLine=e}else this.relLineText===SuperMapAlgoPlot.RelLineText.ONRIGHTLINE?this.textPathPts=this.getTextPathPts(t,!1):this.relLineText===SuperMapAlgoPlot.RelLineText.ONLEFTLINE?this.textPathPts=this.getTextPathPts(t,!0):this.textPathPts=t,this.computeText(this.textPathPts,this.textContent[0],t);this.finish()}}},{key:"getTextPathPts",value:function(t,e){t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t);var o=this.getLonLatDistanceFromPixel(this.textToLineDistance);if(0>=o)return SuperMapAlgoPlot.PlottingUtil.clonePoints(t);var l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,e);return SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)}},{key:"computeText",value:function(t,e,o){if(!(t.length<2)){for(var l=e.length,n=t,i=n.length,r=0,a=0;a<n.length-1;a++)r+=SuperMapAlgoPlot.PlottingUtil.distance(n[a],n[a+1]);var s={index:-1,pt:n[0]},p=0,u=0,c=180/Math.PI,P=this.getTextBounds(this.style,e),g="lm";g=this.relLineText===SuperMapAlgoPlot.RelLineText.ONLINE?"lm":this.relLineText===SuperMapAlgoPlot.RelLineText.ONLEFTLINE?"lb":"lt",this.isScalePoint||(this.dNowPassedDistance=this.oldDNowPassedDistance),this.dNowPassedDistance<=0&&(this.dNowPassedDistance=0);for(var y=[],h=0;h<l;h++){var f=this.getTextBounds(this.style,e.charAt(h));y.push(new SuperMap.Bounds(0,-P.getHeight(),f.getWidth(),0))}var S,A=!1,M=!1,d=!0,b=0,v=0,m=[];for(this.fontSpace=d?(r-2*this.dNowPassedDistance-P.getWidth())/(l+1):(r-2*this.dNowPassedDistance-P.getHeight())/(l+1),this.fontSpace<0&&(this.fontSpace=0);p<=this.dNowPassedDistance&&u<i-1;)u++,p+=SuperMapAlgoPlot.PlottingUtil.distance(n[u-1],n[u]);var L=this.oldPathTextStart;L=this.isScalePoint||!this.oldPathTextStart?SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,this.dNowPassedDistance):this.oldPathTextStart;var O=SuperMapAlgoPlot.PlottingUtil.radian(n[u-1],n[u])*c;O>180&&(O-=360),O<-180&&(O+=360),O>90&&O<=180?(b=-180,A=!0,M=!0):O>-180&&O<-90&&(b=180,A=!0,M=!0),d=!0,0!=b?this.relLineText===SuperMapAlgoPlot.RelLineText.ONLINE||(g=this.relLineText===SuperMapAlgoPlot.RelLineText.ONLEFTLINE?"lt":"lb"):this.relLineText===SuperMapAlgoPlot.RelLineText.ONLINE||(g=this.relLineText===SuperMapAlgoPlot.RelLineText.ONLEFTLINE?"lb":"lt");for(var T=0;T<l&&!(this.dNowPassedDistance>r);T++){0===T&&(this.oldDNowPassedDistance=this.dNowPassedDistance);var w=T;for(M&&(w=l-T-1),S=y[w],v=d?S.getWidth():S.getHeight(),A&&(this.dNowPassedDistance+=v);p<=this.dNowPassedDistance&&u<i-1;)u++,p+=SuperMapAlgoPlot.PlottingUtil.distance(n[u-1],n[u]);O=SuperMapAlgoPlot.PlottingUtil.radian(n[u-1],n[u])*c,this.dNowPassedDistance=this.dNowPassedDistance+this.fontSpace,s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,this.dNowPassedDistance);for(var x=0;x<n.length-1;x++){var R=[];if(R.push(n[x]),R.push(n[x+1]),!s.pt)break;SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(s.pt,R).isOnPolyLine&&(O=SuperMapAlgoPlot.PlottingUtil.radian(n[x],n[x+1])*c)}var U=O+b;if(s.index<0)break;S.add(s.pt.x,s.pt.y);var E=e.charAt(w),C={};C.type=SuperMapAlgoPlot.SymbolType.TEXTSYMBOL,C.textContent=E,C.positionPoints=[s.pt],C.style={surroundLineFlag:!1,labelAlign:g,labelRotation:-U},m.push(C),A||(this.dNowPassedDistance+=v)}var I=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,this.dNowPassedDistance);if(this.showPathLine){if(this.relLineText===SuperMapAlgoPlot.RelLineText.ONLINE&&this.isAvoid){if(L.index>=0){for(var B=[],D=0;D<=L.index;D++)B.push(o[D]);B.push(L.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,B)}if(I.index>=0){var _=[];_.push(I.pt);for(var N=I.index+1;N<o.length;N++)_.push(o[N]);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_)}}else this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o);if(this.showPathLineArrow&&this.addArrow(o),L.pt){var V=SuperMapAlgoPlot.PlottingUtil.distance(n[0],L.pt),k=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(n,V);this.addScalePoint(k.pt)}}for(var j=0;j<m.length;j++)this.components.push(m[j]);this.isScalePoint=!1,this.oldPathTextStart=L}}},{key:"addArrow",value:function(t){if(t.length<2)return t;var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints)*(this.isEdit,null==this.getSubSymbolScaleValue()?.05:.5*this.getSubSymbolScaleValue()),o=t[t.length-1];if(t.length>2){for(var l=-1,n=t.length-2;n>=0;n--)if(e<SuperMapAlgoPlot.PlottingUtil.distance(o,t[n])){l=n;break}t.splice(l+1,t.length-l),t.push(o)}var i=t[t.length-2],r=t[t.length-1],a=e;if(void 0===i)return t;if(!(SuperMapAlgoPlot.PlottingUtil.distance(i,r)<e)){var s=SuperMapAlgoPlot.PlottingUtil.radian(i,r)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,a,a,s+157.5),u=SuperMapAlgoPlot.PlottingUtil.circlePoint(r,a,a,s+202.5);this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[p,t[t.length-1],u],{surroundLineFlag:!1,fillLimit:!0,lineTypeLimit:!0,fill:!0})}}},{key:"modifyPoint",value:function(t,e){if(e.isScalePoint){for(var o=0,l=0;l<this.controlPoints.length-1;l++){var n=[];n.push(this.controlPoints[l]),n.push(this.controlPoints[l+1]),SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(e,n).isOnPolyLine||o++}if(o===this.controlPoints.length-1)return;this.isScalePoint=!0;var i=SuperMapAlgoPlot.PlottingUtil.distance(this.textPathPts[0],e);this.dNowPassedDistance=i}this.calculateParts()}}])&&Kt(e.prototype,o),l&&Kt(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function le(t){"@babel/helpers - typeof";return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ie(){return(ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=se(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function re(t,e){return(re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=se(t);if(e){var n=se(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.PathText=oe;var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&re(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ae(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).islocationCircle=!!t.islocationCircle&&t.islocationCircle,e.textBoxType=t.textBoxType?t.textBoxType:SuperMapAlgoPlot.TextBoxType.RECTBOX,0===e.scaleValues.length&&(e.scaleValues.push(.126),e.scaleValues.push(0),e.scaleValues.push(0),e.scaleValues.push(4)),e.CLASS_NAME="SuperMapAlgoPlot.LineMarking",e}return e=i,(o=[{key:"destroy",value:function(){this.islocationCircle=null,this.textBoxType=null,ie(se(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init(),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);var t=this.scaleValues[0];if(!(t<0||t>1)){if(t=(1-t)/2,this.controlPoints.length>=this.minEditPts){var e,o,l,n;this.scalePoints=[];var i=[];this.controlPoints[0].x<this.controlPoints[1].x?(e=this.controlPoints[0].x,l=this.controlPoints[1].x):(e=this.controlPoints[1].x,l=this.controlPoints[0].x),this.controlPoints[0].y<this.controlPoints[1].y?(n=this.controlPoints[0].y,o=this.controlPoints[1].y):(n=this.controlPoints[1].y,o=this.controlPoints[0].y),i.push(new SuperMapAlgoPlot.Point(e,n)),i.push(new SuperMapAlgoPlot.Point(e,o)),i.push(new SuperMapAlgoPlot.Point(l,o)),i.push(new SuperMapAlgoPlot.Point(l,n)),!1===this.isEdit&&(this.scaleValues[1]=e+.1*(l-e),this.scaleValues[2]=n+-.3*(o-n));var r=this.getAction(this.scaleValues[1],this.scaleValues[2],e,o,l,n),a=new SuperMapAlgoPlot.Point(this.scaleValues[1],this.scaleValues[2]);if(this.textBoxType===SuperMapAlgoPlot.TextBoxType.RECTBOX||this.textBoxType===SuperMapAlgoPlot.TextBoxType.LINEBOX){var s=[];switch(r){case 0:this.addScalePoint(a);break;case 1:this.addScalePoint(a),s.push(new SuperMapAlgoPlot.Point(e,o-(o-n)*t)),s.push(a);break;case 2:this.addScalePoint(a),s.push(new SuperMapAlgoPlot.Point(l-(l-e)*t,o)),s.push(a);break;case 3:this.addScalePoint(a),s.push(new SuperMapAlgoPlot.Point(l,o-(o-n)*t)),s.push(a);break;case 4:this.addScalePoint(a),s.push(new SuperMapAlgoPlot.Point(l-(l-e)*t,n)),s.push(a)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s)}if(0!==i.length&&this.textBoxType===SuperMapAlgoPlot.TextBoxType.RECTBOX)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i);else if(0!==i.length&&this.textBoxType===SuperMapAlgoPlot.TextBoxType.LINEBOX){var p=[];switch(r){case 0:break;case 1:p=(p=p.concat(i[0])).concat(i[1]);break;case 2:p=(p=p.concat(i[1])).concat(i[2]);break;case 3:p=(p=p.concat(i[2])).concat(i[3]);break;case 4:p=(p=p.concat(i[3])).concat(i[0])}0!==p.length?this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p):this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,this.controlPoints)}this.islocationCircle&&this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[a,new SuperMapAlgoPlot.Point(a.x-.05,a.y-.05)]),this.annotationContent(e,o,l,n)}else this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.addCell(SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL,this.controlPoints);this.finish()}}},{key:"modifyPoint",value:function(t,e){!0===e.isScalePoint&&(this.scaleValues[1]=e.x,this.scaleValues[2]=e.y),this.calculateParts()}},{key:"getAction",value:function(t,e,o,l,n,i){var r=(l-i)/(n-o);return t<o?e>l?Math.abs((e-l)/(t-o))>r?2:1:e<i&&Math.abs((e-i)/(t-o))>r?4:1:t>n?e>l?Math.abs((e-l)/(t-n))>r?2:3:e<i&&Math.abs((e-i)/(t-n))>r?4:3:e>l?2:e<i?4:0}}])&&ne(e.prototype,o),l&&ne(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ue(t){"@babel/helpers - typeof";return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pe(){return(Pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=he(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function ge(t,e){return(ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=he(t);if(e){var n=he(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.LineMarking=pe;var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ye(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).subSectionCount=t.subSectionCount?t.subSectionCount:10,e.CLASS_NAME="SuperMapAlgoPlot.LineRelation",e}return e=i,(o=[{key:"destroy",value:function(){this.subSectionCount=null,Pe(he(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();for(var t=0;t<this.controlPoints.length;t++)this.controlPoints[t].tag=t;var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);null!==e&&e.length>=this.minEditPts&&this.computeLine(e)}},{key:"computeLine",value:function(t){this.components.length=0;var e=t[0],o=t[t.length-1];this.subSectionCount<=1&&(this.subSectionCount=10);var l=SuperMapAlgoPlot.PlottingUtil.distance(e,o)/(2*this.subSectionCount-1);if(this.lineRelationType===SuperMapAlgoPlot.LineRelationType.SOLID)this.addCell(24,t,{surroundLineFlag:!1});else if(this.lineRelationType===SuperMapAlgoPlot.LineRelationType.DASH)for(var n=0;n<this.subSectionCount;n++){var i=SuperMapAlgoPlot.PlottingUtil.findPoint(e,o,2*n*l,0),r=SuperMapAlgoPlot.PlottingUtil.findPoint(e,o,(2*n+1)*l,0);this.addCell(24,[i,r],{surroundLineFlag:!1})}else if(this.lineRelationType===SuperMapAlgoPlot.LineRelationType.ARROW)for(var a=0;a<this.subSectionCount;a++){var s=SuperMapAlgoPlot.PlottingUtil.findPoint(e,o,2*a*l,0),p=SuperMapAlgoPlot.PlottingUtil.findPoint(e,o,(2*a+1)*l,0),u=SuperMapAlgoPlot.PlottingUtil.findPoint(p,s,l,60),c=SuperMapAlgoPlot.PlottingUtil.findPoint(p,s,l,-60);this.addCell(24,[u,p,c],{surroundLineFlag:!1})}}}])&&ce(e.prototype,o),l&&ce(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Se(t){"@babel/helpers - typeof";return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Me(){return(Me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ve(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function de(t,e){return(de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ve(t);if(e){var n=ve(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.LineRelation=fe;var me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=be(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),void 0===(e=n.call(this,t)).scaleValues[0]&&(e.scaleValues[0]=0),void 0===e.scaleValues[1]&&(e.scaleValues[1]=0),e.CLASS_NAME="SuperMapAlgoPlot.PolygonRegion",e}return e=i,(o=[{key:"destroy",value:function(){Me(ve(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(null!=(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t))&&t.length>=this.minEditPts){if(this.addCell(32,t,{surroundLineFlag:!1}),this.textContent&&null!=this.textContent&&this.textContent.length>0){var e=[];this.scaleValues[1]>t.length&&(this.scaleValues[1]=0);var o={labelRotation:0,surroundLineFlag:!1,labelAlign:"lt"};if(0===this.scaleValues[1])e=[SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t)];else{var l=null,n=null;this.scaleValues[1]===t.length?(l=t[t.length-1],n=t[0]):(l=t[this.scaleValues[1]-1],n=t[this.scaleValues[1]]),o.labelRotation=-SuperMapAlgoPlot.PlottingUtil.radian(l,n)/Math.PI*180;var i=this.scaleValues[0]*SuperMapAlgoPlot.PlottingUtil.distance(l,n);e=[SuperMapAlgoPlot.PlottingUtil.findPoint(l,n,i,0)]}this.addCell(34,e,o,this.textContent);var r=new SuperMapAlgoPlot.Point(e[0].x,e[0].y);r.isScalePoint=!0,r.tag=0,this.scalePoints=[],this.addScalePoint(r)}}else this.controlPoints.length>=2&&this.controlPoints.length<this.minEditPts&&this.calAssistantLine()}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){for(var o=0,l=SuperMapAlgoPlot.PlottingUtil.distance(e,this.controlPoints[0]),n=1;n<this.controlPoints.length;n++){var i=SuperMapAlgoPlot.PlottingUtil.distance(e,this.controlPoints[n]);i<l&&(l=i,o=n)}var r=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);(r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r)).push(r[0].clone());var a=SuperMapAlgoPlot.PlottingUtil.computePointToLineMinDis(e,r);if(-1===a.minDis)this.scaleValues[1]=o+1,this.offsetX=0,this.offsetY=0;else{var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,r[a.index],r[a.index+1]),p=SuperMapAlgoPlot.PlottingUtil.distance(e,s),u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(this.controlPoints),c=SuperMapAlgoPlot.PlottingUtil.distance(e,u);if(c<p&&c<l)this.scaleValues[1]=0,this.scaleValues[0]=0;else if(l<p&&l<c)this.scaleValues[1]=o+1,this.scaleValues[0]=0;else if(p<l&&p<c){this.scaleValues[1]=a.index+1;var P=null,g=null;this.scaleValues[1]===this.controlPoints.length?(P=this.controlPoints[this.controlPoints.length-1],g=this.controlPoints[0]):(P=this.controlPoints[this.scaleValues[1]-1],g=this.controlPoints[this.scaleValues[1]]);var y=SuperMapAlgoPlot.PlottingUtil.distance(s,P),h=SuperMapAlgoPlot.PlottingUtil.distance(P,g);this.scaleValues[0]=y/h}}}this.calculateParts()}},{key:"parseSymbolData",value:function(){Me(ve(i.prototype),"parseSymbolData",this).call(this),this.symbolData&&(this.scaleValues[1]=this.symbolData.annotationPosition)}},{key:"setSymbolData",value:function(){Me(ve(i.prototype),"setSymbolData",this).call(this),this.symbolData&&(this.symbolData.annotationPosition=this.scaleValues[1])}}])&&Ae(e.prototype,o),l&&Ae(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Le(t){"@babel/helpers - typeof";return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Te(t,e){return(Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function we(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xe(t);if(e){var n=xe(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.PolygonRegion=me;var Re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Te(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=we(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.CLASS_NAME="SuperMapAlgoPlot.Wire",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=2*this.getSubSymbolScaleValue());var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);for(var l=o*this.scaleValues[0],n=o*this.scaleValues[0]/2,i=SuperMapAlgoPlot.PlottingUtil.clonePoints(e),r=parseInt((o-n)/l),a=0;a<=r&&!(n+l*a>o);a++){var s=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,n+l*a);if(-1!==s.index){var p=new SuperMapAlgoPlot.Point(s.pt.x,s.pt.y),u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(l/2,e[s.index],p);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u.pntLeft,u.pntRight])}}this.finish()}}}])&&Oe(e.prototype,o),l&&Oe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ue(t){"@babel/helpers - typeof";return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ce(t,e){return(Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Be(t);if(e){var n=Be(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Wire=Re;var De=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ce(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ie(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(15),e.scaleValues.push(7.5),e.scaleValues.push(0),e.scaleValues.push(15),e.scaleValues.push(7.5),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.LinearArrow",e}return e=i,(o=[{key:"calculateParts",value:function(){if(this.init(),!(null==this.controlPoints||this.controlPoints.length<this.minEditPts)){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(this.scalePoints=[],this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,t),!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[0],0)&&!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[1],0)){var e=this.scaleValues[0]*(this.style.weight||this.style.strokeWidth),o=this.scaleValues[1]*(this.style.weight||this.style.strokeWidth),l=this.getLonLatDistanceFromPixel(e),n=this.getLonLatDistanceFromPixel(o),i=SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[0],t[1],l),r=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],i),a=[];if(a.push(r.pntLeft),a.push(t[0]),a.push(r.pntRight),this.addScalePoint(r.pntLeft,0),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[2],0))this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a,{fillLimit:!0,fill:!0}),this.addScalePoint(i,1);else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[2],1))this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a),this.addScalePoint(t[0],1);else{var s=l*this.scaleValues[2],p=SuperMapAlgoPlot.PlottingUtil.findPointInLine(i,t[0],s);a.push(p),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,a,{fillLimit:!0,fill:!0}),this.addScalePoint(p,1)}}if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[3],0)&&!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[4],0)){var u=this.scaleValues[3]*(this.style.weight||this.style.strokeWidth),c=this.scaleValues[4]*(this.style.weight||this.style.strokeWidth),P=this.getLonLatDistanceFromPixel(u),g=this.getLonLatDistanceFromPixel(c),y=SuperMapAlgoPlot.PlottingUtil.findPointInLine(t[1],t[0],P),h=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(g,t[0],y),f=[];if(f.push(h.pntLeft),f.push(t[1]),f.push(h.pntRight),this.addScalePoint(h.pntLeft,2),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[5],0))this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fillLimit:!0,fill:!0}),this.addScalePoint(y,3);else if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.scaleValues[5],1))this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),this.addScalePoint(t[1],3);else{var S=P*this.scaleValues[5],A=SuperMapAlgoPlot.PlottingUtil.findPointInLine(y,t[1],S);f.push(A),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,f,{fillLimit:!0,fill:!0}),this.addScalePoint(A,3)}}this.finish()}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),0===t){var l=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[0],o[1]);if(l.isOnline){var n=this.scaleValues[0]*(this.style.weight||this.style.strokeWidth),i=this.getLonLatDistanceFromPixel(n),r=i*this.scaleValues[2],a=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[0],o[1],i),s=SuperMapAlgoPlot.PlottingUtil.findPointInLine(a,o[0],r);i=SuperMapAlgoPlot.PlottingUtil.distance(o[0],l.projectPoint),n=this.getPixelDistanceFromLonLat(i),this.scaleValues[0]=n/(this.style.weight||this.style.strokeWidth);var p=SuperMapAlgoPlot.PlottingUtil.distance(e,l.projectPoint),u=this.getPixelDistanceFromLonLat(p);this.scaleValues[1]=u/(this.style.weight||this.style.strokeWidth),r=SuperMapAlgoPlot.PlottingUtil.distance(s,l.projectPoint),this.scaleValues[2]=r/i}}else if(1===t){var c=this.scaleValues[0]*(this.style.weight||this.style.strokeWidth),P=this.getLonLatDistanceFromPixel(c),g=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[0],o[1],P),y=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,g,o[0]);if(y.isOnline){var h=SuperMapAlgoPlot.PlottingUtil.distance(g,y.projectPoint);this.scaleValues[2]=h/P,this.scaleValues[2]<0?this.scaleValues[2]=0:this.scaleValues[2]>1&&(this.scaleValues[2]=1)}}else if(2===t){var f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[0],o[1]);if(f.isOnline){var S=this.scaleValues[3]*(this.style.weight||this.style.strokeWidth),A=this.getLonLatDistanceFromPixel(S),M=A*this.scaleValues[5],d=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[1],o[0],A),b=SuperMapAlgoPlot.PlottingUtil.findPointInLine(d,o[1],M);A=SuperMapAlgoPlot.PlottingUtil.distance(o[1],f.projectPoint),S=this.getPixelDistanceFromLonLat(A),this.scaleValues[3]=S/(this.style.weight||this.style.strokeWidth);var v=SuperMapAlgoPlot.PlottingUtil.distance(e,f.projectPoint),m=this.getPixelDistanceFromLonLat(v);this.scaleValues[4]=m/(this.style.weight||this.style.strokeWidth),M=SuperMapAlgoPlot.PlottingUtil.distance(b,f.projectPoint),this.scaleValues[5]=M/A}}else if(3===t){var L=this.scaleValues[3]*(this.style.weight||this.style.strokeWidth),O=this.getLonLatDistanceFromPixel(L),T=SuperMapAlgoPlot.PlottingUtil.findPointInLine(o[1],o[0],O),w=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,T,o[1]);if(w.isOnline){var x=SuperMapAlgoPlot.PlottingUtil.distance(T,w.projectPoint);this.scaleValues[5]=x/O,this.scaleValues[5]<0?this.scaleValues[5]=0:this.scaleValues[5]>1&&(this.scaleValues[5]=1)}}}this.calculateParts()}}])&&Ee(e.prototype,o),l&&Ee(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function _e(t){"@babel/helpers - typeof";return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ve(t,e){return(Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ke(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=je(t);if(e){var n=je(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function je(t){return(je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.LinearArrow=De;var Ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ve(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ke(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];if(this.m_bIsAnimation)t.length<3?(e.push(t[0]),e.push(t[1])):e=e.concat(t);else if(this.isEdit||(this.scaleValues=[]),this.scalePoints=[],t.length<3)e.push(t[0]),e.push(t[1]);else{var o=SuperMapAlgoPlot.PlottingUtil.computeBeizerPoints(this.isEdit,t,this.scaleValues);this.scaleValues=o.scaleValues;for(var l=0;l<o.scalePoints.length;l++)this.addScalePoint(o.scalePoints[l]);e=o.beizerPoints}SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),e.length<=0||(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e),this.finish())}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(t<0||t>2*this.controlPoints.length-1)return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||SuperMapAlgoPlot.PlottingUtil.equalFuzzy(i,0))return;var r=-1;r=t%2==0?Math.floor(t/2):Math.floor((t+1)/2);var a=(e.x-o[r].x)/n,s=(e.y-o[r].y)/n;this.scaleValues[2*t]=a,this.scaleValues[2*t+1]=s}}}])&&Ne(e.prototype,o),l&&Ne(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ze(t){"@babel/helpers - typeof";return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function We(){return(We="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qe(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function Ge(t,e){return(Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function He(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=qe(t);if(e){var n=qe(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function qe(t){return(qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.Polybezier=Ye;var Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=He(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.NewPie",e}return e=i,(o=[{key:"destroy",value:function(){We(qe(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[2]),l=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1]),n=[];n.push(t[0]),(n=n.concat(SuperMapAlgoPlot.Primitives.getArcCircleSpatialData(t[0],e,o,l))).push(t[0]),0!==n.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n)}}}])&&Fe(e.prototype,o),l&&Fe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ze(t){"@babel/helpers - typeof";return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Qe(){return(Qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=to(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function Ke(t,e){return(Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=to(t);if(e){var n=to(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function to(t){return(to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.NewPie=Je;var eo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ke(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=$e(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.NewArc",e}return e=i,(o=[{key:"destroy",value:function(){Qe(to(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[2]),l=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1]),n=SuperMapAlgoPlot.Primitives.getArcCircleSpatialData(t[0],e,o,l);0!==n.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,n)}}}])&&Xe(e.prototype,o),l&&Xe(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function oo(t){"@babel/helpers - typeof";return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function no(){return(no="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ao(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function io(t,e){return(io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ao(t);if(e){var n=ao(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.NewArc=eo;var so=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&io(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ro(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).CLASS_NAME="SuperMapAlgoPlot.NewChord",e}return e=i,(o=[{key:"destroy",value:function(){no(ao(i.prototype),"destroy",this).call(this)}},{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){var e=SuperMapAlgoPlot.PlottingUtil.distance(t[0],t[1]),o=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[2]),l=SuperMapAlgoPlot.PlottingUtil.radian(t[0],t[1]),n=[];n.push(t[1]),(n=n.concat(SuperMapAlgoPlot.Primitives.getArcCircleSpatialData(t[0],e,o,l))).push(t[1]),0!==n.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n)}}}])&&lo(e.prototype,o),l&&lo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function po(t){"@babel/helpers - typeof";return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function co(t,e){return(co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=go(t);if(e){var n=go(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===po(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.NewChord=so;var yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Po(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(0),e.scaleValues.push(.3),e.scaleValues.push(.08)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1001",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),e=(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length;if(e>=this.minEditPts){this.scalePoints=[];var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),l=!1;void 0!==o[0].z&&(l=!0);var n=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(t,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_PARALLEL),i=n.arrowTouLen,r=n.leftBodyPts,a=n.rightBodyPts,s=[];s.push(r[r.length-1]),s.push(a[a.length-1]);var p=[];p.push(this.scaleValues[3]),p.push(this.scaleValues[4]),p.push(this.scaleValues[0]),p.push(this.scaleValues[1]);var u=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(t,s,p,i,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITHOUT_EAR),c=[];if(l){for(var P=[],g=[],y=[],h=0;h<e-1;h++)g.push({x:r[h].x,y:r[h].y,z:o[h].z}),y.push({x:a[h].x,y:a[h].y,z:o[h].z});var f={x:o[e-2].x,y:o[e-2].y,z:o[e-2].z},S={x:o[e-1].x,y:o[e-1].y,z:o[e-1].z},A=this.ComputeZValue(r[e-1],S,f);g.push({x:r[e-1].x,y:r[e-1].y,z:A});var M=this.ComputeZValue(a[e-1],S,f);y.push({x:a[e-1].x,y:a[e-1].y,z:M});for(var d=0;d<u.length;d++){var b=this.ComputeZValue(u[d],S,f);P.push({x:u[d].x,y:u[d].y,z:b})}c=(c=c.concat(g)).concat(P);for(var v=y.length-1;v>=0;v--)c.push(y[v]);var m=new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),L=new SuperMapAlgoPlot.Point(m.x,m.y);L.isScalePoint=!0,L.tag=0,this.addScalePoint(L);var O=new SuperMapAlgoPlot.Point(r[r.length-1].x,r[r.length-1].y);O.isScalePoint=!0,O.tag=1,this.addScalePoint(O);var T=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);T.isScalePoint=!0,T.tag=2,this.addScalePoint(T);for(var w=0;w<this.scalePoints.length;w++){var x=new SuperMapAlgoPlot.Point(this.scalePoints[w].x,this.scalePoints[w].y);this.scalePoints[w].z=this.ComputeZValue(x,S,f)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c,{surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:0,weight:0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}else{c=(c=c.concat(r)).concat(u);for(var R=a.length-1;R>=0;R--)c.push(a[R]);var U=new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),E=new SuperMapAlgoPlot.Point(U.x,U.y);E.isScalePoint=!0,E.tag=0,this.addScalePoint(E);var C=new SuperMapAlgoPlot.Point(r[r.length-1].x,r[r.length-1].y);C.isScalePoint=!0,C.tag=1,this.addScalePoint(C);var I=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);I.isScalePoint=!0,I.tag=2,this.addScalePoint(I);for(var B=this.mergeDashLine(this.dashLines,[]),D=this.computeDashLine(B,r),_=0;_<D.length-1;_++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D[_]);for(var N=this.mergeDashLine(this.dashLines,[]),V=this.computeDashLine(N,a),k=0;k<V.length-1;k++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V[k].reverse());var j=[];j=(j=(j=j.concat(D[D.length-1])).concat(u)).concat(V[V.length-1].reverse()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j)}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=new SuperMapAlgoPlot.Point(this.scalePoints[0].x,this.scalePoints[0].y),l=new SuperMapAlgoPlot.Point(this.scalePoints[1].x,this.scalePoints[1].y),n=new SuperMapAlgoPlot.Point(this.scalePoints[2].x,this.scalePoints[2].y),i=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),a=r*i;if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,this.controlPoints[this.controlPoints.length-2],this.controlPoints[this.controlPoints.length-1]),p=s.projectPoint;if(s.isOnline){var u=SuperMapAlgoPlot.PlottingUtil.distance(p,this.controlPoints[this.controlPoints.length-1]);this.scaleValues[0]=u/r}}else if(1==t){var c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l,n).projectPoint,P=SuperMapAlgoPlot.PlottingUtil.distance(c,o);this.scaleValues[1]=P/a}else if(2==t){var g=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,this.controlPoints[1],n).projectPoint,y=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(g,o,this.controlPoints[1]),h=y.projectPoint,f=SuperMapAlgoPlot.PlottingUtil.distance(h,o);!0===y.inOnline?this.scaleValues[4]=-f/a:this.scaleValues[4]=f/a}}this.calculateParts()}}])&&uo(e.prototype,o),l&&uo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ho(t){"@babel/helpers - typeof";return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function So(t,e){return(So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ao(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Mo(t);if(e){var n=Mo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1001=yo;var bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&So(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Ao(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).MIN_GEOPT_COUNT=2,e.MAX_GEOPT_COUNT=1024,e.SV1_defaultATLenDivABLen=0,e.SV2_defaultAYPosScale=.65,e.SV_AJCtrl=.6,e.SV_ArrowWoCtrl=.6,e.SV2_DefaultAJWidDiviedByATLen=.148,e.SV3_DefaultAEWidDividedByATLen=.4,e.SV4_DefaultAELenDividedByATLen=.3,e.SV_ATScaleParameter=1.25,e.SV_ATLenDividedByATWid=1.35,e.SV_ATWidDividedByArrowWeiWid=.5,e.AB_VERTEX_COUNT=4,e.MIN_PTCOUNT_PERARROW=3,e.ATL_DIV_AWW=.7,e.ATL_DIV_ABL=.12,e.ATL_DIV_ABL_1=.18,e.DEFAULT_ARROW_TAIL_POS=.12,e.DUOJIANTOU_TAIL_RATE_1=8,e.DUOJIANTOU_TAIL_RATE_2=3,e.DUOJIANTOU_TAIL_RATE_3=.6,e.AB_CTRLPT_RATE1=0,e.AB_CTRLPT_RATE2=3,e.AB_CTRLPT_RATE3=.5,e.MIN_SCALEVALUE=.1,e.MAX_SCALEVALUE=1,e.m_scalePoints=null,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1002",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init(),this.m_scalePoints=[];var t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.operateCtrlPts(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=this.scaleValues.length;if(n<2*l-1){0==n&&(this.scaleValues.push(this.SV1_defaultATLenDivABLen),n++);for(var i=2*l-1-n,r=0;r<i;r+=2)this.scaleValues.splice(n/2+1,0,this.SV1_defaultATLenDivABLen),this.scaleValues.splice(this.scaleValues.length,0,this.SV2_defaultAYPosScale)}else if(n>2*l-1){for(var a=0;a<l;a++)this.scaleValues.push(this.SV1_defaultATLenDivABLen);for(var s=0;s<l-1;s++)this.scaleValues.push(this.SV2_defaultAYPosScale)}var p=this.arrowMeshs(e);SuperMapAlgoPlot.PlottingUtil.clearSamePts(p.shapePts);var u=!1;if(void 0!==t[0].z&&(u=!0),u){var c=this.operateCtrlPts3D(t),P=p.arrLeftPts2D,g=p.arrRightPts2D,y=p.arrHeadPts2D;if(l!=P.length&&l!=g.length&&l!=y.length)return!1;for(var h=[],f=0;f<l;f++){for(var S=[],A=3*f;A<3*(f+1)&&A<c.length;A++)S.push(c[A]);h.push(S)}for(var M=[],d=[],b=[],v=0;v<l;v++)if(!(2>h[v].length)){for(var m=P[v][P[v].length-1],L=g[v][0],O=new SuperMapAlgoPlot.Point(.5*(m.x+L.x),.5*(m.y+L.y)),T=h[v][h[v].length-1],w=h[v][h[v].length-2],x=this.ComputeZValue(O,T,w),R={x:O.x,y:O.y,z:x},U=[],E=[],C=0;C<h[v].length-1;C++)if(0==v)E.push(h[v][C]);else{var I={x:h[v][C].x,y:h[v][C].y,z:.5*(h[v][C].z+h[v-1][C].z)};E.push(I)}E.push(R),this.ComputeBeizerZValueByDis(E,P[v],U),M.push(U),U=[];var B=[];B.push(R);for(var D=h[v].length-2;D>=0;D--)if(v==l-1)B.push(h[v][D]);else{var _={x:h[v][D].x,y:h[v][D].y,z:.5*(h[v][D].z+h[v+1][D].z)};B.push(_)}this.ComputeBeizerZValueByDis(B,g[v],U),d.push(U),U=[];for(var N=y[v],V=0;V<N.length;V++){var k=this.ComputeZValue(N[V],T,w);U.push({x:N[V].x,y:N[V].y,z:k})}b.push(U)}for(var j=[],Y=0;Y<l;Y++)j=(j=(j=j.concat(M[Y])).concat(b[Y])).concat(d[Y]);return SuperMapAlgoPlot.PlottingUtil.clearSamePts(j),p.shapePts.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,j,{surroundLineFlag:!1}),this.scalePoints=this.scalePoints.concat(this.m_scalePoints),!0}if(p.shapePts.length>0){P=p.arrLeftPts2D,g=p.arrRightPts2D,y=p.arrHeadPts2D;for(var z=[],F=[],W=0;W<P.length;W++){for(var G=this.mergeDashLine(this.dashLines,[]),H=this.computeDashLine(G,P[W]),q=0;q<H.length-1;q++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,H[q]);z.push(H[H.length-1])}for(var J=0;J<g.length;J++){for(var Z=this.mergeDashLine(this.dashLines,[]),X=this.computeDashLine(Z,g[J].reverse()),Q=0;Q<X.length-1;Q++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,X[Q].reverse());F.push(X[X.length-1].reverse())}for(var K=0;K<y.length;K++){var $=[];$=($=($=$.concat(z[K])).concat(y[K])).concat(F[K]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,$)}}this.scalePoints=[];for(var tt=0;tt<this.m_scalePoints.length;tt++)this.m_scalePoints[tt].isScalePoint=!0,this.m_scalePoints[tt].tag=tt,this.addScalePoint(this.m_scalePoints[tt])}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=this.operateCtrlPts(this.controlPoints),l=o.length,n=Math.floor(l/this.MIN_PTCOUNT_PERARROW),i=0;if(t<n){var r=[],a=t*this.MIN_PTCOUNT_PERARROW;r[0]=o[a],r[1]=o[a+1],r[2]=o[a+2];var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),p=new SuperMapAlgoPlot.Point(0,0),u=new SuperMapAlgoPlot.Point(0,0),c=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,r[0],r[1],r[2],p,u),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,r[2],r[1],u,c),i=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(r[2],c,e).dLen1/(this.SV4_DefaultAELenDividedByATLen+1)/s}else{var P=[],g=[],y=(t-n)*this.MIN_PTCOUNT_PERARROW;P[0]=o[y],P[1]=o[y+1],P[2]=o[y+2];var h=(t-n+1)*this.MIN_PTCOUNT_PERARROW;g[0]=o[h],g[1]=o[h+1],g[2]=o[h+2];var f=new SuperMapAlgoPlot.Point(0,0),S=new SuperMapAlgoPlot.Point(0,0),A=new SuperMapAlgoPlot.Point(0,0);f.x=.5*(P[2].x+g[2].x),S.x=.5*(P[1].x+g[1].x),A.x=.5*(P[0].x+g[0].x),f.y=.5*(P[2].y+g[2].y),S.y=.5*(P[1].y+g[1].y),A.y=.5*(P[0].y+g[0].y);var M=SuperMapAlgoPlot.PlottingUtil.distance(f,S),d=SuperMapAlgoPlot.PlottingUtil.distance(A,S),b=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(f,S,e),v=b.dLen1;i=v<M?v/(M+d):((v=(b=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(S,A,e)).dLen1)+M)/(M+d)}i>this.MAX_SCALEVALUE?i=this.MAX_SCALEVALUE:i<this.MIN_SCALEVALUE&&(i=this.MIN_SCALEVALUE),this.scaleValues[t]=i}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[];t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var n=new SuperMapAlgoPlot.Path2D,i=t.length,r=Math.floor(i/this.MIN_PTCOUNT_PERARROW),a=this.generateAWWidth(r,t),s=[],p=[],u=0,c=0,P=0,g=[];for(c=0,P=0;c<r;c++,P+=this.MIN_PTCOUNT_PERARROW){g[0]=t[P],g[1]=t[P+1],g[2]=t[P+2],u=this.scaleValues[c];var y=this.generateArrowBodyPts(g,a[c],u);u=y.dATLenDivABLen,s[c]=y.arrowBodyPts,p.push(u)}var h=[],f=0,S=0,A=0,M=[],d=[];for(c=0;c<r-1;c++,S+=this.MIN_PTCOUNT_PERARROW){A=S+this.MIN_PTCOUNT_PERARROW,M[0]=t[S],M[1]=t[S+1],M[2]=t[S+2],d[0]=t[A],d[1]=t[A+1],d[2]=t[A+2],f=this.scaleValues[r+c];var b=this.generateAYPts(M,s[c],d,s[c+1],f);h.push(b.arrowLeftYaoPts),h.push(b.arrowRightYaoPts)}var v=[],m=s[0],L=[],O=0,T=[];n.MoveTo(m[0]),n.CurveTo(m[1],m[2],m[3]),n.CurveTo(m[4],m[5],m[6]),n.ToSubPathPolygons(L),e.push(L[0]),O=L[0].length;for(var w=7;w<10;w++)n.LineTo(m[w]);for(L=[],n.ToSubPathPolygons(L);O<L[0].length;O++)T.push(L[0][O]);for(l.push(T),v.push(m[0]),v.push(t[0]),c=1,P=this.MIN_PTCOUNT_PERARROW;c<r;c++,P+=this.MIN_PTCOUNT_PERARROW){var x=s[c],R=c+c-2,U=h[R];for(n.LineTo(U[0]),n.CurveTo(U[1],U[2],U[3]),L=[],T=[],n.ToSubPathPolygons(L);O<L[0].length;O++)T.push(L[0][O]);o.push(T);var E=h[R+1];for(n.CurveTo(E[1],E[2],E[3]),L=[],T=[],n.ToSubPathPolygons(L);O<L[0].length;O++)T.push(L[0][O]);e.push(T);for(var C=7;C<10;C++)n.LineTo(x[C]);for(L=[],T=[],n.ToSubPathPolygons(L);O<L[0].length;O++)T.push(L[0][O]);l.push(T),v.push(t[P].clone())}var I=s[r-1];for(n.LineTo(I[10]),n.CurveTo(I[11],I[12],I[13]),n.CurveTo(I[14],I[15],I[16]),L=[],T=[],n.ToSubPathPolygons(L);O<L[0].length;O++)T.push(L[0][O]);o.push(T),v.push(I[16]);var B=[];return n.ToSubPathPolygons(B),{shapePts:B[0],arrLeftPts2D:e,arrRightPts2D:o,arrHeadPts2D:l}}},{key:"operateCtrlPts",value:function(t){t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n=o%this.MIN_PTCOUNT_PERARROW,i=new SuperMapAlgoPlot.Point;if(2==n&&(i.x=.5*(e[o-2].x+e[o-1].x),i.y=.5*(e[o-2].y+e[o-1].y),i.x==e[o-1].x&&i.y==e[o-1].y||(e.push(e[o-1].clone()),e[o-1]=i,o++,l++)),o>3)for(var r=l-1,a=0,s=r;a<r;s--,a++)for(var p=s*this.MIN_PTCOUNT_PERARROW,u=0;u<p;u+=this.MIN_PTCOUNT_PERARROW){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[u+3],e[u+1],e[u+2])){var c=e[u];e[u]=e[u+3],e[u+3]=c,c=e[u+1],e[u+1]=e[u+4],e[u+4]=c,c=e[u+2],e[u+2]=e[u+5],e[u+5]=c}}return e=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(t,e)}},{key:"operateCtrlPts3D",value:function(t){var e=t,o=e.length,l=Math.floor(o/this.MIN_PTCOUNT_PERARROW),n={x:0,y:0,z:0};if(2==o%3&&(n.x=.5*(e[o-2].x+e[o-1].x),n.y=.5*(e[o-2].y+e[o-1].y),n.z=.5*(e[o-2].z+e[o-1].z),n.x==e[o-1].x&&n.y==e[o-1].y&&n.z==e[o-1].z||(e.push(e[o-1]),e[o-1]=n,o++,l++)),o>3)for(var i=l-1,r=0,a=i;r<i;a--,r++)for(var s=3*a,p=0;p<s;p+=3){if(!SuperMapAlgoPlot.PlottingUtil.isRight(e[p+3],e[p+1],e[p+2])){var u=e[p];e[p]=e[p+3],e[p+3]=u,u=e[p+1],e[p+1]=e[p+4],e[p+4]=u,u=e[p+2],e[p+2]=e[p+5],e[p+5]=u}}return e}},{key:"generateAWWidth",value:function(t,e){var o=[];if(t>0)if(1==t)o.push(0);else{var l=SuperMapAlgoPlot.PlottingUtil.distance(e[0],e[this.MIN_PTCOUNT_PERARROW]);o.push(l);for(var n=1,i=this.MIN_PTCOUNT_PERARROW;n<t-1;n++,i+=this.MIN_PTCOUNT_PERARROW){l=.5*(SuperMapAlgoPlot.PlottingUtil.distance(e[i-this.MIN_PTCOUNT_PERARROW],e[i])+SuperMapAlgoPlot.PlottingUtil.distance(e[i],e[i+this.MIN_PTCOUNT_PERARROW])),o.push(l)}l=SuperMapAlgoPlot.PlottingUtil.distance(e[i-this.MIN_PTCOUNT_PERARROW],e[i]),o.push(l)}return o}},{key:"generateArrowBodyPts",value:function(t,e,o){var l=[],n=[],i=[],r=[],a=[],s=[],p=[],u=t.length-1;if(u<2)return{dATLenDivABLen:o=0,arrowBodyPts:l};var c=o,P=this.SV2_DefaultAJWidDiviedByATLen,g=this.SV3_DefaultAEWidDividedByATLen,y=this.SV4_DefaultAELenDividedByATLen,h=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(h),S=0==e?f*this.ATL_DIV_ABL_1:(f+e)*this.ATL_DIV_ABL,A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(S,h[1],h[0]);n[1]=A.pntLeft.clone(),i[1]=A.pntRight.clone();var M=0;M=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(c,0,1e-14)?S*this.ATL_DIV_AWW:f*c;var d=SuperMapAlgoPlot.PlottingUtil.distance(h[1],h[2]);M+M>d&&(M=.5*d);var b=M*P;h.push(h[u].clone());var v,m=0;v=f-M;var L=[],O=0;for(O=2;O<=u;O++)m+=SuperMapAlgoPlot.PlottingUtil.distance(h[O-1],h[O-2]),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v,0,1e-14)?L[O]=0:SuperMapAlgoPlot.PlottingUtil.equalFuzzy(v-m,0,1e-14)?L[O]=b:L[O]=b+(S-b)*Math.pow((v-m)/v,this.SV_ATScaleParameter);L[u+1]=b;var T=new SuperMapAlgoPlot.Point(0,0),w=new SuperMapAlgoPlot.Point(0,0),x=new SuperMapAlgoPlot.Point(0,0);for(O=2;O<=u;O++){SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE1,this.AB_CTRLPT_RATE2,h[O-2],h[O-1],h[O],w,x),u==O&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,h[u],h[u-1],x,T);var R=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(L[O],w,h[O-1]);i[O]=R.pntLeft,n[O]=R.pntRight}var U,E,C=T.clone();if(SuperMapAlgoPlot.PlottingUtil.distance(h[u],C)>0){var I=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(M,h[u],T);h[u]=I.clone()}for(A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(b,h[u+1],h[u]),n[u+1]=A.pntLeft,i[u+1]=A.pntRight,O=2;O<=u;O++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,n[O-1],n[O],n[O+1],w,x),r[O]=w.clone(),a[O]=x.clone(),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(this.AB_CTRLPT_RATE2,this.AB_CTRLPT_RATE2,i[O-1],i[O],i[O+1],w,x),s[O]=w.clone(),p[O]=x.clone();SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,n[1],n[2],r[2],T),a[1]=T.clone(),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(this.AB_CTRLPT_RATE3,i[1],i[2],s[2],T),p[1]=T.clone();E=SuperMapAlgoPlot.PlottingUtil.distance(n[u+1],n[u])*(1/3),(U=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(E,h[u],h[u+1])).x+=n[u+1].x-h[u].x,U.y+=n[u+1].y-h[u].y,E=(S-b)*Math.pow(E/v,this.SV_ATScaleParameter+.3),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(E,n[u+1],U),r[u+1]=A.pntLeft.clone(),E=SuperMapAlgoPlot.PlottingUtil.distance(i[u+1],i[u])*(1/3),(U=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(E,h[u],h[u+1])).x+=i[u+1].x-h[u].x,U.y+=i[u+1].y-h[u].y,E=(S-b)*Math.pow(E/v,this.SV_ATScaleParameter+.3),A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(E,i[u+1],U),s[u+1]=A.pntRight.clone();var B=[],D=M*y,_=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(D,h[u],h[u+1]);this.m_scalePoints.push(_.clone()),D=M*g,A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(D,h[u+1],_),B.push(A.pntRight),B.push(h[u+1]),B.push(A.pntLeft);var N=[];for(N.push(n[u+1]),O=u;O>=1;O--)N.push(r[O+1]),N.push(a[O]),N.push(n[O]);var V=[];for(O=1;O<=u;O++)V.push(i[O]),V.push(p[O]),V.push(s[O+1]);V.push(i[u+1]),l.push.apply(l,V),l.push.apply(l,B),l.push.apply(l,N),o=M/f;var k=[];for(O=N.length-1;O>=0;O--)k.push(N[O]);return{dATLenDivABLen:o,arrowBodyPts:l}}},{key:"generateAYPts",value:function(t,e,o,l,n){var i=new SuperMapAlgoPlot.Point(.5*(t[2].x+o[2].x),.5*(t[2].y+o[2].y)),r=new SuperMapAlgoPlot.Point(.5*(t[1].x+o[1].x),.5*(t[1].y+o[1].y)),a=new SuperMapAlgoPlot.Point(.5*(t[0].x+o[0].x),.5*(t[0].y+o[0].y)),s=SuperMapAlgoPlot.PlottingUtil.distance(i,r),p=SuperMapAlgoPlot.PlottingUtil.distance(a,r),u=n*(s+p),c=new SuperMapAlgoPlot.Point(0,0),P=new SuperMapAlgoPlot.Point(0,0),g=new SuperMapAlgoPlot.Point(0,0);if(u>s){u=s+p-u,c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(u,a,r);var y=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),h=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[0]);y=y*u/p,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(y,t[0],t[1]),h=h*u/p,g=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(h,o[0],o[1])}else{c=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(u,i,r);var f=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[2]),S=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]);f=f*u/s,P=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(f,t[2],t[1]),S=S*u/s,g=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(S,o[2],o[1])}this.m_scalePoints.push(c.clone());var A=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,P),M=this.SV_ArrowWoCtrl*SuperMapAlgoPlot.PlottingUtil.distance(c,g),d=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(A,c,P),b=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(M,c,g),v=e[11].clone(),m=e[10].clone(),L=l[5].clone(),O=l[6].clone(),T=SuperMapAlgoPlot.PlottingUtil.intersectLines(m,v,c,P),w=SuperMapAlgoPlot.PlottingUtil.distance(T.intersectPoint,m),x=SuperMapAlgoPlot.PlottingUtil.distance(m,c);w=w>x?this.SV_AJCtrl*x:this.SV_AJCtrl*w;var R=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(w,m,v);v=R.clone(),e[11]=R.clone(),T=SuperMapAlgoPlot.PlottingUtil.intersectLines(O,L,c,g),w=(w=SuperMapAlgoPlot.PlottingUtil.distance(T.intersectPoint,O))>(x=SuperMapAlgoPlot.PlottingUtil.distance(O,c))?this.SV_AJCtrl*x:this.SV_AJCtrl*w,L=(R=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(w,O,L)).clone(),l[5]=R.clone();var U=[];U.push(m),U.push(v),U.push(d),U.push(c);var E=[];return E.push(c),E.push(b),E.push(L),E.push(O),{arrowLeftYaoPts:U,arrowRightYaoPts:E}}}])&&fo(e.prototype,o),l&&fo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function vo(t){"@babel/helpers - typeof";return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Lo(t,e){return(Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Oo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=To(t);if(e){var n=To(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1002=bo;var wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Oo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.3),e.scaleValues.push(.28),e.scaleValues.push(.433333),e.scaleValues.push(.53),e.scaleValues.push(0)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1003",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints),e=(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length;if(e>=this.minEditPts){if(SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.controlPoints[0].x,this.controlPoints[1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(this.controlPoints[0].y,this.controlPoints[1].y))return;var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),l=!1;void 0!==o[0].z&&(l=!0);var n=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(t,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_TRAPEZOID),i=n.arrowTouLen,r=n.leftBodyPts,a=n.rightBodyPts,s=[];s.push(r[r.length-1]),s.push(a[a.length-1]);var p=[];p.push(this.scaleValues[3]),p.push(this.scaleValues[4]),p.push(0),p.push(0);var u=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(t,s,p,i,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITHOUT_EAR),c=[];c=(c=c.concat(r)).concat(u);for(var P=a.length-1;P>=0;P--)c.push(a[P]);if(c.push(r[0]),l){for(var g=[],y={x:o[1].x,y:o[1].y,z:o[1].z},h={x:o[0].x,y:o[0].y,z:o[0].z},f=0;f<c.length;f++){var S=this.ComputeZValue(c[f],y,h);g.push({x:c[f].x,y:c[f].y,z:S})}var A=new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),M=new SuperMapAlgoPlot.Point(A.x,A.y);M.isScalePoint=!0,M.tag=0,this.addScalePoint(M);var d=new SuperMapAlgoPlot.Point(r[r.length-1].x,r[r.length-1].y);d.isScalePoint=!0,d.tag=1,this.addScalePoint(d);var b=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);b.isScalePoint=!0,b.tag=2,this.addScalePoint(b);for(var v={x:o[e-1].x,y:o[e-1].y,z:o[e-1].z},m={x:o[e-2].x,y:o[e-2].y,z:o[e-2].z},L=[],O=0;O<this.scalePoints.length;O++){var T={x:this.scalePoints[O].x,y:this.scalePoints[O].y},w=this.ComputeZValue(T,v,m);L.push({x:T.x,y:T.y,z:w})}this.scalePoints=L,this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,g)}else{var x=new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),R=new SuperMapAlgoPlot.Point(x.x,x.y);R.isScalePoint=!0,R.tag=0,this.addScalePoint(R);var U=new SuperMapAlgoPlot.Point(r[r.length-1].x,r[r.length-1].y);U.isScalePoint=!0,U.tag=1,this.addScalePoint(U);var E=new SuperMapAlgoPlot.Point(u[0].x,u[0].y);if(E.isScalePoint=!0,E.tag=2,this.addScalePoint(E),0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,c);else{for(var C=this.mergeDashLine(this.dashLines,[]),I=this.computeDashLine(C,r),B=1;B<I.length-1;B++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I[B]);for(var D=this.mergeDashLine(this.dashLines,[]),_=this.computeDashLine(D,a),N=1;N<_.length-1;N++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,_[N].reverse());var V=[];V=(V=(V=V.concat(I[I.length-1])).concat(u)).concat(_[_.length-1].reverse()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,V);var k=[];k=(k=k.concat(_[0].reverse())).concat(I[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,k)}}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=new SuperMapAlgoPlot.Point(this.scalePoints[0].x,this.scalePoints[0].y),l=new SuperMapAlgoPlot.Point(this.scalePoints[1].x,this.scalePoints[1].y),n=new SuperMapAlgoPlot.Point(this.scalePoints[2].x,this.scalePoints[2].y),i=this.scaleValues[0];this.controlPoints=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(this.controlPoints).pts;var r=SuperMapAlgoPlot.PlottingUtil.polylineDistance(this.controlPoints),a=r*i;if(0==t){var s=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,this.controlPoints[0],this.controlPoints[1]),p=s.projectPoint;if(s.isOnline){var u=SuperMapAlgoPlot.PlottingUtil.distance(p,this.controlPoints[1]);this.scaleValues[0]=u/r}}else if(1==t){var c=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l,n).projectPoint,P=SuperMapAlgoPlot.PlottingUtil.distance(c,o),g=a*this.scaleValues[1];this.scaleValues[1]=P/a,this.scaleValues[2]=(a*this.scaleValues[2]+P-g)/a}else if(2==t){var y=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,this.controlPoints[1],n).projectPoint,h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(y,o,this.controlPoints[1]),f=h.projectPoint,S=SuperMapAlgoPlot.PlottingUtil.distance(f,o);!0===h.inOnline?this.scaleValues[4]=-S/a:this.scaleValues[4]=S/a}}this.calculateParts()}}])&&mo(e.prototype,o),l&&mo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function xo(t){"@babel/helpers - typeof";return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Uo(t,e){return(Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Eo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Co(t);if(e){var n=Co(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Co(t){return(Co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1003=wo;var Io=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Eo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).MAX_ARRAY_SIZE=128,e.sv1_DefaultAtLenDivAbLen=.2,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_AtScaleParameter=1.5,e.sv_AtLenDivAtWidth=1.35,e.sv_AtWidthDivAwWidth=.5,e.sv_defaultAwLenDivAbLen=.15,0===e.scaleValues.length&&(e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1004",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init(),this.applyUse()}},{key:"applyUse",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.arrowMeshs(t);SuperMapAlgoPlot.PlottingUtil.clearSamePts(e.shapePts);var o=e.shapePts,l=e.leftBodyPts,n=e.rightBodyPts,i=e.arrowHeadPts,r=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),a=r.length,s=!1;if(void 0!==r[0].z&&(s=!0),s){l=e.leftBodyPts,n=e.rightBodyPts,i=e.arrowHeadPts,o=e.shapePts;for(var p=[],u=0;u<o.length;u++)p.push({x:o[u].x,y:o[u].y,z:0});if(0==o.length)return!1;var c=this.updateScalePoints(t),P=[],g={x:(r[0].x+r[1].x)/2,y:(r[0].y+r[1].y)/2},y={x:(l[l.length-1].x+n[0].x)/2,y:(l[l.length-1].y+n[0].y)/2},h=this.ComputeZValue(y,r[a-1],r[a-2]),f=0,S=0;l[0].x==r[0].x&&l[0].y==r[0].y?(f=r[0].z,S=r[1].z):(f=r[1].z,S=r[0].z),P.push({x:g.x,y:g.y,z:f});for(var A=2;A<a-1;A++)P.push(r[A]);P.push({x:y.x,y:y.y,z:h});var M=[];this.ComputeBeizerZValueByDis(P,l,M),(P=[]).push({x:y.x,y:y.y,z:h});for(var d=a-2;d>=2;d--)P.push(r[d]);P.push({x:g.x,y:g.y,z:S});var b=[];this.ComputeBeizerZValueByDis(P,n,b);for(var v=[],m=0;m<i.length;m++){var L=this.ComputeZValue(i[m],r[a-1],r[a-2]);v.push({x:i[m].x,y:i[m].y,z:L})}if(M.length>0&&b.length>0&&v.length>0){p=(p=(p=(p=[]).concat(M)).concat(v)).concat(b),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{surroundLineFlag:!1});for(var O=[],T=0;T<c.length;T++){var w=this.ComputeZValue(c[T],r[a-1],r[a-2]),x=new SuperMapAlgoPlot.Point(c[T].x,c[T].y);x.z=w,O.push(x)}3!=c.length?this.scalePoints=[]:this.scalePoints=this.scalePoints.concat(O)}}else{if(0==e.shapePts.length)return;for(var R=this.mergeDashLine(this.dashLines,[]),U=this.computeDashLine(R,l),E=0;E<U.length-1;E++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U[E]);for(var C=this.mergeDashLine(this.dashLines,[]),I=this.computeDashLine(C,n.reverse()),B=0;B<I.length-1;B++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,I[B].reverse());var D=[];if(D=(D=(D=D.concat(U[U.length-1])).concat(i)).concat(I[I.length-1].reverse()),D=SuperMapAlgoPlot.PlottingUtil.clearSamePts(D),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,D),c=this.updateScalePoints(t),this.scalePoints=[],3!=c.length)c=[];else for(var _=0;_<c.length;_++)c[_].isScalePoint=!0,c[_].tag=_,this.addScalePoint(c[_])}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.scaleValues.length<4&&(this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen));var l=o.length;if(l<=2)return;var n,i,r,a,s=this.operateCtrlPts(o);l=s.length,l--;var p=this.calcScaleValueCount(o.length);if(this.scaleValues.length<p){var u=this.calcDefaultScaleValues(l);n=u[0],i=u[1],r=u[2],a=u[3]}else n=this.scaleValues[0],i=this.scaleValues[1],r=this.scaleValues[2],a=this.scaleValues[3];for(var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),P=[],g=0;g<this.scalePoints.length;g++)P.push(this.scalePoints[g].clone());if(0==P.length)return;P[t]=e.clone();var y,h,f=l-1;y=l<=3?new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2):s[f-1].clone();var S,A,M,d,b,v,m=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y,s[f],s[f+1],L,O),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,s[l],s[l-1],O,m),h=m.clone();var T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],h,P[2]);S=T.dLen1,T.dLen2,0==S&&(S=.1),A=S,n=(S/=a+1)/c,1==t?(d=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],h,P[1])).dLen1,r=(b=T.dLen2)/S,a=(d-S)/S):0==t?(S=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],h,P[0])).dLen1,i=(M=T.dLen2)/S,(v=SuperMapAlgoPlot.PlottingUtil.distance(s[l],s[l-1]))<2*S&&(S=.5*v),d=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],h,P[1])).dLen1,r=(b=T.dLen2)/S,(a=(A-S)/S)<.1&&(r=b/(S=A/(1+(a=.1))),i=M/S),n=S/c):2==t&&(n=S/c),M=S*i,(v=SuperMapAlgoPlot.PlottingUtil.distance(s[l],s[l-1]))<2*S&&(M=(S=.5*v)*i,n=S/c),this.scaleValues[0]=n,this.scaleValues[1]=i,this.scaleValues[2]=r,this.scaleValues[3]=a}}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],i=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(i,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),a=r.arrowTouLen,s=r.leftBodyPts,p=r.rightBodyPts;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var u=[];u.push(s[s.length-1]),u.push(p[p.length-1]);var c=[];c.push(this.scaleValues[2]),c.push(this.scaleValues[3]),c.push(0),c.push(0);for(var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(i,u,c,a,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),g=0;g<s.length;g++)e.push(s[g]),o.push(s[g]);for(var y=0;y<P.length;y++)e.push(P[y]),n.push(P[y]);for(var h=p.length-1;h>=0;h--)e.push(p[h]),l.push(p[h])}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n}}},{key:"updateScalePoints",value:function(t){var e=t.length,o=[];if(!(e<3)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l,0)){var n=this.operateCtrlPts(t);e=n.length,e--;for(var i=[],r=0;r<this.scaleValues.length;r++)i.push(this.scaleValues[r]);var a=this.genArrowBodyPts(l,n,i),s=a.ArrowBodyCenterPts,p=this.genAtPts(e,s,i,a.ArrowTouLen),u=this.calc3rdScalePt(e,s,i,a.ArrowTouLen);return o.push(new SuperMapAlgoPlot.Point(a.LeftBodyPtsTemp[e].x,a.LeftBodyPtsTemp[e].y)),o.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),o.push(new SuperMapAlgoPlot.Point(u.x,u.y)),o}}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o=SuperMapAlgoPlot.PlottingUtil.clonePoints(e);if(3===o.length){var l=((o[0].x+o[1].x)/2+o[2].x)/2,n=((o[0].y+o[1].y)/2+o[2].y)/2,i=new SuperMapAlgoPlot.Point(l,n),r=o[2];o[2]=i,o.push(r)}return o}},{key:"genArrowBodyPts",value:function(t,e,o){var l,n,i,r=[],a=[],s=[],p=[],u=[],c=[],P=e.length;if(P--,o.length<this.calcScaleValueCount(P)){var g=this.calcDefaultScaleValues(P);n=g[0],i=g[1]}else n=o[0],i=o[1];var y=SuperMapAlgoPlot.PlottingUtil.clonePoints(e),h=(y[0].x+y[1].x)/2,f=(y[0].y+y[1].y)/2,S=Math.abs(h-y[2].x),A=Math.abs(f-y[2].y),M=0;if(S>0&&A>0){var d=1/(h-y[2].x),b=-1/(f-y[2].y),v=1*y[2].y/(f-y[2].y)-1*y[2].x/(h-y[2].x);M=Math.abs(d*y[0].x+b*y[0].y+v)/Math.sqrt(d*d+b*b)}else A<=1e-4?M=Math.abs(f-y[1].y):S<=1e-4&&(M=Math.abs(h-y[1].x));var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[2],new SuperMapAlgoPlot.Point(h,f)),L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[1],y[2],y[0]);L?(r[1]=y[1],a[1]=y[0]):(r[1]=y[0],a[1]=y[1]),y[1]=new SuperMapAlgoPlot.Point((y[0].x+y[1].x)/2,(y[0].y+y[1].y)/2);var O=Math.sqrt((m.pntLeft.x-m.pntRight.x)*(m.pntLeft.x-m.pntRight.x)+(m.pntLeft.y-m.pntRight.y)*(m.pntLeft.y-m.pntRight.y))*this.sv_AtWidthDivAwWidth,T=(l=O*this.sv_AtLenDivAtWidth)*i;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||(T=(l=t*n)*i);var w,x,R=SuperMapAlgoPlot.PlottingUtil.distance(y[P],y[P-1]),U=2*l;R<U&&(T=(l=R/2)*i),y.push(y[P].clone()),w=0,x=0;var E=0,C=[];for(E=2;E<=P;E++)w+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]);for(w-=l,E=2;E<=P-1;E++)x+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]),C[E]=T+(O-T)*Math.pow((w-x)/w,this.sv_AtScaleParameter);C[P]=T;var I,B,D=new SuperMapAlgoPlot.Point(0,0),_=new SuperMapAlgoPlot.Point(0,0),N=new SuperMapAlgoPlot.Point(0,0);for(E=2;E<=P-1;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y[E-1],y[E],y[E+1],_,N),E==P-1&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,y[P],y[P-1],N,D),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(C[E],_,y[E]),(L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(N,_,I.pntRight))?(r[E]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y),a[E]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y)):(r[E]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y),a[E]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y));for(Math.sqrt(1*(y[P].x-D.x)*(y[P].x-D.x)+1*(y[P].y-D.y)*(y[P].y-D.y))>0&&(y[P]=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(l,y[P],D)),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(T,y[P+1],y[P]),(L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[P],y[P+1],I.pntLeft))?(a[P]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y),r[P]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y)):(a[P]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y),r[P]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y)),E=2;E<P;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,r[E-1],r[E],r[E+1],_,N),s[E]=new SuperMapAlgoPlot.Point(_.x,_.y),p[E]=new SuperMapAlgoPlot.Point(N.x,N.y),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,a[E-1],a[E],a[E+1],_,N),u[E]=new SuperMapAlgoPlot.Point(_.x,_.y),c[E]=new SuperMapAlgoPlot.Point(N.x,N.y),2==E&&(SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,r[1],r[2],s[2],D),p[E]=new SuperMapAlgoPlot.Point(D.x,D.y),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,a[1],a[2],u[2],D),c[E]=new SuperMapAlgoPlot.Point(D.x,D.y)),E==P-1&&(U=(R=SuperMapAlgoPlot.PlottingUtil.distance(r[P],r[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=r[P].x-y[P].x,B.y+=r[P].y-y[P].y,U=(R=O-T)*Math.pow(U/w,this.sv_AtScaleParameter),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,r[P],B),s[P]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y),U=(R=SuperMapAlgoPlot.PlottingUtil.distance(a[P],a[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=a[P].x-y[P].x,B.y+=a[P].y-y[P].y,U=(R=O-T)*Math.pow(U/w,this.sv_AtScaleParameter),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,a[P],B),u[P]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y));return{ArrowBodyCenterPts:SuperMapAlgoPlot.PlottingUtil.clonePoints(y),LeftBodyPtsTemp:r,RightBodyPtsTemp:a,LeftBodyPtsLeftCtrlPts:s,LeftBodyPtsRightCtrlPts:p,RightBodyPtsLeftCtrlPts:u,RightBodyPtsRightCtrlPts:c,ArrowTouLen:l}}},{key:"calcScaleValueCount",value:function(){return 4}},{key:"calcDefaultScaleValues",value:function(){var t=[];return t.push(this.sv1_DefaultAtLenDivAbLen),t.push(this.sv2_DefaultAjWidthDivAtLen),t.push(this.sv3_DefaultAeWidthDivAtLen),t.push(this.sv4_DefaultAeLenDivAtLen),t}},{key:"genAtPts",value:function(t,e,o,l){var n=o[2],i=[],r=l*o[3],a=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(r,e[t],e[t+1]);r=l*n;var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[t+1],a);return i.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),i.push(e[t+1]),i.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y)),i}},{key:"calc3rdScalePt",value:function(t,e,o,l){var n=l*o[3];return SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(n,e[t],e[t+1])}}])&&Ro(e.prototype,o),l&&Ro(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Bo(t){"@babel/helpers - typeof";return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Do(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _o(t,e){return(_o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function No(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Vo(t);if(e){var n=Vo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vo(t){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1004=Io;var ko=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_o(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=No(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1005",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues[0]=this.getSubSymbolScaleValue();var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,e,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYBEZIER,!1),l=[];if(t.length>2)for(var n=0;n<o.length;n++){if(o[n].x===t[t.length-2].x||o[n].y===t[t.length-2].y){l.push(o[n]),l.push(o[o.length-1]);break}l.push(o[n])}var i=o[o.length-1],r=o[o.length-2],a=(SuperMapAlgoPlot.PlottingUtil.distance(i,r),[]);a.push(o[o.length-1]),a.push(o[o.length-2]),a.push(t[t.length-2]);for(var s=this.mergeDashLine(this.dashLines,[]),p=this.computeDashLine(s,o),u=0;u<p.length;u++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[u]);var c=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(a,e,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_POLYLINE);c.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineLimit:!0,lineTypeLimit:!0})}}}])&&Do(e.prototype,o),l&&Do(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function jo(t){"@babel/helpers - typeof";return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zo(t,e){return(zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Wo(t);if(e){var n=Wo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Wo(t){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1005=ko;var Go=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Fo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).QIANJI_RATE1=9,e.QIANJI_RATE2=20,e.QIANJI_RATE4=5,e.QIANJI_RATE3=1/3,e.QIANJI_TAIL_RATE1=8,e.QIANJI_TAIL_RATE2=3,e.QIANJI_TAIL_RATE3=.6,e.SV1_Default=.25,e.SV1_MinValue=0,e.SV1_MaxValue=.5,e.DEFAULT_ARROW_TAIL_POS=.4,e.SCALE_VALUE_COUNT=1,e.MIN_LEN_LeftToRightCenter=1e-7,e.SCALE_AT=1/3,e.SCALE_ATAJ=1/7,e.SCALE_ATAE=1/3,e.SCALE_AW=2/3,e.SCALE_ATAJctrlDefSide=.8,e.SCALE_ATAJctrlSameSide=2/3,e.SCALE_MM_LEFT=.25,e.SCALE_MM_RIGHT=.75,e.BEZIER_K1=1/3,e.QIANJI_OPERATE_RATE1=1,0===e.scaleValues.length&&e.scaleValues.push(e.SV1_Default),e.m_dMaxDis=0,e.m_bIsAnimation=!1,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1006",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init(),this.m_scalePoints=[];var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=e.length,l=!1;void 0!==e[0].z&&(l=!0);var n=this.arrowMeshs(t);if(l){for(var i=[],r=0;r<o;r++)i.push(e[r]);var a=n.LeftArowLeftBody,s=n.LeftArowHead,p=n.LeftArowRightBody,u=n.RightArowLeftBody,c=n.RightArowHead,P=n.RightArowRightBody;if(0==a.length)return!1;var g=[],y=[],h=[];if(3==i.length)a[0].x==i[0].x&&a[0].y==i[0].y?(y.push(i[0]),y.push(i[2]),h.push(i[1]),h.push(i[2])):(y.push(i[1]),y.push(i[2]),h.push(i[0]),h.push(i[2]));else{if(4!=i.length)return!1;a[0].x==i[0].x&&a[0].y==i[0].y?(y.push(i[0]),h.push(i[1])):(y.push(i[1]),h.push(i[0])),s[1].x==i[2].x&&s[1].y==i[2].y?(y.push(i[2]),h.push(i[3])):(y.push(i[3]),h.push(i[2]))}var f=new SuperMapAlgoPlot.Point;f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(a[a.length-1],{x:y[0].x,y:y[0].y},{x:y[1].x,y:y[1].y}).projectPoint;var S=this.ComputeZValue(f,y[1],y[0]),A=[];this.ComputeHeight(a,A,y[0].z,S),g=g.concat(A);for(var M=0;M<s.length;M++){f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(s[M],{x:y[0].x,y:y[0].y},{x:y[1].x,y:y[1].y}).projectPoint;var d=this.ComputeZValue(f,y[1],y[0]);g.push({x:s[M].x,y:s[M].y,z:d})}f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(p[0],{x:y[0].x,y:y[0].y},{x:y[1].x,y:y[1].y}).projectPoint,this.ComputeZValue(f,y[1],y[0]),f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(p[p.length-1],{x:y[0].x,y:y[0].y},{x:y[1].x,y:y[1].y}).projectPoint;var b=this.ComputeZValue(f,y[1],y[0]);f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(u[0],{x:h[0].x,y:h[0].y},{x:h[1].x,y:h[1].y}).projectPoint;var v=(this.ComputeZValue(f,h[1],h[0])+b)/2,m=[];this.ComputeHeight(p,m,S,v),g=g.concat(m),f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(u[u.length-1],{x:h[0].x,y:h[0].y},{x:h[1].x,y:h[1].y}).projectPoint;var L=this.ComputeZValue(f,h[1],h[0]),O=[];this.ComputeHeight(u,O,v,L),g=g.concat(O);for(var T=0;T<c.length;T++){f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(c[T],{x:h[0].x,y:h[0].y},{x:h[1].x,y:h[1].y}).projectPoint;var w=this.ComputeZValue(f,h[1],h[0]);g.push({x:c[T].x,y:c[T].y,z:w})}f=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(P[0],{x:h[0].x,y:h[0].y},{x:h[1].x,y:h[1].y}).projectPoint;var x=this.ComputeZValue(f,h[1],h[0]),R=[];this.ComputeHeight(P,R,x,h[0].z),(g=g.concat(R)).length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{surroundLineFlag:!1}),this.m_scalePoints.length>0&&(this.m_scalePoints[0]={x:this.m_scalePoints[0].x,y:this.m_scalePoints[0].y,z:v});for(var U=0;U<this.m_scalePoints.length;U++)this.m_scalePoints[U].isScalePoint=!0,this.m_scalePoints[U].tag=U,this.addScalePoint(this.m_scalePoints[U]);return!0}var E=n.shapePts,C=n.LeftArowLeftBody,I=n.LeftArowHead,B=n.LeftArowRightBody,D=n.RightArowLeftBody,_=n.RightArowHead,N=n.RightArowRightBody;if(E.length>0){for(var V=this.mergeDashLine(this.dashLines,[]),k=this.computeDashLine(V,C),j=0;j<k.length-1;j++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,k[j]);for(var Y=this.mergeDashLine(this.dashLines,[]),z=this.computeDashLine(Y,B.reverse()),F=0;F<z.length-1;F++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,z[F].reverse());var W=[];W=(W=(W=W.concat(k[k.length-1])).concat(I)).concat(z[z.length-1].reverse()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,W);for(var G=this.mergeDashLine(this.dashLines,[]),H=this.computeDashLine(G,D),q=0;q<H.length-1;q++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,H[q]);for(var J=this.mergeDashLine(this.dashLines,[]),Z=this.computeDashLine(J,N.reverse()),X=0;X<Z.length-1;X++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Z[X].reverse());var Q=[];Q=(Q=(Q=Q.concat(H[H.length-1])).concat(_)).concat(Z[Z.length-1].reverse()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,Q)}this.scalePoints=[];for(var K=0;K<this.m_scalePoints.length;K++)this.m_scalePoints[K].isScalePoint=!0,this.m_scalePoints[K].tag=K,this.addScalePoint(this.m_scalePoints[K])}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o,l=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(this.controlPoints).pts,n=SuperMapAlgoPlot.PlottingUtil.operateControlPoints(l),i=new SuperMapAlgoPlot.Point((n[0].x+n[1].x)/2,(n[0].y+n[1].y)/2),r=new SuperMapAlgoPlot.Point((n[2].x+n[3].x)/2,(n[2].y+n[3].y)/2),a=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i,r);if(a.isOnline){var s=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,i),p=SuperMapAlgoPlot.PlottingUtil.distance(i,r);(o=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(s,0)?this.SV1_MinValue:s/p)>this.SV1_MaxValue&&(o=this.SV1_MaxValue)}else o=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,i)<SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r)?this.SV1_MinValue:this.SV1_MaxValue;this.scaleValues=[],this.scaleValues.push(o)}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=new SuperMapAlgoPlot.Path2D;t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var o=[];this.m_bIsAnimation&&4==t.length?o=SuperMapAlgoPlot.PlottingUtil.clonePoints(t):(o=SuperMapAlgoPlot.PlottingUtil.operateControlPoints(t),void 0!==t[0].z&&(o[o.length-1].z=o[o.length-2].z));var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[3]),i=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]),r=o[1].clone(),a=.5*(o[0].x+o[3].x),s=.5*(o[0].y+o[3].y),p=new SuperMapAlgoPlot.Point(a,s),u=.5*(o[1].x+o[2].x),c=.5*(o[1].y+o[2].y),P=new SuperMapAlgoPlot.Point(u,c),g=SuperMapAlgoPlot.PlottingUtil.distance(p,P);g<this.MIN_LEN_LeftToRightCenter&&(g=this.MIN_LEN_LeftToRightCenter),p.x=a+n*(a-u)/(g*this.QIANJI_RATE1),p.y=s+n*(s-c)/(g*this.QIANJI_RATE1),P.x=u+i*(u-a)/(g*this.QIANJI_RATE1),P.y=c+i*(c-s)/(g*this.QIANJI_RATE1);var y=new SuperMapAlgoPlot.Point(0,0),h=new SuperMapAlgoPlot.Point(0,0);y.x=a+n*(a-u)/(g*this.QIANJI_RATE2),y.y=s+n*(s-c)/(g*this.QIANJI_RATE2),h.x=u+i*(u-a)/(g*this.QIANJI_RATE2),h.y=c+i*(c-s)/(g*this.QIANJI_RATE2);var f=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),S=new SuperMapAlgoPlot.Point((o[2].x+o[3].x)/2,(o[2].y+o[3].y)/2),A=o[3].x-(o[3].x-p.x)*this.SCALE_AT,M=o[3].y-(o[3].y-p.y)*this.SCALE_AT,d=o[2].x-(o[2].x-P.x)*this.SCALE_AT,b=o[2].y-(o[2].y-P.y)*this.SCALE_AT,v=new SuperMapAlgoPlot.Point(0,0),m=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0);m.x=A-(M-o[3].y)*this.SCALE_ATAJ,m.y=M+(A-o[3].x)*this.SCALE_ATAJ,v.x=A+(M-o[3].y)*this.SCALE_ATAJ,v.y=M-(A-o[3].x)*this.SCALE_ATAJ,O.x=d-(b-o[2].y)*this.SCALE_ATAJ,O.y=b+(d-o[2].x)*this.SCALE_ATAJ,L.x=d+(b-o[2].y)*this.SCALE_ATAJ,L.y=b-(d-o[2].x)*this.SCALE_ATAJ;var T=new SuperMapAlgoPlot.Point(0,0),w=new SuperMapAlgoPlot.Point(0,0),x=new SuperMapAlgoPlot.Point(0,0),R=new SuperMapAlgoPlot.Point(0,0);T.x=3*v.x-2*A-(o[3].x-A)*this.SCALE_ATAE,T.y=3*v.y-2*M-(o[3].y-M)*this.SCALE_ATAE,w.x=3*m.x-2*A-(o[3].x-A)*this.SCALE_ATAE,w.y=3*m.y-2*M-(o[3].y-M)*this.SCALE_ATAE,x.x=3*L.x-2*d-(o[2].x-d)*this.SCALE_ATAE,x.y=3*L.y-2*b-(o[2].y-b)*this.SCALE_ATAE,R.x=3*O.x-2*d-(o[2].x-d)*this.SCALE_ATAE,R.y=3*O.y-2*b-(o[2].y-b)*this.SCALE_ATAE,p.x=a+n*(a-u)/(g*this.QIANJI_RATE4),p.y=s+n*(s-c)/(g*this.QIANJI_RATE4),P.x=u+i*(u-a)/(g*this.QIANJI_RATE4),P.y=c+i*(c-s)/(g*this.QIANJI_RATE4);var U=new SuperMapAlgoPlot.Point(0,0);U.x=o[0].x+(p.x-o[0].x)*this.SCALE_AW,U.y=o[0].y+(p.y-o[0].y)*this.SCALE_AW;var E=new SuperMapAlgoPlot.Point(0,0);E.x=o[1].x+(P.x-o[1].x)*this.SCALE_AW,E.y=o[1].y+(P.y-o[1].y)*this.SCALE_AW;var C=new SuperMapAlgoPlot.Point(0,0);C.x=v.x+(p.x-v.x)*this.SCALE_ATAJctrlSameSide,C.y=v.y+(p.y-v.y)*this.SCALE_ATAJctrlSameSide;var I=new SuperMapAlgoPlot.Point(0,0);I.x=O.x+(P.x-O.x)*this.SCALE_ATAJctrlSameSide,I.y=O.y+(P.y-O.y)*this.SCALE_ATAJctrlSameSide;var B=new SuperMapAlgoPlot.Point(0,0);B.x=m.x+(y.x-m.x)*this.SCALE_ATAJctrlDefSide,B.y=m.y+(y.y-m.y)*this.SCALE_ATAJctrlDefSide;var D=new SuperMapAlgoPlot.Point(0,0);D.x=L.x+(h.x-L.x)*this.SCALE_ATAJctrlDefSide,D.y=L.y+(h.y-L.y)*this.SCALE_ATAJctrlDefSide;var _=new SuperMapAlgoPlot.Point(0,0);_.x=f.x+(S.x-f.x)*l,_.y=f.y+(S.y-f.y)*l,this.m_scalePoints.push(new SuperMapAlgoPlot.Point(_.x,_.y));var N=new SuperMapAlgoPlot.Point(0,0),V=new SuperMapAlgoPlot.Point(0,0);N.x=o[0].x+(o[3].x-o[0].x)*l,N.y=o[0].y+(o[3].y-o[0].y)*l,V.x=o[1].x+(o[2].x-o[1].x)*l,V.y=o[1].y+(o[2].y-o[1].y)*l,N.x=N.x+(_.x-N.x)*this.QIANJI_RATE3,N.y=N.y+(_.y-N.y)*this.QIANJI_RATE3,V.x=V.x+(_.x-V.x)*this.QIANJI_RATE3,V.y=V.y+(_.y-V.y)*this.QIANJI_RATE3;var k=[];k.push(o[0].clone()),k.push(U.clone()),k.push(C.clone()),k.push(v.clone()),e.MoveTo(k[0]),e.CurveTo(k[1],k[2],k[3]);var j,Y,z=[],F=[],W=[],G=[],H=[],q=[];for(e.ToSubPathPolygons(q),j=q[0],Y=q[0].length,e.LineTo(T),e.LineTo(o[3]),e.LineTo(w),(k=[]).push(m),k.push(B),k.push(N),k.push(_),e.LineTo(k[0]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)z.push(q[0][Y]);for(Y=q[0].length,e.CurveTo(k[1],k[2],k[3]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)F.push(q[0][Y]);for(Y=q[0].length,(k=[]).push(V),k.push(D),k.push(L),e.CurveTo(k[0],k[1],k[2]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)W.push(q[0][Y]);for(Y=q[0].length,e.LineTo(x),e.LineTo(o[2]),e.LineTo(R),(k=[]).push(O),k.push(I),k.push(E),k.push(r),e.LineTo(k[0]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)G.push(q[0][Y]);for(Y=q[0].length,e.CurveTo(k[1],k[2],k[3]),q=[],e.ToSubPathPolygons(q);Y<q[0].length;Y++)H.push(q[0][Y]);return q=[],e.ToSubPathPolygons(q),{shapePts:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(q[0]),LeftArowLeftBody:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(j),LeftArowHead:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(z),LeftArowRightBody:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(F),RightArowLeftBody:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(W),RightArowHead:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(G),RightArowRightBody:SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(H)}}}])&&Yo(e.prototype,o),l&&Yo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ho(t){"@babel/helpers - typeof";return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qo(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jo(t,e){return(Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xo(t);if(e){var n=Xo(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xo(t){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1006=Go;var Qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jo(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Zo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1007",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=!1;void 0!==t[0].z&&(e=!0),this.scaleValues[0]=this.getSubSymbolScaleValue();var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,o,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYLINE,!0),n=[];n.push(t[t.length-1]),n.push(l[l.length-1]),n.push(t[t.length-2]);var i=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(n,o,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID);if(e){for(var r=t.length,a=[],s=[],p=0;p<r;++p)a.push({x:l[p].x,y:l[p].y,z:t[p].z});var u={x:t[r-1].x,y:t[r-1].y,z:t[r-1].z},c={x:t[r-2].x,y:t[r-2].y,z:t[r-2].z},P=this.ComputeZValue(l[r-1],u,c);a[r-1].z=P;for(var g=0;g<i.length;++g){var y=this.ComputeZValue(i[g],u,c);s.push({x:i[g].x,y:i[g].y,z:y})}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a);s.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,s,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,surroundLineLimit:!0,lineTypeLimit:!0})}else{for(var h=this.mergeDashLine(this.dashLines,[]),f=this.computeDashLine(h,l),S=0;S<f.length;S++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[S]);i.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}}}}])&&qo(e.prototype,o),l&&qo(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ko(t){"@babel/helpers - typeof";return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $o(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tl(t,e){return(tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function el(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ol(t);if(e){var n=ol(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ko(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ol(t){return(ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1007=Qo;var ll=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=el(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1008",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.scaleValues[0]=this.getSubSymbolScaleValue();var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],o=Math.sqrt(e*e/3),l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,o,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYBEZIER,!0),n=[];n.push(t[t.length-1]),n.push(l[l.length-1]),n.push(t[t.length-2]);for(var i=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(n,e,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL),r=this.mergeDashLine(this.dashLines,[]),a=this.computeDashLine(r,l),s=0;s<a.length;s++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a[s]);i.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,i,{surroundLineFlag:!1,fillLimit:!0,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0})}}}])&&$o(e.prototype,o),l&&$o(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function nl(t){"@babel/helpers - typeof";return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function il(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function rl(t,e){return(rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function al(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=sl(t);if(e){var n=sl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function sl(t){return(sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1008=ll;var pl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=al(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1009",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=!1;void 0!==t[0].z&&(e=!0),this.scaleValues[0]=this.getSubSymbolScaleValue();var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,0,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYLINE,!1),n=[];n.push(l[l.length-1]),n.push(l[l.length-2]),n.push(t[t.length-2]);var i=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(n,o,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_POLYLINE),r=[];r.push(l[0]),r.push(l[1]);var a=SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePtsBySingleLine(r,o,SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL);if(e){for(var s=t.length,p=[],u=[],c=[],P=0;P<s;++P)p.push({x:t[P].x,y:t[P].y,z:t[P].z});var g,y={x:t[s-1].x,y:t[s-1].y,z:t[s-1].z},h={x:t[s-2].x,y:t[s-2].y,z:t[s-2].z};g=this.ComputeZValue(l[s-1],y,h),p.push({x:l[s-1].x,y:l[s-1].y,z:g});for(var f=0;f<i.length;++f)g=this.ComputeZValue(i[f],y,h),u.push({x:i[f].x,y:i[f].y,z:g});for(var S={x:t[1].x,y:t[1].y,z:t[1].z},A={x:t[0].x,y:t[0].y,z:t[0].z},M=0;M<a.length;++M)g=this.ComputeZValue(a[M],S,A),c.push({x:a[M].x,y:a[M].y,z:g});this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{surroundLineLimit:!0,lineTypeLimit:!0}),0!==c.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}else{for(var d={surroundLineFlag:!1},b=this.mergeDashLine(this.dashLines,[]),v=this.computeDashLine(b,l),m=0;m<v.length;m++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v[m],d);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i,{surroundLineLimit:!0,lineTypeLimit:!0}),0!==a.length&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,a)}}}}])&&il(e.prototype,o),l&&il(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ul(t){"@babel/helpers - typeof";return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Pl(t,e){return(Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function gl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=yl(t);if(e){var n=yl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ul(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function yl(t){return(yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1009=pl;var hl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=gl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(0),e.scaleValues.push(.148),e.scaleValues.push(.4),e.scaleValues.push(.312),e.scaleValues.push(.2)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1010",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){var e=this.arrowMeshs(t),o=e.shapePts,l=e.leftBodyPts,n=e.rightBodyPts,i=e.arrowHeadPts,r=e.arrowTailPts;if(SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),0!==e.shapePts.length){if(0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,e.shapePts,{surroundLineFlag:!1});else{for(var a=this.mergeDashLine(this.dashLines,[]),s=this.computeDashLine(a,l),p=1;p<s.length-1;p++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s[p],{surroundLineFlag:!1});for(var u=this.mergeDashLine(this.dashLines,[]),c=this.computeDashLine(u,n.reverse()),P=1;P<c.length-1;P++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c[P].reverse(),{surroundLineFlag:!1});var g=[];g=(g=(g=g.concat(s[s.length-1])).concat(i)).concat(c[c.length-1].reverse()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g,{surroundLineFlag:!1});var y=[];y=(y=(y=y.concat(c[0].reverse())).concat(r)).concat(s[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{surroundLineFlag:!1})}this.scalePoints=[];for(var h=0;h<e.m_scalePoints.length;h++)this.addScalePoint(e.m_scalePoints[h])}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);this.scaleValues.length<4&&(this.scaleValues.push(0),this.scaleValues.push(.148),this.scaleValues.push(.4),this.scaleValues.push(.312),this.scaleValues.push(.2));var l,n,i,r,a=o.length;if(a<=2)return;this.scaleValues.length<4?(l=0,n=.148,i=.4,r=.312):(l=this.scaleValues[0],n=this.scaleValues[1],i=this.scaleValues[2],r=this.scaleValues[3]);var s=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),p=this.operateCtrlPts(o);a=p.length,a--;for(var u=[],c=0;c<this.scalePoints.length;c++)u.push(this.scalePoints[c].clone());if(0===(u=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(u).pts).length)return;if(u[t]=e.clone(),3===t){var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(o,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),g=new SuperMapAlgoPlot.Point(.5*(P.leftBodyPts[0].x+P.rightBodyPts[0].x),.5*(P.leftBodyPts[0].y+P.rightBodyPts[0].y)),y=SuperMapAlgoPlot.PlottingUtil.distance(P.leftBodyPts[0],P.rightBodyPts[0]);this.scaleValues[4]=SuperMapAlgoPlot.PlottingUtil.distance(g,e)/y}else{var h,f,S=a-1;h=a<=3?new SuperMapAlgoPlot.Point((p[0].x+p[1].x)/2,(p[0].y+p[1].y)/2):p[S-1].clone();var A,M,d,b,v,m,L=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0),T=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,h,p[S],p[S+1],O,T),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,p[a],p[a-1],T,L),f=L.clone();var w=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(p[a],f,u[2]);A=w.dLen1,w.dLen2,0===A&&(A=.1),M=A,l=(A/=r+1)/s,1===t?(b=(w=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(p[a],f,u[1])).dLen1,i=(v=w.dLen2)/A,r=(b-A)/A):0===t?(A=(w=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(p[a],f,u[0])).dLen1,n=(d=w.dLen2)/A,(m=SuperMapAlgoPlot.PlottingUtil.distance(p[a],p[a-1]))<2*A&&(A=.5*m),b=(w=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(p[a],f,u[1])).dLen1,i=(v=w.dLen2)/A,(r=(M-A)/A)<.1&&(i=v/(A=M/(1+(r=.1))),n=d/A),l=A/s):2===t&&(l=A/s),d=A*n,(m=SuperMapAlgoPlot.PlottingUtil.distance(p[a],p[a-1]))<2*A&&(d=(A=.5*m)*n,l=A/s),this.scaleValues[0]=l,this.scaleValues[1]=n,this.scaleValues[2]=i,this.scaleValues[3]=r}}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],i=[],r=[],a=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),s=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(a,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),p=s.arrowTouLen,u=s.leftBodyPts,c=s.rightBodyPts;if(a=s.OpectrlPoints,!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(p,0)){var P=[];P.push(u[u.length-1]),P.push(c[c.length-1]);var g=[];g.push(this.scaleValues[2]),g.push(this.scaleValues[3]),g.push(0),g.push(0);var y=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(a,P,g,p,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),h=[];h.push(u[0]),h.push(c[0]);for(var f,S=SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePts(t,h,this.scaleValues[4],SuperMapAlgoPlot.ArrowToolkit.ArrowTailType.ARROWTAIL_COATTAIL_POLYBODY),A=0;A<u.length;A++)e.push(u[A]),o.push(u[A]);for(var M=0;M<y.length;M++)e.push(y[M]),n.push(y[M]);for(var d=c.length-1;d>=0;d--)e.push(c[d]),l.push(c[d]);for(var b=1;b<S.length;b++)e.push(S[b]),i.push(S[b]);var v=a.length;v-=2;var m=p*this.scaleValues[3];f=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(m,a[v],a[v+1]);var L=new SuperMapAlgoPlot.Point(o[o.length-1].x,o[o.length-1].y);L.isScalePoint=!0,L.tag=0,r.push(L),(L=new SuperMapAlgoPlot.Point(n[0].x,n[0].y)).isScalePoint=!0,L.tag=1,r.push(L),(L=new SuperMapAlgoPlot.Point(f.x,f.y)).isScalePoint=!0,L.tag=2,r.push(L),(L=new SuperMapAlgoPlot.Point(S[1].x,S[1].y)).isScalePoint=!0,L.tag=3,r.push(L)}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n,arrowTailPts:i,m_scalePoints:r}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,o=SuperMapAlgoPlot.PlottingUtil.clonePoints(e);if(3===o.length){var l=((o[0].x+o[1].x)/2+o[2].x)/2,n=((o[0].y+o[1].y)/2+o[2].y)/2,i=new SuperMapAlgoPlot.Point(l,n),r=o[2];o[2]=i,o.push(r)}return o}}])&&cl(e.prototype,o),l&&cl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function fl(t){"@babel/helpers - typeof";return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Al(t,e){return(Al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ml(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=dl(t);if(e){var n=dl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function dl(t){return(dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1010=hl;var bl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Al(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=Ml(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_arrowTailWidth=.05,5!==e.scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen),e.scaleValues.push(e.sv_arrowTailWidth)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1011",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<2)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(0!==e){var o=e*this.scaleValues[4],l=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[1],t[0]);void 0!==t[0].z&&(l.pntLeft.z=t[0].z,l.pntRight.z=t[0].z),this.controlPoints=[],this.controlPoints.push(l.pntLeft),this.controlPoints.push(l.pntRight);for(var n=1;n<t.length;n++)this.controlPoints.push(t[n].clone());for(var i=[],r=0;r<this.scaleValues.length;r++)i.push(this.scaleValues[r]);this.scaleValues=[];for(var a=0;a<i.length-1;a++)this.scaleValues.push(i[a]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.calculateParts.apply(this,arguments);var s=l.pntRight.clone();s.isScalePoint=!0,s.tag=3,this.addScalePoint(s),this.controlPoints=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),this.scaleValues=[];for(var p=0;p<i.length;p++)this.scaleValues.push(i[p])}}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(o.length<2)return;this.scaleValues.length<5&&(this.scaleValues=[],this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen),this.scaleValues.push(this.sv_arrowTailWidth));var l,n=o[0].clone(),i=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),r=i*this.scaleValues[4],a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,o[1],o[0]);(o=[]).push(a.pntLeft),o.push(a.pntRight);for(var s=1;s<this.controlPoints.length;s++)o.push(this.controlPoints[s].clone());var p,u,c,P,g,y=o.length,h=this.operateCtrlPts(o);y=h.length,y--;var f=this.calcScaleValueCount(o.length);if(f++,this.scaleValues.length<f){var S=this.calcDefaultScaleValues(y);p=S[0],u=S[1],c=S[2],P=S[3],g=this.sv_arrowTailWidth}else p=this.scaleValues[0],u=this.scaleValues[1],c=this.scaleValues[2],P=this.scaleValues[3],g=this.scaleValues[4];l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);for(var A=[],M=0;M<this.scalePoints.length;M++)A.push(this.scalePoints[M].clone());if(0===A.length)return;A[t]=e.clone();var d,b,v=y-1;d=y<=3?new SuperMapAlgoPlot.Point((h[0].x+h[1].x)/2,(h[0].y+h[1].y)/2):h[v-1].clone();var m,L,O,T,w,x,R=new SuperMapAlgoPlot.Point(0,0),U=new SuperMapAlgoPlot.Point(0,0),E=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,d,h[v],h[v+1],U,E),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,h[y],h[y-1],E,R),b=R.clone();var C=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(h[y],b,A[2]);if(m=C.dLen1,C.dLen2,0===m&&(m=.1),L=m,p=(m/=P+1)/l,1===t)T=(C=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(h[y],b,A[1])).dLen1,c=(w=C.dLen2)/m,P=(T-m)/m;else if(0===t)m=(C=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(h[y],b,A[0])).dLen1,u=(O=C.dLen2)/m,(x=SuperMapAlgoPlot.PlottingUtil.distance(h[y],h[y-1]))<2*m&&(m=.5*x),T=(C=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(h[y],b,A[1])).dLen1,c=(w=C.dLen2)/m,(P=(L-m)/m)<.1&&(c=w/(m=L/(1+(P=.1))),u=O/m),p=m/l;else if(2===t)p=m/l;else{g=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/i}O=m*u,(x=SuperMapAlgoPlot.PlottingUtil.distance(h[y],h[y-1]))<2*m&&(O=(m=.5*x)*u,p=m/l),this.scaleValues[0]=p,this.scaleValues[1]=u,this.scaleValues[2]=c,this.scaleValues[3]=P,this.scaleValues[4]=g}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],i=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(i,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),a=r.arrowTouLen,s=r.leftBodyPts,p=r.rightBodyPts;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var u=[];u.push(s[s.length-1]),u.push(p[p.length-1]);var c=[];c.push(this.scaleValues[2]),c.push(this.scaleValues[3]),c.push(0),c.push(0);for(var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(i,u,c,a,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),g=0;g<s.length;g++)e.push(s[g]),o.push(s[g]);for(var y=0;y<P.length;y++)e.push(P[y]),n.push(P[y]);for(var h=p.length-1;h>=0;h--)e.push(p[h]),l.push(p[h])}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n}}},{key:"updateScalePoints",value:function(t){var e=t.length,o=[];if(!(e<3)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l,0)){var n=this.operateCtrlPts(t);e=n.length,e--;for(var i=[],r=0;r<this.scaleValues.length;r++)i.push(this.scaleValues[r]);var a=this.genArrowBodyPts(l,n,i),s=a.ArrowBodyCenterPts,p=this.genAtPts(e,s,i,a.ArrowTouLen),u=this.calc3rdScalePt(e,s,i,a.ArrowTouLen);return o.push(new SuperMapAlgoPlot.Point(a.LeftBodyPtsTemp[e].x,a.LeftBodyPtsTemp[e].y)),o.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),o.push(new SuperMapAlgoPlot.Point(u.x,u.y)),o}}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);if(3===e.length){var o=((e[0].x+e[1].x)/2+e[2].x)/2,l=((e[0].y+e[1].y)/2+e[2].y)/2,n=new SuperMapAlgoPlot.Point(o,l),i=e[2];e[2]=n,e.push(i)}return e}},{key:"genArrowBodyPts",value:function(t,e,o){var l,n,i,r=[],a=[],s=[],p=[],u=[],c=[],P=e.length;if(P--,o.length<this.calcScaleValueCount(P)){var g=this.calcDefaultScaleValues(P);n=g[0],i=g[1]}else n=o[0],i=o[1];var y=SuperMapAlgoPlot.PlottingUtil.clonePoints(e),h=(y[0].x+y[1].x)/2,f=(y[0].y+y[1].y)/2,S=Math.abs(h-y[2].x),A=Math.abs(f-y[2].y),M=0;if(S>0&&A>0){var d=1/(h-y[2].x),b=-1/(f-y[2].y),v=1*y[2].y/(f-y[2].y)-1*y[2].x/(h-y[2].x);M=Math.abs(d*y[0].x+b*y[0].y+v)/Math.sqrt(d*d+b*b)}else A<=1e-4?M=Math.abs(f-y[1].y):S<=1e-4&&(M=Math.abs(h-y[1].x));var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[2],new SuperMapAlgoPlot.Point(h,f)),L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[1],y[2],y[0]);L?(r[1]=y[1],a[1]=y[0]):(r[1]=y[0],a[1]=y[1]),y[1]=new SuperMapAlgoPlot.Point((y[0].x+y[1].x)/2,(y[0].y+y[1].y)/2);var O=Math.sqrt((m.pntLeft.x-m.pntRight.x)*(m.pntLeft.x-m.pntRight.x)+(m.pntLeft.y-m.pntRight.y)*(m.pntLeft.y-m.pntRight.y))*this.sv_AtWidthDivAwWidth,T=(l=O*this.sv_AtLenDivAtWidth)*i;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||(T=(l=t*n)*i);var w,x,R=SuperMapAlgoPlot.PlottingUtil.distance(y[P],y[P-1]),U=2*l;R<U&&(T=(l=R/2)*i),y.push(y[P].clone()),w=0,x=0;var E=0,C=[];for(E=2;E<=P;E++)w+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]);for(w-=l,E=2;E<=P-1;E++)x+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]),C[E]=T+(O-T)*Math.pow((w-x)/w,this.sv_AtScaleParameter);C[P]=T;var I,B,D=new SuperMapAlgoPlot.Point(0,0),_=new SuperMapAlgoPlot.Point(0,0),N=new SuperMapAlgoPlot.Point(0,0);for(E=2;E<=P-1;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y[E-1],y[E],y[E+1],_,N),E===P-1&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,y[P],y[P-1],N,D),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(C[E],_,y[E]),(L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(N,_,I.pntRight))?(r[E]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y),a[E]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y)):(r[E]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y),a[E]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y));for(Math.sqrt(1*(y[P].x-D.x)*(y[P].x-D.x)+1*(y[P].y-D.y)*(y[P].y-D.y))>0&&(y[P]=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(l,y[P],D)),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(T,y[P+1],y[P]),(L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[P],y[P+1],I.pntLeft))?(a[P]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y),r[P]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y)):(a[P]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y),r[P]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y)),E=2;E<P;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,r[E-1],r[E],r[E+1],_,N),s[E]=new SuperMapAlgoPlot.Point(_.x,_.y),p[E]=new SuperMapAlgoPlot.Point(N.x,N.y),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,a[E-1],a[E],a[E+1],_,N),u[E]=new SuperMapAlgoPlot.Point(_.x,_.y),c[E]=new SuperMapAlgoPlot.Point(N.x,N.y),2===E&&(SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,r[1],r[2],s[2],D),p[E]=new SuperMapAlgoPlot.Point(D.x,D.y),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,a[1],a[2],u[2],D),c[E]=new SuperMapAlgoPlot.Point(D.x,D.y)),E===P-1&&(U=(R=SuperMapAlgoPlot.PlottingUtil.distance(r[P],r[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=r[P].x-y[P].x,B.y+=r[P].y-y[P].y,U=(R=O-T)*Math.pow(U/w,this.sv_AtScaleParameter),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,r[P],B),s[P]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y),U=(R=SuperMapAlgoPlot.PlottingUtil.distance(a[P],a[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=a[P].x-y[P].x,B.y+=a[P].y-y[P].y,U=(R=O-T)*Math.pow(U/w,this.sv_AtScaleParameter),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,a[P],B),u[P]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y));return{ArrowBodyCenterPts:SuperMapAlgoPlot.PlottingUtil.clonePoints(y),LeftBodyPtsTemp:r,RightBodyPtsTemp:a,LeftBodyPtsLeftCtrlPts:s,LeftBodyPtsRightCtrlPts:p,RightBodyPtsLeftCtrlPts:u,RightBodyPtsRightCtrlPts:c,ArrowTouLen:l}}},{key:"calcScaleValueCount",value:function(){return 4}},{key:"calcDefaultScaleValues",value:function(){var t=[];return t.push(this.sv1_DefaultAtLenDivAbLen),t.push(this.sv2_DefaultAjWidthDivAtLen),t.push(this.sv3_DefaultAeWidthDivAtLen),t.push(this.sv4_DefaultAeLenDivAtLen),t}},{key:"genAtPts",value:function(t,e,o,l){var n=o[2],i=[],r=l*o[3],a=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(r,e[t],e[t+1]);r=l*n;var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[t+1],a);return i.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),i.push(e[t+1]),i.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y)),i}},{key:"calc3rdScalePt",value:function(t,e,o,l){var n=l*o[3];return SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(n,e[t],e[t+1])}}])&&Sl(e.prototype,o),l&&Sl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function vl(t){"@babel/helpers - typeof";return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ml(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ll(t,e){return(Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ol(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Tl(t);if(e){var n=Tl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===vl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Tl(t){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1011=bl;var wl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ll(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol1005);var e,o,l,n=Ol(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).subSymbolDefaultPixelSize=15,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1012",e}return e=i,o&&ml(e.prototype,o),l&&ml(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function xl(t){"@babel/helpers - typeof";return(xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ul(t,e){return(Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function El(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Cl(t);if(e){var n=Cl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===xl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Cl(t){return(Cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1012=wl;var Il=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ul(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol1007);var e,o,l,n=El(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).subSymbolDefaultPixelSize=15,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1013",e}return e=i,o&&Rl(e.prototype,o),l&&Rl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Bl(t){"@babel/helpers - typeof";return(Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _l(t,e){return(_l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Vl(t);if(e){var n=Vl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Bl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Vl(t){return(Vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1013=Il;var kl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_l(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol1008);var e,o,l,n=Nl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).subSymbolDefaultPixelSize=15,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1014",e}return e=i,o&&Dl(e.prototype,o),l&&Dl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function jl(t){"@babel/helpers - typeof";return(jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yl(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function zl(t,e){return(zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Wl(t);if(e){var n=Wl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Wl(t){return(Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1014=kl;var Gl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol1009);var e,o,l,n=Fl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).subSymbolDefaultPixelSize=15,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1015",e}return e=i,o&&Yl(e.prototype,o),l&&Yl(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e}();function Hl(t){"@babel/helpers - typeof";return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ql(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Jl(t,e){return(Jl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Zl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Xl(t);if(e){var n=Xl(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Xl(t){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1015=Gl;var Ql=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jl(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Zl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.1),e.arrowHeadType=t.arrowHeadType?t.arrowHeadType:0,e.arrowBodyType=t.arrowBodyType?t.arrowBodyType:0,0==t.arrowTailType||null==t.arrowTailType?e.arrowTailType=3:e.arrowTailType=t.arrowTailType,e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol1016",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e={surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fillStyle:0,lineTypeLimit:!0,surroundLineLimit:!0};if(!this.isEdit){var o=this.getSubSymbolScaleValue();(o>.3||o<=0)&&(o=.3),this.scaleValues[0]=o}var l,n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[0],i=2*Math.sqrt(n*n/3)/1.4,r=Math.sqrt(n*n/3),a=!1;this.arrowBodyType===SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_COATTAIL?l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,n,this.arrowBodyType,a):this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE||this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID?(a=!0,l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,n,this.arrowBodyType,a)):this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_POLYLINE?l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,n,this.arrowBodyType,a):this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW?(a=!0,l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,i,this.arrowBodyType,a)):this.arrowHeadType===SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL?(a=!0,l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,r,this.arrowBodyType,a)):l=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePtsBySingleLine(t,0,this.arrowBodyType,a);var s=[];this.arrowBodyType===SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_COATTAIL?(s.push(t[t.length-1]),s.push(t[t.length-2])):a?(s.push(t[t.length-1]),s.push(l[l.length-1])):(s.push(l[l.length-1]),s.push(l[l.length-2]));var p,u=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePtsBySingleLine(s,n,this.arrowHeadType);if(l.length>1)if(this.arrowBodyType!==SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_COATTAIL)for(var c=this.mergeDashLine(this.dashLines,[]),P=this.computeDashLine(c,l),g=0;g<P.length;g++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[g]);else for(var y=0,h=l.length-1;y<h;y+=2){var f=SuperMapAlgoPlot.PlottingUtil.distance(l[y+1],l[y]),S=SuperMapAlgoPlot.PlottingUtil.radian(l[y+1],l[y])*SuperMapAlgoPlot.PlottingUtil.RTOD,A=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[y+1],.3*f,.3*f,S+30),M=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[y+1],.3*f,.3*f,S+330),d=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[y],.3*f,.3*f,S+30),b=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[y],.3*f,.3*f,S+330),v=[];v.push(A,l[y+1],M,b,l[y],d),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,v,e)}p=this.arrowBodyType===SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_POLYBEZIER?SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePtsBySingleLine([l[0],l[1]],n,this.arrowTailType):SuperMapAlgoPlot.ArrowToolkit.generateArrowTailShapePtsBySingleLine([t[0],t[1]],n,this.arrowTailType);var m=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL;this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE_SOLID&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_TRIANGLE&&this.arrowHeadType!==SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_COATTAIL_HOLLOW||(m=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL),u.length>0&&this.addCell(m,u,e),p.length>0&&this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p)}}}])&&ql(e.prototype,o),l&&ql(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Kl(t){"@babel/helpers - typeof";return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $l(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function tn(t,e){return(tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function en(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=on(t);if(e){var n=on(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Kl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1016=Ql;var ln=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=en(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(0),e.scaleValues.push(.3),e.scaleValues.push(.3)),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1017",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=this.minEditPts){this.scalePoints=[];var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);this.isEdit||(this.scaleValues[0]=1.5*this.getSubSymbolScaleValue());var o=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(e,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_PARALLEL),l=o.arrowTouLen,n=o.leftBodyPts,i=o.rightBodyPts,r=[];r.push(n[n.length-1]),r.push(i[i.length-1]);var a=[];a.push(this.scaleValues[3]),a.push(this.scaleValues[4]),a.push(this.scaleValues[0]),a.push(this.scaleValues[1]);var s=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(e,r,a,l,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITHOUT_EAR),p=[];p=(p=p.concat(n)).concat(s);for(var u=i.length-1;u>=0;u--)p.push(i[u]);if(p.push(p[0]),0==this.dashLines){this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,p,{lineWidthLimit:!0,strokeWidth:0,weight:0,surroundLineFlag:!1});for(var c=SuperMapAlgoPlot.PlottingUtil.clonePoints(n),P=[],g=i.length-1;g>=0;g--)P.push(i[g]);P=P.concat(c),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var y=SuperMapAlgoPlot.PlottingUtil.clonePoints(s);y.push(i[i.length-1]),y.splice(0,0,n[n.length-1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y,{lineTypeLimit:!0})}else{for(var h=this.mergeDashLine(this.dashLines,[]),f=this.computeDashLine(h,n),S=1;S<f.length-1;S++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f[S]);for(var A=this.mergeDashLine(this.dashLines,[]),M=this.computeDashLine(A,i),d=1;d<M.length-1;d++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M[d].reverse());var b=[];b=(b=b.concat(M[0].reverse())).concat(f[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b);var v=[];v=(v=(v=v.concat(f[f.length-1])).concat(s)).concat(M[M.length-1].reverse()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v)}var m=new SuperMapAlgoPlot.Point((r[0].x+r[1].x)/2,(r[0].y+r[1].y)/2),L=new SuperMapAlgoPlot.Point(m.x,m.y);L.isScalePoint=!0,L.tag=0,this.scalePoints.push(L);var O=new SuperMapAlgoPlot.Point(n[n.length-1].x,n[n.length-1].y);O.isScalePoint=!0,O.tag=1,this.scalePoints.push(O);var T=new SuperMapAlgoPlot.Point(s[0].x,s[0].y);T.isScalePoint=!0,T.tag=2,this.scalePoints.push(T),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=new SuperMapAlgoPlot.Point(this.scalePoints[0].x,this.scalePoints[0].y),l=new SuperMapAlgoPlot.Point(this.scalePoints[1].x,this.scalePoints[1].y),n=new SuperMapAlgoPlot.Point(this.scalePoints[2].x,this.scalePoints[2].y),i=this.scaleValues[0],r=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r);var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(r),s=a*i;if(0==t){var p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r[r.length-2],r[r.length-1]),u=p.projectPoint;if(p.isOnline){var c=SuperMapAlgoPlot.PlottingUtil.distance(u,r[r.length-1]);this.scaleValues[0]=c/a}}else if(1==t){var P=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l,n).projectPoint,g=SuperMapAlgoPlot.PlottingUtil.distance(P,o);this.scaleValues[1]=g/s}else if(2==t){var y=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,r[1],n).projectPoint,h=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(y,o,r[1]),f=h.projectPoint,S=SuperMapAlgoPlot.PlottingUtil.distance(f,o);!1===h.isOnline&&(this.scaleValues[4]=S/s)}}this.calculateParts()}}])&&$l(e.prototype,o),l&&$l(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function nn(t){"@babel/helpers - typeof";return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function an(t,e){return(an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=pn(t);if(e){var n=pn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===nn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function pn(t){return(pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1017=ln;var un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=sn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,t)).MAX_ARRAY_SIZE=128,e.sv1_DefaultAtLenDivAbLen=0,e.sv2_DefaultAjWidthDivAtLen=.148,e.sv3_DefaultAeWidthDivAtLen=.4,e.sv4_DefaultAeLenDivAtLen=.312,e.sv_AtScaleParameter=1.5,e.sv_AtLenDivAtWidth=1.35,e.sv_AtWidthDivAwWidth=.5,e.sv_defaultAwLenDivAbLen=.15,0===e.scaleValues.length&&(e.scaleValues.push(e.sv1_DefaultAtLenDivAbLen),e.scaleValues.push(e.sv2_DefaultAjWidthDivAtLen),e.scaleValues.push(e.sv3_DefaultAeWidthDivAtLen),e.scaleValues.push(e.sv4_DefaultAeLenDivAtLen)),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1018",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init(),this.applyUse()}},{key:"applyUse",value:function(){var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<3)){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=this.arrowMeshs(e),l=SuperMapAlgoPlot.PlottingUtil.clonePoints(o.shapePts);(l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l)).push(l[0]);var n=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o.leftBodyPts),i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o.rightBodyPts),r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o.arrowHeadPts);if(0!=o.shapePts.length){var a=SuperMapAlgoPlot.PlottingUtil.polylineDistance(n),s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*a,n),p=[],u=[],c=[];if(s.bfind)for(var P=0;P<=s.index;P++)p.push(n[P]);var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.45*a,n),y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.8*a,n);if(g.bfind&&y.bfind)for(var h=g.index;h<=y.index;h++)u.push(n[h]);var f=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.85*a,n);if(f.bfind)for(var S=f.index;S<n.length;S++)c.push(n[S]);var A=SuperMapAlgoPlot.PlottingUtil.polylineDistance(i),M=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.15*A,i),d=[],b=[],v=[];if(M.bfind)for(var m=0;m<=M.index;m++)d.push(i[m]);var L=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.2*A,i),O=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.55*A,i);if(L.bfind&&O.bfind)for(var T=L.index;T<=O.index;T++)b.push(i[T]);var w=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.6*A,i);if(w.bfind)for(var x=w.index;x<i.length;x++)v.push(i[x]);var R=SuperMapAlgoPlot.PlottingUtil.clonePoints(r);R.splice(0,0,n[n.length-1]),R.push(i[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,l,{lineWidthLimit:!0,strokeWidth:0,weight:0,surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,v,{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,R,{surroundLineFlag:!1,lineTypeLimit:!0});var U=this.updateScalePoints(e);if(this.scalePoints=[],3!=U.length)U=[];else for(var E=0;E<U.length;E++)U[E].isScalePoint=!0,U[E].tag=E,this.scalePoints.push(U[E]);this.finish()}else this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.scaleValues.length<4&&(this.scaleValues.push(this.sv1_DefaultAtLenDivAbLen),this.scaleValues.push(this.sv2_DefaultAjWidthDivAtLen),this.scaleValues.push(this.sv3_DefaultAeWidthDivAtLen),this.scaleValues.push(this.sv4_DefaultAeLenDivAtLen));var l=o.length;if(l<=2)return;var n,i,r,a,s=this.operateCtrlPts(o);l=s.length,l--;var p=this.calcScaleValueCount(o.length);if(this.scaleValues.length<p){var u=this.calcDefaultScaleValues(l);n=u[0],i=u[1],r=u[2],a=u[3]}else n=this.scaleValues[0],i=this.scaleValues[1],r=this.scaleValues[2],a=this.scaleValues[3];for(var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),P=[],g=0;g<this.scalePoints.length;g++)P.push(this.scalePoints[g].clone());if(0==P.length)return;P[t]=e.clone();var y,h,f=l-1;y=l<=3?new SuperMapAlgoPlot.Point((s[0].x+s[1].x)/2,(s[0].y+s[1].y)/2):s[f-1].clone();var S,A,M,d,b,v,m=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0);SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y,s[f],s[f+1],L,O),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,s[l],s[l-1],O,m),h=m.clone();var T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],h,P[2]);S=T.dLen1,T.dLen2,0==S&&(S=.1),A=S,n=(S/=a+1)/c,1==t?(d=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],h,P[1])).dLen1,r=(b=T.dLen2)/S,a=(d-S)/S):0==t?(S=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],h,P[0])).dLen1,i=(M=T.dLen2)/S,(v=SuperMapAlgoPlot.PlottingUtil.distance(s[l],s[l-1]))<2*S&&(S=.5*v),d=(T=SuperMapAlgoPlot.PlottingUtil.triangleHeightAndPartBottomLen(s[l],h,P[1])).dLen1,r=(b=T.dLen2)/S,(a=(A-S)/S)<.1&&(r=b/(S=A/(1+(a=.1))),i=M/S),n=S/c):2==t&&(n=S/c),M=S*i,(v=SuperMapAlgoPlot.PlottingUtil.distance(s[l],s[l-1]))<2*S&&(M=(S=.5*v)*i,n=S/c),this.scaleValues[0]=n,this.scaleValues[1]=i,this.scaleValues[2]=r,this.scaleValues[3]=a}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=[],o=[],l=[],n=[],i=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),r=SuperMapAlgoPlot.ArrowToolkit.generateArrowBodyShapePts(i,this.scaleValues,SuperMapAlgoPlot.ArrowToolkit.ArrowBodyType.ARROWBODY_MULTIPOLYBEZIER),a=r.arrowTouLen,s=r.leftBodyPts,p=r.rightBodyPts;if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(a,0)){var u=[];u.push(s[s.length-1]),u.push(p[p.length-1]);var c=[];c.push(this.scaleValues[2]),c.push(this.scaleValues[3]),c.push(0),c.push(0);for(var P=SuperMapAlgoPlot.ArrowToolkit.generateArrowHeadShapePts(i,u,c,a,SuperMapAlgoPlot.ArrowToolkit.ArrowHeadType.ARROWHEAD_WITH_EAR),g=0;g<s.length;g++)e.push(s[g]),o.push(s[g]);for(var y=0;y<P.length;y++)e.push(P[y]),n.push(P[y]);for(var h=p.length-1;h>=0;h--)e.push(p[h]),l.push(p[h])}return{shapePts:e,leftBodyPts:o,rightBodyPts:l,arrowHeadPts:n}}},{key:"updateScalePoints",value:function(t){var e=t.length,o=[];if(!(e<3)){var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!SuperMapAlgoPlot.PlottingUtil.equalFuzzy(l,0)){var n=this.operateCtrlPts(t);e=n.length,e--;for(var i=[],r=0;r<this.scaleValues.length;r++)i.push(this.scaleValues[r]);var a=this.genArrowBodyPts(l,n,i),s=a.ArrowBodyCenterPts,p=this.genAtPts(e,s,i,a.ArrowTouLen),u=this.calc3rdScalePt(e,s,i,a.ArrowTouLen);return o.push(new SuperMapAlgoPlot.Point(a.LeftBodyPtsTemp[e].x,a.LeftBodyPtsTemp[e].y)),o.push(new SuperMapAlgoPlot.Point(p[2].x,p[2].y)),o.push(new SuperMapAlgoPlot.Point(u.x,u.y)),o}}}},{key:"operateCtrlPts",value:function(t){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t);if(3===e.length){var o=((e[0].x+e[1].x)/2+e[2].x)/2,l=((e[0].y+e[1].y)/2+e[2].y)/2,n=new SuperMapAlgoPlot.Point(o,l),i=e[2];e[2]=n,e.push(i)}return e}},{key:"genArrowBodyPts",value:function(t,e,o){var l,n,i,r=[],a=[],s=[],p=[],u=[],c=[],P=e.length;if(P--,o.length<this.calcScaleValueCount(P)){var g=this.calcDefaultScaleValues(P);n=g[0],i=g[1]}else n=o[0],i=o[1];var y=SuperMapAlgoPlot.PlottingUtil.clonePoints(e),h=(y[0].x+y[1].x)/2,f=(y[0].y+y[1].y)/2,S=Math.abs(h-y[2].x),A=Math.abs(f-y[2].y),M=0;if(S>0&&A>0){var d=1/(h-y[2].x),b=-1/(f-y[2].y),v=1*y[2].y/(f-y[2].y)-1*y[2].x/(h-y[2].x);M=Math.abs(d*y[0].x+b*y[0].y+v)/Math.sqrt(d*d+b*b)}else A<=1e-4?M=Math.abs(f-y[1].y):S<=1e-4&&(M=Math.abs(h-y[1].x));var m=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(M,y[2],new SuperMapAlgoPlot.Point(h,f)),L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[1],y[2],y[0]);L?(r[1]=y[1],a[1]=y[0]):(r[1]=y[0],a[1]=y[1]),y[1]=new SuperMapAlgoPlot.Point((y[0].x+y[1].x)/2,(y[0].y+y[1].y)/2);var O=Math.sqrt((m.pntLeft.x-m.pntRight.x)*(m.pntLeft.x-m.pntRight.x)+(m.pntLeft.y-m.pntRight.y)*(m.pntLeft.y-m.pntRight.y))*this.sv_AtWidthDivAwWidth,T=(l=O*this.sv_AtLenDivAtWidth)*i;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(n,0)||(T=(l=t*n)*i);var w,x,R=SuperMapAlgoPlot.PlottingUtil.distance(y[P],y[P-1]),U=2*l;R<U&&(T=(l=R/2)*i),y.push(y[P].clone()),w=0,x=0;var E=0,C=[];for(E=2;E<=P;E++)w+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]);for(w-=l,E=2;E<=P-1;E++)x+=SuperMapAlgoPlot.PlottingUtil.distance(y[E],y[E-1]),C[E]=T+(O-T)*Math.pow((w-x)/w,this.sv_AtScaleParameter);C[P]=T;var I,B,D=new SuperMapAlgoPlot.Point(0,0),_=new SuperMapAlgoPlot.Point(0,0),N=new SuperMapAlgoPlot.Point(0,0);for(E=2;E<=P-1;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(0,3,y[E-1],y[E],y[E+1],_,N),E==P-1&&SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,y[P],y[P-1],N,D),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(C[E],_,y[E]),(L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(N,_,I.pntRight))?(r[E]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y),a[E]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y)):(r[E]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y),a[E]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y));for(Math.sqrt(1*(y[P].x-D.x)*(y[P].x-D.x)+1*(y[P].y-D.y)*(y[P].y-D.y))>0&&(y[P]=SuperMapAlgoPlot.PlottingUtil.getIncentrePointOnSegmentByScale(l,y[P],D)),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(T,y[P+1],y[P]),(L=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(y[P],y[P+1],I.pntLeft))?(a[P]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y),r[P]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y)):(a[P]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y),r[P]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y)),E=2;E<P;E++)SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,r[E-1],r[E],r[E+1],_,N),s[E]=new SuperMapAlgoPlot.Point(_.x,_.y),p[E]=new SuperMapAlgoPlot.Point(N.x,N.y),SuperMapAlgoPlot.PlottingUtil.getTrianglePoints(3,3,a[E-1],a[E],a[E+1],_,N),u[E]=new SuperMapAlgoPlot.Point(_.x,_.y),c[E]=new SuperMapAlgoPlot.Point(N.x,N.y),2==E&&(SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,r[1],r[2],s[2],D),p[E]=new SuperMapAlgoPlot.Point(D.x,D.y),SuperMapAlgoPlot.PlottingUtil.getTrapezoidPoints(.5,a[1],a[2],u[2],D),c[E]=new SuperMapAlgoPlot.Point(D.x,D.y)),E==P-1&&(U=(R=SuperMapAlgoPlot.PlottingUtil.distance(r[P],r[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=r[P].x-y[P].x,B.y+=r[P].y-y[P].y,U=(R=O-T)*Math.pow(U/w,this.sv_AtScaleParameter),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,r[P],B),s[P]=new SuperMapAlgoPlot.Point(I.pntLeft.x,I.pntLeft.y),U=(R=SuperMapAlgoPlot.PlottingUtil.distance(a[P],a[P-1]))/3,(B=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(U,y[P],y[P+1])).x+=a[P].x-y[P].x,B.y+=a[P].y-y[P].y,U=(R=O-T)*Math.pow(U/w,this.sv_AtScaleParameter),I=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(U,a[P],B),u[P]=new SuperMapAlgoPlot.Point(I.pntRight.x,I.pntRight.y));return{ArrowBodyCenterPts:SuperMapAlgoPlot.PlottingUtil.clonePoints(y),LeftBodyPtsTemp:r,RightBodyPtsTemp:a,LeftBodyPtsLeftCtrlPts:s,LeftBodyPtsRightCtrlPts:p,RightBodyPtsLeftCtrlPts:u,RightBodyPtsRightCtrlPts:c,ArrowTouLen:l}}},{key:"calcScaleValueCount",value:function(){return 4}},{key:"calcDefaultScaleValues",value:function(){var t=[];return t.push(this.sv1_DefaultAtLenDivAbLen),t.push(this.sv2_DefaultAjWidthDivAtLen),t.push(this.sv3_DefaultAeWidthDivAtLen),t.push(this.sv4_DefaultAeLenDivAtLen),t}},{key:"genAtPts",value:function(t,e,o,l){var n=o[2],i=[],r=l*o[3],a=SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(r,e[t],e[t+1]);r=l*n;var s=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(r,e[t+1],a);return i.push(new SuperMapAlgoPlot.Point(s.pntLeft.x,s.pntLeft.y)),i.push(e[t+1]),i.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y)),i}},{key:"calc3rdScalePt",value:function(t,e,o,l){var n=l*o[3];return SuperMapAlgoPlot.PlottingUtil.getExcentrePointOnSegmentByScale(n,e[t],e[t+1])}}])&&rn(e.prototype,o),l&&rn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function cn(t){"@babel/helpers - typeof";return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function gn(t,e){return(gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=hn(t);if(e){var n=hn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1018=un;var fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=yn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.222222),e.scaleValues.push(.5),e.scaleValues.push(.5),e.scaleValues.push(.5)),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1019",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.222222),this.scaleValues.push(.5),this.scaleValues.push(.5),this.scaleValues.push(.5));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],i=new SuperMapAlgoPlot.Point(0,-l*n),r=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],s=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-s),-l*a),u=new SuperMapAlgoPlot.Point(l*(1-s),l*a),c=this.scaleValues[2],P=this.scaleValues[4],g=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),y=new SuperMapAlgoPlot.Point(l*(1-P),l*c),h=new SuperMapAlgoPlot.Point(l,0),f=SuperMapAlgoPlot.PlottingUtil.radian(e,o),S=[];S.push(i),S.push(p),S.push(g),S.push(h),S.push(y),S.push(u),S.push(r),S.push(i);for(var A=[],M=0;M<S.length;M++){var d=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,S[M],f*SuperMapAlgoPlot.PlottingUtil.RTOD);A.push(d)}for(var b=[],v=A.length-1;v>=0;--v)b.push(A[v]);if(0==this.dashLines.length)this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,b,{lineWidthLimit:!0,strokeWidth:0,weight:0,surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b[2],b[1],b[7],b[6]],{surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[b[6],b[5],b[4],b[3],b[2]],{lineTypeLimit:!0,surroundLineFlag:!1});else{var m=[];m.push(b[0]),m.push(b[1]);for(var L=this.mergeDashLine(this.dashLines,[]),O=this.computeDashLine(L,m),T=0;T<O.length-1;T++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,O[T]);m.push(b[b.length-1]),m.push(b[b.length-2]);for(var w=this.mergeDashLine(this.dashLines,[]),x=this.computeDashLine(w,[]),R=0;R<x.length-1;R++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,x[R].reverse());var U=[];U=(U=U.concat(x[0].reverse())).concat(O[0]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,U);var E=[];E=E.concat(O[O.length-1]);for(var C=1;C<b.length-1;C++)E.push(b[C]);E=E.concat(x[x.length-1].reverse()),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,E)}this.scalePoints=[];var I=A[0].clone();I.isScalePoint=!0,I.tag=0,this.scalePoints.push(I);var B=A[1].clone();B.isScalePoint=!0,B.tag=1,this.scalePoints.push(B);var D=A[2].clone();D.isScalePoint=!0,D.tag=2,this.scalePoints.push(D),this.scalePoints=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(this.scalePoints),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=o[0].clone(),i=o[1].clone(),r=e.clone();if(0==t){var a=SuperMapAlgoPlot.PlottingUtil.distance(r,n)/l;this.scaleValues[0]=a}else if(1==t){var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,n,i),p=SuperMapAlgoPlot.PlottingUtil.distance(s,r)/l;this.scaleValues[1]=p;var u=SuperMapAlgoPlot.PlottingUtil.distance(s,i)/l;this.scaleValues[3]=u}else if(2==t){var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,n,i),P=SuperMapAlgoPlot.PlottingUtil.distance(c,r)/l;this.scaleValues[2]=P;var g=SuperMapAlgoPlot.PlottingUtil.distance(c,i)/l;this.scaleValues[4]=g}}this.calculateParts()}}])&&Pn(e.prototype,o),l&&Pn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Sn(t){"@babel/helpers - typeof";return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function An(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Mn(t,e){return(Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=bn(t);if(e){var n=bn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Sn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1019=fn;var vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=dn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.222222),e.scaleValues.push(.5),e.scaleValues.push(.5),e.scaleValues.push(.5)),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1020",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts,0==this.scaleValues.length&&(this.scaleValues=[],this.scaleValues.push(.5),this.scaleValues.push(.222222),this.scaleValues.push(.5),this.scaleValues.push(.5),this.scaleValues.push(.5));var e=t[0].clone(),o=t[1].clone(),l=SuperMapAlgoPlot.PlottingUtil.distance(e,o),n=this.scaleValues[0],i=new SuperMapAlgoPlot.Point(0,-l*n),r=new SuperMapAlgoPlot.Point(0,l*n),a=this.scaleValues[1],s=this.scaleValues[3],p=new SuperMapAlgoPlot.Point(l*(1-s),-l*a),u=new SuperMapAlgoPlot.Point(l*(1-s),l*a),c=this.scaleValues[2],P=this.scaleValues[4],g=new SuperMapAlgoPlot.Point(l*(1-P),-l*c),y=new SuperMapAlgoPlot.Point(l*(1-P),l*c),h=new SuperMapAlgoPlot.Point(l,0),f=SuperMapAlgoPlot.PlottingUtil.radian(e,o),S=SuperMapAlgoPlot.PlottingUtil.distance(i,p),A=SuperMapAlgoPlot.PlottingUtil.findPointInLine(i,p,.3*S),M=SuperMapAlgoPlot.PlottingUtil.findPointInLine(i,p,.4*S),d=SuperMapAlgoPlot.PlottingUtil.distance(u,r),b=SuperMapAlgoPlot.PlottingUtil.findPointInLine(u,r,.6*d),v=SuperMapAlgoPlot.PlottingUtil.findPointInLine(u,r,.7*d),m=[];m.push(i),m.push(A),m.push(M),m.push(p),m.push(g),m.push(h),m.push(y),m.push(u),m.push(b),m.push(v),m.push(r);for(var L=[],O=0;O<m.length;O++){var T=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(e,m[O],f*SuperMapAlgoPlot.PlottingUtil.RTOD);L.push(T)}for(var w=[],x=L.length-1;x>=0;--x)w.push(L[x]);var R=SuperMapAlgoPlot.PlottingUtil.clonePoints(w);R.push(R[0]),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,R,{lineWidthLimit:!0,strokeWidth:0,weight:0,surroundLineFlag:!1}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[0],w[1]]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[2],w[3]]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[3],w[4],w[5],w[6],w[7]],{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[7],w[8]]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[w[9],w[10]]),this.scalePoints=[];var U=L[0].clone();U.isScalePoint=!0,U.tag=0,this.scalePoints.push(U);var E=L[3].clone();E.isScalePoint=!0,E.tag=1,this.scalePoints.push(E);var C=L[4].clone();C.isScalePoint=!0,C.tag=2,this.scalePoints.push(C),this.scalePoints=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(this.scalePoints),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(e.isScalePoint&&(t>=0||t<3)){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;var l=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[1]),n=o[0].clone(),i=o[1].clone(),r=e.clone();if(0==t){var a=SuperMapAlgoPlot.PlottingUtil.distance(r,n)/l;this.scaleValues[0]=a}else if(1==t){var s=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,n,i),p=SuperMapAlgoPlot.PlottingUtil.distance(s,r)/l;this.scaleValues[1]=p;var u=SuperMapAlgoPlot.PlottingUtil.distance(s,i)/l;this.scaleValues[3]=u}else if(2==t){var c=SuperMapAlgoPlot.PlottingUtil.projectPoint(r,n,i),P=SuperMapAlgoPlot.PlottingUtil.distance(c,r)/l;this.scaleValues[2]=P;var g=SuperMapAlgoPlot.PlottingUtil.distance(c,i)/l;this.scaleValues[4]=g}}this.calculateParts()}}])&&An(e.prototype,o),l&&An(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function mn(t){"@babel/helpers - typeof";return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ln(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function On(t,e){return(On=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=wn(t);if(e){var n=wn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function wn(t){return(wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1020=vn;var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&On(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Tn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.25),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1021",e.QIANJI_RATE1=9,e.QIANJI_RATE2=20,e.QIANJI_RATE4=5,e.QIANJI_RATE3=1/3,e.QIANJI_TAIL_RATE1=8,e.QIANJI_TAIL_RATE2=3,e.QIANJI_TAIL_RATE3=.6,e.SV1_Default=.25,e.SV1_MinValue=0,e.SV1_MaxValue=.5,e.DEFAULT_ARROW_TAIL_POS=.4,e.SCALE_VALUE_COUNT=1,e.MIN_LEN_LeftToRightCenter=1e-7,e.SCALE_AT=1/3,e.SCALE_ATAJ=1/7,e.SCALE_ATAE=1/3,e.SCALE_AW=2/3,e.SCALE_ATAJctrlDefSide=.8,e.SCALE_ATAJctrlSameSide=2/3,e.SCALE_MM_LEFT=.25,e.SCALE_MM_RIGHT=.75,e.BEZIER_K1=1/3,e.QIANJI_OPERATE_RATE1=1,e.m_dMaxDis=0,e.m_bIsAnimation=!1,e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t),this.components.length=0,this.m_scalePoints=[],(t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<3)){var e=SuperMapAlgoPlot.PlottingUtil.clonePoints(t),o=this.arrowMeshs(e);o.LeftArowHead.unshift(o.LeftArowLeftBody[0][o.LeftArowLeftBody[0].length-1]),o.RightArowHead.unshift(o.RightArowLeftBody[o.RightArowLeftBody.length-1]),o.LeftArowLeftBody[0].push(o.LeftArowHead[0]),o.RightArowLeftBody.push(o.RightArowHead[0]),o.shapePts.push(o.shapePts[0]);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.LeftArowLeftBody[0]),n=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*l,o.LeftArowLeftBody[0]),i=[],r=[];if(n.bfind)for(var a=0;a<=n.index;a++)i.push(o.LeftArowLeftBody[0][a]);var s=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*l,o.LeftArowLeftBody[0]);if(s.bfind)for(var p=s.index;p<o.LeftArowLeftBody[0].length-1;p++)r.push(o.LeftArowLeftBody[0][p]);var u=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.RightArowLeftBody),c=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*u,o.RightArowLeftBody),P=[],g=[];if(c.bfind)for(var y=0;y<=c.index;y++)P.push(o.RightArowLeftBody[y]);var h=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*u,o.RightArowLeftBody);if(h.bfind)for(var f=h.index;f<o.RightArowLeftBody.length-1;f++)g.push(o.RightArowLeftBody[f]);var S=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o.RightArowRightBody),A=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.4*S,o.RightArowRightBody),M=[],d=[];if(A.bfind)for(var b=0;b<=A.index;b++)M.push(o.RightArowRightBody[b]);var v=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(.5*S,o.RightArowRightBody);if(v.bfind)for(var m=v.index;m<o.RightArowRightBody.length-1;m++)d.push(o.RightArowRightBody[m]);o.shapePts.length>0&&(this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o.shapePts,{strokeWidth:0,weight:0,lineWidthLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.LeftArowHead,{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.LeftArowRightBody),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,o.RightArowHead,{lineTypeLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,d)),this.scalePoints=[];for(var L=0;L<this.m_scalePoints.length;L++)this.m_scalePoints[L].isScalePoint=!0,this.m_scalePoints[L].tag=L,this.scalePoints.push(this.m_scalePoints[L]);this.scalePoints=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(this.scalePoints),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;var l,n=SuperMapAlgoPlot.PlottingUtil.operateControlPoints(o),i=new SuperMapAlgoPlot.Point((n[0].x+n[1].x)/2,(n[0].y+n[1].y)/2),r=new SuperMapAlgoPlot.Point((n[2].x+n[3].x)/2,(n[2].y+n[3].y)/2),a=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,i,r);if(a.isOnline){var s=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,i),p=SuperMapAlgoPlot.PlottingUtil.distance(i,r);(l=SuperMapAlgoPlot.PlottingUtil.equalFuzzy(s,0)?this.SV1_MinValue:s/p)>this.SV1_MaxValue&&(l=this.SV1_MaxValue)}else l=SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,i)<SuperMapAlgoPlot.PlottingUtil.distance(a.projectPoint,r)?this.SV1_MinValue:this.SV1_MaxValue;this.scaleValues=[],this.scaleValues.push(l)}this.calculateParts()}},{key:"arrowMeshs",value:function(t){var e=new SuperMapAlgoPlot.Path2D,o=[];o=this.m_bIsAnimation&&4===t.length?SuperMapAlgoPlot.PlottingUtil.clonePoints(t):SuperMapAlgoPlot.PlottingUtil.operateControlPoints(t);var l=this.scaleValues[0],n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],o[3]),i=SuperMapAlgoPlot.PlottingUtil.distance(o[1],o[2]),r=o[1].clone(),a=.5*(o[0].x+o[3].x),s=.5*(o[0].y+o[3].y),p=new SuperMapAlgoPlot.Point(a,s),u=.5*(o[1].x+o[2].x),c=.5*(o[1].y+o[2].y),P=new SuperMapAlgoPlot.Point(u,c),g=SuperMapAlgoPlot.PlottingUtil.distance(p,P);g<this.MIN_LEN_LeftToRightCenter&&(g=this.MIN_LEN_LeftToRightCenter),p.x=a+n*(a-u)/(g*this.QIANJI_RATE1),p.y=s+n*(s-c)/(g*this.QIANJI_RATE1),P.x=u+i*(u-a)/(g*this.QIANJI_RATE1),P.y=c+i*(c-s)/(g*this.QIANJI_RATE1);var y=new SuperMapAlgoPlot.Point(0,0),h=new SuperMapAlgoPlot.Point(0,0);y.x=a+n*(a-u)/(g*this.QIANJI_RATE2),y.y=s+n*(s-c)/(g*this.QIANJI_RATE2),h.x=u+i*(u-a)/(g*this.QIANJI_RATE2),h.y=c+i*(c-s)/(g*this.QIANJI_RATE2);var f=new SuperMapAlgoPlot.Point((o[0].x+o[1].x)/2,(o[0].y+o[1].y)/2),S=new SuperMapAlgoPlot.Point((o[2].x+o[3].x)/2,(o[2].y+o[3].y)/2),A=o[3].x-(o[3].x-p.x)*this.SCALE_AT,M=o[3].y-(o[3].y-p.y)*this.SCALE_AT,d=o[2].x-(o[2].x-P.x)*this.SCALE_AT,b=o[2].y-(o[2].y-P.y)*this.SCALE_AT,v=new SuperMapAlgoPlot.Point(0,0),m=new SuperMapAlgoPlot.Point(0,0),L=new SuperMapAlgoPlot.Point(0,0),O=new SuperMapAlgoPlot.Point(0,0);m.x=A-(M-o[3].y)*this.SCALE_ATAJ,m.y=M+(A-o[3].x)*this.SCALE_ATAJ,v.x=A+(M-o[3].y)*this.SCALE_ATAJ,v.y=M-(A-o[3].x)*this.SCALE_ATAJ,O.x=d-(b-o[2].y)*this.SCALE_ATAJ,O.y=b+(d-o[2].x)*this.SCALE_ATAJ,L.x=d+(b-o[2].y)*this.SCALE_ATAJ,L.y=b-(d-o[2].x)*this.SCALE_ATAJ;var T=new SuperMapAlgoPlot.Point(0,0),w=new SuperMapAlgoPlot.Point(0,0),x=new SuperMapAlgoPlot.Point(0,0),R=new SuperMapAlgoPlot.Point(0,0);T.x=3*v.x-2*A-(o[3].x-A)*this.SCALE_ATAE,T.y=3*v.y-2*M-(o[3].y-M)*this.SCALE_ATAE,w.x=3*m.x-2*A-(o[3].x-A)*this.SCALE_ATAE,w.y=3*m.y-2*M-(o[3].y-M)*this.SCALE_ATAE,x.x=3*L.x-2*d-(o[2].x-d)*this.SCALE_ATAE,x.y=3*L.y-2*b-(o[2].y-b)*this.SCALE_ATAE,R.x=3*O.x-2*d-(o[2].x-d)*this.SCALE_ATAE,R.y=3*O.y-2*b-(o[2].y-b)*this.SCALE_ATAE,p.x=a+n*(a-u)/(g*this.QIANJI_RATE4),p.y=s+n*(s-c)/(g*this.QIANJI_RATE4),P.x=u+i*(u-a)/(g*this.QIANJI_RATE4),P.y=c+i*(c-s)/(g*this.QIANJI_RATE4);var U=new SuperMapAlgoPlot.Point(0,0);U.x=o[0].x+(p.x-o[0].x)*this.SCALE_AW,U.y=o[0].y+(p.y-o[0].y)*this.SCALE_AW;var E=new SuperMapAlgoPlot.Point(0,0);E.x=o[1].x+(P.x-o[1].x)*this.SCALE_AW,E.y=o[1].y+(P.y-o[1].y)*this.SCALE_AW;var C=new SuperMapAlgoPlot.Point(0,0);C.x=v.x+(p.x-v.x)*this.SCALE_ATAJctrlSameSide,C.y=v.y+(p.y-v.y)*this.SCALE_ATAJctrlSameSide;var I=new SuperMapAlgoPlot.Point(0,0);I.x=O.x+(P.x-O.x)*this.SCALE_ATAJctrlSameSide,I.y=O.y+(P.y-O.y)*this.SCALE_ATAJctrlSameSide;var B=new SuperMapAlgoPlot.Point(0,0);B.x=m.x+(y.x-m.x)*this.SCALE_ATAJctrlDefSide,B.y=m.y+(y.y-m.y)*this.SCALE_ATAJctrlDefSide;var D=new SuperMapAlgoPlot.Point(0,0);D.x=L.x+(h.x-L.x)*this.SCALE_ATAJctrlDefSide,D.y=L.y+(h.y-L.y)*this.SCALE_ATAJctrlDefSide;var _=new SuperMapAlgoPlot.Point(0,0);_.x=f.x+(S.x-f.x)*l,_.y=f.y+(S.y-f.y)*l,this.m_scalePoints.push(new SuperMapAlgoPlot.Point(_.x,_.y));var N=new SuperMapAlgoPlot.Point(0,0),V=new SuperMapAlgoPlot.Point(0,0);N.x=o[0].x+(o[3].x-o[0].x)*l,N.y=o[0].y+(o[3].y-o[0].y)*l,V.x=o[1].x+(o[2].x-o[1].x)*l,V.y=o[1].y+(o[2].y-o[1].y)*l,N.x=N.x+(_.x-N.x)*this.QIANJI_RATE3,N.y=N.y+(_.y-N.y)*this.QIANJI_RATE3,V.x=V.x+(_.x-V.x)*this.QIANJI_RATE3,V.y=V.y+(_.y-V.y)*this.QIANJI_RATE3;var k=[];k.push(o[0].clone()),k.push(U.clone()),k.push(C.clone()),k.push(v.clone()),e.MoveTo(k[0]),e.CurveTo(k[1],k[2],k[3]);var j,Y=[],z=[],F=[],W=[],G=[],H=[],q=[];for(e.ToSubPathPolygons(q),Y.push(q[0]),j=q[0].length,e.LineTo(T),e.LineTo(o[3]),e.LineTo(w),(k=[]).push(m),k.push(B),k.push(N),k.push(_),e.LineTo(k[0]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)z.push(q[0][j]);for(j=q[0].length,e.CurveTo(k[1],k[2],k[3]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)F.push(q[0][j]);for(j=q[0].length,(k=[]).push(V),k.push(D),k.push(L),e.CurveTo(k[0],k[1],k[2]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)W.push(q[0][j]);for(j=q[0].length,e.LineTo(x),e.LineTo(o[2]),e.LineTo(R),(k=[]).push(O),k.push(I),k.push(E),k.push(r),e.LineTo(k[0]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)G.push(q[0][j]);for(j=q[0].length,e.CurveTo(k[1],k[2],k[3]),q=[],e.ToSubPathPolygons(q);j<q[0].length;j++)H.push(q[0][j]);return q=[],e.ToSubPathPolygons(q),{shapePts:q[0],LeftArowLeftBody:Y,LeftArowHead:z,LeftArowRightBody:F,ArowMidBody:[],RightArowLeftBody:W,RightArowHead:G,RightArowRightBody:H}}}])&&Ln(e.prototype,o),l&&Ln(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Rn(t){"@babel/helpers - typeof";return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function En(t,e){return(En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=In(t);if(e){var n=In(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function In(t){return(In=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1021=xn;var Bn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&En(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Cn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e.CLASS_NAME="SuperMap.Geometry.AlgoSymbol1022",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){t=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(t).pts;var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=e*this.scaleValues[0],l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,o,!1),i=SuperMapAlgoPlot.PlottingUtil.findPointInLine(l[0],l[1],.6*e),r=SuperMapAlgoPlot.PlottingUtil.findPointInLine(l[0],l[1],.5*e),a=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.1*e,l[0],r).pntLeft;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[a,i,l[1]],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0});var s=SuperMapAlgoPlot.PlottingUtil.findPointInLine(n[0],n[1],.4*e),p=SuperMapAlgoPlot.PlottingUtil.findPointInLine(n[0],n[1],.5*e),u=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(.1*e,n[0],p).pntRight;this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,[u,s,n[0]],{surroundLineFlag:!1,fillLimit:!0,fillColorLimit:!1,fill:!0,lineTypeLimit:!0,surroundLineLimit:!0}),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,l),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[n[1],n[0]]),this.leftPoint=SuperMapAlgoPlot.ArrowToolkit.afterPtsCrossZone(l),this.addScalePoint(l[0],0),this.finish()}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),o=SuperMapAlgoPlot.ArrowToolkit.beforePtsCrossZone(o).pts;var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(0===t){var n=SuperMapAlgoPlot.PlottingUtil.distance(o[0],e)/l;this.scaleValues[0]=n}}this.calculateParts()}}])&&Un(e.prototype,o),l&&Un(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Dn(t){"@babel/helpers - typeof";return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _n(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Nn(){return(Nn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var l=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jn(t)););return t}(t,e);if(l){var n=Object.getOwnPropertyDescriptor(l,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}}).apply(this,arguments)}function Vn(t,e){return(Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=jn(t);if(e){var n=jn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol1022=Bn;var Yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol1004);var e,o,l,n=kn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0!==(e=n.call(this,t)).scaleValues.length&&(e.scaleValues=[],e.scaleValues.push(.2),e.scaleValues.push(.2),e.scaleValues.push(.4),e.scaleValues.push(.4),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(.1),e.scaleValues.push(.2),e.scaleValues.push(1),e.scaleValues.push(1)),e.CLASS_NAME="SuperMapAlgoPlot.AlgoSymbol315",e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length>=2&&t.length<this.minEditPts&&this.calAssistantLine(),!(t.length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);SuperMapAlgoPlot.AlgoSymbol1004.prototype.applyUse.apply(this,arguments),this.scaleValues.length<9&&(this.scaleValues=[],this.scaleValues.push(.2),this.scaleValues.push(.2),this.scaleValues.push(.4),this.scaleValues.push(.4),this.scaleValues.push(.1),this.scaleValues.push(.2),this.scaleValues.push(.1),this.scaleValues.push(.2),this.scaleValues.push(1),this.scaleValues.push(1));var l,n=e*this.scaleValues[4],i=e*this.scaleValues[5],r=SuperMapAlgoPlot.PlottingUtil.distance(t[1],t[0]),a=SuperMapAlgoPlot.PlottingUtil.linePnt(t[1],t[0],r+i);l=(this.scaleValues[8],SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,t[1],a));var s,p=e*this.scaleValues[6],u=e*this.scaleValues[7],c=SuperMapAlgoPlot.PlottingUtil.linePnt(t[0],t[1],r+u);s=(this.scaleValues[9],SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(p,t[0],c));var P=[];P.push(new SuperMapAlgoPlot.Point(l.pntLeft.x,l.pntLeft.y)),P.push(new SuperMapAlgoPlot.Point(t[0].x,t[0].y)),P.push(new SuperMapAlgoPlot.Point(t[1].x,t[1].y)),P.push(new SuperMapAlgoPlot.Point(s.pntRight.x,s.pntRight.y));var g=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(P);g=SuperMapAlgoPlot.PlottingUtil.clearSamePts(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g),this.addScalePoint(l.pntLeft,3),this.addScalePoint(s.pntRight,4)}}},{key:"modifyPoint",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,o[0],o[1]);if(t<=2&&(SuperMapAlgoPlot.AlgoSymbol1004.prototype.modifyPoint.apply(this,arguments),Nn(jn(i.prototype),"modifyPoint",this).call(this,t,e)),3===t){var r=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,a=SuperMapAlgoPlot.PlottingUtil.distance(n,o[0])/l;this.scaleValues[4]=r,this.scaleValues[5]=a,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[8]=1:this.scaleValues[8]=0}if(4===t){var s=SuperMapAlgoPlot.PlottingUtil.distance(e,n)/l,p=SuperMapAlgoPlot.PlottingUtil.distance(n,o[1])/l;this.scaleValues[6]=s,this.scaleValues[7]=p,SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(o[0],o[1],e)?this.scaleValues[9]=1:this.scaleValues[9]=0}}this.calculateParts()}}])&&_n(e.prototype,o),l&&_n(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function zn(t){"@babel/helpers - typeof";return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wn(t,e){return(Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hn(t);if(e){var n=Hn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol315=Yn;var qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Gn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(0),e.scaleValues.push(.185)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,e);var o=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);if(!this.isEdit){var n=this.getSubSymbolScaleValue(l);(n>.3||n<=0)&&(n=.3),this.scaleValues[2]=n,this.scaleValues[0]=.5*this.scaleValues[2]}for(var i=this.scaleValues[0]*l,r=this.scaleValues[1],a=this.scaleValues[2]*l,s=.5*i,p=o-2*a-2*s,u=a,c=0;c<2;c++){var P=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(u,e);if(-1!==P.index){var g=u+s,y=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(g,e);if(-1!==y.index){var h=[],f=[];if(h.push(P.pts),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[P.index].x,P.pts.x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(e[P.index].y,P.pts.y)&&P.index+1<e.length){var S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[P.index+1],P.pts);0===r?h.push(new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y)):h.push(new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y))}else{S=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[P.index],P.pts);0===r?h.push(new SuperMapAlgoPlot.Point(S.pntLeft.x,S.pntLeft.y)):h.push(new SuperMapAlgoPlot.Point(S.pntRight.x,S.pntRight.y))}f.push(y.pts);var A=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(i,e[y.index],y.pts);if(0===r?f.push(new SuperMapAlgoPlot.Point(A.pntLeft.x,A.pntLeft.y)):f.push(new SuperMapAlgoPlot.Point(A.pntRight.x,A.pntRight.y)),0===c){this.scalePoints=[];var M=new SuperMapAlgoPlot.Point(h[1].x,h[1].y);M.isScalePoint=!0,M.tag=0,this.scalePoints.push(M),(M=new SuperMapAlgoPlot.Point(h[0].x,h[0].y)).isScalePoint=!0,M.tag=1,this.scalePoints.push(M)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,f),u+=p+s}}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[2],l);if(!i.bfind)return;var r=SuperMapAlgoPlot.PlottingUtil.distance(i.pts,e)/n,a=SuperMapAlgoPlot.PlottingUtil.pointIsRightToLine(l[i.index],i.pts,e);this.scaleValues[1]=a?1:0,this.scaleValues[0]=r}else if(1===t){for(var s=0,p=-1,u=null,c=0;c<l.length-1;c++){var P=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[c],l[c+1]);if(P.isOnline){var g=SuperMapAlgoPlot.PlottingUtil.distance(P.projectPoint,e);0==s?(s=g,p=c,u=e):g<s&&(s=g,p=c,u=e)}}if((g=SuperMapAlgoPlot.PlottingUtil.distance(e,l[0]))<s&&(s=g,p=0,u=l[0]),(g=SuperMapAlgoPlot.PlottingUtil.distance(e,l[l.length-1]))<s&&(s=g,p=l.length-1,u=l[l.length-1]),-1==p)return void(this.scaleValues[2]=0);for(var y=0,h=0;h<p;h++)y+=SuperMapAlgoPlot.PlottingUtil.distance(l[h],l[h+1]);var f=(y+=SuperMapAlgoPlot.PlottingUtil.distance(u,l[p]))/n;f>.7&&(f=.7),this.scaleValues[2]=f}}}}])&&Fn(e.prototype,o),l&&Fn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Jn(t){"@babel/helpers - typeof";return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zn(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xn(t,e){return(Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Kn(t);if(e){var n=Kn(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Jn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol15200=qn;var $n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xn(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Qn(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,t)}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(2==t.length){var e=new SuperMapAlgoPlot.Point(t[1].x,t[1].y);SuperMapAlgoPlot.PlottingUtil.rotateAngle(t[0],Math.PI/3,e),t.push(e)}for(var o=t[0].x,l=t[0].x,n=0;n<t.length;n++)o>t[n].x&&(o=t[n].x),l<t[n].x&&(l=t[n].x);var i=(l-o)/50,r=[];(r=r.concat(t)).push(t[0]);var a=this.mergeDashLine(this.dashLines,[]),s=this.computeDashLine(a,r);if(s.length>1)for(var p=0;p<s.length;p++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,s[p]);else 1==s.length&&this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t);var u=SuperMapAlgoPlot.PlottingUtil.getPolygonCenterPt(t),c={surroundLineFlag:!1,lineWidthLimit:!0,strokeWidth:1,weight:1,lineTypeLimit:!0,surroundLineLimit:!0},P=10*i;t.push(t[0]);for(var g=!0,y=u.x,h=u.x;g;){g=!1;for(var f,S,A,M,d,b=[],v=new SuperMapAlgoPlot.Point(y,u.y),m=SuperMapAlgoPlot.PlottingUtil.circlePoint(v,10,10,45),L=0;L<t.length-1;L++){var O=SuperMapAlgoPlot.PlottingUtil.intersectLines(v,m,t[L],t[L+1]);O.isIntersectLines&&(S=O.intersectPoint,(A=[]).push(t[L]),A.push(t[L+1]),(f=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(S,A)).isOnPolyLine&&b.push(S))}if(1<b.length){this.sortPts2D(b);for(var T=0;T<b.length-1;T++)d=new SuperMapAlgoPlot.Point((b[T].x+b[T+1].x)/2,(b[T].y+b[T+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,d)&&((M=[]).push(b[T]),M.push(b[T+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,c,!0))}b.length>0&&(g=!0),b=[];for(var w=new SuperMapAlgoPlot.Point(h,u.y),x=SuperMapAlgoPlot.PlottingUtil.circlePoint(w,5,5,45),R=0;R<t.length-1;R++)(f=SuperMapAlgoPlot.PlottingUtil.intersectLines(w,x,t[R],t[R+1])).isIntersectLines&&(S=f.intersectPoint,(A=[]).push(t[R]),A.push(t[R+1]),(f=SuperMapAlgoPlot.PlottingUtil.pointIsOnPolyLines(S,A)).isOnPolyLine&&b.push(S));if(1<b.length){this.sortPts2D(b);for(var U=0;U<b.length-1;U++)d=new SuperMapAlgoPlot.Point((b[U].x+b[U+1].x)/2,(b[U].y+b[U+1].y)/2),SuperMapAlgoPlot.PlottingUtil.ptIsInPolygon(t,d)&&((M=[]).push(b[U]),M.push(b[U+1]),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,M,c,!0))}b.length>0&&(g=!0),y-=P,h+=P}this.finish()}}},{key:"sortPts2D",value:function(t){for(var e=new SuperMapAlgoPlot.Point(0,0),o=0;o<t.length;o++)for(var l=0;l<t.length-1-o;l++)SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[l].x,t[l+1].x)?t[l].y>t[l+1].y&&(e=t[l],t[l]=t[l+1],t[l+1]=e):t[l].x>t[l+1].x&&(e=t[l],t[l]=t[l+1],t[l+1]=e);return t}}])&&Zn(e.prototype,o),l&&Zn(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ti(t){"@babel/helpers - typeof";return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ei(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function oi(t,e){return(oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ni(t);if(e){var n=ni(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ti(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ni(t){return(ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol25701=$n;var ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oi(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=li(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.1),e.scaleValues.push(.1)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){for(var e=0,o=0;o<t.length-1;o++)e+=SuperMapAlgoPlot.PlottingUtil.distance(t[o],t[o+1]);var l,n,i=this.scaleValues[0]*e,r=t[0],a=t[1],s=180*SuperMapAlgoPlot.PlottingUtil.radian(r,a)/Math.PI;l=SuperMapAlgoPlot.PlottingUtil.paraLine(t,i,!0),n=SuperMapAlgoPlot.PlottingUtil.paraLine(t,i,!1);var p=.15*e,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[0],p,p,s+165),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(n[0],p,p,s-165),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(l[l.length-1],p,p,s+15),g=SuperMapAlgoPlot.PlottingUtil.circlePoint(n[n.length-1],p,p,s-15),y=[];y.push(u),y.push(l[0]),y.push(l[l.length-1]),y.push(P),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=[];h.push(c),h.push(n[0]),h.push(n[n.length-1]),h.push(g),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var f=new SuperMapAlgoPlot.Point(l[0].x,l[0].y);f.isScalePoint=!0,f.tag=0,this.scalePoints.push(f),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);if(0==t){var i=o[0],r=o[1],a=SuperMapAlgoPlot.PlottingUtil.projectPoint(e,i,r),s=SuperMapAlgoPlot.PlottingUtil.distance(e,a);this.scaleValues[0]=s/l}}}}])&&ei(e.prototype,o),l&&ei(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ri(t){"@babel/helpers - typeof";return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ai(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function si(t,e){return(si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function pi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ui(t);if(e){var n=ui(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===ri(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol320=ii;var ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&si(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=pi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.02),e.scaleValues.push(.1),e.scaleValues.push(0)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=this.getSubSymbolScaleValue();this.isEdit||(this.scaleValues[0]=.5*l);var n=this.scaleValues[0]*e,i=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!0),r=SuperMapAlgoPlot.PlottingUtil.paraLine(o,.5*n,!1);i=SuperMapAlgoPlot.PlottingUtil.clearSamePts(i),r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);for(var a=e*this.scaleValues[1],s=.5*n,p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),u=s,c=0;u<p;u+=a,c++){var P=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(i,u);if(-1!==P.index){var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,i[P.index+1],P.pt),y=[];y.push(g.pntRight),y.push(P.pt),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y);var h=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,u);if(-1!==h.index){var f=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(n,r[h.index+1],h.pt);(y=[]).push(h.pt),y.push(f.pntLeft),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,y),0===c?this.addScalePoint(g.pntRight,0):1===c&&this.addScalePoint(P.pt,1)}}}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);for(var l=0,n=0;n<o.length-1;n++)l+=SuperMapAlgoPlot.PlottingUtil.distance(o[n],o[n+1]);var i,r=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);if(r=SuperMapAlgoPlot.PlottingUtil.clearSamePts(r),0==t){i=.5*(l*this.scaleValues[0]);var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,i);if(-1===a.index)return;var s=SuperMapAlgoPlot.PlottingUtil.distance(e,a.pt);this.scaleValues[0]=s/l}else if(1===t){i=.5*(l*this.scaleValues[0]);var p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(r,i);if(-1===p.index)return;var u=SuperMapAlgoPlot.PlottingUtil.projectPtOnPolyLine(e,r);if(-1==u.index)return;for(var c=SuperMapAlgoPlot.PlottingUtil.distance(p.pt,r[p.index+1]),P=p.index+1;P<u.index;P++)c+=SuperMapAlgoPlot.PlottingUtil.distance(r[P],r[P+1]);c+=SuperMapAlgoPlot.PlottingUtil.distance(r[u.index],u.pt),this.scaleValues[1]=c/l}}}}])&&ai(e.prototype,o),l&&ai(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Pi(t){"@babel/helpers - typeof";return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function yi(t,e){return(yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function hi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=fi(t);if(e){var n=fi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Pi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function fi(t){return(fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol321=ci;var Si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yi(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=hi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.025),e.scaleValues.push(.085)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue()),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,t),SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[0].x,t[t.length-1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(t[0].y,t[t.length-1].y)||t.push(t[0]);for(var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t),o=this.scaleValues[0]*e,l=-1*SuperMapAlgoPlot.PlottingUtil.innerOutlineDir(t),n=this.scaleValues[1]*e,i=.3*n,r=n;r<e;r+=n){var a=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,r);if(-1===a.index)return void this.finish();var s=r+i,p=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(t,s);if(-1===p.index)return void this.finish();var u=[],c=[];u.push(a.pt);var P=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[a.index],a.pt);1===l?u.push(new SuperMapAlgoPlot.Point(P.pntLeft.x,P.pntLeft.y)):u.push(new SuperMapAlgoPlot.Point(P.pntRight.x,P.pntRight.y)),c.push(p.pt);var g=SuperMapAlgoPlot.PlottingUtil.getSidePointsOfLine(o,t[p.index],p.pt);if(1===l?c.push(new SuperMapAlgoPlot.Point(g.pntLeft.x,g.pntLeft.y)):c.push(new SuperMapAlgoPlot.Point(g.pntRight.x,g.pntRight.y)),n===r){this.scalePoints=[];var y=new SuperMapAlgoPlot.Point(u[1].x,u[1].y);y.isScalePoint=!0,y.tag=0,this.scalePoints.push(y),(y=new SuperMapAlgoPlot.Point(u[0].x,u[0].y)).isScalePoint=!0,y.tag=1,this.scalePoints.push(y)}this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,u),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o[0].x,o[o.length-1].x)&&SuperMapAlgoPlot.PlottingUtil.equalFuzzy(o[0].y,o[o.length-1].y)||o.push(o[0]);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=new SuperMapAlgoPlot.Point(e.x,e.y);if(0===t){var i=SuperMapAlgoPlot.PlottingUtil.findPointInPolyLine(o,l*this.scaleValues[1]);if(-1===i.index)return;var r=SuperMapAlgoPlot.PlottingUtil.distance(i.pt,n)/l;this.scaleValues[0]=r}else if(1===t){for(var a=0,s=-1,p=null,u=0,c=o.length-1;u<c;u++){var P=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,o[u],o[u+1]);if(P.isOnline)if(null==p)s=u,p=P.projectPoint,a=SuperMapAlgoPlot.PlottingUtil.distance(e,p);else{var g=SuperMapAlgoPlot.PlottingUtil.distance(e,p);g<a&&(s=u,p=P.projectPoint,a=g)}}if(-1==s)return;for(var y=0,h=0,f=s-1;h<f;h++)y+=SuperMapAlgoPlot.PlottingUtil.distance(o[h],o[h+1]);var S=(y+=SuperMapAlgoPlot.PlottingUtil.distance(o[s],p))/l;S>.3&&(S=.3),this.scaleValues[1]=S}}}}])&&gi(e.prototype,o),l&&gi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ai(t){"@babel/helpers - typeof";return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function di(t,e){return(di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=vi(t);if(e){var n=vi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ai(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol322=Si;var mi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&di(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=bi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);0===this.scaleValues.length&&(this.scaleValues[0]=.05),this.isEdit||(this.scaleValues[0]=2*this.getSubSymbolScaleValue());var o=this.getLinePts(e,this.scaleValues[0]),l=new SuperMapAlgoPlot.Point((o.startPt.x+o.endPt.x)/2,(o.startPt.y+o.endPt.y)/2),n=SuperMapAlgoPlot.PlottingUtil.radian(o.startPt,o.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,i=SuperMapAlgoPlot.PlottingUtil.distance(o.startPt,o.endPt);this.addSubSymbols(l,i,n);for(var r=[],a=0;a<=o.startIndex;a++)r.push(e[a]);r.push(o.startPt);for(var s=.1*i,p=SuperMapAlgoPlot.PlottingUtil.makeDottedLine(r,s),u=0;u<p.length;u++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p[u]);if(o.endIndex<=e.length){var c=[];c.push(o.endPt);for(var P=o.endIndex+1;P<=e.length-1;P++)c.push(e[P]);var g=SuperMapAlgoPlot.PlottingUtil.makeDottedLine(c,s);for(u=0;u<g.length;u++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,g[u])}this.finish()}}},{key:"addSubSymbols",value:function(t,e,o){var l=.1*e,n=new SuperMapAlgoPlot.Point(-l,l),i=new SuperMapAlgoPlot.Point(l,-l),r=[];r.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,n,o)),r.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,i,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,r);var a=new SuperMapAlgoPlot.Point(-l,-l),s=new SuperMapAlgoPlot.Point(l,l),p=[];p.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,a,o)),p.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,s,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,p);var u=new SuperMapAlgoPlot.Point(-4*l,l),c=new SuperMapAlgoPlot.Point(-2*l,-l),P=[];P.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,u,o)),P.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,c,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P);var g=new SuperMapAlgoPlot.Point(-4*l,-l),y=new SuperMapAlgoPlot.Point(-2*l,l),h=[];h.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,g,o)),h.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,y,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,h);var f=new SuperMapAlgoPlot.Point(2*l,l),S=new SuperMapAlgoPlot.Point(4*l,-l),A=[];A.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,f,o)),A.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,S,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,A);var M=new SuperMapAlgoPlot.Point(2*l,-l),d=new SuperMapAlgoPlot.Point(4*l,l),b=[];b.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,M,o)),b.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,d,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,b)}},{key:"computeScaleValues",value:function(t,e){}}])&&Mi(e.prototype,o),l&&Mi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Li(t){"@babel/helpers - typeof";return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ti(t,e){return(Ti=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=xi(t);if(e){var n=xi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function xi(t){return(xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol326=mi;var Ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ti(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=wi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.5),e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);if(0===this.scaleValues.length&&(this.scaleValues.push(.5),this.scaleValues.push(.05),this.scaleValues.push(.02)),!this.isEdit){var o=this.getSubSymbolScaleValue();(o>.3||o<=0)&&(o=.3),this.scaleValues[1]=o,this.scaleValues[2]=.5*o}var l=this.getLinePts(e,this.scaleValues[1],this.scaleValues[0]),n=new SuperMapAlgoPlot.Point((l.startPt.x+l.endPt.x)/2,(l.startPt.y+l.endPt.y)/2),i=SuperMapAlgoPlot.PlottingUtil.dirAngle(l.startPt,l.endPt)*SuperMapAlgoPlot.PlottingUtil.RTOD,r=SuperMapAlgoPlot.PlottingUtil.distance(l.startPt,l.endPt);this.addSubSymbols(n,r,i);for(var a=[],s=0;s<=l.startIndex;s++)a.push(e[s]);a.push(l.startPt);var p=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e),u=[];u.push(0),u.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,l.startPt)/p),u.push(SuperMapAlgoPlot.PlottingUtil.getLineDistance(e,l.endPt)/p),u.push(1);for(var c=this.mergeDashLine(this.dashLines,u),P=this.computeDashLine(c,e),g=0;g<P.length;g++)this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,P[g]);if(0==P.length)this.addArrow(e[e.length-2],e[e.length-1],this.scaleValues[2]);else for(var y=0;y<P.length;y++)P.length-1==y&&this.addArrow(P[y],this.scaleValues[2]);this.addScalePoint(n,0);var h=SuperMapAlgoPlot.PlottingUtil.circlePoint(n,.5*r,.5*r,i+90);this.addScalePoint(h,1);var f=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[2],S=SuperMapAlgoPlot.PlottingUtil.linePnt(e[e.length-1],e[e.length-2],f);S.isScalePoint=!0,S.tag=0,this.addScalePoint(S,2),this.finish()}}},{key:"addSubSymbols",value:function(t,e,o){this.subSymbols.length>0&&this.computeSubSymbol(this.subSymbols[0],t,e,o-180)}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0===t){for(var i=0,r=-1,a=null,s=0;s<l.length-1;s++){var p;(p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[s],l[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(p.projectPoint,e)<i)&&(a=p,r=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint))}if(-1==r)return;var u=[];for(s=0;s<r+1;s++)u.push(l[s]);u.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y));var c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u)/n,P=this.scaleValues[1];c<P&&(c=P),c>1-P-this.scaleValues[2]&&(c=1-P-this.scaleValues[2]),this.scaleValues[0]=c}else if(1===t){var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[0],l),y=SuperMapAlgoPlot.PlottingUtil.distance(g.pts,e)/n;y>=.3&&(y=.3),this.scaleValues[0]<y||this.scaleValues[0]>1-y-this.scaleValues[2]?(this.scaleValues[0]<y?this.scaleValues[0]=y:this.scaleValues[0]=1-y-this.scaleValues[2],this.scaleValues[1]=y):this.scaleValues[1]=y}else if(2===t){var h=SuperMapAlgoPlot.PlottingUtil.distance(new SuperMapAlgoPlot.Point(e.x,e.y),o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<h)return;this.scaleValues[2]=h}}}}])&&Oi(e.prototype,o),l&&Oi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ui(t){"@babel/helpers - typeof";return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ei(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ci(t,e){return(Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ii(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Bi(t);if(e){var n=Bi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Bi(t){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol21501=Ri;var Di=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ci(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol21501);var e,o,l,n=Ii(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues.push(.05),e.scaleValues.push(.02)),e}return e=i,(o=[{key:"addSubSymbols",value:function(t,e,o){var l=new SuperMapAlgoPlot.Point(-.5*e,.25*e),n=new SuperMapAlgoPlot.Point(-.5*e,-.25*e),i=[];i.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l,o)),i.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,n,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i);var r=new SuperMapAlgoPlot.Point(-.5*e,.125*e),a=new SuperMapAlgoPlot.Point(.25*e,.125*e),s=new SuperMapAlgoPlot.Point(.5*e,0),p=new SuperMapAlgoPlot.Point(.25*e,-.125*e),u=new SuperMapAlgoPlot.Point(-.5*e,-.125*e),c=[];c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,r,o)),c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,a,o)),c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,s,o)),c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,p,o)),c.push(SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,u,o)),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,c)}}])&&Ei(e.prototype,o),l&&Ei(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function _i(t){"@babel/helpers - typeof";return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ni(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Vi(t,e){return(Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ki(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=ji(t);if(e){var n=ji(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===_i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function ji(t){return(ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol327=Di;var Yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vi(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=ki(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.35,e.scaleValues[2]=.65,e.scaleValues[3]=.02),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){if(0===this.scaleValues.length&&(this.scaleValues[0]=.05,this.scaleValues[1]=.35,this.scaleValues[2]=.65,this.scaleValues[3]=.02),!this.isEdit){var e=this.getSubSymbolScaleValue();(e>.3||e<=0)&&(e=.3),this.scaleValues[0]=e,this.scaleValues[3]=.5*e}SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);var o=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o);var l=SuperMapAlgoPlot.PlottingUtil.polylineDistance(o),n=l*this.scaleValues[0],i=(this.scaleValues[1],this.scaleValues[2],this.getLinePts(o,this.scaleValues[0]/2,this.scaleValues[1])),r=this.getLinePts(o,this.scaleValues[0]/2,this.scaleValues[2]),a=new SuperMapAlgoPlot.Point((i.startPt.x+i.endPt.x)/2,(i.startPt.y+i.endPt.y)/2),s=180*SuperMapAlgoPlot.PlottingUtil.radian(i.startPt,i.endPt)/Math.PI;this.createSubSymbol1(a,n,s);var p=new SuperMapAlgoPlot.Point((r.startPt.x+r.endPt.x)/2,(r.startPt.y+r.endPt.y)/2),u=180*SuperMapAlgoPlot.PlottingUtil.radian(r.startPt,r.endPt)/Math.PI;this.createSubSymbol2(p,n,u);var c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,.5*n,.5*n,s+90),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(p,.5*n,.5*n,u+90);this.scalePoints=[],this.addScalePoint(a,0),this.addScalePoint(p,0),this.addScalePoint(c,0),this.addScalePoint(P,0);var g=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t)*this.scaleValues[3],y=SuperMapAlgoPlot.PlottingUtil.linePnt(o[o.length-1],o[o.length-2],g);this.addScalePoint(y);var h=[];h.push(0),this.scaleValues[1]<this.scaleValues[2]?(h.push(this.scaleValues[1]-.5*this.scaleValues[0]),h.push(this.scaleValues[1]+.5*this.scaleValues[0]),h.push(this.scaleValues[2]-.5*this.scaleValues[0]),h.push(this.scaleValues[2]+.5*this.scaleValues[0])):(h.push(this.scaleValues[2]-.5*this.scaleValues[0]),h.push(this.scaleValues[2]+.5*this.scaleValues[0]),h.push(this.scaleValues[1]-.5*this.scaleValues[0]),h.push(this.scaleValues[1]+.5*this.scaleValues[0])),h.push(1);var f=this.mergeDashLine(this.dashLines,h),S=this.computeDashLine(f,o);if(0==S.length)this.addArrow([o[o.length-2],o[o.length-1]],this.scaleValues[3]);else for(var A=0;A<S.length;A++)S.length-1==A&&(S[S.length-1].length>=2?this.addArrow(S[A],this.scaleValues[3]):this.addArrow([o[o.length-2],o[o.length-1]],this.scaleValues[3])),this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,S[A]);this.finish()}}},{key:"createSubSymbol1",value:function(t,e,o){var l=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,l)}},{key:"createSubSymbol2",value:function(t,e,o){var l=this.getSubSymbolPts(e);this.createSubSymbol(t,e,o,l)}},{key:"createSubSymbol",value:function(t,e,o,l){for(var n=[],i=0;i<l.length;i++){var r=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[i],o);n.push(r)}this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,n,{lineTypeLimit:!0,surroundLineLimit:!0})}},{key:"getSubSymbolPts",value:function(t){var e=t/4,o=[];return o.push(new SuperMapAlgoPlot.Point(-2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,-e)),o.push(new SuperMapAlgoPlot.Point(2*e,0)),o.push(new SuperMapAlgoPlot.Point(0,e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMapAlgoPlot.PlottingUtil.clearSamePts(l);var n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(l);if(0==t){for(var i=0,r=-1,a=null,s=0;s<l.length-1;s++){var p=null;(p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[s],l[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(p.projectPoint,e)<i)&&(a=p,r=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint))}if(-1==r)return;var u=[];for(s=0;s<r+1;s++)u.push(l[s]);u.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y)),(c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u)/n)<(P=this.scaleValues[0])/2&&(c=P),c>1-P/2-this.scaleValues[3]&&(c=1-P/2-this.scaleValues[3]),this.scaleValues[1]=c}else if(1==t){var c,P;for(i=0,r=-1,a=null,s=0;s<l.length-1;s++){p=null;(p=SuperMapAlgoPlot.PlottingUtil.pointProjectToSegment(e,l[s],l[s+1])).isOnline&&(0===i||SuperMapAlgoPlot.PlottingUtil.distance(p.projectPoint,e)<i)&&(a=p,r=s,i=SuperMapAlgoPlot.PlottingUtil.distance(e,p.projectPoint))}if(-1==r)return;for(u=[],s=0;s<r+1;s++)u.push(l[s]);u.push(new SuperMapAlgoPlot.Point(a.projectPoint.x,a.projectPoint.y)),(c=SuperMapAlgoPlot.PlottingUtil.polylineDistance(u)/n)<(P=this.scaleValues[0])/2&&(c=P/2),c>1-P/2-this.scaleValues[3]&&(c=1-P/2-this.scaleValues[3]),this.scaleValues[2]=c}else if(2==t){var g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[1],l),y=2*SuperMapAlgoPlot.PlottingUtil.distance(g.pts,e)/n;this.scaleValues[1]<y/2||this.scaleValues[1]>1-y/2-this.scaleValues[3]?(this.scaleValues[1]<y/2?this.scaleValues[1]=y/2:this.scaleValues[1]=1-y/2-this.scaleValues[3],this.scaleValues[0]=y):this.scaleValues[0]=y}else if(3==t){g=SuperMapAlgoPlot.PlottingUtil.getPtsIndexByDistance(n*this.scaleValues[2],l),y=2*SuperMapAlgoPlot.PlottingUtil.distance(g.pts,e)/n;this.scaleValues[2]<y/2||this.scaleValues[2]>1-y/2-this.scaleValues[3]?(this.scaleValues[2]<y/2?this.scaleValues[2]=y/2:this.scaleValues[2]=1-y/2-this.scaleValues[3],this.scaleValues[0]=y):this.scaleValues[0]=y}else if(4==t){var h=SuperMapAlgoPlot.PlottingUtil.distance(e,o[o.length-1])/SuperMapAlgoPlot.PlottingUtil.polylineDistance(o);if(.5<h)return;this.scaleValues[3]=h}}}}])&&Ni(e.prototype,o),l&&Ni(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function zi(t){"@babel/helpers - typeof";return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Wi(t,e){return(Wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Hi(t);if(e){var n=Hi(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===zi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Hi(t){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol3010102=Yi;var qi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wi(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol3010102);var e,o,l,n=Gi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&(e.scaleValues[0]=.05,e.scaleValues[1]=.05),e}return e=i,(o=[{key:"createSubSymbol1",value:function(t,e,o){for(var l=this.getSubSymbolPts(e),n=0;n<l.length;n++)this.createSubSymbol(t,e,o,l[n])}},{key:"createSubSymbol2",value:function(t,e,o){for(var l=this.getSubSymbolPts(e),n=0;n<l.length;n++)this.createSubSymbol(t,e,o,l[n])}},{key:"createSubSymbol",value:function(t,e,o,l){for(var n=[],i=0;i<l.length;i++){var r=SuperMapAlgoPlot.PlottingUtil.coordinateTrans(t,l[i],o);n.push(r)}var a=SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL;2===l.length&&(a=SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL),this.addCell(a,n)}},{key:"getSubSymbolPts",value:function(t){var e=[],o=t/2,l=[];l.push(new SuperMapAlgoPlot.Point(-2*o,0)),l.push(new SuperMapAlgoPlot.Point(0,-o)),l.push(new SuperMapAlgoPlot.Point(2*o,0)),l.push(new SuperMapAlgoPlot.Point(0,o)),e.push(l);var n=[];return n.push(new SuperMapAlgoPlot.Point(-o,o)),n.push(new SuperMapAlgoPlot.Point(o,o)),e.push(n),e}}])&&Fi(e.prototype,o),l&&Fi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ji(t){"@babel/helpers - typeof";return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zi(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Xi(t,e){return(Xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=Ki(t);if(e){var n=Ki(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===Ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function Ki(t){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol328=qi;var $i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xi(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=Qi(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMapAlgoPlot.PlottingUtil.clearSamePts(o),this.addCell(SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var n=Math.floor(l*o.length/4),i=new SuperMapAlgoPlot.Point(o[n].x,o[n].y),r=new SuperMapAlgoPlot.Point(o[n+1].x,o[n+1].y),a=new SuperMapAlgoPlot.Point((i.x+r.x)/2,(i.y+r.y)/2),s=SuperMapAlgoPlot.PlottingUtil.radian(r,a)*SuperMapAlgoPlot.PlottingUtil.RTOD,p=this.scaleValues[0]*e/2,u=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,s),c=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,4*p,4*p,s+270),P=SuperMapAlgoPlot.PlottingUtil.circlePoint(a,p,p,s+180);this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,[u,c,P])}this.finish()}}}])&&Zi(e.prototype,o),l&&Zi(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();function tr(t){"@babel/helpers - typeof";return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function er(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function or(t,e){return(or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,l=nr(t);if(e){var n=nr(this).constructor;o=Reflect.construct(l,arguments,n)}else o=l.apply(this,arguments);return function(t,e){if(e&&("object"===tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,o)}}function nr(t){return(nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SuperMapAlgoPlot.AlgoSymbol330=$i;var ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&or(t,e)}(i,SuperMapAlgoPlot.AlgoSymbol);var e,o,l,n=lr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),0===(e=n.call(this,t)).scaleValues.length&&e.scaleValues.push(.05),e}return e=i,(o=[{key:"calculateParts",value:function(){this.init();var t=SuperMapAlgoPlot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMapAlgoPlot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){SuperMapAlgoPlot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var e=[];e=3>=t.length?SuperMapAlgoPlot.Primitives.getSpatialData(SuperMapAlgoPlot.SymbolType.KIDNEY,t):SuperMapAlgoPlot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMapAlgoPlot.PlottingUtil.clearSamePts(e);var o=20*this.getSubSymbolScaleValue(),l=.1*this.getSubSymbolScaleValue(),n=SuperMapAlgoPlot.PlottingUtil.polylineDistance(e);o>.05*n?l=.01*(o=.05*n):o<.005*n&&(o=.005*n);for(var i=SuperMapAlgoPlot.PlottingUtil.makeDottedLine(e,o),r=0;r<i.length;r++)if(this.addCell(SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL,i[r]),r>0){var a=i[r-1][i[r-1].length-1],s=i[r][0],p=SuperMapAlgoPlot.PlottingUtil.midPoint(a,s);this.addCell(SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL,[p,new SuperMapAlgoPlot.Point(p.x+l,p.y)],{lineTypeLimit:!0,surroundLineLimit:!0,fillLimit:!0,fillColorLimit:!1,fill:!0})}this.finish()}}}])&&er(e.prototype,o),l&&er(e,l),Object.defineProperty(e,"prototype",{writable:!1}),i}();SuperMapAlgoPlot.AlgoSymbol329=ir;SuperMapAlgoPlot.BasicAlgoSymbolFactory=SuperMapAlgoPlot.BasicAlgoSymbolFactory||{};SuperMapAlgoPlot.BasicAlgoSymbolFactory.getAlgoSymbol=function(t,e,o){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL:return new SuperMapAlgoPlot.GeoTooltipBox(o);case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM:return new SuperMapAlgoPlot.GeoTooltipBoxM(o);case SuperMapAlgoPlot.SymbolType.PATHTEXT:return new SuperMapAlgoPlot.PathText(o);case SuperMapAlgoPlot.SymbolType.ARROWLINE:return new SuperMapAlgoPlot.ArrowLine(o);case SuperMapAlgoPlot.SymbolType.CURVEEIGHT:return new SuperMapAlgoPlot.CurveEight(o);case SuperMapAlgoPlot.SymbolType.RUNWAY:return new SuperMapAlgoPlot.Runway(o);case SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE:return new SuperMapAlgoPlot.ConcentricCircle(o);case SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE:return new SuperMapAlgoPlot.CombinationalCircle(o);case SuperMapAlgoPlot.SymbolType.FREECURVE:return new SuperMapAlgoPlot.FreeCurve(o);case SuperMapAlgoPlot.SymbolType.REGULARPOLYGON:return new SuperMapAlgoPlot.RegularPolygon(o);case SuperMapAlgoPlot.SymbolType.BRACESYMBOL:return new SuperMapAlgoPlot.Brace(o);case SuperMapAlgoPlot.SymbolType.TRAPEZOIDSYMBOL:return new SuperMapAlgoPlot.Trapezoid(o);case SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX:return new SuperMapAlgoPlot.SymbolTextBox(o);case SuperMapAlgoPlot.SymbolType.NODECHAIN:return new SuperMapAlgoPlot.NodeChain(o);case SuperMapAlgoPlot.SymbolType.LINERELATION:return new SuperMapAlgoPlot.LineRelation(o);case SuperMapAlgoPlot.SymbolType.LINEMARKING:return new SuperMapAlgoPlot.LineMarking(o);case SuperMapAlgoPlot.SymbolType.POLYGONREGION:return new SuperMapAlgoPlot.PolygonRegion(o);case SuperMapAlgoPlot.SymbolType.WIRE:return new SuperMapAlgoPlot.Wire(o);case SuperMapAlgoPlot.SymbolType.LINEARARROW:return new SuperMapAlgoPlot.LinearArrow(o);case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:return new SuperMapAlgoPlot.Polybezier(o);case SuperMapAlgoPlot.SymbolType.NEWPIESYMBOL:return new SuperMapAlgoPlot.NewPie(o);case SuperMapAlgoPlot.SymbolType.NEWARCSYMBOL:return new SuperMapAlgoPlot.NewArc(o);case SuperMapAlgoPlot.SymbolType.NEWCHORDSYMBOL:return new SuperMapAlgoPlot.NewChord(o);default:return new SuperMapAlgoPlot.AlgoSymbol(o)}else if(22===t)switch(e){case 1001:return new SuperMapAlgoPlot.AlgoSymbol1001(o);case 1002:return new SuperMapAlgoPlot.AlgoSymbol1002(o);case 1003:return new SuperMapAlgoPlot.AlgoSymbol1003(o);case 1004:return new SuperMapAlgoPlot.AlgoSymbol1004(o);case 1005:return new SuperMapAlgoPlot.AlgoSymbol1005(o);case 1006:return new SuperMapAlgoPlot.AlgoSymbol1006(o);case 1007:return new SuperMapAlgoPlot.AlgoSymbol1007(o);case 1008:return new SuperMapAlgoPlot.AlgoSymbol1008(o);case 1009:return new SuperMapAlgoPlot.AlgoSymbol1009(o);case 1010:return new SuperMapAlgoPlot.AlgoSymbol1010(o);case 1011:return new SuperMapAlgoPlot.AlgoSymbol1011(o);case 1012:return new SuperMapAlgoPlot.AlgoSymbol1012(o);case 1013:return new SuperMapAlgoPlot.AlgoSymbol1013(o);case 1014:return new SuperMapAlgoPlot.AlgoSymbol1014(o);case 1015:return new SuperMapAlgoPlot.AlgoSymbol1015(o);case 1016:return new SuperMapAlgoPlot.AlgoSymbol1016(o);case 1017:return new SuperMapAlgoPlot.AlgoSymbol1017(o);case 1018:return new SuperMapAlgoPlot.AlgoSymbol1018(o);case 1019:return new SuperMapAlgoPlot.AlgoSymbol1019(o);case 1020:return new SuperMapAlgoPlot.AlgoSymbol1020(o);case 1021:return new SuperMapAlgoPlot.AlgoSymbol1021(o);case 1022:return new SuperMapAlgoPlot.AlgoSymbol1022(o);default:return null}else{if(421!==t)return null;switch(e){case 311:return new SuperMapAlgoPlot.AlgoSymbol1004(o);case 315:return new SuperMapAlgoPlot.AlgoSymbol315(o);case 317:return new SuperMapAlgoPlot.AlgoSymbol1006(o);case 318:return new SuperMapAlgoPlot.AlgoSymbol1002(o);case 319:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 320:return new SuperMapAlgoPlot.AlgoSymbol320(o);case 321:return new SuperMapAlgoPlot.AlgoSymbol321(o);case 322:return new SuperMapAlgoPlot.AlgoSymbol322(o);case 323:return new SuperMapAlgoPlot.AlgoSymbol25701(o);case 324:return new SuperMapAlgoPlot.AlgoSymbol3010106(o);case 325:return new SuperMapAlgoPlot.AlgoSymbol15200(o);case 326:return new SuperMapAlgoPlot.AlgoSymbol326(o);case 327:return new SuperMapAlgoPlot.AlgoSymbol327(o);case 328:return new SuperMapAlgoPlot.AlgoSymbol328(o);case 329:return new SuperMapAlgoPlot.AlgoSymbol329(o);case 330:return new SuperMapAlgoPlot.AlgoSymbol330(o);case 331:return new SuperMapAlgoPlot.AlgoSymbol29101(o);default:return null}}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getSymbolWayType=function(t,e){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}else if(22===t)switch(e){case 1005:case 1008:case 1012:case 1014:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 1007:case 1009:case 1013:case 1015:case 1017:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.isAccessServer=function(t,e){if(0===t||22===t)return!1;if(421!==t)return!0;switch(e){case 311:case 317:case 318:case 315:case 319:case 320:case 321:case 322:case 323:case 324:case 325:case 326:case 327:case 328:case 329:case 330:case 331:return!1;default:return!0}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getDefaultSubSymbols=function(){return[]},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getMinEditPts=function(t,e){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.TEXTSYMBOL:case SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE:return 1;case SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL:case SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL:case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:case SuperMapAlgoPlot.SymbolType.KIDNEY:case SuperMapAlgoPlot.SymbolType.ARROWLINE:case SuperMapAlgoPlot.SymbolType.BRACESYMBOL:case SuperMapAlgoPlot.SymbolType.CURVEEIGHT:case SuperMapAlgoPlot.SymbolType.FREECURVE:case SuperMapAlgoPlot.SymbolType.LINEMARKING:case SuperMapAlgoPlot.SymbolType.LINERELATION:case SuperMapAlgoPlot.SymbolType.NODECHAIN:case SuperMapAlgoPlot.SymbolType.PATHTEXT:case SuperMapAlgoPlot.SymbolType.REGULARPOLYGON:case SuperMapAlgoPlot.SymbolType.RUNWAY:case SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX:case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM:case SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE:case SuperMapAlgoPlot.SymbolType.WIRE:case SuperMapAlgoPlot.SymbolType.LINEARARROW:return 2;case SuperMapAlgoPlot.SymbolType.ARCSYMBOL:case SuperMapAlgoPlot.SymbolType.CHORDSYMBOL:case SuperMapAlgoPlot.SymbolType.PIESYMBOL:case SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL:case SuperMapAlgoPlot.SymbolType.PARALLELOGRAM:case SuperMapAlgoPlot.SymbolType.PARALLELLINE:case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:case SuperMapAlgoPlot.SymbolType.POLYGONREGION:case SuperMapAlgoPlot.SymbolType.TRAPEZOIDSYMBOL:case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL:case SuperMapAlgoPlot.SymbolType.NEWARCSYMBOL:case SuperMapAlgoPlot.SymbolType.NEWPIESYMBOL:case SuperMapAlgoPlot.SymbolType.NEWCHORDSYMBOL:return 3}else if(22===t)switch(e){case 1001:case 1003:case 1005:case 1007:case 1008:case 1009:case 1011:case 1012:case 1013:case 1014:case 1015:case 1016:case 1017:case 1019:case 1020:case 1022:return 2;case 1002:case 1004:case 1006:case 1010:case 1018:case 1021:return 3}else if(421===t)switch(e){case 319:case 320:case 321:case 324:case 325:case 326:case 327:case 328:case 329:case 330:case 331:return 2;case 311:case 315:case 317:case 318:case 322:case 323:return 3}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getMaxEditPts=function(t,e){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.TEXTSYMBOL:return 1;case SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL:case SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL:case SuperMapAlgoPlot.SymbolType.BRACESYMBOL:case SuperMapAlgoPlot.SymbolType.LINEMARKING:case SuperMapAlgoPlot.SymbolType.LINERELATION:case SuperMapAlgoPlot.SymbolType.RUNWAY:case SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX:case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM:case SuperMapAlgoPlot.SymbolType.LINEARARROW:return 2;case SuperMapAlgoPlot.SymbolType.ARCSYMBOL:case SuperMapAlgoPlot.SymbolType.CHORDSYMBOL:case SuperMapAlgoPlot.SymbolType.PIESYMBOL:case SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL:case SuperMapAlgoPlot.SymbolType.PARALLELOGRAM:case SuperMapAlgoPlot.SymbolType.KIDNEY:case SuperMapAlgoPlot.SymbolType.CURVEEIGHT:case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL:case SuperMapAlgoPlot.SymbolType.TRAPEZOIDSYMBOL:case SuperMapAlgoPlot.SymbolType.NEWARCSYMBOL:case SuperMapAlgoPlot.SymbolType.NEWPIESYMBOL:case SuperMapAlgoPlot.SymbolType.NEWCHORDSYMBOL:return 3;case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:case SuperMapAlgoPlot.SymbolType.PARALLELLINE:case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:case SuperMapAlgoPlot.SymbolType.ARROWLINE:case SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE:case SuperMapAlgoPlot.SymbolType.FREECURVE:case SuperMapAlgoPlot.SymbolType.NODECHAIN:case SuperMapAlgoPlot.SymbolType.PATHTEXT:case SuperMapAlgoPlot.SymbolType.POLYGONREGION:case SuperMapAlgoPlot.SymbolType.REGULARPOLYGON:case SuperMapAlgoPlot.SymbolType.WIRE:case SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE:return 9999}else if(22===t)switch(e){case 1003:case 1019:case 1020:case 1022:return 2;case 1006:case 1021:return 4;case 1001:case 1002:case 1004:case 1005:case 1007:case 1008:case 1009:case 1010:case 1011:case 1012:case 1013:case 1014:case 1015:case 1016:case 1017:case 1018:return 99999}else if(421===t)switch(e){case 320:return 2;case 329:case 330:case 331:return 3;case 317:return 4;case 323:return 1e3;case 311:case 315:case 318:case 319:case 321:case 322:case 324:case 325:case 326:case 327:case 328:return 99999}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getDefaultStyle=function(t,e){var o={};if(421===t)switch(e){case 320:case 321:o.color=o.strokeColor="#000000";break;case 322:o.color=o.strokeColor="#bc744d"}return o},SuperMapAlgoPlot.BasicAlgoSymbolFactory.zoomInCalSymbol=function(){if(22!==libID)return!1;switch(code){case 1012:case 1013:case 1014:case 1015:return!0;default:return!1}},SuperMapAlgoPlot.BasicAlgoSymbolFactory.zoomCalSymbol=function(){return!1},SuperMapAlgoPlot.BasicAlgoSymbolFactory.getSymbolName=function(t,e){var o="";if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.TEXTSYMBOL:o="文本";break;case SuperMapAlgoPlot.SymbolType.CIRCLESYMBOL:o="圆";break;case SuperMapAlgoPlot.SymbolType.RECTANGLESYMBOL:o="矩形";break;case SuperMapAlgoPlot.SymbolType.ARCSYMBOL:o="弧线";break;case SuperMapAlgoPlot.SymbolType.CHORDSYMBOL:o="弓形";break;case SuperMapAlgoPlot.SymbolType.PIESYMBOL:o="扇形";break;case SuperMapAlgoPlot.SymbolType.ELLIPSESYMBOL:o="椭圆";break;case SuperMapAlgoPlot.SymbolType.PARALLELOGRAM:o="平行四边形";break;case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:o="多边形";break;case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:o="折线";break;case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:o="贝赛尔曲线";break;case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:o="闭合贝塞尔曲线";break;case SuperMapAlgoPlot.SymbolType.PARALLELLINE:o="平行线";break;case SuperMapAlgoPlot.SymbolType.KIDNEY:o="集结地";break;case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOL:o="注记指示框";break;case SuperMapAlgoPlot.SymbolType.ARROWLINE:o="箭头线";break;case SuperMapAlgoPlot.SymbolType.COMBINATIONALCIRCLE:o="组合圆";break;case SuperMapAlgoPlot.SymbolType.CONCENTRICCIRCLE:o="同心圆";break;case SuperMapAlgoPlot.SymbolType.CURVEEIGHT:o="八字形";break;case SuperMapAlgoPlot.SymbolType.FREECURVE:o="自由线";break;case SuperMapAlgoPlot.SymbolType.ANNOFRAMESYMBOLM:o="多角标注框";break;case SuperMapAlgoPlot.SymbolType.LINEMARKING:o="线型标注";break;case SuperMapAlgoPlot.SymbolType.LINERELATION:o="对象间连线";break;case SuperMapAlgoPlot.SymbolType.NODECHAIN:o="节点链";break;case SuperMapAlgoPlot.SymbolType.PATHTEXT:o="沿线注记";break;case SuperMapAlgoPlot.SymbolType.POLYGONREGION:o="多边形区域管理";break;case SuperMapAlgoPlot.SymbolType.RUNWAY:o="跑道线";break;case SuperMapAlgoPlot.SymbolType.SYMBOLTEXTBOX:o="标注框";break;case SuperMapAlgoPlot.SymbolType.REGULARPOLYGON:o="正多边形";break;case SuperMapAlgoPlot.SymbolType.BRACESYMBOL:o="大括号";break;case SuperMapAlgoPlot.SymbolType.TRAPEZOIDSYMBOL:o="梯形";break;case SuperMapAlgoPlot.SymbolType.WIRE:o="铁丝网";break;case SuperMapAlgoPlot.SymbolType.LINEARARROW:o="直线箭头";break;case SuperMapAlgoPlot.SymbolType.NEWPIESYMBOL:o="扇形";break;case SuperMapAlgoPlot.SymbolType.NEWARCSYMBOL:o="弧线";break;case SuperMapAlgoPlot.SymbolType.NEWCHORDSYMBOL:o="弓形"}return o};SuperMapAlgoPlot.AlgoSymbolFactory=SuperMapAlgoPlot.AlgoSymbolFactory||{};SuperMapAlgoPlot.AlgoSymbolFactory.getAlgoSymbol=function(t){var e=t.libID,o=t.code;return 0!==e&&22!==e&&421!==e||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===e&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getAlgoSymbol(e,o,t):123===e&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getAlgoSymbol(e,o,t):999===e&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getAlgoSymbol(e,o,t):null:SuperMapAlgoPlot.BasicAlgoSymbolFactory.getAlgoSymbol(e,o,t)},SuperMapAlgoPlot.AlgoSymbolFactory.getSymbolWayType=function(t,e){if(0===t)switch(e){case SuperMapAlgoPlot.SymbolType.POLYLINESYMBOL:case SuperMapAlgoPlot.SymbolType.ARBITRARYPOLYGONSYMBOL:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;case SuperMapAlgoPlot.SymbolType.POLYBEZIERSYMBOL:case SuperMapAlgoPlot.SymbolType.POLYBEZIERCLOSESYMBOL:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}if(22===t)switch(e){case 1005:case 1008:case 1012:case 1014:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 1007:case 1009:case 1013:case 1015:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}if(100===t)switch(e){case 15200:case 15201:case 16203:case 17703:case 17704:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21600:case 21900:case 22e3:case 22103:case 23800:case 24700:case 25201:case 25400:case 25601:case 25801:case 25901:case 26500:case 26501:case 26502:case 26503:case 26600:case 28900:case 29e3:case 29003:case 29903:case 3e4:case 30001:case 30002:case 30100:case 30102:case 30200:case 30201:case 30800:case 31803:case 33400:case 34900:case 34901:case 34902:case 35e3:case 36400:case 44200:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 16500:case 17400:case 17401:case 17500:case 17501:case 23400:case 23500:case 23600:case 23700:case 27300:case 28200:case 28300:case 28400:case 37600:case 37601:case 37700:case 39e3:case 40100:case 40101:case 42400:case 2350001:case 3032e3:case 4010800:case 4010801:case 4011100:case 4011101:case 4022100:case 4022101:case 4022102:case 39101:case 44300:case 22200:case 27701:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 12500:case 12502:case 16100:case 20300:case 25501:case 25502:case 25503:case 32900:case 34700:case 35200:case 36401:case 41200:case 41201:case 41202:case 42700:case 44400:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}if(123===t)switch(e){case 21003:case 21207:case 2120701:case 2121503:case 21218:case 30008:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 30009:case 5021803:case 5022001:case 5022002:case 40301:case 4030101:case 4030102:case 4030103:case 4030104:case 40303:case 4030301:case 4030302:case 4030303:case 50101:case 5010101:case 50102:case 5010201:case 5010202:case 5010203:case 5010204:case 50103:case 5010301:case 5010302:case 5010303:case 5010304:case 50107:case 5010701:case 50210:case 50220:case 50221:case 50225:case 5030102:case 50303:case 5030301:case 50309:case 50320:case 5032001:case 5032002:case 5032003:case 50321:case 5032101:case 5032102:case 50322:case 5032201:case 50330:case 5033001:case 5034203:case 5035201:case 5035204:case 60205:case 90105:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 20915:case 2091502:case 2092101:case 2120702:case 21216:case 2121601:case 2121602:case 21605:case 30010:case 30011:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 30012:case 30020:case 3002001:case 3002002:case 3002005:case 30025:case 3002501:case 30026:case 40104:case 40302:case 4030201:case 4030202:case 4030203:case 4030204:case 50227:case 5035205:case 60301:case 6030101:case 6030102:case 6030103:case 6030104:case 6030105:case 6030106:case 6030107:case 70202:case 7020201:case 7020202:case 90107:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}},SuperMapAlgoPlot.AlgoSymbolFactory.isAccessServer=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.isAccessServer(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.isAccessServer(t,e):999!==t||void 0===SuperMapAlgoPlot.YJAlgoSymbolFactory||SuperMapAlgoPlot.YJAlgoSymbolFactory.isAccessServer(t,e):SuperMapAlgoPlot.BasicAlgoSymbolFactory.isAccessServer(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.getDefaultSubSymbols=function(t,e){return 100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getDefaultSubSymbols(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultSubSymbols(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getDefaultSubSymbols(t,e):[]},SuperMapAlgoPlot.AlgoSymbolFactory.getMinEditPts=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getMinEditPts(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getMinEditPts(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getMinEditPts(t,e):0:SuperMapAlgoPlot.BasicAlgoSymbolFactory.getMinEditPts(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.getMaxEditPts=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getMaxEditPts(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getMaxEditPts(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getMaxEditPts(t,e):0:SuperMapAlgoPlot.BasicAlgoSymbolFactory.getMaxEditPts(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.getDefaultStyle=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.getDefaultStyle(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.getDefaultStyle(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.getDefaultStyle(t,e):{}:SuperMapAlgoPlot.BasicAlgoSymbolFactory.getDefaultStyle(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.getSymbolName=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?"":SuperMapAlgoPlot.BasicAlgoSymbolFactory.getSymbolName(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.canPolylineConnect=function(t,e){if(100!==t)return!1;switch(e){case 16500:case 17400:case 17401:case 17500:case 17501:case 23400:case 23500:case 23600:case 23700:case 27300:case 28200:case 28300:case 28400:case 37600:case 37601:case 37700:case 39e3:case 40100:case 40101:case 42200:case 42400:case 2350001:case 2730101:case 3032e3:case 4010800:case 4010801:case 4011100:case 4011101:case 4022100:case 4022101:case 4022102:return!0;default:return!1}},SuperMapAlgoPlot.AlgoSymbolFactory.zoomInCalSymbol=function(t,e){return 0!==t&&22!==t&&421!==t||void 0===SuperMapAlgoPlot.BasicAlgoSymbolFactory?100===t&&void 0!==SuperMapAlgoPlot.JBAlgoSymbolFactory?SuperMapAlgoPlot.JBAlgoSymbolFactory.zoomInCalSymbol(t,e):123===t&&void 0!==SuperMapAlgoPlot.WJAlgoSymbolFactory?SuperMapAlgoPlot.WJAlgoSymbolFactory.zoomInCalSymbol(t,e):999===t&&void 0!==SuperMapAlgoPlot.YJAlgoSymbolFactory?SuperMapAlgoPlot.YJAlgoSymbolFactory.zoomInCalSymbol(t,e):0:SuperMapAlgoPlot.BasicAlgoSymbolFactory.zoomInCalSymbol(t,e)},SuperMapAlgoPlot.AlgoSymbolFactory.zoomCalSymbol=function(t,e){if((0===t||22===t||421===t)&&void 0!==SuperMapAlgoPlot.BasicAlgoSymbolFactory)return SuperMapAlgoPlot.BasicAlgoSymbolFactory.zoomCalSymbol(t,e);if(100===t)switch(e){case 28e3:case 28100:case 28200:case 28201:case 32300:return!0;default:return!1}else{if(123!==t||void 0===SuperMapAlgoPlot.WJAlgoSymbolFactory)return!1;switch(e){case 50312:case 50313:case 50314:case 50348:return!0;default:return!1}}},SuperMapAlgoPlot.AlgoSymbolFactory.calSurroundLineDir=function(t,e){if(22===t)switch(e){case 1018:case 1020:case 1021:return!1}return SuperMapAlgoPlot.AlgoSymbolFactory.getAlgoWayType(t,e)===SuperMapAlgoPlot.AddPoint_WayType.POLYLINE_CLOSE||SuperMapAlgoPlot.AlgoSymbolFactory.getAlgoWayType(t,e)===SuperMapAlgoPlot.AddPoint_WayType.CURVE_CLOSE},SuperMapAlgoPlot.AlgoSymbolFactory.getAlgoWayType=function(t,e){if(100===t)switch(e){case 24:case 40304:case 1e3:case 1007:case 1009:case 1016:case 12502:case 20300:case 26400:case 41100:case 50308:case 2092101:case 60301:case 6030101:case 6030102:case 6030103:case 6030104:case 6030105:case 6030106:case 6030107:case 1013:case 1015:case 520100:case 520200:case 21216:case 2121601:case 2121602:case 30020:case 3002001:case 3002002:case 3002005:case 30025:case 3002501:case 30026:case 3002601:case 30027:case 3002701:case 3002702:case 3002703:case 3002704:case 3002705:case 40104:case 36401:case 34700:case 32900:case 6020404:case 30013:case 3001302:case 30014:case 1001:case 1017:case 16e3:case 16001:case 25202:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE;case 32:case 3020901:case 25501:case 25502:case 25503:case 25601:case 25701:case 2570201:case 2570301:case 2570401:case 2570501:case 25801:case 25901:case 44400:case 41200:case 41201:case 41202:case 30010:case 30011:case 30012:case 3001101:case 3001102:case 3001103:case 3001104:case 3001105:case 5035205:case 16100:case 35304:case 35200:case 50225:case 5020801:case 42700:case 25500:case 25600:case 25700:case 25800:case 25900:return SuperMapAlgoPlot.AddPoint_WayType.POLYLINE_CLOSE;case 40301:case 4030301:case 4030302:case 4030303:case 5010301:case 5010303:case 5010304:case 1005:case 1008:case 15200:case 15201:case 21400:case 21401:case 21500:case 21501:case 21502:case 21503:case 21504:case 21900:case 21600:case 26500:case 26501:case 26502:case 26503:case 26600:case 3000801:case 3000802:case 3000803:case 3000804:case 3000805:case 3000806:case 3000807:case 3000808:case 3000809:case 5034203:case 50355:case 5035501:case 60205:case 1012:case 1014:case 3010102:case 3010103:case 3010104:case 3010105:case 3010106:case 3010107:case 3010108:case 3010301:case 3010302:case 3010303:case 3010304:case 50102:case 4021101:case 510100:case 520300:case 530100:case 530200:case 16203:case 22e3:case 22103:case 25201:case 24700:case 25400:case 44200:case 31803:case 30800:case 30201:case 30200:case 5022002:case 3002004:case 5030301:case 50328:case 5033001:case 5022001:case 4021102:case 29003:case 30009:case 5035201:case 520500:case 23800:case 36400:case 35e3:case 33400:case 30100:case 30102:case 30002:case 30001:case 3e4:case 29903:case 5021803:case 50321:case 5032003:case 4020303:case 4020400:case 4020401:case 4020402:case 34902:case 34901:case 34900:case 12501:case 15800:case 15801:case 15802:case 15803:case 15804:case 15805:case 15806:case 15900:case 2091503:case 28900:case 16201:case 39600:case 38600:case 36700:case 26601:case 16200:case 17700:case 90213:return SuperMapAlgoPlot.AddPoint_WayType.CURVE;case 50342:case 5034201:case 5034202:case 610100:case 29103:case 28300:case 28200:case 17400:case 17401:case 17402:case 17500:case 17501:case 22200:case 23400:case 23500:case 2350001:case 23600:case 23700:case 27300:case 2730101:case 27701:case 28400:case 44300:case 42400:case 42200:case 40100:case 40101:case 39101:case 39e3:case 37700:case 37601:case 37600:case 5020802:case 50223:case 5022301:case 50226:case 21221:case 2122101:case 50108:case 3032e3:case 4011100:case 4011101:case 4022101:case 4022102:case 4022100:case 16500:case 80203:case 8020301:return SuperMapAlgoPlot.AddPoint_WayType.CURVE_CLOSE;case 17703:case 17704:case 39801:case 39802:case 39800:case 40900:case 4e4:return SuperMapAlgoPlot.AddPoint_WayType.CURVE_WITHCONTROLPT;default:return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}return SuperMapAlgoPlot.AddPoint_WayType.UNKNOWN}}();

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(4);
__webpack_require__(1);
__webpack_require__(2);
__webpack_require__(3);
__webpack_require__(0);



/***/ }),
/* 6 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ })
/******/ ]);