{"version":3,"sources":["webpack://mars3dSupermap/webpack/universalModuleDefinition","webpack://mars3dSupermap/webpack/bootstrap","webpack://mars3dSupermap/external \"mars3d\"","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/getPrototypeOf.js","webpack://mars3dSupermap/external {\"commonjs2\":\"mars3d-cesium\",\"amd\":\"mars3d-cesium\",\"commonjs\":\"mars3d-cesium\",\"root\":\"Cesium\"}","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/classCallCheck.js","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/createClass.js","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/inherits.js","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/possibleConstructorReturn.js","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/get.js","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/defineProperty.js","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/setPrototypeOf.js","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/typeof.js","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/assertThisInitialized.js","webpack://mars3dSupermap/./node_modules/_@babel_runtime@7.15.3@@babel/runtime/helpers/superPropBase.js","webpack://mars3dSupermap/./src/supermap/S3MLayer.js","webpack://mars3dSupermap/./src/supermap/SmImgLayer.js","webpack://mars3dSupermap/./src/supermap/SmMvtLayer.js","webpack://mars3dSupermap/./src/index.js"],"names":["BaseLayer","mars3d","S3MLayer","_layerArr","options","s3mOptions","value","key","val","Cesium","fromCssColorString","Number","i","length","layer","promise","layername","_map","scene","addS3MTilesLayerByScp","url","name","autoSetVie","flyTo","cullEnabled","open","sceneName","smLayer","Array","isArray","isS3M","position","alt","style3D","bottomAltitude","refresh","flyToByAnimationEnd","dataUrl","ql","setQueryParameter","dataSourceName","split","dataSetName","isMerge","selectEnabled","error","showError","visible","show","item","fillForeColor","alpha","center","setCameraView","extent","flyToExtent","register","BaseTileLayer","SmImgLayer","createImageryProvider","transparentBackColorTolerance","_imageryLayer","converOptions","layerType","registerImageryProvider","SmMvtLayer","_mvtLayer","addVectorTilesMap","layerReadyPromise","readyPromise","data","handler","canvas","setInputAction","event","getCurrentMousePosition","features","queryRenderedFeatures","filter","reduce","memo","result","attr","feature","properties","content","getPopupForConfig","openPopup","LEFT_CLICK","parseFloat","camera","destination","rectangle"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA,gD;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;ACTA,gD;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;ACPA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;ACjBA,qBAAqB,mBAAO,CAAC,CAAqB;;AAElD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,6E;;;;;;AClBA,cAAc,mBAAO,CAAC,EAA+B;;AAErD,4BAA4B,mBAAO,CAAC,EAA4B;;AAEhE;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;ACfA,oBAAoB,mBAAO,CAAC,EAAoB;;AAEhD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;AC1BA;AACA;AACA;AACA;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","file":"mars3d-supermap-src.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"mars3d\"), require(\"mars3d-cesium\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mars3dSupermap\", [\"mars3d\", \"mars3d-cesium\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mars3dSupermap\"] = factory(require(\"mars3d\"), require(\"mars3d-cesium\"));\n\telse\n\t\troot[\"mars3dSupermap\"] = factory(root[\"mars3d\"], root[\"Cesium\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import * as Cesium from \"cesium\";\nimport * as mars3d from \"mars3d\";\n\nlet BaseLayer = mars3d.layer.BaseLayer;\n\n/**\n * 超图S3M三维模型图层,\n * 【需要引入  mars3d-supermap 插件库】\n *\n * @param {Object} options 参数对象，包括以下：\n * @param {String|Number} [options.id = uuid()] 图层id标识\n * @param {String|Number} [options.pid = -1] 图层父级的id，一般图层管理中使用\n * @param {String} [options.name = '未命名'] 图层名称\n * @param {Boolean} [options.show = true] 图层是否显示\n *\n * @param {String} options.url supermap的S3M服务地址,示例：\"url\": \"http://www.supermapol.com/realspace/services/3D-Olympic/rest/realspace\"\n * @param {String} [options.layername] 指定图层名称,未指定时，打开iserver场景服务下所有图层\n * @param {String} [options.sceneName] 工作空间中有多个场景，需要指定场景名称；设置为undefined，默认打开第一个\n * @param {Object} [options.s3mOptions] [S3M支持的参数]{@link http://support.supermap.com.cn:8090/webgl/docs/Documentation/S3MTilesLayer.html?classFilter=S3MTilesLayer} ,示例： {\"selectEnabled\":false},\n * @param {Object} [options.position] 模型新的中心点位置（移动模型）\n * @param {Number} options.position.alt 获取或设置底部高程。（单位：米）\n *\n * @param {Object} [options.center] 图层自定义定位视角\n * @param {Boolean} [options.flyTo] 加载完成数据后是否自动飞行定位到数据所在的区域。\n * @export\n * @class S3MLayer\n * @extends {BaseLayer}\n */\nexport class S3MLayer extends BaseLayer {\n  /**\n   * 模型对应的supermap图层组\n   * @type {Cesium.S3MTilesLayer[]}\n   * @readonly\n   * @see http://support.supermap.com.cn:8090/webgl/docs/Documentation/S3MTilesLayer.html\n   */\n  get layer() {\n    return this._layerArr;\n  }\n\n  /**\n   * 设置S3M图层本身支持的参数\n   * @type {Object}\n   * @see [S3M支持的参数]{@link http://support.supermap.com.cn:8090/webgl/docs/Documentation/S3MTilesLayer.html?classFilter=S3MTilesLayer}\n   */\n  get s3mOptions() {\n    return this.options.s3mOptions;\n  }\n  set s3mOptions(value) {\n    for (let key in value) {\n      let val = value[key];\n      this.options.s3mOptions[key] = val;\n\n      if (key == \"transparentBackColor\") {\n        //去黑边，与offset互斥，注意别配置offset\n        val = Cesium.Color.fromCssColorString(val);\n      } else if (key == \"transparentBackColorTolerance\") {\n        val = Number(val);\n      }\n\n      for (let i = 0; i < this._layerArr.length; i++) {\n        let layer = this._layerArr[i];\n        if (layer == null) {\n          continue;\n        }\n        layer[key] = val;\n      }\n    }\n  }\n\n  /**\n   * 对象添加到地图前创建一些对象的钩子方法，\n   * 只会调用一次\n   * @return {void}  无\n   * @private\n   */\n  _mountedHook() {\n    //场景添加S3M图层服务\n    let promise;\n    if (this.options.layername) {\n      promise = this._map.scene.addS3MTilesLayerByScp(this.options.url, {\n        name: this.options.layername,\n        autoSetVie: this.options.flyTo,\n        cullEnabled: this.options.cullEnabled,\n      });\n    } else {\n      promise = this._map.scene.open(this.options.url, this.options.sceneName, {\n        autoSetVie: this.options.flyTo,\n      });\n    }\n\n    Cesium.when(\n      promise,\n      (smLayer) => {\n        if (Array.isArray(smLayer)) {\n          this._layerArr = smLayer;\n        } else {\n          this._layerArr = [smLayer];\n        }\n\n        //设置图层属性\n        for (let i = 0; i < this._layerArr.length; i++) {\n          let layer = this._layerArr[i];\n          if (layer == null) {\n            continue;\n          }\n\n          layer.isS3M = true; //标识下\n\n          //s3mOptions\n          if (this.options.s3mOptions) {\n            for (let key in this.options.s3mOptions) {\n              let val = this.options.s3mOptions[key];\n              if (key == \"transparentBackColor\") {\n                //去黑边，与offset互斥，注意别配置offset\n                layer[key] = Cesium.Color.fromCssColorString(val);\n              } else if (key == \"transparentBackColorTolerance\") {\n                layer[key] = Number(val);\n              } else {\n                layer[key] = this.options.s3mOptions[key];\n              }\n            }\n          }\n\n          //高度调整 offset.z\n          if (this.options?.position?.alt) {\n            layer.style3D.bottomAltitude = this.options.position.alt;\n            layer.refresh();\n          }\n        }\n\n        if (this.options.flyTo) {\n          this.flyToByAnimationEnd();\n        }\n\n        if (this.options.dataUrl) {\n          for (let i = 0; i < this._layerArr.length; i++) {\n            let ql = this._layerArr[i];\n\n            //读取子图层信息，通过数组的方式返回子图层的名称以及子图层所包含的对象的IDs\n            ql.setQueryParameter({\n              url: this.options.dataUrl,\n              dataSourceName: ql.name.split(\"@\")[1],\n              dataSetName: ql.name.split(\"@\")[0],\n              isMerge: true,\n            });\n\n            //获取图层风格\n            //Note_GJ: rgba, 1为不透明，0为全透明。已经在模型中导入材质，所以这里的颜色不特别设置\n            //var style3D = new Cesium.Style3D();\n            // var color = Cesium.Color.fromCssColorString(\"#919191\");//混泥土颜色 RGB(145, 145,145)\n            // style3D.fillForeColor = color;\n            // ql.style3D = style3D;\n            //设置后需刷新图层\n            // ql.refresh();\n            ql.selectEnabled = true;\n          }\n        }\n      },\n      (error) => {\n        this.showError(\"渲染时发生错误，已停止渲染。\", error);\n      }\n    );\n  }\n\n  /**\n   * 对象添加到地图上的创建钩子方法，\n   * 每次add时都会调用\n   * @return {void}  无\n   * @private\n   */\n  _addedHook() {\n    for (let i in this._layerArr) {\n      this._layerArr[i].visible = true;\n      this._layerArr[i].show = true;\n    }\n  }\n\n  /**\n   * 对象从地图上移除的创建钩子方法，\n   * 每次remove时都会调用\n   * @return {void}  无\n   * @private\n   */\n  _removedHook() {\n    if (this._layerArr) {\n      for (let i in this._layerArr) {\n        this._layerArr[i].visible = false;\n        this._layerArr[i].show = false;\n      }\n    }\n  }\n\n  /**\n   * 设置透明度\n   * @param {Number} value 透明度\n   * @return {void}  无\n   */\n  setOpacity(value) {\n    if (this._layerArr) {\n      for (let i = 0; i < this._layerArr.length; i++) {\n        let item = this._layerArr[i];\n        if (item == null) {\n          continue;\n        }\n\n        item.style3D.fillForeColor.alpha = value;\n      }\n    }\n  }\n\n  //定位至数据区域\n  flyTo(options = {}) {\n    if (this.options.center) {\n      this._map.setCameraView(this.options.center, options);\n    } else if (this.options.extent) {\n      this._map.flyToExtent(this.options.extent, options);\n    }\n  }\n}\nmars3d.layer.S3MLayer = S3MLayer;\n\n//注册下\nmars3d.LayerUtil.register(\"supermap_s3m\", S3MLayer);\n","import * as Cesium from \"cesium\";\nimport * as mars3d from \"mars3d\";\n\nlet BaseTileLayer = mars3d.layer.BaseTileLayer;\n\n/**\n * 超图影像瓦片服务图层,\n * 【需要引入  mars3d-supermap 插件库】\n *\n * @param {Object} options 参数对象，包括以下：\n * @param {BaseTileLayer.ConstructorOptions} [options.通用参数] 包含父类支持的所有参数\n *\n * @param {Boolean} [options.transparent=true] 设置请求的地图服务的参数是否为transparent。\n * @param {String} [options.tileFormat] 影像图片格式，默认为png。\n * @param {String} [options.cacheKey] 影像的三维缓存密钥。\n *\n * @param {String|Cesium.Color} [options.transparentBackColor] 设置影像透明色。\n * @param {Number} [options.transparentBackColorTolerance] 去黑边,设置影像透明色容限，取值范围为0.0~1.0。0.0表示完全透明，1.0表示完全不透明。\n *\n * @export\n * @class SmImgLayer\n * @extends {BaseTileLayer}\n *\n * @see http://support.supermap.com.cn:8090/webgl/docs/Documentation/SuperMapImageryProvider.html?classFilter=SuperMapImageryProvider\n */\nexport class SmImgLayer extends BaseTileLayer {\n  //构建ImageryProvider\n  _createImageryProvider(options) {\n    return createImageryProvider(options);\n  }\n  //添加时\n  _addedHook() {\n    super._addedHook();\n\n    if (Cesium.defined(this.options.transparentBackColorTolerance)) {\n      this._imageryLayer.transparentBackColorTolerance = this.options.transparentBackColorTolerance; //去黑边\n    }\n  }\n}\nfunction createImageryProvider(options) {\n  options = mars3d.LayerUtil.converOptions(options);\n  return new Cesium.SuperMapImageryProvider(options);\n}\n\n/**\n * 创建用于图层的 ImageryProvider对象\n *\n * @param {Object} options Provider参数，同图层构造参数。\n * @return {Cesium.SuperMapImageryProvider} ImageryProvider类\n * @function\n */\nSmImgLayer.createImageryProvider = createImageryProvider;\n\nmars3d.layer.SmImgLayer = SmImgLayer;\n\n//注册下\nconst layerType = \"supermap_img\";\nmars3d.LayerUtil.register(layerType, SmImgLayer);\nmars3d.LayerUtil.registerImageryProvider(layerType, createImageryProvider);\n","import * as Cesium from \"cesium\";\nimport * as mars3d from \"mars3d\";\n\nlet BaseLayer = mars3d.layer.BaseLayer;\n\n/**\n * 超图MVT矢量瓦片图层,\n * 【需要引入  mars3d-supermap 插件库】\n *\n * @param {Object} options 参数对象，包括以下：\n * @param {String|Number} [options.id = uuid()] 图层id标识\n * @param {String|Number} [options.pid = -1] 图层父级的id，一般图层管理中使用\n * @param {String} [options.name = '未命名'] 图层名称\n * @param {Boolean} [options.show = true] 图层是否显示\n * @param {Object} [options.center] 图层自定义定位视角\n *\n * @param {String} options.url 适用于通过SuperMap桌面软件生成mvt数据,经iServer发布为rest风格的地图服务，只需提供服务地址。\n * @param {String} options.url 服务地址,适用于第三方发布的WMTS服务。\n * @param {String} options.layer 图层名称,适用于第三方发布的WMTS服务。\n * @param {Number} [options.canvasWidth] 用来绘制矢量的纹理边长。默认是512，越大越精细，越小性能越高。\n * @param {String} [options.format='mvt'] 适用于第三方发布的WMTS服务。\n * @param {Object} [options.mapboxStyle] 使用的mapBox风格。\n * @param {Object} [options.其他] 参考[supermap官方API]{@link http://support.supermap.com.cn:8090/webgl/docs/Documentation/Scene.html#addVectorTilesLayer}\n *\n *\n * @export\n * @class SmMvtLayer\n * @extends {BaseLayer}\n */\nexport class SmMvtLayer extends BaseLayer {\n  /**\n   * 对应的supermap图层\n   * @type {Cesium.VectorTilesLayer}\n   * @readonly\n   * @see http://support.supermap.com.cn:8090/webgl/docs/Documentation/VectorTilesLayer.html\n   */\n  get layer() {\n    return this._mvtLayer;\n  }\n\n  /**\n   * 对象添加到地图前创建一些对象的钩子方法，\n   * 只会调用一次\n   * @return {void}  无\n   * @private\n   */\n  _mountedHook() {\n    //options参考API文档：http://support.supermap.com.cn:8090/webgl/docs/Documentation/Scene.html\n    this._mvtLayer = this._map.scene.addVectorTilesMap(this.options);\n    let layerReadyPromise = this._mvtLayer.readyPromise;\n\n    Cesium.when(\n      layerReadyPromise,\n      (data) => {\n        //setPaintProperty(layerId, name, value, options)\n        // for(var layerId in that.options.style){\n        //     that._mvtLayer.setPaintProperty(layerId, \"fill-color\", \"rgba(255,0,0,0.8)\");\n        // }\n      },\n      (error) => {\n        this.showError(\"渲染时发生错误，已停止渲染。\", error);\n      }\n    );\n\n    let scene = this._map.scene;\n    let handler = new Cesium.ScreenSpaceEventHandler(scene.canvas);\n    handler.setInputAction((event) => {\n      if (!this.show) {\n        return;\n      }\n\n      let position = mars3d.PointUtil.getCurrentMousePosition(scene, event.position);\n\n      //查询出相交图层的feature\n      let features = this._mvtLayer.queryRenderedFeatures([position], {\n        // layers: [selectLayer.id]\n      });\n\n      let filter = features.reduce(\n        (memo, result) => {\n          let attr = result.feature.properties;\n          if (!attr) {\n            return;\n          }\n\n          let content = mars3d.Util.getPopupForConfig(this.options, attr);\n          let item = {\n            data: attr,\n            event: event,\n          };\n          this._map.openPopup(position, content, item);\n        },\n        [\"in\", \"$id\"]\n      );\n    }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n\n    this.handler = handler;\n  }\n\n  /**\n   * 对象添加到地图上的创建钩子方法，\n   * 每次add时都会调用\n   * @return {void}  无\n   * @private\n   */\n  _addedHook() {\n    this._mvtLayer.show = true;\n    this._mvtLayer.refresh();\n  }\n\n  /**\n   * 对象从地图上移除的创建钩子方法，\n   * 每次remove时都会调用\n   * @return {void}  无\n   * @private\n   */\n  _removedHook() {\n    if (this._mvtLayer) {\n      this._mvtLayer.show = false;\n    }\n  }\n\n  /**\n   * 设置透明度\n   * @param {Number} value 透明度\n   * @return {void}  无\n   */\n  setOpacity(value) {\n    if (this._mvtLayer) {\n      this._mvtLayer.alpha = parseFloat(value);\n    }\n  }\n\n  //定位至数据区域\n  flyTo(options = {}) {\n    if (this.options.center) {\n      this._map.setCameraView(this.options.center, options);\n    } else if (this.options.extent) {\n      this._map.flyToExtent(this.options.extent, options);\n    } else if (this._mvtLayer) {\n      this._map.camera.flyTo({\n        ...options,\n        destination: this._mvtLayer.rectangle,\n      });\n    }\n  }\n}\nmars3d.layer.SmMvtLayer = SmMvtLayer;\n\n//注册下\nmars3d.LayerUtil.register(\"supermap_mvt\", SmMvtLayer);\n","export { S3MLayer } from \"./supermap/S3MLayer\";\nexport { SmImgLayer } from \"./supermap/SmImgLayer\";\nexport { SmMvtLayer } from \"./supermap/SmMvtLayer\";\n"],"sourceRoot":""}